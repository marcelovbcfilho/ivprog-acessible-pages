{"version":3,"sources":["webpack://ivprogCore/webpack/universalModuleDefinition","webpack://ivprogCore/webpack/bootstrap","webpack://ivprogCore/./grammar/en/ivprog.g4","webpack://ivprogCore/./grammar/en/langFunctions.js","webpack://ivprogCore/./grammar/en/langLibs.js","webpack://ivprogCore/./grammar/index.js","webpack://ivprogCore/./grammar/pt/ivprog.g4","webpack://ivprogCore/./grammar/pt/langFunctions.js","webpack://ivprogCore/./grammar/pt/langLibs.js","webpack://ivprogCore/./i18n/error.csv","webpack://ivprogCore/./i18n/index.ts","webpack://ivprogCore/./i18n/message.csv","webpack://ivprogCore/./i18n/ui.csv","webpack://ivprogCore/./js/accessibleUI/compiler.js","webpack://ivprogCore/./js/accessibleUI/main.js","webpack://ivprogCore/./js/accessibleUI/modules/operations/operations-schemes.js","webpack://ivprogCore/./js/accessibleUI/modules/operations/operations.js","webpack://ivprogCore/./js/accessibleUI/modules/variables/variables-schemes.js","webpack://ivprogCore/./js/accessibleUI/modules/variables/variables.js","webpack://ivprogCore/./js/assessment/ivprogAssessment.js","webpack://ivprogCore/./js/assessment/output_matching/assessment_result.js","webpack://ivprogCore/./js/assessment/output_matching/output_matching.js","webpack://ivprogCore/./js/assessment/output_matching/output_result.js","webpack://ivprogCore/./js/ast/ast_helpers.js","webpack://ivprogCore/./js/ast/commands/arrayAssign.js","webpack://ivprogCore/./js/ast/commands/arrayDeclaration.js","webpack://ivprogCore/./js/ast/commands/assign.js","webpack://ivprogCore/./js/ast/commands/break.js","webpack://ivprogCore/./js/ast/commands/case.js","webpack://ivprogCore/./js/ast/commands/command.js","webpack://ivprogCore/./js/ast/commands/commandBlock.js","webpack://ivprogCore/./js/ast/commands/declaration.js","webpack://ivprogCore/./js/ast/commands/for.js","webpack://ivprogCore/./js/ast/commands/formalParameter.js","webpack://ivprogCore/./js/ast/commands/function.js","webpack://ivprogCore/./js/ast/commands/ifThenElse.js","webpack://ivprogCore/./js/ast/commands/index.js","webpack://ivprogCore/./js/ast/commands/repeatUntil.js","webpack://ivprogCore/./js/ast/commands/return.js","webpack://ivprogCore/./js/ast/commands/switch.js","webpack://ivprogCore/./js/ast/commands/sysCall.js","webpack://ivprogCore/./js/ast/commands/while.js","webpack://ivprogCore/./js/ast/error/syntaxError.js","webpack://ivprogCore/./js/ast/error/syntaxErrorFactory.js","webpack://ivprogCore/./js/ast/expressions/arrayAccess.js","webpack://ivprogCore/./js/ast/expressions/arrayLiteral.js","webpack://ivprogCore/./js/ast/expressions/boolLiteral.js","webpack://ivprogCore/./js/ast/expressions/charLiteral.js","webpack://ivprogCore/./js/ast/expressions/expression.js","webpack://ivprogCore/./js/ast/expressions/functionCall.js","webpack://ivprogCore/./js/ast/expressions/index.js","webpack://ivprogCore/./js/ast/expressions/infixApp.js","webpack://ivprogCore/./js/ast/expressions/intLiteral.js","webpack://ivprogCore/./js/ast/expressions/literal.js","webpack://ivprogCore/./js/ast/expressions/realLiteral.js","webpack://ivprogCore/./js/ast/expressions/stringLiteral.js","webpack://ivprogCore/./js/ast/expressions/unaryApp.js","webpack://ivprogCore/./js/ast/expressions/variableLiteral.js","webpack://ivprogCore/./js/ast/ivprogParser.js","webpack://ivprogCore/./js/ast/operators.ts","webpack://ivprogCore/./js/ast/sourceInfo.js","webpack://ivprogCore/./js/io/domConsole.js","webpack://ivprogCore/./js/io/input.js","webpack://ivprogCore/./js/io/output.js","webpack://ivprogCore/./js/main.js","webpack://ivprogCore/./js/memory/address.ts","webpack://ivprogCore/./js/memory/location.ts","webpack://ivprogCore/./js/processor/compatibilityTable.ts","webpack://ivprogCore/./js/processor/context.ts","webpack://ivprogCore/./js/processor/definedFunctions.js","webpack://ivprogCore/./js/processor/error/processorErrorFactory.js","webpack://ivprogCore/./js/processor/error/runtimeError.js","webpack://ivprogCore/./js/processor/error/semanticError.js","webpack://ivprogCore/./js/processor/ivprogProcessor.js","webpack://ivprogCore/./js/processor/lib/arrays.js","webpack://ivprogCore/./js/processor/lib/io.js","webpack://ivprogCore/./js/processor/lib/lang.js","webpack://ivprogCore/./js/processor/lib/math.js","webpack://ivprogCore/./js/processor/lib/strings.js","webpack://ivprogCore/./js/processor/modes.ts","webpack://ivprogCore/./js/processor/semantic/semanticAnalyser.js","webpack://ivprogCore/./js/processor/store/store.ts","webpack://ivprogCore/./js/processor/store/storeObject.ts","webpack://ivprogCore/./js/processor/store/storeObjectArray.ts","webpack://ivprogCore/./js/processor/store/storeObjectRef.ts","webpack://ivprogCore/./js/processor/store/store_object_array_ref.ts","webpack://ivprogCore/./js/processor/store/value/array_store_value.ts","webpack://ivprogCore/./js/processor/store/value/array_store_value_ref.ts","webpack://ivprogCore/./js/processor/store/value/store_value.ts","webpack://ivprogCore/./js/processor/store/value/store_value_address.ts","webpack://ivprogCore/./js/processor/store/value/store_value_ref.ts","webpack://ivprogCore/./js/runner.js","webpack://ivprogCore/./js/services/i18nHelper.js","webpack://ivprogCore/./js/services/languageService.js","webpack://ivprogCore/./js/services/localizedStringsService.js","webpack://ivprogCore/./js/services/userLog.js","webpack://ivprogCore/./js/typeSystem/array_type.ts","webpack://ivprogCore/./js/typeSystem/multiType.ts","webpack://ivprogCore/./js/typeSystem/parsers.js","webpack://ivprogCore/./js/typeSystem/type.ts","webpack://ivprogCore/./js/typeSystem/types.ts","webpack://ivprogCore/./js/util/auto_gen_output.js","webpack://ivprogCore/./js/util/config.ts","webpack://ivprogCore/./js/util/editorMode2.js","webpack://ivprogCore/./js/util/iassignHelpers.js","webpack://ivprogCore/./js/util/inputTest.js","webpack://ivprogCore/./js/util/input_assessment.js","webpack://ivprogCore/./js/util/maybe.ts","webpack://ivprogCore/./js/util/outputTest.js","webpack://ivprogCore/./js/util/parseFromVisual.js","webpack://ivprogCore/./js/util/string_diff.js","webpack://ivprogCore/./js/util/testConsole.js","webpack://ivprogCore/./js/util/utils.js","webpack://ivprogCore/./js/visualUI/algorithm.js","webpack://ivprogCore/./js/visualUI/code_generator.js","webpack://ivprogCore/./js/visualUI/commands.js","webpack://ivprogCore/./js/visualUI/commands/attribution.js","webpack://ivprogCore/./js/visualUI/commands/break.js","webpack://ivprogCore/./js/visualUI/commands/comment.js","webpack://ivprogCore/./js/visualUI/commands/conditional_expression.js","webpack://ivprogCore/./js/visualUI/commands/contextualized_menu.js","webpack://ivprogCore/./js/visualUI/commands/dowhiletrue.js","webpack://ivprogCore/./js/visualUI/commands/functioncall.js","webpack://ivprogCore/./js/visualUI/commands/generic_expression.js","webpack://ivprogCore/./js/visualUI/commands/iftrue.js","webpack://ivprogCore/./js/visualUI/commands/reader.js","webpack://ivprogCore/./js/visualUI/commands/repeatNtimes.js","webpack://ivprogCore/./js/visualUI/commands/return.js","webpack://ivprogCore/./js/visualUI/commands/switch.js","webpack://ivprogCore/./js/visualUI/commands/variable_value_menu.js","webpack://ivprogCore/./js/visualUI/commands/whiletrue.js","webpack://ivprogCore/./js/visualUI/commands/writer.js","webpack://ivprogCore/./js/visualUI/functions.js","webpack://ivprogCore/./js/visualUI/globals.js","webpack://ivprogCore/./js/visualUI/ivprog_elements.js","webpack://ivprogCore/./js/visualUI/text_editor.js","webpack://ivprogCore/./js/visualUI/types.js","webpack://ivprogCore/./js/visualUI/utils.js","webpack://ivprogCore/./js/visualUI/variables.js"],"names":["main_function","$read","$write","$numElements","$matrixLines","$matrixColumns","$substring","$length","$uppercase","$lowercase","$charAt","$isReal","$isInt","$isBool","$castReal","$castInt","$castBool","$castString","$castChar","$sin","$cos","$tan","$sqrt","$pow","$log","$abs","$negate","$invert","$max","$min","$rand","$mathLib","$ioLib","$strLib","$arrayLib","$langLib","pt","lexer","PT","langFuncs","PTFuncs","langLibs","PTLibs","en","EN","ENFuncs","ENLibs","proc","isRunning","domConsole","DOMConsole","ivprogConsoleTitleSpan","document","getElementById","runCodePlayIcon","runCodeStopIcon","generatedCode","generateCode","console","log","variables","operations","code","i","length","type","name","barrier","value","assignedVariable","j","operators","variable","operator","innerText","runCode","strCode","data","SemanticAnalyser","analyseFromSource","IVProgProcessor","registerInput","registerOutput","$","addClass","interpretAST","then","_","scheduleCall","pending_writes","mode","Modes","ABORT","info","LocalizedStrings","getMessage","removeClass","showRunButton","focus","err","Error","message","error","callback","time","scheduled_call","id","setInterval","clearInterval","style","display","showStopButton","htmlOlCommandsVariables","htmlOlCommandsOperations","terminal","createVariableButton","assignVariableButton","printButton","runCodeButton","cleanCommands","ivprogConsoleClearbtn","ivprogConsoleShowbtn","ivprogConsoleHidebtn","initAccessibleUI","on","e","next","toggle","stopPropagation","preventDefault","click","ev","addEventListener","createVariable","createOperation","createPrintOperation","deleteAllVariable","deleteAllOperation","generateUUID","replace","c","crypto","getRandomValues","Uint8Array","toString","operationScheme","hash","operatorScheme","Operators","VARIABLE","VALUE","OPERATOR","OperatorType","OperationType","friendlyName","OperatorKind","htmlOperationTypeScheme","operationTypesSelect","htmlOperationKindScheme","operation","operatorKindsSelect","htmlAssignVariableScheme","variablesSelect","htmlVariablesSelectScheme","htmlOperatorVariablesSelectScheme","htmlOperatorValueInputScheme","htmlOperationTypeSelect","printOperationScheme","getOperatorTypeByValue","getOperationTypeByValue","getOperatorByHash","operatorHash","Object","assign","replaceAll","push","htmlOperation","insertAdjacentHTML","updateOperationAssignValue","target","getAttribute","deleteOperation","addOperatorKind","updateResume","getOperationByHash","htmlOperationKind","selectedOperationKind","operationHash","kindSelect","insertVariableAfterOperationKind","insertValueAfterOperationKind","operatorVariableSelect","parentElement","remove","insertOperationTypeAtEndOfOperation","updateOperationOperator","operatorValueInput","afterOperator","operationTypeInput","querySelector","newVariable","getVariableByHash","newValue","operationTypeSelect","indexOf","nextElementSibling","indexOfOperator","splice","elementSibling","deleteOperationByVariable","operationsToRemove","setAttribute","generateResume","resume","printOperation","updatePrintOperation","variableScheme","VariableType","defaultValue","htmlType","vales","getVariableTypeByValue","htmlVariableScheme","variableTypesHtml","variablesIndex","htmlVariable","variableHash","updateVariable","deleteVariable","updateAllVariableSelect","variableName","variableType","variableValue","variableSelects","getElementsByName","selectedOption","innerHTML","LocalizedStringsService","StringTypes","line_i18n","AssessmentConfig","max_instruction_count","suspend_threshold","IVProgAssessment","ast_code","testCases","old_config","JSON","parse","stringify","Config","setConfig","partialTests","map","t","OutputMatching","input","output","testResult","om","eval","Promise","all","results","grade","result","writeToConsole","INFO","MESSAGE","generateOutput","status","ERR","ERROR","error_msg","channel","toFixed","showErrorMessage","resolve","errorID","args","getError","msgID","msgType","msg","getString","processString","writeRawHTML","OutputAssessmentResult","inputs","store","template","DETAIL_TEMPLATE","getUI","input_spans","prepareInputList","output_rows","formatString","formatNumber","formatBool","prepareOutputTable","failed_text","FAILED_TEMPLATE","input_list","list","INPUT_INFO_TEMPLATE","read","join","OUPUT_TABLE_TEMPLATE","assessment_result","prepareResults","page","PAGE_TEMPLATE","result_class","formatOutput","expected_class","generated_class","OUTPUT_TEMPLATE","expected_tmpl","expected","generated_tmpl","generated","EMPTY_OUTPUT_TEMPLATE","final_result","g_string","e_string","g_string_tmpl","e_string_tmpl","diff","StringDiff","diff_vec","part","getDiffStringStyle","diff_string","reduce","prev","actual","text","action","INSERT","DELETE","EQUAL","val","str","RegExp","program","expected_output","test_name","refThis","InputAssessment","gen_output","OutputTest","start_time","Date","now","sto","final_time","isInputAvailable","getErrorMessage","g_out","OutputResult","getPotentialOutputType","outputMatch","e_out","NUM_REGEX","test","BOOLEAN_REGEX","g_output","e_output","checkStrings","g_num","Decimal","e_num","checkNumbers","g_bool","TypeParser","e_bool","checkBoolean","decimalPlaces","Math","min","dp","ROUND_FLOOR","eq","toNumber","g_bool_text","e_bool_text","e_ouput","assessmentList","e_output_clean","trim","g_output_clean","NUM_IN_STRING_REGEX","expected_numbers","match","generated_numbers","g_val","e_val","numberGrade","r","BOOLEAN_IN_STRING_REGEX","expected_bools","generated_bools","boolGrade","dist","levenshteinDistance","gradeDiff","max","Number","isNaN","assessment_size","gradeAcc","finalGrade","createNumberResult","OutputMatchResult","createBoolResult","createStringResult","recover","start","_tokenStartCharIndex","stop","_input","index","getText","getErrorDisplay","line","_tokenStartLine","column","_tokenStartColumn","SyntaxErrorFactory","invalid_character","ArrayIndexAssign","lineExpression","columnExpression","expression","Assign","ArrayDeclaration","lines","columns","initial","isConst","Declaration","Command","Break","Case","commands","_sourceInfo","sourceInfo","CommandBlock","For","for_id","for_from","for_to","for_pass","commandBlock","FormalParameter","byRef","variadic","Function","returnType","formalParameters","some","p","isCompatible","Types","VOID","IfThenElse","condition","ifTrue","ifFalse","RepeatUntil","While","Return","Switch","cases","SysCall","langFunc","SyntaxError","_context","captureStackTrace","contextObj","createError","message_id","context","freeze","extra_lines","token_missing_one","token","token_missing_list","expectedList","getOR","id_missing","eos_missing","invalid_array_dimension","typeName","invalid_array_size","invalid_main_return","invalid_var_declaration","invalid_break_command","cmdName","invalid_terminal","invalid_type","const_not_init","invalid_id_format","duplicate_function","main_parameters","duplicate_variable","annonymous_array_literal","invalid_matrix_literal_line","exp","cannot_infer_matrix_line","cannot_infer_matrix_column","cannot_infer_vector_size","matrix_to_vector_literal_attr","vector_to_matrix_literal_attr","array_init_not_literal","array_exceeds_2d","invalid_matrix_id_dimension","invalid_vector_init","invalid_matrix_init","ArrayAccess","strLine","strColumn","parenthesis","Expression","ArrayLiteral","valid","strList","arrayLiteral","element","validateSize","validateType","Literal","BoolLiteral","BOOLEAN","convertBoolToString","CharLiteral","CHAR","_parenthesis","flag","FunctionCall","actualParameters","isMainCall","LanguageDefinedFunction","getMainFunctionName","getLocalName","params","strParams","v","InfixApp","op","left","right","l","IntLiteral","INTEGER","convertToString","RealLiteral","REAL","StringLiteral","STRING","UnaryApp","VariableLiteral","UNDEFINED","IVProgParser","lexerClass","LanguageService","getCurrentLexer","inputStream","InputStream","AstHelpers","bind","tokenStream","CommonTokenStream","fill","pos","variableTypes","RK_INTEGER","RK_REAL","RK_BOOLEAN","RK_STRING","RK_CHARACTER","functionTypes","concat","RK_VOID","parsingArrayDimension","scope","getCurrentLangFuncs","definedFuncsNameList","definedVariablesStack","parseProgram","LT","BASE","pop","getToken","fetchedEOF","consumeNewLines","globalVars","functions","RK_PROGRAM","checkOpenCurly","pushVariableStack","RK_CONST","isVariableType","parseGlobalVariables","RK_FUNCTION","parseFunction","popVariableStack","checkCloseCurly","isEOF","global","literalNames","attempt","OPEN_CURLY","CLOSE_CURLY","OPEN_BRACE","CLOSE_BRACE","OPEN_PARENTHESIS","CLOSE_PARENTHESIS","eosToken","EOS","functionID","funcIDToken","variableID","getCurrentVariableStack","decl","parseMaybeConst","checkEOS","constToken","typeString","parseType","parseDeclaration","getTypeArray","dim1","dim2","dimensions","SourceInfo","createSourceInfo","idString","parseID","checkVariableDuplicate","checkOpenBrace","parseArrayDimension","checkCloseBrace","parseArrayDeclaration","equalsToken","parseExpressionOR","declaration","Commands","commaToken","COMMA","n_lines","n_columns","dim_is_id","Expressions","parseArrayLiteral","isVector","expString","Parsers","ArrayType","find","dimToken","getIntLiteral","ID","parseVariable","openCurly","invalid_token","beginArray","maybeCurlyOpen","parseVectorList","parseExpressionList","endArray","createSourceInfoFromList","dataDim","lastSize","pushScope","FUNCTION","formalParams","funType","checkFunctionDuplicate","checkOpenParenthesis","checkCloseParenthesis","parseFormalParameters","commandsBlock","parseCommandBlock","func","isMain","popScope","reference","maybeIDToken","RK_REFERENCE","parameter","insideScope","LIB_ID","optionalCurly","variablesDecl","hasOpen","parsedCommand","cmd","parseCommand","Array","lastToken","varType","parseIDCommand","RK_RETURN","parseReturn","RK_WHILE","RK_WHILE_ALT","parseWhile","RK_FOR","RK_FOR_ALT","parseFor","RK_BREAK","BREAKABLE","parseBreak","RK_SWITCH","parseSwitchCase","RK_DO","parseRepeatUntil","RK_IF","parseIfThenElse","casesList","parseCases","whileToken","RK_DO_UNTIL","COMMAND","logicalExpression","cmdBlocks","maybeElse","RK_ELSE","maybeIf","elseBlock","for_token","id_token","parseForParameters","RK_FOR_FROM","RK_FOR_TO","maybePass","RK_FOR_PASS","command","refToken","isID","parseMaybeLibID","parseExpression","equalToken","equalOrParenthesis","funcCall","parseFunctionCallCommand","keyword_code","from_token","keyword","int_or_id","is_unary_op","SUM_OP","convertFromString","RK_CASE","nextToken","RK_DEFAULT","colonToken","COLON","block","defaultCase","setCommands","aCase","caseToken","exp1","parseExpressionAND","OR_OPERATOR","opToken","or","exp2","finalExp","parseExpressionNot","AND_OPERATOR","and","maybeNotToken","NOT_OPERATOR","not","parseExpressionRel","RELATIONAL_OPERATOR","relToken","rel","factor","parseFactor","sumOpToken","factor2","term","parseTerm","MULTI_OP","multOpToken","term2","getRealLiteral","getStringLiteral","CHARACTER","getCharLiteral","RK_TRUE","RK_FALSE","getBoolLiteral","parseIDTerm","parseParenthesisExp","tokenA","tokenB","firstIndex","secondIndex","parseFunctionCallExpression","getInternalName","parseActualParameters","funcName","getFunctionName","maybeToken","types","x","size","tokenIndex","elementID","disableMarginTop","cursorInterval","idleInterval","inputDiv","inputCMD","inputSpan","cursorRef","needInput","clearBtn","hideBtn","showBtn","termDiv","anyKey","actualID","substring","parent","setup","inputListeners","hideInput","last_clear","_setupDom","_setupEvents","clearBtnClick","hideBtnClick","showBtnClick","event","keyCode","which","notifyListeners","_appendUserInput","currentLine","bashNode","createElement","classList","add","BASH_TEMPLATE","INPUT_CARET_TEMPLATE","append","_setupCursor","window","popup","content","blinkCaretAndFocus","updateSpanText","stopBlinkCaret","visibility","scheduleNotify","forEach","_appendTextLn","newLine","_appendText","USER","write_time","Utils","divClass","getClassForType","textDiv","insertBefore","getOutputText","scrollTerm","filter","removeChild","INPUT","getUserInputText","scrollTop","scrollHeight","top","marginTop","showInput","scrollIntoView","removeEventListener","cNode","cloneNode","parentNode","replaceChild","promise","outputList","split","write","clearPendingWrites","childNodes","firstChild","clear","hide","notifyIdle","idle_input_interval","Input","Output","CodeEditor","initTextEditor","CodeEditorAll","setCode","getCode","updateEditor","disable","i18n","i18nHelper","valueToKey","object","key","prototype","hasOwnProperty","call","concatObjects","obj","libsObject","createSinFun","createCosFun","createTanFun","createSqrtFun","createPowFun","createLogFun","createAbsFun","createNegateFun","createInvertFun","createMaxFun","createMinFun","createRandFun","createInputFun","createOutputFun","createSubstringFun","createLengthFun","createUppercaseFun","createLowercaseFun","createrCharAtFun","createNumElementsFun","createMatrixLinesFun","createMatrixColumnsFun","createIsRealFun","createIsIntFun","createIsBoolFun","createCastRealFun","createCastIntFun","createCastBoolFun","createCastStringFun","createCastCharFun","funcsObject","localName","names","lib","getCurrentLangLibs","internalName","getFunction","libName","funName","createRuntimeError","i18n_id","RuntimeError","createSemanticError","SemanticError","ProcessorErrorFactory","symbol_not_found_full","symbol_not_found","function_missing_full","function_missing","main_missing","array_dimension_not_int_full","array_dimension_not_int","unknown_command_full","unknown_command","incompatible_types_full","left_type","left_dim","right_type","right_dim","source_info","translateType","incompatible_types","incompatible_types_array_full","dim","incompatible_types_array","loop_condition_type_full","loop_condition_type","endless_loop_full","endless_loop","if_condition_type_full","if_condition_type","invalid_global_var","not_implemented","invalid_case_type_full","invalid_case_type","void_in_expression_full","void_in_expression","invalid_array_access_full","invalid_array_access","invalid_matrix_access_full","invalid_matrix_access","matrix_column_outbounds_full","matrix_column_outbounds","matrix_line_outbounds_full","matrix_line_outbounds","vector_line_outbounds_full","vector_line_outbounds","vector_not_matrix_full","vector_not_matrix","function_no_return","invalid_void_return_full","invalid_void_return","invalid_return_type_full","invalid_return_type","invalid_parameters_size_full","invalid_parameters_size","invalid_parameter_type_full","fun_name","invalid_parameter_type","invalid_ref_full","invalid_ref","unexpected_break_command_full","unexpected_break_command","invalid_array_literal_type_full","invalid_array_literal_type","invalid_array_literal_line_full","invalid_array_literal_line","invalid_array_literal_column_full","invalid_array_literal_column","invalid_unary_op_full","opName","translateOp","invalid_unary_op","invalid_infix_op_full","typeLeft","dimLeft","typeRight","dimRight","invalid_infix_op","array_dimension_not_positive_full","array_dimension_not_positive","invalid_type_conversion","invalid_read_type","invalid_read_type_array","typePos","dimPos","typeArray","dimArray","invalid_const_ref_full","invalid_const_ref","invalid_const_assignment_full","var_id","invalid_const_assignment","invalid_vector_assignment_full","left_id","left_size","right_id","right_size","invalid_vector_assignment","invalid_matrix_assignment_full","left_line","left_column","right_line","right_column","invalid_matrix_assignment","matrix_to_vector_attr","vector_to_matrix_attr","invalid_matrix_index_assign_full","mat_id","mat_line","mat_size","exp_size","invalid_matrix_index_assign","invalid_number_elements_vector","expected_num","actual_num","invalid_number_lines_matrix","divsion_by_zero_full","divsion_by_zero","undefined_tanget_value","negative_log_value","invalid_string_index","local_fun_name","negative_sqrt_value","exceeded_recursive_calls","invalid_for_variable","invalid_for_from","invalid_for_to","invalid_for_pass","exceed_max_instructions","ast","globalStore","Store","stores","Context","forceKill","RUN","function_call_stack","instruction_count","function_call_count","RETURN","BREAK","prepareState","Location","initGlobal","mainFunc","findMainFunction","runFunction","checkContext","executeCommands","MAIN_INTERNAL_ID","fun","funcStore","extendStore","associateParameters","variablesDeclarations","stoWithVars","finalSto","formal_params","effective_params","caller_store","callee_store","hasVariadic","formalParameter","associateVariadicParameter","actualParam","associateParameter","count","variadicCount","StoreValue","undefined","insertStore","actualParameter","callerStore","calleeStore","evaluateExpression","actualValue","shouldTypeCast","enable_type_casting","canImplicitTypeCast","inStore","realObj","getStoreObject","ref","ArrayStoreValue","values","get","array_type","addresses","getLocAddressOf","ArrayStoreValueRef","StoreValueAddress","StoreValueRef","setReferenceDimension","locAddress","varID","realValue","doImplicitCasting","cmds","executeCommand","PAUSE","executeDeclaration","executeArrayIndexAssign","executeAssign","executeBreak","executeReturn","executeIfThenElse","executeRepeatUntil","executeWhile","executeFor","executeSwitch","executeFunctionCall","executeSysCall","findFunction","destroy","switchCases","lastStore","lastCaseCheckResult","ignoreSwitchCases","switchCase","isDefault","equalityInfixApp","EQ","initCmd","passValue","toInt","GE","checkEndGTBegin","GT","isForward","increment","ADD","whileBlock","forAsWhile","newCmdList","checkCondition","isTrue","funcType","real_value","stringInfo","applyStore","exp_type_string_info","exp_type_info","updateStore","mustBeArray","used_dims","lineSV","columnSV","canAccept","innerType","current_value","getAt","updateStoreArray","executeArrayDeclaration","temp","linesSV","columnsSV","evaluateArrayLiteral","valueList","evaluateUnaryApp","evaluateInfixApp","evaluateArrayAccess","evaluateVariableLiteral","evaluateLiteral","evaluateFunctionCall","max_call_stack","evaluateMatrix","storeValueMatrix","evaluateVector","exps","n_elements","actualValues","exp_str","vectors","vector","vec_type","isArray","col","readOnly","unaryApp","resultType","resultTypeAfterUnaryOp","ord","SUB","NOT","negated","infixApp","shouldImplicitCast","resultTypeAfterInfixOp","stringInfoLeft","infoLeft","stringInfoRight","infoRight","MULT","DIV","MOD","LE","NEQ","AND","OR","rightStr","leftStr","strLeft","strRight","plus","minus","times","divToInt","div","leftValue","rightValue","trunc","modulo","charCodeAt","gt","gte","lt","lte","numElementsFun","ALL","matrixLinesFun","matrix","matrixColumnsFun","writeFunction","totalSV","total","sendOutput","readFunction","requestInput","typeToConvert","realObject","getReferenceDimension","arrayInfo","getRefObj","stoValue","isRealFun","parser","createParser","isIntFun","isBoolFun","castRealFun","typeStringInfoArray","typeInfo","MultiType","castIntFun","floor","castBoolFun","castStringFun","castCharFun","valSV","String","fromCharCode","convertToRadians","degrees","acos","sinFun","angle","mod","sin","cosFun","cos","tanFun","tan","sqrtFun","isNeg","reject","sqrt","powFun","y","pow","logFun","isNegative","log10","absFun","abs","negateFun","invertFun","dividedBy","maxFun","numbers","sto_addrs","paramType","minFun","seed","a","m","randFun","createSetSeedFun","setSeedFun","substringFun","end","lengthFun","uppercaseFun","toUpperCase","lowercaseFun","toLowerCase","charAtFun","idx","charAt","stringCode","semantic","parseTree","analyseTree","symbolMap","currentFunction","n","symbol_map","findSymbol","pushMap","assertDeclarations","f","assertFunction","assertDeclaration","assertArrayDeclaration","insertSymbol","evaluateExpressionType","result_string_info","result_info","lineType","columnType","finalResult","resultTypeLeft","resultTypeRight","evaluateLiteralType","assertParameters","arrayTypeInfo","arrType","literal","last","strInfo","strExp","arrayDeclaration","evaluateVectorLiteralType","line_literal","formalParam","optional","assertReturn","popMap","checkCommand","checkCommands","var_type","from_type","to_type","pass_type","sType","hasDefault","caseType","lineExp","columnExp","exp_type","access_type","compatible","access_type_string_info","access_type_info","getMainFunction","actualParametersList","parameterList","assertVariadicParameter","param","assertParameter","expType","shared","runner","ivprogLexer","editor","JsonEditor","analiser","semAna","load","alert","identifier","opts","UI","warn","LanguageServiceExtended","iLMparameters","default_lang","lang","langInfo","Lexers","getLang","getDefaultLang","LanguageServiceNoLS","IVProgLocalizedStrings","langService","langsJsons","shouldListenToChange","type_string","category","Langs","_instance","getInstance","clicks","inRebuildMode","ActionTypes","INSERT_FUNCTION","REMOVE_FUNCTION","INSERT_GLOBAL_VAR","REMOVE_GLOBAL_VAR","RENAME_FUNCTION","RENAME_GLOBAL_VAR","SET_GLOBAL_CONST","CHANGE_FUNCTION_RETURN","CHANGE_GLOBAL_TYPE","CHANGE_GLOBAL_VALUE","INSERT_FUNCTION_PARAM","REMOVE_FUNCTION_PARAM","CHANGE_PARAM_TYPE","RENAME_FUNCTION_PARAM","INSERT_FUNCTION_VAR","REMOVE_FUNCTION_VAR","RENAME_FUNCTION_VAR","CHANGE_VAR_TYPE","CHANGE_VAR_VALUE","INSERT_COMMAND","REMOVE_COMMAND","CHANGE_COMMAND_EXP","CHANGE_ATTRIB_EXP","CHANGE_ATTRIB_VAR","MOVE_COMMAND","ENTER_CHANGE_VAR_NAME","ENTER_CHANGE_VAR_VALUE","ENTER_CHANGE_GLOBAL_NAME","ENTER_CHANGE_GLOBAL_VALUE","ENTER_CHANGE_PARAM_NAME","registerClick","details","registerUserEvent","registerEvent","registerSystemEvent","tag","getLogs","setRebuildMode","getLogsAsString","parseLogs","logData","toChar","debug","toReal","toBool","instance","bool","autoGenerateTestCaseOutput","program_text","copyTestCases","resultList","InputTest","exec","result_final","inputList","showAlert","outputGenerated","CodeEditorMode","CodeMirror","indented","align","pushContext","state","indent","popContext","typeBefore","stream","prevToken","string","slice","typeAtEndOfLine","indentation","isTopScope","contains","words","word","propertyIsEnumerable","tokenComment","maybeEnd","ch","tokenize","defineMode","config","parserConfig","indentUnit","statementIndentUnit","dontAlignCalls","keywords","switchKeyword","caseKeyword","defaultKeyword","caseRegex","builtin","blockKeywords","defKeywords","atoms","hooks","multiLineStrings","indentStatements","namespaceSeparator","isPunctuationChar","numberStart","number","isOperatorChar","isIdentifierChar","isReservedIdentifier","curPunc","isDefKeyword","tokenString","tokenBase","backUp","eat","skipToEnd","eatWhile","cur","current","quote","escaped","maybeEOL","typeFirstDefinitions","eol","startState","basecolumn","startOfLine","ctx","sol","eatSpace","styleDefs","textAfter","Pass","firstChar","closing","dontIndentStatements","hook","switchBlock","allmanIndentation","caseTestRegex","electricInput","blockCommentStart","blockCommentEnd","blockCommentContinue","lineComment","fold","codeConfig","getCodeEditorModeConfig","ivprogKeywords","basicTypes","ivprogTypes","ivprogBlockKeywords","blocks","ivprogDefKeywords","def","mimes","prop","helperType","registerHelper","defineMIME","switchString","case_default","modeProps","parseActivityData","algorithm_in_ilm","logs","Maybe","none","prepareActivityToStudentHelper","ilm_cont","maybe_content","testcases","setTestCases","prog_type","settings_programming_type","settingsProgrammingType","settingsDataTypes","settings_data_types","settingsCommands","settings_commands","settingsFunctions","settings_functions","algorithmInIlm","settingsFilter","settings_filter","compareArray","b","elementA","elementB","compareTestcases","original","student","elementO","elementS","autoEval","originalData","generate","getOrElse","getTestCases","con","TestConsole","autoAssessment","runTest","TYPES","CONST","RELATIONAL","LOGIC","ARITHMETIC","getOpType","expressionWalker","funcObj","paramsList","opType","opValue","arrayClass","expressionAST","DIFF_DELETE","DIFF_INSERT","DIFF_EQUAL","diff_main","text1","text2","cursor_pos","_fix_unicode","editdiff","find_cursor_edit_diff","commonlength","diff_commonPrefix","commonprefix","diff_commonSuffix","commonsuffix","diffs","diff_compute_","unshift","diff_cleanupMerge","longtext","shorttext","hm","diff_halfMatch_","text1_a","text1_b","text2_a","text2_b","mid_common","diffs_a","diffs_b","diff_bisect_","text1_length","text2_length","max_d","ceil","v_offset","v_length","v1","v2","delta","front","k1start","k1end","k2start","k2end","d","k1","k1_offset","x1","y1","k2_offset","x2","diff_bisectSplit_","k2","y2","text1a","text2a","text1b","text2b","diffsb","pointermin","pointermax","pointermid","pointerstart","is_surrogate_pair_start","pointerend","is_surrogate_pair_end","diff_halfMatchI_","best_common","best_longtext_a","best_longtext_b","best_shorttext_a","best_shorttext_b","prefixLength","suffixLength","hm1","hm2","fix_unicode","pointer","count_delete","count_insert","text_delete","text_insert","previous_equality","ends_with_pair_start","stray","k","starts_with_pair_end","changes","charCode","remove_empty_tuples","tuples","ret","make_edit_splice","before","oldMiddle","newMiddle","after","oldText","newText","oldRange","newRange","oldLength","newLength","oldCursor","oldBefore","oldAfter","maybeNewCursor","editBefore","newCursor","newBefore","newAfter","oldPrefix","newPrefix","editAfter","cursor","oldSuffix","newSuffix","replaceRange","_type","scrollIt","destination","duration","easing","easings","linear","easeInQuad","easeOutQuad","easeInOutQuad","easeInCubic","easeOutCubic","easeInOutCubic","easeInQuart","easeOutQuart","easeInOutQuart","easeInQuint","easeOutQuint","easeInOutQuint","pageYOffset","startTime","performance","getTime","documentHeight","body","offsetHeight","documentElement","clientHeight","windowHeight","innerHeight","getElementsByTagName","destinationOffset","offsetTop","destinationOffsetToScroll","round","scroll","timeFunction","requestAnimationFrame","isElementInViewport","el","rect","getBoundingClientRect","bottom","innerWidth","clientWidth","cacheMainList","cacheOp","fillCache","mainList","nullLexer","logicOpList","lOp","isKeyword","isValidIdentifier","identifier_str","validRegex","blockList","keywordsList","typeList","atomList","win","openAssessmentDetail","page_code","currentTarget","dataset","close","open","range","startAt","keys","sleep","ms","res","setTimeout","block_render","renderAlgorithm","draging","children","off","empty","program_obj","FunctionsManagement","globals","GlobalsManagement","blockAllEditingOptions","delay","show","globalsCode","has_error","n_code","functionsCode","function_obj","return_type","TEXT","return_dimensions","is_main","parameters_list","parametersCode","variables_list","variablesCode","commandsCode","command_obj","Models","breaksCode","comment","commentsCode","reader","readersCode","writer","writersCode","functioncall","functioncallsCode","attribution","attributionsCode","whiletrue","whiletruesCode","dowhiletrue","doWhilesCode","iftrue","iftruesCode","repeatNtimes","repeatNtimesCode","switchsCode","returnsCode","variable_value_menu","elementExpressionCode","_command_obj","variableValueMenuCode","switchcasesCode","switchcase","commands_block","repeatNtimesHeader","var_attribution","expression1","expression2","expression3","itens","dom_object","commands_else","logicExpressionCode","first_operand","exp_logic","exp_arithmetic","arithmeticExpressionCode","equals_to","not_equals_to","second_operand","greater_than","less_than","greater_than_or_equals_to","less_than_or_equals_to","expression_obj","type_op","item","multiplication","division","module","write_sep","function_called","variable_obj","is_return","translateInternalFunction","row","isBackslash","newline","comment_text","parameter_obj","is_constant","rows","removeCommand","dom_obj","function_container_active","createFloatingCommand","function_container","command_type","mouse_event","floatingObject","BreaksManagement","CommentsManagement","ReadersManagement","WritersManagement","AttributionsManagement","IftruesManagement","RepeatNtimesManagement","WhiletruesManagement","DowhiletruesManagement","SwitchesManagement","FunctioncallsManagement","ReturnsManagement","draggable","appendTo","mouseup","evt","manageCommand","hasClass","originalEvent","srcElement","closest","addGhostDiv","elementFromPoint","clientX","clientY","ghostDiv","css","pageX","divx","pageY","trigger","active_container","addGhostToEmptyBlock","container","addGhostToNotEmptyBlock","is","containerIf","containerElse","topIfDistance","bottomIfDistance","height","topElseDistance","bottomElseDistance","addGhostToFunctionArea","allfilhos","topDistances","bottomDistances","topD","botD","menorTop","apply","indiceTop","menorBot","indiceBot","insertAfter","undermouse","borderMouseDragCommand","each","objLeft","offset","objTop","objRight","width","objBottom","renderCommand","element_reference","before_after_inside","createdElement","genericCreateCommand","VariableValueMenuManagement","only_value","only_variable","only_function","sc","variable_and_function","dragTrash","trash","fadeIn","fadeOut","findSingleElement","searching","query","findPathRecursive","starter_index","hierarquia_bottom_up","index_command","full_path","hier","parentsUntil","esta_correto","esta_na_div_correta","new_cmd","findNearbyCommandToAddInFunctionScope","hier_find","is_correct_context","sub_elemento","findBeforeOrAfterCommandToAdd","insertCommandInBlockHierar","all_str_path","hier_dom","hier_obj","el_jq","command_parent","recentComand","findNearbyCommandToAddInBlockScope","addCommandToSwitchCase","findBeforeOrAfterCommandToAddInsertBlock","node_list_commands","all_sub","menor_distancia","elemento_menor_distancia","antes","t_bot","t_top","borda_inferior","command_target","temp_parent","is_in_else","d_top","d_bot","findInBlockCorrectPlace","insertCommandInBlock","correct_div","is_in_if","which_case","case_div","findInBlockCorrectPlaceInSwitchCase","VariableValueMenu","addHandlers","ExpressionManagement","lockexpression","CodeGenerator","toggleClass","manageExpressionElements","ref_object","menu_var_or_value","selectedItem","expression_element","index_to_move","exp_op_exp","op_exp","par_exp_par","renderExpressionElements","expression_div","command_container","renderElement","renderOperator","temp_op","index_op","context_menu","dropdown","onChange","$selectedItem","renderMenuAddExpression","dom_append_menu","expression_append_new_expression","type_exp","temp_exp_1","temp_exp_2","temp_exp","temp_par_1","temp_par_2","renderExpression","menu_add_item","menu_add_item_seq","index_temp","addMenuItens","divs_expression","attribution_dom","expressionEdition","inputExpression","afterWhichElement","lockButton","editButton","ex","ok_button","cancel_button","focusout","keyup","parsed","mousedown","len","setSelectionRange","CommandsManagement","renderMenuOperations","variable_selected","createExpressionAround","break_dom","renderTextComment","comment_dom","initial_el_to_render","renderStartMenu","main_div","renderLogicExpression","renderArithmeticExpression","restartMenu","renderArithmeticOperator","all_expression","expression_arithmetic","arithmetic_operator","element_to_append","menu_operator","selected","renderLogicOperator","expression_logic","logic_operator","exp_el_par_1","exp_el_expr_el_1","exp_el_expr_operand","exp_el_expr_el_2","exp_el_par_2","start_menu","html","selectOnKeydown","renderMenu","dom_where_render","dom_command","menu_div","collapsed","addCaseToSwitch","SwitchManagement","ContextualizedMenu","GenericExpressionManagement","dowhiletrue_dom","functioncall_dom","timer","div_to_render","expression_array","WatchJS","unwatch","watch","s","types_included","exp_conditional","renderElements","open_or_close","lixeira","posX","posY","Sortable","create","animation","ghostClass","group","put","sort","onStart","onMove","onEnd","onAdd","removeElement","indice","first","opening","div_temp","renderFinalAddElements","renderParenthesis","renderStartAddOperator","renderOperatorMenu","renderAddParenthesis","parentheses_activate","addParentheses","actual_target","renderGhostParentheses","floating","comando_que_esta","comando_certo","open_parentheses","close_parentheses","inserir_open","inserir_close","evts","is_correct","index_in_array","count_opened","count_closed","expression_content","position","ghost_parenthesis","menu_final","getArithmeticOperators","getLogicOperators","getRelationalOperators","div_higher","sera","is_last","button","getSeparator","_value","_text","arithmetic_operators","logic_operators","relational_operators","getVariable","search","variavel","system_functions","expressionParserToVisual","input_field","var_not_found","fun_not_found","ivprogCore","funcao","uniqueWords","Set","exp_obj","iftrue_dom","reader_dom","togglePasso","var_incrementation","cond_exp","manageClearExpressionElements","repeatNtimes_dom","return_dom","renderCase","casediv","switch_dom","VAR_OR_VALUE_TYPES","variable_and_value_opt","value_and_function","size_field","variable_and_value","inputWidth","textWidth","addVariablesToMenu","addFunctionsToMenu","addIVProgFunctionsToMenu","variable_fun","isVarInProgram","renderPreviousContent","appendSelectText","ret_function","isFunctionInProgram","function_called_obj","var_obj","var_fun","parameters_menu","AttribuitionsManagement","variable_render","openInputToValue","sub_menu","math","arrangement","conversion","is_there","include_constant","openInputToFunction","openInputToVariable","RepeatNTimesManagement","tmpStr","function_selected","field","rendered","fn","font","fakeEl","attr","whiletrue_dom","addHandlersManager","_function_obj","_writer_dom","item_div","content_element","writer_dom","handle","random","newIndex","oldIndex","replaceWith","newlineBtn","setPopup","_addHandlerIconAdd","insert_after","after_which","icon_add_item","_event","div_parent_with_handler","new_div_item","new_related_menu","addHandlerIconAdd","addContent","_ref_object","_menu_var_or_value","_ref_object_content","counter_new_functions","counter_new_parameters","ivprog_version","VersionInfo","version","globalChangeListeners","functionsChangeListeners","_testCases","studentGrade","mainFunction","function_comment","addFunction","generator","CodeManagement","runCodeAssessment","AlgorithmManagement","insertContext","watchW","addFunctionHandler","new_function","renderFunction","addParameter","new_parameter","renderParameter","updateReturnType","new_type","new_dimensions","removeFunction","minimizeFunction","is_hidden","enableNameFunctionUpdate","VariablesManagement","slideToggle","renderFunctionReturn","function_element","tm","cont","appender","function_index","updateSequenceLocals","addSortableHandler","updateSequenceParameters","teste","sticky","scrollContext","observeChanges","onStick","onBottom","onUnstick","onReposition","onScroll","isVisible","onTop","elementTop","elementHeight","containerTop","containerHeight","evento_drag","updateProgramObjDrag","nodes","start_index","path_target","index_each","path_relative","indice_na_raiz","is_in_case_switch","command_start_point","block_to_insert","command_in_drag","prepareDragHandler","id_function","n_group","itemEl","to","from","initVisualUI","stopExecution","toggleVisualCoding","toggleTextualCoding","is_iassign","toggleConsole","full_screen","time_show","listWithHandle","updateSequenceFunction","listGlobalsHandle","updateSequenceGlobals","settingsProgrammingTypes","TextEditor","getEvaluationCallback","is_running","removeParameter","parameter_container","updateParameterType","function_name","__","enableNameParameterUpdate","updateParameterName","parameter_var","new_name","parameter_obj_dom","variableNameAlreadyExists","name_var","updateFunctionName","function_var","function_obj_dom","functionNameAlreadyExists","opened_name_parameter","opened_input_parameter","parent_node","select","opened_name_function","opened_input","previousPadding","addFunctionChangeListener","addGlobalChangeListener","removeGlobalListener","removeFunctionListener","cancelPendingInputRequests","counter_new_globals","addGlobal","is_from_click","new_global","newe","renderGlobal","toggleConstant","global_var","updateName","global_obj_dom","globalNameAlreadyExists","global_name","updateType","updateInitialValues","removeGlobal","global_container","alternateBooleanGlobalValue","value_container","alternateBooleanGlobalVectorValue","removeGlobalColumnVector","addGlobalColumnVector","removeColumnGlobalMatrix","addColumnGlobalMatrix","removeLineGlobalMatrix","addLineGlobalMatrix","n_l","alternateBooleanGlobalMatrixValue","renderValues","enableGlobalValueUpdate","enableGlobalVectorValueUpdate","enableGlobalMatrixValueUpdate","updateColumnsAndRowsText","enableNameUpdate","ff","complete_element","opened_name_value_matrix_global_v","opened_input_value_matrix_global_v","parseFloat","parseInt","opened_name_value_global_var","opened_input_value_global_ar","changed","opened_name_global","opened_input_global","input_name","opened_name_value_vector_global_","opened_input_value_vector_global_","COMMAND_TYPES","ARITHMETIC_TYPES","EXPRESSION_ELEMENTS","start_point","EXPRESSION_TYPES","ARITHMETIC_COMPARISON","LOGIC_COMPARISON","SYSTEM_FUNCTIONS_CATEGORIES","Variable","SystemFunction","Comment","Reader","Writer","Attribution","ExpressionOperator","ExpressionElement","ConditionalExpression","LogicExpression","has_neg","ArithmeticExpression","IfTrue","RepeatNTimes","WhileTrue","DoWhileTrue","SwitchCase","FunctionCallMenu","Program","function_to_add","function_to_receive","codeEditor","theme","lineNumbers","matchBrackets","autoCloseBrackets","fixedGutter","styleActiveLine","setOption","refresh","setValue","getValue","renderErrorMessage","dom_obj_target","message_text","transition","closable","movePopup","boundary","preserve","className","onHidden","$module","counter_new_variables","addVariable","is_in_click","new_var","renderVariable","variable_obj_dom","removeVariable","variable_container","function_associated","variable_var","alternateBooleanValue","enableValueUpdate","alternateBooleanVectorValue","enableVectorValueUpdate","removeColumnVector","addColumnVector","removeColumnMatrix","addColumnMatrix","removeLineMatrix","addLineMatrix","alternateBooleanMatrixValue","enableMatrixValueUpdate"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;QACA,QAAQ,oBAAoB;QAC5B;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA,iBAAiB,4BAA4B;QAC7C;QACA;QACA,kBAAkB,2BAA2B;QAC7C;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;;QAEA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;QAEA;QACA;QACA;QACA;QACA,gBAAgB,uBAAuB;QACvC;;;QAGA;QACA;QACA;QACA;;;;;;;;;;;;;;;;;;;;;;;ACvJA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,cAAc;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6DAA6D;AAC7D;AACA,wCAAwC,OAAO;AAC/C;AACA,0BAA0B,qBAAqB;AAC/C;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oEAAoE;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qCAAqC,+BAA+B;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAY,0BAA0B;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,0BAA0B;AACtE,yBAAyB,0BAA0B;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,mEAAmE,sCAAsC,EAAE;;AAE3G;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wEAAwE;AACxE,qCAAqC;AACrC;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;;;AAIA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA,iBAAiB,mBAAO,CAAC,oDAAc;;AAEvC,OAAO;AACP,Y;;;;;;;;;;;;AC1iBA;AAAA;;AAEe;AACbA,eAAa,EAAE,MADF;AAEbC,OAAK,EAAE,MAFM;AAGbC,QAAM,EAAE,OAHK;AAIbC,cAAY,EAAE,mBAJD;AAKbC,cAAY,EAAE,gBALD;AAMbC,gBAAc,EAAE,kBANH;AAObC,YAAU,EAAE,WAPC;AAQbC,SAAO,EAAE,QARI;AASbC,YAAU,EAAE,WATC;AAUbC,YAAU,EAAE,WAVC;AAWbC,SAAO,EAAE,SAXI;AAYbC,SAAO,EAAE,SAZI;AAabC,QAAM,EAAE,YAbK;AAcbC,SAAO,EAAE,UAdI;AAebC,WAAS,EAAE,SAfE;AAgBbC,UAAQ,EAAE,YAhBG;AAiBbC,WAAS,EAAE,UAjBE;AAkBbC,aAAW,EAAE,WAlBA;AAmBbC,WAAS,EAAE,SAnBE;AAoBbC,MAAI,EAAE,KApBO;AAqBbC,MAAI,EAAE,KArBO;AAsBbC,MAAI,EAAE,KAtBO;AAuBbC,OAAK,EAAE,MAvBM;AAwBbC,MAAI,EAAE,KAxBO;AAyBbC,MAAI,EAAE,KAzBO;AA0BbC,MAAI,EAAE,KA1BO;AA2BbC,SAAO,EAAE,QA3BI;AA4BbC,SAAO,EAAE,QA5BI;AA6BbC,MAAI,EAAE,SA7BO;AA8BbC,MAAI,EAAE,SA9BO;AA+BbC,OAAK,EAAE;AA/BM,CAAf,E;;;;;;;;;;;;ACFA;AAAA;;;AAGe;AACbC,UAAQ,EAAE,YADG;AAEbC,QAAM,EAAE,IAFK;AAGbC,SAAO,EAAE,MAHI;AAIbC,WAAS,EAAE,OAJE;AAKbC,UAAQ,EAAE;AALG,CAAf,E;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIe;AACbC,IAAE,EAAE;AAAEC,SAAK,EAAEC,oDAAT;AAAoBC,aAAS,EAAEC,yDAA/B;AAAwCC,YAAQ,EAAEC,oDAAMA;AAAxD,GADS;AAEbC,IAAE,EAAE;AAAEN,SAAK,EAAEO,oDAAT;AAAoBL,aAAS,EAAEM,yDAA/B;AAAwCJ,YAAQ,EAAEK,oDAAMA;AAAxD,GAFS,CAGb;;AAHa,CAAf,E;;;;;;;;;;;ACVA;AACA,6BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD,cAAc;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,mCAAmC,0BAA0B,EAAE;AAC/D,yCAAyC,eAAe;AACxD;AACA;AACA;AACA;AACA;AACA,8DAA8D,+DAA+D;AAC7H;AACA;AACA;AACA;AACA;AACA;AACA,UAAU;AACV;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,GAAG;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAA0C,OAAO;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,qEAAqE;AACrE,MAAM;AACN,uDAAuD;AACvD,OAAO;AACP;AACA,iCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAiD;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkB;AAClB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE;AACnE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAoC,0BAA0B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8DAA8D;AAC9D,mBAAmB,0BAA0B,0BAA0B;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA,mEAAmE,sCAAsC,EAAE;;AAE3G;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAA0D,OAAO;AACjE;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;;;AAIA,OAAO;AACP;AACA;;AAEA;AACA;AACA;;;AAGA,OAAO;AACP;AACA;;AAEA,iBAAiB,mBAAO,CAAC,oDAAc;;AAEvC,OAAO;AACP,Y;;;;;;;;;;;;AC3jBA;AAAA;;AAEe;AACb9C,eAAa,EAAE,QADF;AAEbC,OAAK,EAAE,MAFM;AAGbC,QAAM,EAAE,SAHK;AAIbC,cAAY,EAAE,oBAJD;AAKbC,cAAY,EAAE,iBALD;AAMbC,gBAAc,EAAE,kBANH;AAObC,YAAU,EAAE,WAPC;AAQbC,SAAO,EAAE,aARI;AASbC,YAAU,EAAE,YATC;AAUbC,YAAU,EAAE,aAVC;AAWbC,SAAO,EAAE,sBAXI;AAYbC,SAAO,EAAE,QAZI;AAabC,QAAM,EAAE,WAbK;AAcbC,SAAO,EAAE,UAdI;AAebC,WAAS,EAAE,WAfE;AAgBbC,UAAQ,EAAE,cAhBG;AAiBbC,WAAS,EAAE,aAjBE;AAkBbC,aAAW,EAAE,aAlBA;AAmBbC,WAAS,EAAE,gBAnBE;AAoBbC,MAAI,EAAE,MApBO;AAqBbC,MAAI,EAAE,SArBO;AAsBbC,MAAI,EAAE,UAtBO;AAuBbC,OAAK,EAAE,eAvBM;AAwBbC,MAAI,EAAE,UAxBO;AAyBbC,MAAI,EAAE,WAzBO;AA0BbC,MAAI,EAAE,QA1BO;AA2BbC,SAAO,EAAE,cA3BI;AA4BbC,SAAO,EAAE,gBA5BI;AA6BbC,MAAI,EAAE,QA7BO;AA8BbC,MAAI,EAAE,QA9BO;AA+BbC,OAAK,EAAE;AA/BM,CAAf,E;;;;;;;;;;;;ACFA;AAAA;;;AAGe;AACbC,UAAQ,EAAE,YADG;AAEbC,QAAM,EAAE,IAFK;AAGbC,SAAO,EAAE,OAHI;AAIbC,WAAS,EAAE,SAJE;AAKbC,UAAQ,EAAE;AALG,CAAf,E;;;;;;;;;;;ACHA,kBAAkB,MAAM,+OAA+O,mXAAmX,gBAAgB,IAAI,olTAAolT,MAAM,mpDAAmpD,MAAM,u/GAAu/G,OAAO,8MAA8M,6WAA6W,eAAe,IAAI,mwTAAmwT,QAAQ,8nDAA8nD,MAAM,k4GAAk4G,OAAO,8MAA8M,6WAA6W,eAAe,IAAI,mwTAAmwT,QAAQ,8nDAA8nD,MAAM,m4G;;;;;;;;;;;;ACArr1C;AACb,8CAA8C,cAAc;AAC5D,iBAAiB,mBAAO,CAAC,yCAAe;AACxC,WAAW,mBAAO,CAAC,+BAAU;AAC7B,eAAe,mBAAO,CAAC,qCAAa;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA,kBAAkB,MAAM,s5BAAs5B,OAAO,+4BAA+4B,OAAO,w8B;;;;;;;;;;;ACA30D,kBAAkB,MAAM,2gKAA2gK,w1BAAw1B,oCAAoC,gDAAgD,IAAI,qIAAqI,OAAO,wzJAAwzJ,u1BAAu1B,mCAAmC,8CAA8C,IAAI,+HAA+H,OAAO,46JAA46J,+2BAA+2B,mCAAmC,8CAA8C,IAAI,gI;;;;;;;;;;;;ACAzzjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAEA;AAEA;;AACA,IAAIY,IAAI,GAAG,IAAX;AACA,IAAIC,SAAS,GAAG,KAAhB;AACA,IAAIC,UAAU,GAAG,IAAIC,yDAAJ,CAAe,UAAf,CAAjB,C,CAEA;;AACA,IAAMC,sBAAsB,GAAGC,QAAQ,CAACC,cAAT,CAAwB,2BAAxB,CAA/B;AACA,IAAMC,eAAe,GAAGF,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAxB;AACA,IAAME,eAAe,GAAGH,QAAQ,CAACC,cAAT,CAAwB,iBAAxB,CAAxB,C,CAEA;;AACA,IAAMG,aAAa,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAtB;;AAEA,SAASI,YAAT,GAAyB;AAErBC,SAAO,CAACC,GAAR,CAAYC,sEAAZ;AACAF,SAAO,CAACC,GAAR,CAAYE,yEAAZ;AAEA,MAAIC,IAAI,iBAAR;;AAEA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,sEAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvCD,QAAI,kBAAWF,sEAAS,CAACG,CAAD,CAAT,CAAaE,IAAb,CAAkBC,IAA7B,cAAqCN,sEAAS,CAACG,CAAD,CAAT,CAAaG,IAAlD,iBAA6DN,sEAAS,CAACG,CAAD,CAAT,CAAaE,IAAb,CAAkBE,OAA/E,SAAyFP,sEAAS,CAACG,CAAD,CAAT,CAAaK,KAAtG,SAA8GR,sEAAS,CAACG,CAAD,CAAT,CAAaE,IAAb,CAAkBE,OAAhI,OAAJ;AACH;;AAEDL,MAAI,oCAAJ;;AAEA,OAAK,IAAIC,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAGF,yEAAU,CAACG,MAA/B,EAAuCD,EAAC,EAAxC,EAA4C;AACxC,YAAQF,yEAAU,CAACE,EAAD,CAAV,CAAcE,IAAtB;AACI,WAAK,QAAL;AACIH,YAAI,sBAAeD,yEAAU,CAACE,EAAD,CAAV,CAAcM,gBAAd,CAA+BH,IAA9C,SAAJ;;AAEA,aAAK,IAAII,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGT,yEAAU,CAACE,EAAD,CAAV,CAAcQ,SAAd,CAAwBP,MAA5C,EAAoDM,CAAC,EAArD,EAAyD;AACrD,kBAAQT,yEAAU,CAACE,EAAD,CAAV,CAAcQ,SAAd,CAAwBD,CAAxB,EAA2BL,IAA3B,CAAgCG,KAAxC;AACI,iBAAK,UAAL;AACIN,kBAAI,IAAID,yEAAU,CAACE,EAAD,CAAV,CAAcQ,SAAd,CAAwBD,CAAxB,EAA2BE,QAA3B,CAAoCN,IAA5C;AACA;;AACJ,iBAAK,OAAL;AACIJ,kBAAI,IAAID,yEAAU,CAACE,EAAD,CAAV,CAAcQ,SAAd,CAAwBD,CAAxB,EAA2BF,KAAnC;AACA;;AACJ,iBAAK,UAAL;AACIN,kBAAI,IAAID,yEAAU,CAACE,EAAD,CAAV,CAAcQ,SAAd,CAAwBD,CAAxB,EAA2BG,QAA3B,CAAoCP,IAA5C;AACA;AATR;AAWH;;AACD;;AACJ,WAAK,OAAL;AACIJ,YAAI,iCAAyBD,yEAAU,CAACE,EAAD,CAAV,CAAcM,gBAAd,CAA+BH,IAAxD,oBAAqEL,yEAAU,CAACE,EAAD,CAAV,CAAcM,gBAAd,CAA+BH,IAApG,gBAAJ;AACA;AApBR;;AAuBAJ,QAAI,QAAJ;AACH;;AAEDA,MAAI,aAAJ;AAEAA,MAAI,OAAJ;AAEAN,eAAa,CAACkB,SAAd,GAA0BZ,IAA1B;AAEA,SAAOA,IAAP;AACH;;AAEM,SAASa,OAAT,GAAoB;AACvB,MAAI3B,SAAJ,EAAe;AACX;AACH;;AACD,MAAI4B,OAAO,GAAGnB,YAAY,EAA1B;;AAEA,MAAImB,OAAO,IAAI,IAAf,EAAqB;AACjB;AACH,GARsB,CAUvB;AAEA;AACA;AACA;;;AACA,MAAI;AACA,QAAMC,IAAI,GAAGC,qFAAgB,CAACC,iBAAjB,CAAmCH,OAAnC,CAAb;AACA7B,QAAI,GAAG,IAAIiC,0EAAJ,CAAoBH,IAApB,CAAP;AACA9B,QAAI,CAACkC,aAAL,CAAmBhC,UAAnB;AACAF,QAAI,CAACmC,cAAL,CAAoBjC,UAApB;AACAkC,KAAC,CAAC,cAAD,CAAD,CAAkBC,QAAlB,CAA2B,oBAA3B;AACApC,aAAS,GAAG,IAAZ;AACAD,QAAI,CAACsC,YAAL,GAAoBC,IAApB,CAAyB,UAAAC,CAAC,EAAI;AAC1BC,kBAAY,CAAC,YAAM;AACf,YAAIvC,UAAU,CAACwC,cAAX,CAA0BzB,MAA1B,IAAoC,CAAxC,EAA2C;AACvC,cAAIjB,IAAI,CAAC2C,IAAL,KAAcC,sDAAK,CAACC,KAAxB,EAA+B;AAC3B3C,sBAAU,CAAC4C,IAAX,CAAgBC,kFAAgB,CAACC,UAAjB,CAA4B,mBAA5B,CAAhB;AACH,WAFD,MAEO;AACH9C,sBAAU,CAAC4C,IAAX,CAAgBC,kFAAgB,CAACC,UAAjB,CAA4B,mBAA5B,CAAhB;AACH;;AACDZ,WAAC,CAAC,cAAD,CAAD,CAAkBa,WAAlB,CAA8B,oBAA9B;AACAhD,mBAAS,GAAG,KAAZ;AACAD,cAAI,GAAG,IAAP;AACAkD,uBAAa;AACb9C,gCAAsB,CAAC+C,KAAvB;AACA,iBAAO,IAAP;AACH;;AAED,eAAO,KAAP;AACH,OAhBW,EAgBT,GAhBS,CAAZ;AAiBH,KAlBD,WAkBS,UAAAC,GAAG,EAAI;AACZX,kBAAY,CAAC,YAAM;AACf,YAAIvC,UAAU,CAACwC,cAAX,CAA0BzB,MAA1B,IAAoC,CAAxC,EAA2C;AACvC,cAAImC,GAAG,YAAYC,KAAnB,EAA0B;AACtBnD,sBAAU,CAACkD,GAAX,CAAeA,GAAG,CAACE,OAAnB;AACH,WAFD,MAEO;AACHpD,sBAAU,CAACkD,GAAX,CAAeA,GAAf;AACH,WALsC,CAMvC;;;AACAnD,mBAAS,GAAG,KAAZ;AACAD,cAAI,GAAG,IAAP;AACAkD,uBAAa;AACb,iBAAO,IAAP;AACH;;AACD,eAAO,KAAP;AACH,OAdW,EAcT,GAdS,CAAZ;AAeH,KAlCD;AAmCH,GA1CD,CA0CE,OAAOK,KAAP,EAAc;AACZd,gBAAY,CAAC,YAAM;AACf,UAAIvC,UAAU,CAACwC,cAAX,CAA0BzB,MAA1B,IAAoC,CAAxC,EAA2C;AACvChB,iBAAS,GAAG,KAAZ;AACAD,YAAI,GAAG,IAAP;AACAkD,qBAAa;AACbhD,kBAAU,CAACkD,GAAX,CAAeG,KAAK,CAACD,OAArB;AACA3C,eAAO,CAACC,GAAR,CAAY2C,KAAZ;AACA,eAAO,IAAP;AACH;;AACD,aAAO,KAAP;AACH,KAVW,EAUT,GAVS,CAAZ;AAWH;AACJ,C,CAED;;AAEA,SAASd,YAAT,CAAuBe,QAAvB,EAAiCC,IAAjC,EAAuC;AACnC,MAAMC,cAAc,GAAG,SAAjBA,cAAiB,GAAM;AACzB,QAAMC,EAAE,GAAGC,WAAW,CAAC,YAAM;AACzB,UAAIJ,QAAQ,EAAZ,EAAgB;AACZK,qBAAa,CAACF,EAAD,CAAb;AACH;AACJ,KAJqB,EAInBF,IAJmB,CAAtB;AAKH,GAND;;AAOAC,gBAAc;AACjB,C,CAED;;;AAEA,SAASR,aAAT,GAA0B;AACtB3C,iBAAe,CAACuD,KAAhB,CAAsBC,OAAtB,GAAgC,QAAhC;AACAvD,iBAAe,CAACsD,KAAhB,CAAsBC,OAAtB,GAAgC,MAAhC;AACH;;AAED,SAASC,cAAT,GAA2B;AACvBzD,iBAAe,CAACuD,KAAhB,CAAsBC,OAAtB,GAAgC,MAAhC;AACAvD,iBAAe,CAACsD,KAAhB,CAAsBC,OAAtB,GAAgC,QAAhC;AACH,C,CAED,0E;;;;;;;;;;;;AC5KA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;CAEA;AAEA;;AACO,IAAME,uBAAuB,GAAG5D,QAAQ,CAACC,cAAT,CAAwB,kCAAxB,CAAhC;AACA,IAAM4D,wBAAwB,GAAG7D,QAAQ,CAACC,cAAT,CAAwB,mCAAxB,CAAjC;AACA,IAAM6D,QAAQ,GAAG9D,QAAQ,CAACC,cAAT,CAAwB,UAAxB,CAAjB,C,CAEP;AACA;AACA;AAEA;;AACA,IAAM8D,oBAAoB,GAAG/D,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,CAA7B;AACA,IAAM+D,oBAAoB,GAAGhE,QAAQ,CAACC,cAAT,CAAwB,sBAAxB,CAA7B;AACA,IAAMgE,WAAW,GAAGjE,QAAQ,CAACC,cAAT,CAAwB,aAAxB,CAApB;AACA,IAAMiE,aAAa,GAAGlE,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAtB;AACA,IAAMkE,aAAa,GAAGnE,QAAQ,CAACC,cAAT,CAAwB,eAAxB,CAAtB;AACA,IAAMmE,qBAAqB,GAAGpE,QAAQ,CAACC,cAAT,CAAwB,yBAAxB,CAA9B;AACA,IAAMoE,oBAAoB,GAAGrE,QAAQ,CAACC,cAAT,CAAwB,wBAAxB,CAA7B;AACA,IAAMqE,oBAAoB,GAAGtE,QAAQ,CAACC,cAAT,CAAwB,wBAAxB,CAA7B;AAEO,SAASsE,gBAAT,GAA6B;AAEhC;AACAF,sBAAoB,CAACZ,KAArB,CAA2BC,OAA3B,GAAqC,MAArC;AACAY,sBAAoB,CAACb,KAArB,CAA2BC,OAA3B,GAAqC,MAArC,CAJgC,CAMhC;;AACA3B,GAAC,CAAC,0BAAD,CAAD,CAA8ByC,EAA9B,CAAiC,OAAjC,EAA0C,UAAUC,CAAV,EAAa;AACnD1C,KAAC,CAAC,IAAD,CAAD,CAAQ2C,IAAR,CAAa,IAAb,EAAmBC,MAAnB;AACAF,KAAC,CAACG,eAAF;AACAH,KAAC,CAACI,cAAF;AACH,GAJD;AAMA9C,GAAC,CAAC,eAAD,CAAD,CAAmB+C,KAAnB,CAAyB,UAAAC,EAAE,EAAI;AAC3BhD,KAAC,CAAC,WAAD,CAAD,CAAe+C,KAAf;AACH,GAFD,EAbgC,CAiBhC;;AACAf,sBAAoB,CAACiB,gBAArB,CAAsC,OAAtC,EAA+C,UAAAD,EAAE,EAAI;AACjDE,uFAAc;AACjB,GAFD;AAIAjB,sBAAoB,CAACgB,gBAArB,CAAsC,OAAtC,EAA+C,UAAAD,EAAE,EAAI;AACjDG,0FAAe;AAClB,GAFD;AAIAjB,aAAW,CAACe,gBAAZ,CAA6B,OAA7B,EAAsC,UAAAD,EAAE,EAAI;AACxCI,+FAAoB;AACvB,GAFD;AAIAjB,eAAa,CAACc,gBAAd,CAA+B,OAA/B,EAAwC,UAAAD,EAAE,EAAI;AAC1CX,yBAAqB,CAACU,KAAtB;AACAvD,6DAAO;AACV,GAHD;AAKA4C,eAAa,CAACa,gBAAd,CAA+B,OAA/B,EAAwC,UAAAD,EAAE,EAAI;AAC1CK,0FAAiB;AACjBC,6FAAkB;AACrB,GAHD;AAIH,C,CAED;AAEA;;AACO,SAASC,YAAT,GAAyB;AAC5B,SAAO,CAAC,CAAC,GAAD,IAAQ,CAAC,GAAT,GAAe,CAAC,GAAhB,GAAsB,CAAC,GAAvB,GAA6B,CAAC,IAA/B,EAAqCC,OAArC,CAA6C,QAA7C,EAAuD,UAAAC,CAAC;AAAA,WAC3D,CAACA,CAAC,GAAGC,MAAM,CAACC,eAAP,CAAuB,IAAIC,UAAJ,CAAe,CAAf,CAAvB,EAA0C,CAA1C,IAA+C,MAAMH,CAAC,GAAG,CAA9D,EAAiEI,QAAjE,CAA0E,EAA1E,CAD2D;AAAA,GAAxD,CAAP;AAGH,C,CAED,0E;;;;;;;;;;;;AC3EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;CAEA;AAEA;AACA;AACA;;AAEO,IAAMC,eAAe,GAAG;AAC3BC,MAAI,EAAE,wBADqB;AAE3B7E,kBAAgB,EAAE,oCAFS;AAG3BJ,MAAI,EAAE,QAHqB;AAI3BM,WAAS,EAAE;AAJgB,CAAxB,C,CAOP;AACA;AACA;;AAEO,IAAM4E,cAAc,GAAG;AAC1BD,MAAI,EAAE,uBADoB;AAE1BjF,MAAI,EAAE,eAFoB;AAG1BG,OAAK,EAAE,gBAHmB;AAI1BI,UAAQ,EAAE,2BAJgB;AAK1BC,UAAQ,EAAE;AALgB,CAAvB,C,CAQP;AACA;AACA;;AAEO,IAAM2E,SAAS,GAAG;AACrBC,UAAQ,EAAE,UADW;AAErBC,OAAK,EAAE,OAFc;AAGrBC,UAAQ,EAAE;AAHW,CAAlB;AAMA,IAAMC,YAAY,GAAG,CACxB;AACItF,MAAI,EAAE,UADV;AAEIE,OAAK,EAAEgF,SAAS,CAACC;AAFrB,CADwB,EAKxB;AACInF,MAAI,EAAE,OADV;AAEIE,OAAK,EAAEgF,SAAS,CAACE;AAFrB,CALwB,EASxB;AACIpF,MAAI,EAAE,UADV;AAEIE,OAAK,EAAEgF,SAAS,CAACG;AAFrB,CATwB,CAArB,C,CAeP;AACA;AACA;;AAEO,IAAME,aAAa,GAAG,CACzB;AACIvF,MAAI,EAAE,GADV;AAEIwF,cAAY,EAAE,KAFlB;AAGItF,OAAK,EAAE;AAHX,CADyB,EAMzB;AACIF,MAAI,EAAE,GADV;AAEIwF,cAAY,EAAE,MAFlB;AAGItF,OAAK,EAAE;AAHX,CANyB,EAWzB;AACIF,MAAI,EAAE,GADV;AAEIwF,cAAY,EAAE,WAFlB;AAGItF,OAAK,EAAE;AAHX,CAXyB,EAgBzB;AACIF,MAAI,EAAE,GADV;AAEIwF,cAAY,EAAE,eAFlB;AAGItF,OAAK,EAAE;AAHX,CAhByB,EAqBzB;AACIF,MAAI,EAAE,GADV;AAEIwF,cAAY,EAAE,SAFlB;AAGItF,OAAK,EAAE;AAHX,CArByB,EA0BzB;AACIF,MAAI,EAAE,GADV;AAEIwF,cAAY,EAAE,iBAFlB;AAGItF,OAAK,EAAE;AAHX,CA1ByB,EA+BzB;AACIF,MAAI,EAAE,GADV;AAEIwF,cAAY,EAAE,kBAFlB;AAGItF,OAAK,EAAE;AAHX,CA/ByB,CAAtB,C,CAsCP;AACA;AACA;;AAEO,IAAMuF,YAAY,GAAG,CACxB;AACIzF,MAAI,EAAE,UADV;AAEIE,OAAK,EAAE;AAFX,CADwB,EAKxB;AACIF,MAAI,EAAE,OADV;AAEIE,OAAK,EAAE;AAFX,CALwB,CAArB,C,CAWP;AACA;AACA;;AAEO,SAASwF,uBAAT,GAAoC;AACvC,MAAIC,oBAAoB,KAAxB;;AAEA,OAAK,IAAI9F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0F,aAAa,CAACzF,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC3C8F,wBAAoB,8BAAsBJ,aAAa,CAAC1F,CAAD,CAAb,CAAiBK,KAAvC,gBAAiDqF,aAAa,CAAC1F,CAAD,CAAb,CAAiBG,IAAlE,cAApB;AACH;;AAED,uPAGkB2F,oBAHlB;AAMH,C,CAED;AACA;AACA;;AAEO,SAASC,uBAAT,CAAkCC,SAAlC,EAA6C;AAChD,MAAIC,mBAAmB,KAAvB;;AAEA,OAAK,IAAIjG,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG4F,YAAY,CAAC3F,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC1CiG,uBAAmB,8BAAsBL,YAAY,CAAC5F,CAAD,CAAZ,CAAgBK,KAAtC,gBAAgDuF,YAAY,CAAC5F,CAAD,CAAZ,CAAgBG,IAAhE,cAAnB;AACH;;AAED,gFACmC6F,SAAS,CAACb,IAD7C,+GAC0Ia,SAAS,CAACb,IADpJ,uFAGkBc,mBAHlB;AAMH,C,CAED;AACA;AACA;;AAEO,SAASC,wBAAT,GAAqC;AAExC,MAAMC,eAAe,GAAGC,yBAAyB,EAAjD;AAEA,2fAK8BD,eAL9B;AA6BH,C,CAED;AACA;AACA;;AAEO,SAASC,yBAAT,GAAsC;AACzC,MAAID,eAAe,GAAGtG,8DAAS,CAACI,MAAV,KAAqB,CAArB,8BAAtB;;AAEA,OAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,8DAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvCmG,mBAAe,8BAAsBtG,8DAAS,CAACG,CAAD,CAAT,CAAamF,IAAnC,gBAA4CtF,8DAAS,CAACG,CAAD,CAAT,CAAaG,IAAzD,cAAf;AACH;;AAED,SAAOgG,eAAP;AACH,C,CAED;AAEA;AACA;AACA;;AAEO,SAASE,iCAAT,CAA4CL,SAA5C,EAAuDtF,QAAvD,EAAiE;AACpE,MAAIyF,eAAe,GAAGtG,8DAAS,CAACI,MAAV,KAAqB,CAArB,8BAAtB;;AAEA,OAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,8DAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvCmG,mBAAe,8BAAsBtG,8DAAS,CAACG,CAAD,CAAT,CAAamF,IAAnC,gBAA4CtF,8DAAS,CAACG,CAAD,CAAT,CAAaG,IAAzD,cAAf;AACH;;AAED,gFACmC6F,SAAS,CAACb,IAD7C,qBAC4DzE,QAAQ,CAACyE,IADrE,8HACkLa,SAAS,CAACb,IAD5L,8BACkNzE,QAAQ,CAACyE,IAD3N,sCAEkBgB,eAFlB;AAKH,C,CAED;AACA;AACA;;AAEO,SAASG,4BAAT,CAAuCN,SAAvC,EAAkDtF,QAAlD,EAA4D;AAC/D,+FACgDsF,SAAS,CAACb,IAD1D,qBACyEzE,QAAQ,CAACyE,IADlF,oGACwKa,SAAS,CAACb,IADlL,8BACwMzE,QAAQ,CAACyE,IADjN;AAGH,C,CAED;AACA;AACA;;AAEO,SAASoB,uBAAT,CAAkCP,SAAlC,EAA6CtF,QAA7C,EAAuD;AAC1D,MAAIoF,oBAAoB,KAAxB;;AAEA,OAAK,IAAI9F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0F,aAAa,CAACzF,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC3C8F,wBAAoB,8BAAsBJ,aAAa,CAAC1F,CAAD,CAAb,CAAiBK,KAAvC,wBAAwDqF,aAAa,CAAC1F,CAAD,CAAb,CAAiB2F,YAAzE,gBAA0FD,aAAa,CAAC1F,CAAD,CAAb,CAAiBG,IAA3G,cAApB;AACH;;AAED,gFACmC6F,SAAS,CAACb,IAD7C,qBAC4DzE,QAAQ,CAACyE,IADrE,sHACyKa,SAAS,CAACb,IADnL,8BACyMzE,QAAQ,CAACyE,IADlN,sCAEkBW,oBAFlB;AAKH,C,CAED;AACA;AACA;;AAEO,SAASU,oBAAT,CAA+BR,SAA/B,EAA0C;AAC7C,MAAIG,eAAe,GAAGtG,8DAAS,CAACI,MAAV,KAAqB,CAArB,8BAAtB;;AAEA,OAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,8DAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvCmG,mBAAe,8BAAsBtG,8DAAS,CAACG,CAAD,CAAT,CAAamF,IAAnC,gBAA4CtF,8DAAS,CAACG,CAAD,CAAT,CAAaG,IAAzD,cAAf;AACH;;AAED,qCAA2B6F,SAAS,CAACb,IAArC,wDACiCa,SAAS,CAACb,IAD3C,sOAI8Ca,SAAS,CAACb,IAJxD,kDAIkGa,SAAS,CAACb,IAJ5G,0PAO+Ca,SAAS,CAACb,IAPzD,8HAOsKa,SAAS,CAACb,IAPhL,kDAQ8BgB,eAR9B,sXAckDH,SAAS,CAACb,IAd5D,qFAcqIa,SAAS,CAACb,IAd/I,sRAmBkDa,SAAS,CAACb,IAnB5D,uFAmBuIa,SAAS,CAACb,IAnBjJ;AA0BH,C,CAED;AACA;AACA;;AAEO,SAASsB,sBAAT,CAAiCpG,KAAjC,EAAwC;AAC3C,OAAK,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyF,YAAY,CAACxF,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC1C,QAAIyF,YAAY,CAACzF,CAAD,CAAZ,CAAgBK,KAAhB,KAA0BA,KAA9B,EACI,OAAOoF,YAAY,CAACzF,CAAD,CAAnB;AACP;;AAED,SAAO,IAAP;AACH,C,CAED;;AAEO,SAAS0G,uBAAT,CAAkCrG,KAAlC,EAAyC;AAC5C,OAAK,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0F,aAAa,CAACzF,MAAlC,EAA0CD,CAAC,EAA3C,EAA+C;AAC3C,QAAI0F,aAAa,CAAC1F,CAAD,CAAb,CAAiBK,KAAjB,KAA2BA,KAA/B,EACI,OAAOqF,aAAa,CAAC1F,CAAD,CAApB;AACP;;AAED,SAAO,IAAP;AACH,C,CAED;;AAEO,SAAS2G,iBAAT,CAA4BX,SAA5B,EAAuCY,YAAvC,EAAqD;AACxD,OAAK,IAAI5G,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGgG,SAAS,CAACxF,SAAV,CAAoBP,MAAxC,EAAgDD,CAAC,EAAjD,EAAqD;AACjD,QAAIgG,SAAS,CAACxF,SAAV,CAAoBR,CAApB,EAAuBmF,IAAvB,KAAgCyB,YAApC,EACI,OAAOZ,SAAS,CAACxF,SAAV,CAAoBR,CAApB,CAAP;AACP;;AAED,SAAO,IAAP;AACH,C,CAED,oF;;;;;;;;;;;;ACpUA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;CASA;;AAEO,IAAMF,UAAU,GAAG,EAAnB,C,CAEP;;AACO,SAASyE,eAAT,GAA4B;AAC/B,MAAIyB,SAAS,GAAGa,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB5B,mEAAlB,CAAhB;AAEAc,WAAS,CAACb,IAAV,GAAiBR,0DAAY,GAAGoC,UAAf,CAA0B,GAA1B,EAA+B,EAA/B,CAAjB,CAH+B,CAI/B;;AACAf,WAAS,CAAC1F,gBAAV,GAA6BT,8DAAS,CAAC,CAAD,CAAtC;AACAmG,WAAS,CAACxF,SAAV,GAAsB,EAAtB;AAEAV,YAAU,CAACkH,IAAX,CAAgBhB,SAAhB;AAEA,MAAIiB,aAAa,GAAGf,oFAAwB,EAA5C;AAEAe,eAAa,GAAGA,aAAa,CAACF,UAAd,CAAyB,eAAzB,EAA0Cf,SAAS,CAACb,IAApD,CAAhB;AAEAjC,gEAAwB,CAACgE,kBAAzB,CAA4C,WAA5C,EAAyDD,aAAzD;AAEA5H,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,2BAA0Ed,gBAA1E,CAA2F,QAA3F,EAAqG,UAAAD,EAAE,EAAI;AACvG+C,8BAA0B,CAAC/C,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,cAAvB,CAAD,EAAyCjD,EAAE,CAACgD,MAAH,CAAU/G,KAAnD,CAA1B;AACH,GAFD;AAIAhB,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,aAA4Dd,gBAA5D,CAA6E,OAA7E,EAAsF,UAAAD,EAAE,EAAI;AACxFkD,mBAAe,CAAClD,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,cAAvB,CAAD,CAAf;AACH,GAFD;AAIAE,iBAAe,CAACvB,SAAS,CAACb,IAAX,CAAf;AACAqC,cAAY,CAACxB,SAAS,CAACb,IAAX,CAAZ,CAzB+B,CA2B/B;;AACA9F,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,2BAA0EhD,KAA1E;AACH,C,CAED;;AACO,SAASoF,eAAT,CAA0BpC,IAA1B,EAAgC;AACnC,MAAIa,SAAS,GAAGyB,kBAAkB,CAACtC,IAAD,CAAlC;AAEAxF,SAAO,CAACC,GAAR,CAAYoG,SAAZ;AAEA,MAAI0B,iBAAiB,GAAG3B,mFAAuB,CAACC,SAAD,CAA/C;AAEA3G,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,mBAAkE+B,kBAAlE,CAAqF,WAArF,EAAkGQ,iBAAlG;AAEArI,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,iBAAgEd,gBAAhE,CAAiF,QAAjF,EAA2F,UAAAD,EAAE,EAAI;AAC7FuD,yBAAqB,CAACvD,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,cAAvB,CAAD,CAArB;AACH,GAFD;AAGH,C,CAED;;AACO,SAASM,qBAAT,CAAgCC,aAAhC,EAA+C;AAClD,MAAI5B,SAAS,GAAGyB,kBAAkB,CAACG,aAAD,CAAlC;AAEAjI,SAAO,CAACC,GAAR,CAAYoG,SAAZ;AAEA,MAAI6B,UAAU,GAAGxI,QAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,gBAAjB,CALkD,CAOlD;;AACA,MAAI0C,UAAU,CAACxH,KAAX,KAAqB,UAAzB,EAAqC;AACjCyH,oCAAgC,CAACD,UAAD,EAAa7B,SAAb,CAAhC;AACH,GAFD,MAEO,IAAI6B,UAAU,CAACxH,KAAX,KAAqB,OAAzB,EAAkC;AACrC0H,iCAA6B,CAACF,UAAD,EAAa7B,SAAb,CAA7B;AACH;AACJ,C,CAED;;AACO,SAAS8B,gCAAT,CAA2CD,UAA3C,EAAuD7B,SAAvD,EAAkE;AACrE,MAAItF,QAAQ,GAAGmG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB1B,kEAAlB,CAAf;AAEA1E,UAAQ,CAACyE,IAAT,GAAgBR,0DAAY,GAAGoC,UAAf,CAA0B,GAA1B,EAA+B,EAA/B,CAAhB,CAHqE,CAIrE;;AACArG,UAAQ,CAACD,QAAT,GAAoBZ,8DAAS,CAAC,CAAD,CAA7B;AACAa,UAAQ,CAACR,IAAT,GAAgBuG,kFAAsB,CAAC,UAAD,CAAtC;AAEA,MAAIuB,sBAAsB,GAAG3B,6FAAiC,CAACL,SAAD,EAAYtF,QAAZ,CAA9D;AAEAsF,WAAS,CAACxF,SAAV,CAAoBwG,IAApB,CAAyBtG,QAAzB;AAEAmH,YAAU,CAACI,aAAX,CAAyBA,aAAzB,CAAuCf,kBAAvC,CAA0D,WAA1D,EAAuEc,sBAAvE;AACAH,YAAU,CAACI,aAAX,CAAyBC,MAAzB;AAEAC,qCAAmC,CAACnC,SAAD,EAAYtF,QAAZ,CAAnC;AAEArB,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,qBAA6DzE,QAAQ,CAACyE,IAAtE,qBAA4Fd,gBAA5F,CAA6G,QAA7G,EAAuH,UAAAD,EAAE,EAAI;AACzHgE,2BAAuB,CAAChE,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,cAAvB,CAAD,EAAyCjD,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,aAAvB,CAAzC,EAAgFjD,EAAE,CAACgD,MAAH,CAAU/G,KAA1F,CAAvB;AACH,GAFD;AAIAmH,cAAY,CAACxB,SAAS,CAACb,IAAX,CAAZ,CArBqE,CAuBrE;;AACA9F,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,qBAA6DzE,QAAQ,CAACyE,IAAtE,qBAA4FhD,KAA5F;AACH,C,CAED;;AACO,SAAS4F,6BAAT,CAAwCF,UAAxC,EAAoD7B,SAApD,EAA+D;AAClE,MAAItF,QAAQ,GAAGmG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB1B,kEAAlB,CAAf;AAEA1E,UAAQ,CAACyE,IAAT,GAAgBR,0DAAY,GAAGoC,UAAf,CAA0B,GAA1B,EAA+B,EAA/B,CAAhB;AACArG,UAAQ,CAACR,IAAT,GAAgBuG,kFAAsB,CAAC,OAAD,CAAtC;AAEA,MAAI4B,kBAAkB,GAAG/B,wFAA4B,CAACN,SAAD,EAAYtF,QAAZ,CAArD;AAEAsF,WAAS,CAACxF,SAAV,CAAoBwG,IAApB,CAAyBtG,QAAzB;AAEAmH,YAAU,CAACI,aAAX,CAAyBA,aAAzB,CAAuCf,kBAAvC,CAA0D,WAA1D,EAAuEmB,kBAAvE;AACAR,YAAU,CAACI,aAAX,CAAyBC,MAAzB;AAEAC,qCAAmC,CAACnC,SAAD,EAAYtF,QAAZ,CAAnC;AAEArB,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,qBAA6DzE,QAAQ,CAACyE,IAAtE,iBAAwFd,gBAAxF,CAAyG,QAAzG,EAAmH,UAAAD,EAAE,EAAI;AACrHgE,2BAAuB,CAAChE,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,cAAvB,CAAD,EAAyCjD,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,aAAvB,CAAzC,EAAgFjD,EAAE,CAACgD,MAAH,CAAU/G,KAA1F,CAAvB;AACH,GAFD;AAIAmH,cAAY,CAACxB,SAAS,CAACb,IAAX,CAAZ,CAnBkE,CAqBlE;;AACA9F,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,qBAA6DzE,QAAQ,CAACyE,IAAtE,iBAAwFhD,KAAxF;AACH,C,CAED;;AACO,SAASgG,mCAAT,CAA8CnC,SAA9C,EAAyDsC,aAAzD,EAAwE;AAC3E,MAAI5H,QAAQ,GAAGmG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB1B,kEAAlB,CAAf;AAEA1E,UAAQ,CAACyE,IAAT,GAAgBR,0DAAY,GAAGoC,UAAf,CAA0B,GAA1B,EAA+B,EAA/B,CAAhB;AACArG,UAAQ,CAACR,IAAT,GAAgBuG,kFAAsB,CAAC,UAAD,CAAtC;AACA/F,UAAQ,CAACA,QAAT,GAAoBgG,mFAAuB,CAAC,WAAD,CAA3C;AAEA,MAAI6B,kBAAkB,GAAGhC,mFAAuB,CAACP,SAAD,EAAYtF,QAAZ,CAAhD;AAEA6H,oBAAkB,CAACxB,UAAnB,CAA8B,cAA9B,EAA8CrG,QAAQ,CAACyE,IAAvD;AACAa,WAAS,CAACxF,SAAV,CAAoBwG,IAApB,CAAyBtG,QAAzB;;AAEA,MAAI4H,aAAa,CAACpI,IAAd,CAAmBG,KAAnB,KAA6B,UAAjC,EAA6C;AACzChB,YAAQ,CAACmJ,aAAT,+BAA8CF,aAAa,CAACnD,IAA5D,SAAsE8C,aAAtE,CAAoFf,kBAApF,CAAuG,UAAvG,EAAmHqB,kBAAnH;AACH,GAFD,MAEO,IAAID,aAAa,CAACpI,IAAd,CAAmBG,KAAnB,KAA6B,OAAjC,EAA0C;AAC7ChB,YAAQ,CAACmJ,aAAT,8BAA6CF,aAAa,CAACnD,IAA3D,SAAqE8C,aAArE,CAAmFf,kBAAnF,CAAsG,UAAtG,EAAkHqB,kBAAlH;AACH;;AAEDlJ,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,qBAA6DzE,QAAQ,CAACyE,IAAtE,0BAAiGd,gBAAjG,CAAkH,QAAlH,EAA4H,UAAAD,EAAE,EAAI;AAC9HgE,2BAAuB,CAAChE,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,cAAvB,CAAD,EAAyCjD,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,aAAvB,CAAzC,EAAgFjD,EAAE,CAACgD,MAAH,CAAU/G,KAA1F,CAAvB;AACH,GAFD;AAGH,C,CAED;AACA;AACA;;AAEO,SAAS8G,0BAAT,CAAqCS,aAArC,EAAoDa,WAApD,EAAiE;AACpE,MAAIzC,SAAS,GAAGyB,kBAAkB,CAACG,aAAD,CAAlC;AACA,MAAInH,QAAQ,GAAGiI,8EAAiB,CAACD,WAAD,CAAhC;AAEAzC,WAAS,CAAC1F,gBAAV,GAA6BG,QAA7B;AAEA+G,cAAY,CAACxB,SAAS,CAACb,IAAX,CAAZ;AACH;AAEM,SAASiD,uBAAT,CAAkCR,aAAlC,EAAiDhB,YAAjD,EAA+D+B,QAA/D,EAAyE;AAC5E,MAAI3C,SAAS,GAAGyB,kBAAkB,CAACG,aAAD,CAAlC;AACA,MAAIlH,QAAQ,GAAGiG,6EAAiB,CAACX,SAAD,EAAYY,YAAZ,CAAhC;;AAEA,UAAQlG,QAAQ,CAACR,IAAT,CAAcG,KAAtB;AACI,SAAK,UAAL;AACI,UAAII,QAAQ,GAAGiI,8EAAiB,CAACC,QAAD,CAAhC;AACAjI,cAAQ,CAACD,QAAT,GAAoBA,QAApB;AACA;;AACJ,SAAK,OAAL;AACIC,cAAQ,CAACL,KAAT,GAAiBsI,QAAjB;AACA;;AACJ,SAAK,UAAL;AACIjI,cAAQ,CAACA,QAAT,GAAoBgG,mFAAuB,CAACiC,QAAD,CAA3C;AACA,UAAMC,mBAAmB,GAAGvJ,QAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,qBAA6DzE,QAAQ,CAACyE,IAAtE,yBAA5B,CAFJ,CAII;AACA;;AACA,UAAIzE,QAAQ,CAACA,QAAT,CAAkBP,IAAlB,KAA2B,GAA3B,IACI6F,SAAS,CAACxF,SAAV,CAAoBqI,OAApB,CAA4BnI,QAA5B,MAA2CsF,SAAS,CAACxF,SAAV,CAAoBP,MAApB,GAA6B,CAD5E,IAEG2I,mBAAmB,CAACX,aAApB,CAAkCa,kBAAlC,IAAwD,IAF/D,EAGIvB,eAAe,CAACvB,SAAS,CAACb,IAAX,CAAf,CAHJ,KAIK,IAAIzE,QAAQ,CAACA,QAAT,CAAkBP,IAAlB,KAA2B,GAA3B,IACD6F,SAAS,CAACxF,SAAV,CAAoBqI,OAApB,CAA4BnI,QAA5B,MAA2CsF,SAAS,CAACxF,SAAV,CAAoBP,MAApB,GAA6B,CADvE,IAEF2I,mBAAmB,CAACX,aAApB,CAAkCa,kBAAlC,IAAwD,IAF1D,EAGDF,mBAAmB,CAACX,aAApB,CAAkCa,kBAAlC,CAAqDZ,MAArD,GAHC,KAIA,IAAIxH,QAAQ,CAACA,QAAT,CAAkBP,IAAlB,KAA2B,GAA3B,IACD6F,SAAS,CAACxF,SAAV,CAAoBqI,OAApB,CAA4BnI,QAA5B,MAA2CsF,SAAS,CAACxF,SAAV,CAAoBP,MAApB,GAA6B,CADvE,IAEF2I,mBAAmB,CAACX,aAApB,CAAkCa,kBAAlC,IAAwD,IAF1D,EAEgE;AAC7D,YAAIC,eAAe,GAAG/C,SAAS,CAACxF,SAAV,CAAoBqI,OAApB,CAA4BnI,QAA5B,IAAwC,CAA9D;AACAsF,iBAAS,CAACxF,SAAV,CAAoBwI,MAApB,CAA2BD,eAA3B;AAEA,YAAIE,cAAc,GAAGL,mBAAmB,CAACX,aAApB,CAAkCa,kBAAvD;AACA,YAAIA,kBAAkB,GAAGF,mBAAmB,CAACX,aAApB,CAAkCa,kBAA3D;;AACA,eAAMA,kBAAkB,IAAI,IAA5B,EAAkC;AAC9BA,4BAAkB,GAAGG,cAAc,CAACH,kBAApC;AACAG,wBAAc,CAACf,MAAf;AACAe,wBAAc,GAAGH,kBAAjB;AACH;AACJ;AACL;AApCR;;AAuCAtB,cAAY,CAACxB,SAAS,CAACb,IAAX,CAAZ;AACH,C,CAED;;AACO,SAAS+D,yBAAT,CAAoCzI,QAApC,EAA8C;AACjD,MAAM0I,kBAAkB,GAAG,EAA3B;;AAEA,OAAK,IAAMnJ,CAAX,IAAgBF,UAAhB,EAA4B;AAExBH,WAAO,CAACC,GAAR,CAAYE,UAAU,CAACE,CAAD,CAAtB;;AAEA,QAAIF,UAAU,CAACE,CAAD,CAAV,CAAcM,gBAAd,CAA+B6E,IAA/B,KAAwC1E,QAAQ,CAAC0E,IAArD,EAA2D;AACvD9F,cAAQ,CAACC,cAAT,oBAAoCQ,UAAU,CAACE,CAAD,CAAV,CAAcmF,IAAlD,SAA4D+C,MAA5D;AACAiB,wBAAkB,CAACnC,IAAnB,CAAwBlH,UAAU,CAACE,CAAD,CAAlC;AACA;AACH;;AAED,SAAK,IAAMO,CAAX,IAAgBT,UAAU,CAACE,CAAD,CAAV,CAAcQ,SAA9B,EAAyC;AACrCb,aAAO,CAACC,GAAR,CAAYW,CAAZ;AACAZ,aAAO,CAACC,GAAR,CAAYE,UAAU,CAACE,CAAD,CAAV,CAAcQ,SAAd,CAAwBD,CAAxB,CAAZ;;AACA,UAAIT,UAAU,CAACE,CAAD,CAAV,CAAcQ,SAAd,CAAwBD,CAAxB,EAA2BL,IAA3B,CAAgCG,KAAhC,KAA0CgF,6DAAS,CAACC,QAAxD,EAAkE;AAC9D,YAAIxF,UAAU,CAACE,CAAD,CAAV,CAAcQ,SAAd,CAAwBD,CAAxB,EAA2BE,QAA3B,CAAoC0E,IAApC,KAA6C1E,QAAQ,CAAC0E,IAA1D,EAAgE;AAC5D9F,kBAAQ,CAACC,cAAT,oBAAoCQ,UAAU,CAACE,CAAD,CAAV,CAAcmF,IAAlD,SAA4D+C,MAA5D;AACAiB,4BAAkB,CAACnC,IAAnB,CAAwBlH,UAAU,CAACE,CAAD,CAAlC,EAF4D,CAG5D;AACA;AACA;AACA;AACA;AACH;AACJ;AACJ;AACJ;;AAED,OAAK,IAAMA,EAAX,IAAgBmJ,kBAAhB,EAAoC;AAChCrJ,cAAU,CAACkJ,MAAX,CAAkBlJ,UAAU,CAAC+I,OAAX,CAAmBM,kBAAkB,CAACnJ,EAAD,CAArC,CAAlB,EAA6D,CAA7D;AACH;AACJ,C,CAED;;AACO,SAASsH,eAAT,CAA0BnC,IAA1B,EAAgC;AACnC,MAAMa,SAAS,GAAGyB,kBAAkB,CAACtC,IAAD,CAApC;AAEA9F,UAAQ,CAACC,cAAT,oBAAoC6F,IAApC,SAA8C+C,MAA9C;AAEApI,YAAU,CAACkJ,MAAX,CAAkBlJ,UAAU,CAAC+I,OAAX,CAAmB7C,SAAnB,CAAlB,EAAiD,CAAjD;AACH,C,CAED;;AACO,SAAStB,kBAAT,GAA+B;AAClC,OAAK,IAAI1E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAAU,CAACG,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxCX,YAAQ,CAACC,cAAT,oBAAoCQ,UAAU,CAACE,CAAD,CAAV,CAAcmF,IAAlD,SAA4D+C,MAA5D;AACH;;AAEDpI,YAAU,CAACG,MAAX,GAAoB,CAApB;AACH,C,CAED;AACA;AACA;;AAEA,SAASuH,YAAT,CAAuBrC,IAAvB,EAA6B;AACzB9F,UAAQ,CAACC,cAAT,oBAAoC6F,IAApC,aAAkDiE,YAAlD,CAA+D,OAA/D,EAAwEC,cAAc,CAAClE,IAAD,CAAtF;AACH;;AAED,SAASkE,cAAT,CAAyBlE,IAAzB,EAA+B;AAC3B,MAAMa,SAAS,GAAGyB,kBAAkB,CAACtC,IAAD,CAApC;AAEA,MAAImE,MAAJ;;AACA,UAAQtD,SAAS,CAAC9F,IAAlB;AACI,SAAK,QAAL;AACIoJ,YAAM,aAAMtD,SAAS,CAAC1F,gBAAV,CAA2BH,IAAjC,eAAN;;AAEA,WAAK,IAAMH,CAAX,IAAgBgG,SAAS,CAACxF,SAA1B,EAAqC;AACjCb,eAAO,CAACC,GAAR,CAAYoG,SAAS,CAACxF,SAAV,CAAoBR,CAApB,CAAZ;;AACA,gBAAQgG,SAAS,CAACxF,SAAV,CAAoBR,CAApB,EAAuBE,IAAvB,CAA4BG,KAApC;AACI,eAAKgF,6DAAS,CAACG,QAAf;AACI8D,kBAAM,cAAOtD,SAAS,CAACxF,SAAV,CAAoBR,CAApB,EAAuBU,QAAvB,CAAgCiF,YAAvC,MAAN;AACA;;AACJ,eAAKN,6DAAS,CAACE,KAAf;AACI+D,kBAAM,cAAOtD,SAAS,CAACxF,SAAV,CAAoBR,CAApB,EAAuBK,KAA9B,MAAN;AACA;;AACJ,eAAKgF,6DAAS,CAACC,QAAf;AACIgE,kBAAM,cAAOtD,SAAS,CAACxF,SAAV,CAAoBR,CAApB,EAAuBS,QAAvB,CAAgCN,IAAvC,MAAN;AACA;AATR;AAWH;;AACD;;AACJ,SAAK,OAAL;AACImJ,YAAM,oCAA0BtD,SAAS,CAAC1F,gBAAV,CAA2BH,IAArD,CAAN;AApBR;;AAuBA,SAAOmJ,MAAP;AACH,C,CAED;AACA;AACA;;;AAEO,SAAS9E,oBAAT,GAAiC;AACpC,MAAMwB,SAAS,GAAGa,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB5B,mEAAlB,CAAlB;AACAc,WAAS,CAACb,IAAV,GAAiBR,0DAAY,GAAGoC,UAAf,CAA0B,GAA1B,EAA+B,EAA/B,CAAjB;AACAf,WAAS,CAAC1F,gBAAV,GAA6BT,8DAAS,CAACI,MAAV,GAAmB,CAAnB,GAAuBJ,8DAAS,CAAC,CAAD,CAAhC,GAAsC,IAAnE;AACAmG,WAAS,CAAC9F,IAAV,GAAiB,OAAjB;AAEAJ,YAAU,CAACkH,IAAX,CAAgBhB,SAAhB;AAEA,MAAMuD,cAAc,GAAG/C,gFAAoB,CAACR,SAAD,CAA3C;AACA9C,gEAAwB,CAACgE,kBAAzB,CAA4C,WAA5C,EAAyDqC,cAAzD;AAEA/B,cAAY,CAACxB,SAAS,CAACb,IAAX,CAAZ,CAXoC,CAapC;;AACA9F,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,0BAAyEhD,KAAzE;AAEA9C,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,qBAAoEd,gBAApE,CAAqF,QAArF,EAA+F,UAAAD,EAAE,EAAI;AACjGoF,wBAAoB,CAACpF,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,cAAvB,CAAD,EAAyCjD,EAAE,CAACgD,MAAH,CAAU/G,KAAnD,CAApB;AACH,GAFD;AAIAhB,UAAQ,CAACC,cAAT,oBAAoC0G,SAAS,CAACb,IAA9C,aAA4Dd,gBAA5D,CAA6E,OAA7E,EAAsF,UAAAD,EAAE,EAAI;AACxFkD,mBAAe,CAAClD,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,cAAvB,CAAD,CAAf;AACH,GAFD;AAGH,C,CAED;AACA;;AACA,SAASmC,oBAAT,CAA+BrE,IAA/B,EAAqCwD,QAArC,EAA+C;AAC3C,MAAM3C,SAAS,GAAGyB,kBAAkB,CAACtC,IAAD,CAApC;AACA,MAAO1E,QAAQ,GAAGiI,8EAAiB,CAACC,QAAD,CAAnC;AAEA3C,WAAS,CAAC1F,gBAAV,GAA6BG,QAA7B;AACA+G,cAAY,CAACxB,SAAS,CAACb,IAAX,CAAZ;AACH,C,CAGD;AACA;AACA;;;AAEO,SAASsC,kBAAT,CAA6BtC,IAA7B,EAAmC;AACtC,OAAK,IAAInF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGF,UAAU,CAACG,MAA/B,EAAuCD,CAAC,EAAxC,EAA4C;AACxC,QAAIF,UAAU,CAACE,CAAD,CAAV,CAAcmF,IAAd,KAAuBA,IAA3B,EACI,OAAOrF,UAAU,CAACE,CAAD,CAAjB;AACP;;AAED,SAAO,IAAP;AACH,C,CAED,0E;;;;;;;;;;;;ACxWA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAEO,IAAMyJ,cAAc,GAAG;AAC1BtE,MAAI,EAAE,uBADoB;AAE1BhF,MAAI,EAAE,eAFoB;AAG1BD,MAAI,EAAE,eAHoB;AAI1BG,OAAK,EAAE;AAJmB,CAAvB,C,CAOP;AACA;AACA;;AAEO,IAAMqJ,YAAY,GAAG,CACxB;AACIvJ,MAAI,EAAE,SADV;AAEIE,OAAK,EAAE,SAFX;AAGIsJ,cAAY,EAAE,CAHlB;AAIIC,UAAQ,EAAE,QAJd;AAKIxJ,SAAO,EAAE;AALb,CADwB,EAQxB;AACID,MAAI,EAAE,MADV;AAEIE,OAAK,EAAE,QAFX;AAGIsJ,cAAY,EAAE,GAHlB;AAIIC,UAAQ,EAAE,QAJd;AAKIxJ,SAAO,EAAE;AALb,CARwB,EAexB;AACID,MAAI,EAAE,QADV;AAEIE,OAAK,EAAE,QAFX;AAGIsJ,cAAY,EAAE,EAHlB;AAIIC,UAAQ,EAAE,MAJd;AAKIxJ,SAAO,EAAE;AALb,CAfwB,EAsBxB;AACID,MAAI,EAAE,QADV;AAEIE,OAAK,EAAE,SAFX;AAGIwJ,OAAK,EAAE,CACH;AACI1J,QAAI,EAAE,YADV;AAEIE,SAAK,EAAE;AAFX,GADG,EAKH;AACIF,QAAI,EAAE,OADV;AAEIE,SAAK,EAAE;AAFX,GALG,CAHX;AAaIsJ,cAAY,EAAE,IAblB;AAcIC,UAAQ,EAAE,QAdd;AAeIxJ,SAAO,EAAE;AAfb,CAtBwB,CAArB;AAyCA,SAAS0J,sBAAT,CAAiCzJ,KAAjC,EAAwC;AAC3C,OAAK,IAAIL,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0J,YAAY,CAACzJ,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC1C,QAAI0J,YAAY,CAAC1J,CAAD,CAAZ,CAAgBK,KAAhB,KAA0BA,KAA9B,EACI,OAAOqJ,YAAY,CAAC1J,CAAD,CAAnB;AACP;;AAED,SAAO,IAAP;AACH,C,CAED;AACA;AACA;;AAEO,SAAS+J,kBAAT,GAA+B;AAClC,MAAIC,iBAAiB,GAAG,EAAxB;;AAEA,OAAK,IAAIhK,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG0J,YAAY,CAACzJ,MAAjC,EAAyCD,CAAC,EAA1C,EAA8C;AAC1CgK,qBAAiB,8BAAsBN,YAAY,CAAC1J,CAAD,CAAZ,CAAgBK,KAAtC,gBAAgDqJ,YAAY,CAAC1J,CAAD,CAAZ,CAAgBG,IAAhE,gBAAjB;AACH;;AAED,iUAI6BN,oDAAS,CAACI,MAJvC,6SAQ8B+J,iBAR9B,4rBAkBuCN,YAAY,CAAC,CAAD,CAAZ,CAAgBE,QAlBvD;AAmCH,C,CAED,oF;;;;;;;;;;;;ACnHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;CAOA;;AAEO,IAAM/J,SAAS,GAAG,EAAlB;AACP,IAAIoK,cAAc,GAAG,CAArB,C,CAEA;;AACO,SAAS3F,cAAT,GAA2B;AAC9B,MAAM7D,QAAQ,GAAGoG,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkB2C,iEAAlB,CAAjB;AAEAhJ,UAAQ,CAAC0E,IAAT,GAAgBR,0DAAY,GAAGoC,UAAf,CAA0B,GAA1B,EAA+B,EAA/B,CAAhB;AACAtG,UAAQ,CAACN,IAAT,GAAgB,QAAQ8J,cAAxB;AACAxJ,UAAQ,CAACP,IAAT,GAAgBwJ,+DAAY,CAAC,CAAD,CAA5B;AACAjJ,UAAQ,CAACJ,KAAT,GAAiBI,QAAQ,CAACP,IAAT,CAAcyJ,YAA/B;AAEA9J,WAAS,CAACmH,IAAV,CAAevG,QAAf;AAEAwJ,gBAAc;AAEd,MAAIC,YAAY,GAAGH,6EAAkB,EAArC;AAEAG,cAAY,GAAGA,YAAY,CAACnD,UAAb,CAAwB,cAAxB,EAAwCtG,QAAQ,CAAC0E,IAAjD,CAAf;AACA+E,cAAY,GAAGA,YAAY,CAACnD,UAAb,CAAwB,gBAAxB,EAA0CtG,QAAQ,CAACN,IAAnD,CAAf;AAEA8C,+DAAuB,CAACiE,kBAAxB,CAA2C,WAA3C,EAAwDgD,YAAxD;AAEA7K,UAAQ,CAACC,cAAT,mBAAmCmB,QAAQ,CAAC0E,IAA5C,WAAwDd,gBAAxD,CAAyE,QAAzE,EAAmF,UAAAD,EAAE,EAAI;AACrF,QAAM+F,YAAY,GAAG/F,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,aAAvB,CAArB;AAEA+C,kBAAc,CAACD,YAAD,CAAd;AACH,GAJD;AAMA9K,UAAQ,CAACC,cAAT,mBAAmCmB,QAAQ,CAAC0E,IAA5C,WAAwDd,gBAAxD,CAAyE,QAAzE,EAAmF,UAAAD,EAAE,EAAI;AACrF,QAAM+F,YAAY,GAAG/F,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,aAAvB,CAArB;AAEA+C,kBAAc,CAACD,YAAD,CAAd;AACH,GAJD;AAMA9K,UAAQ,CAACC,cAAT,mBAAmCmB,QAAQ,CAAC0E,IAA5C,YAAyDd,gBAAzD,CAA0E,QAA1E,EAAoF,UAAAD,EAAE,EAAI;AACtF,QAAM+F,YAAY,GAAG/F,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,aAAvB,CAArB;AAEA+C,kBAAc,CAACD,YAAD,CAAd;AACH,GAJD;AAMA9K,UAAQ,CAACC,cAAT,mBAAmCmB,QAAQ,CAAC0E,IAA5C,aAA0Dd,gBAA1D,CAA2E,OAA3E,EAAoF,UAAAD,EAAE,EAAI;AACtF,QAAM+F,YAAY,GAAG/F,EAAE,CAACgD,MAAH,CAAUC,YAAV,CAAuB,aAAvB,CAArB;AAEAgD,kBAAc,CAACF,YAAD,CAAd;AACH,GAJD;AAMA3C,cAAY,CAAC/G,QAAQ,CAAC0E,IAAV,CAAZ;AACAmF,yBAAuB,GA5CO,CA8C9B;;AACAjL,UAAQ,CAACC,cAAT,mBAAmCmB,QAAQ,CAAC0E,IAA5C,WAAwDhD,KAAxD;AACH,C,CAED;AACA;AACA;;AAEA,IAAIoI,YAAJ;AACA,IAAIC,YAAJ;AACA,IAAIC,aAAJ;;AAEA,SAASL,cAAT,CAAyBjF,IAAzB,EAA+B;AAC3B,MAAM1E,QAAQ,GAAGiI,iBAAiB,CAACvD,IAAD,CAAlC;AAEAoF,cAAY,GAAGlL,QAAQ,CAACC,cAAT,mBAAmC6F,IAAnC,WAA+C9E,KAA9D;;AACA,MAAII,QAAQ,CAACN,IAAT,KAAkBoK,YAAtB,EAAoC;AAChC9J,YAAQ,CAACN,IAAT,GAAgBoK,YAAhB;AACH;;AAEDC,cAAY,GAAGV,iFAAsB,CAACzK,QAAQ,CAACC,cAAT,mBAAmC6F,IAAnC,WAA+C9E,KAAhD,CAArC;;AACA,MAAII,QAAQ,CAACP,IAAT,KAAkBsK,YAAtB,EAAoC;AAChC/J,YAAQ,CAACP,IAAT,GAAgBsK,YAAhB;AAEAnL,YAAQ,CAACC,cAAT,mBAAmC6F,IAAnC,YAAgDjF,IAAhD,GAAuDO,QAAQ,CAACP,IAAT,CAAc0J,QAArE;AACAvK,YAAQ,CAACC,cAAT,mBAAmC6F,IAAnC,YAAgD9E,KAAhD,GAAwDI,QAAQ,CAACP,IAAT,CAAcyJ,YAAtE;AACH;;AAEDc,eAAa,GAAGpL,QAAQ,CAACC,cAAT,mBAAmC6F,IAAnC,YAAgD9E,KAAhE;;AACA,MAAII,QAAQ,CAACJ,KAAT,KAAmBoK,aAAvB,EAAsC;AAClChK,YAAQ,CAACJ,KAAT,GAAiBoK,aAAjB;AACH;;AAEDjD,cAAY,CAACrC,IAAD,CAAZ;AACH,C,CAED;AAEA;;;AACO,SAASkF,cAAT,CAAyBlF,IAAzB,EAA+B;AAClC,MAAM1E,QAAQ,GAAGiI,iBAAiB,CAACvD,IAAD,CAAlC;AAEA9F,UAAQ,CAACC,cAAT,mBAAmC6F,IAAnC,SAA6C+C,MAA7C;AAEAgB,0FAAyB,CAACzI,QAAD,CAAzB;AACAZ,WAAS,CAACmJ,MAAV,CAAiBnJ,SAAS,CAACgJ,OAAV,CAAkBpI,QAAlB,CAAjB,EAA8C,CAA9C;AAEA6J,yBAAuB;AAC1B,C,CAED;;AACO,SAAS7F,iBAAT,GAA8B;AACjC,OAAK,IAAIzE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvCX,YAAQ,CAACC,cAAT,mBAAmCO,SAAS,CAACG,CAAD,CAAT,CAAamF,IAAhD,SAA0D+C,MAA1D;AACH;;AAEDrI,WAAS,CAACI,MAAV,GAAmB,CAAnB;AACH,C,CAED;AACA;AACA;;AAEA,SAASuH,YAAT,CAAuBrC,IAAvB,EAA6B;AACzB9F,UAAQ,CAACC,cAAT,mBAAmC6F,IAAnC,aAAiDiE,YAAjD,CAA8D,OAA9D,EAAuEC,cAAc,CAAClE,IAAD,CAArF;AACH;;AAED,SAASkE,cAAT,CAAyBlE,IAAzB,EAA+B;AAC3B,MAAM1E,QAAQ,GAAGiI,iBAAiB,CAACvD,IAAD,CAAlC;AAEA,mBAAU1E,QAAQ,CAACP,IAAT,CAAcC,IAAxB,cAAgCM,QAAQ,CAACN,IAAzC,sBAAyDM,QAAQ,CAACJ,KAAlE;AACH,C,CAED;AACA;AACA;;;AAEA,SAASiK,uBAAT,GAAoC;AAChC,MAAMI,eAAe,GAAGrL,QAAQ,CAACsL,iBAAT,CAA2B,gBAA3B,CAAxB;AAEA,MAAIxE,eAAe,GAAGtG,SAAS,CAACI,MAAV,KAAqB,CAArB,8BAAtB;;AAEA,OAAK,IAAID,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvCmG,mBAAe,8BAAsBtG,SAAS,CAACG,CAAD,CAAT,CAAamF,IAAnC,gBAA4CtF,SAAS,CAACG,CAAD,CAAT,CAAaG,IAAzD,cAAf;AACH;;AAED,OAAK,IAAIH,EAAC,GAAG,CAAb,EAAgBA,EAAC,GAAG0K,eAAe,CAACzK,MAApC,EAA4CD,EAAC,EAA7C,EAAiD;AAC7C,QAAM4K,cAAc,GAAGF,eAAe,CAAC1K,EAAD,CAAf,CAAmBK,KAA1C;AACAqK,mBAAe,CAAC1K,EAAD,CAAf,CAAmB6K,SAAnB,GAA+B1E,eAA/B;AACAuE,mBAAe,CAAC1K,EAAD,CAAf,CAAmBK,KAAnB,GAA2BuK,cAA3B;AACH;AACJ,C,CAED;AACA;AACA;;;AAEO,SAASlC,iBAAT,CAA4BvD,IAA5B,EAAkC;AACrC,OAAK,IAAInF,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGH,SAAS,CAACI,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACvC,QAAIH,SAAS,CAACG,CAAD,CAAT,CAAamF,IAAb,KAAsBA,IAA1B,EACI,OAAOtF,SAAS,CAACG,CAAD,CAAhB;AACP;;AAED,SAAO,IAAP;AACH,C,CAED,oF;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvKA;AACA;AACA;AACA;AACA;AACA;AAGA,IAAM+B,gBAAgB,GAAG+I,6EAAA,EAAzB;AAEA,IAAMC,WAAW,GAAGC,iDAAS,CAACD,WAA9B;AAEA,IAAME,gBAAgB,GAAG;AACvBC,uBAAqB,EAAE,MADA;AAEvBC,mBAAiB,EAAE;AAFI,CAAzB;AAKO,IAAMC,gBAAb;AAEE,4BAAaC,QAAb,EAAuBC,SAAvB,EAAkCpM,UAAlC,EAA8C;AAAA;;AAC5C,SAAKmM,QAAL,GAAgBA,QAAhB;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKpM,UAAL,GAAkBA,UAAlB;AACA,SAAKqM,UAAL,GAAkBC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,SAAL,CAAeC,mDAAf,CAAX,CAAlB;AACAA,uDAAM,CAACC,SAAP,CAAiBX,gBAAjB;AACD;;AARH;AAAA;AAAA,8BAUa;AAAA;;AACT,UAAI;AACF;AACA,YAAMY,YAAY,GAAG,KAAKP,SAAL,CAAeQ,GAAf,CAAoB,UAACC,CAAD,EAAI5L,IAAJ,EAAa;AACpD,iBAAO,IAAI6L,+EAAJ,CAAmB,IAAI/K,0EAAJ,CAAoB,KAAI,CAACoK,QAAzB,CAAnB,EAAuDU,CAAC,CAACE,KAAzD,EAAgEF,CAAC,CAACG,MAAlE,EAA0E/L,IAA1E,CAAP;AACD,SAFoB,CAArB;AAGA,YAAMgM,UAAU,GAAGN,YAAY,CAACC,GAAb,CAAiB,UAAAM,EAAE;AAAA,iBAAIA,EAAE,CAACC,IAAH,EAAJ;AAAA,SAAnB,CAAnB;AACA,eAAOC,OAAO,CAACC,GAAR,CAAYJ,UAAZ,EAAwB5K,IAAxB,CAA6B,UAAAiL,OAAO,EAAI;AAC7C,cAAIC,KAAK,GAAG,CAAZ;;AACA,eAAI,IAAIzM,CAAC,GAAG,CAAZ,EAAeA,CAAC,GAAGwM,OAAO,CAACvM,MAA3B,EAAmCD,CAAC,IAAI,CAAxC,EAA2C;AACzC,gBAAM0M,MAAM,GAAGF,OAAO,CAACxM,CAAD,CAAtB;AACAyM,iBAAK,IAAIC,MAAM,CAACD,KAAhB;;AACA,gBAAGC,MAAM,CAACD,KAAP,IAAgB,CAAnB,EAAsB;AACpB,mBAAI,CAACE,cAAL,CAAoBxN,yDAAU,CAACyN,IAA/B,EAAqC7B,WAAW,CAAC8B,OAAjD,EAAyD,mBAAzD,EACEH,MAAM,CAACvM,IAAP,GAAc,CADhB,EACmBuM,MAAM,CAACI,cAAP,EADnB;AAED,aAHD,MAGO,IAAIJ,MAAM,CAACK,MAAP,IAAiB,CAArB,EAAwB;AAC7B,mBAAI,CAACJ,cAAL,CAAoBxN,yDAAU,CAAC6N,GAA/B,EAAoCjC,WAAW,CAACkC,KAAhD,EAAsD,4BAAtD,EACEP,MAAM,CAACvM,IAAP,GAAc,CADhB,EACmBuM,MAAM,CAACQ,SAD1B,EACqCR,MAAM,CAACI,cAAP,EADrC;AAED,aAHM,MAGA;AACL,mBAAI,CAACH,cAAL,CAAoBxN,yDAAU,CAAC6N,GAA/B,EAAoCjC,WAAW,CAACkC,KAAhD,EAAsD,kBAAtD,EACEP,MAAM,CAACvM,IAAP,GAAc,CADhB,EACmBuM,MAAM,CAACI,cAAP,EADnB;AAED;AACF;;AACDL,eAAK,IAAID,OAAO,CAACvM,MAAjB;AACA,cAAMkN,OAAO,GAAGV,KAAK,IAAI,CAAT,GAAatN,yDAAU,CAACyN,IAAxB,GAA+BzN,yDAAU,CAAC6N,GAA1D;;AACA,eAAI,CAACL,cAAL,CAAoBQ,OAApB,EAA6BpC,WAAW,CAAC8B,OAAzC,EAAkD,kBAAlD,EAAsE,CAACJ,KAAK,GAAG,GAAT,EAAcW,OAAd,CAAsB,CAAtB,CAAtE;;AACA,iBAAOX,KAAP;AACD,SApBM,CAAP,CANE,CA2BF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACD,OArCD,CAqCE,OAAOlK,KAAP,EAAc;AACd,aAAK8K,gBAAL,CAAsBlO,yDAAU,CAAC6N,GAAjC,EAAsCjC,WAAW,CAAC8B,OAAlD,EAA2D,4BAA3D;AACA,aAAK3N,UAAL,CAAgBkD,GAAhB,CAAoBG,KAAK,CAACD,OAA1B;AACA,eAAOgK,OAAO,CAACgB,OAAR,CAAgB,CAAhB,CAAP;AACD,OAzCD,SAyCU;AACR3B,2DAAM,CAACC,SAAP,CAAiB,KAAKL,UAAtB;AACD;AACF;AAvDH;AAAA;AAAA,qCAyDoBgC,OAzDpB,EAyDsC;AAAA,wCAANC,IAAM;AAANA,YAAM;AAAA;;AAClC,WAAKtO,UAAL,CAAgBkD,GAAhB,CAAoBL,gBAAgB,CAAC0L,QAAjB,CAA0BF,OAA1B,EAAmCC,IAAnC,CAApB;AACD;AA3DH;AAAA;AAAA,oCA6DmBE,KA7DnB,EA6DmC;AAAA,yCAANF,IAAM;AAANA,YAAM;AAAA;;AAC/B,WAAKtO,UAAL,CAAgB4C,IAAhB,CAAqBC,gBAAgB,CAACC,UAAjB,CAA4B0L,KAA5B,EAAmCF,IAAnC,CAArB;AACD;AA/DH;AAAA;AAAA,mCAiEkBL,OAjElB,EAiE2BQ,OAjE3B,EAiEoCD,KAjEpC,EAiEoD;AAChD,UAAIE,GAAG,GAAG7L,gBAAgB,CAAC8L,SAAjB,CAA2BH,KAA3B,EAAkCC,OAAlC,CAAV;;AADgD,yCAANH,IAAM;AAANA,YAAM;AAAA;;AAEhDI,SAAG,GAAG7L,gBAAgB,CAAC+L,aAAjB,CAA+BF,GAA/B,EAAoCJ,IAApC,CAAN;AACA,WAAKtO,UAAL,CAAgB6O,YAAhB,CAA6BH,GAA7B,EAAkCT,OAAlC;AACD;AArEH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;ACjBA;AACA;AAEO,IAAMa,sBAAb;AAAA;AAAA;AAAA,wBAE8B;AAC1B;AAUD;AAbH;AAAA;AAAA,wBAegC;AAC5B;AAiBD;AAjCH;AAAA;AAAA,wBAmCqC;AACjC;AAUD;AA9CH;AAAA;AAAA,wBAgDgC;AAC5B;AAGD;AApDH;AAAA;AAAA,wBAsDsC;AAClC;AAED;AAzDH;AAAA;AAAA,wBA2DgC;AAC5B;AACD;AA7DH;AAAA;AAAA,wBA+DoC;AAChC;AACD,KAjEH,CAmEE;AACA;AACA;;AArEF;;AAsEE,kCAAa7N,IAAb,EAAmB4M,MAAnB,EAA2BkB,MAA3B,EAAmCvB,MAAnC,EAA2CwB,KAA3C,EAAkDzL,IAAlD,EAAwE;AAAA,QAAhByK,SAAgB,uEAAJ,EAAI;;AAAA;;AACtE,SAAK/M,IAAL,GAAYA,IAAZ;AACA,SAAK4M,MAAL,GAAcA,MAAd;AACA,SAAKkB,MAAL,GAAcA,MAAd;AACA,SAAKzB,OAAL,GAAeE,MAAf;AACA,SAAKwB,KAAL,GAAaA,KAAb;AACA,SAAKzL,IAAL,GAAYA,IAAZ;AACA,SAAKyK,SAAL,GAAiBA,SAAjB;AACD;;AA9EH;AAAA;AAAA,qCAuFoB;AAAA;;AAChB,UAAIiB,QAAQ,GAAGH,sBAAsB,CAACI,eAAtC;AACA,UAAM3B,KAAK,GAAG,CAAC,KAAKA,KAAL,GAAa,GAAd,EAAmBW,OAAnB,CAA2B,CAA3B,CAAd;AACA,UAAM3K,IAAI,GAAG,KAAKA,IAAL,IAAa,GAA1B;AACA0L,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,aAAjB,EAAgC7C,kFAAgB,CAACsM,KAAjB,CAAuB,yBAAvB,EAAkD,CAAC,KAAKlO,IAAL,GAAY,CAAb,CAAlD,CAAhC,CAAX;AACAgO,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,cAAjB,EAAiC7C,kFAAgB,CAACsM,KAAjB,CAAuB,8BAAvB,CAAjC,CAAX;AACAF,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,QAAjB,EAA2BnC,IAA3B,CAAX;AACA0L,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,eAAjB,EAAkC7C,kFAAgB,CAACsM,KAAjB,CAAuB,+BAAvB,CAAlC,CAAX;AACAF,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,SAAjB,EAA4B6H,KAA5B,CAAX;AACA,UAAM6B,WAAW,GAAG,KAAKC,gBAAL,CAAsB,KAAKN,MAA3B,CAApB;AACAE,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,eAAjB,EAAkC7C,kFAAgB,CAACsM,KAAjB,CAAuB,+BAAvB,CAAlC,CAAX;AACAF,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,cAAjB,EAAiC0J,WAAjC,CAAX;AACAH,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,gBAAjB,EAAmC7C,kFAAgB,CAACsM,KAAjB,CAAuB,gCAAvB,CAAnC,CAAX;;AACA,UAAG,KAAKtB,MAAL,IAAe,CAAlB,EAAqB;AACnB,YAAMyB,WAAW,GAAG,KAAKhC,OAAL,CAAaV,GAAb,CAAiB,UAAAY,MAAM,EAAI;AAC7C,cAAGA,MAAM,CAACxM,IAAP,IAAe,QAAlB,EAA4B;AAC1B,mBAAO,KAAI,CAACuO,YAAL,CAAkB/B,MAAlB,CAAP;AACD,WAFD,MAEO,IAAIA,MAAM,CAACxM,IAAP,IAAe,QAAnB,EAA6B;AAClC,mBAAO,KAAI,CAACwO,YAAL,CAAkBhC,MAAlB,CAAP;AACD,WAFM,MAEA;AACL,mBAAO,KAAI,CAACiC,UAAL,CAAgBjC,MAAhB,CAAP;AACD;AACF,SARmB,EAQjB,IARiB,CAApB;AASAyB,gBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,iBAAjB,EAAoC,KAAKgK,kBAAL,CAAwBJ,WAAxB,CAApC,CAAX;AACD,OAXD,MAWO;AACL,YAAIK,WAAW,GAAIb,sBAAsB,CAACc,eAA1C;AACAD,mBAAW,GAAGA,WAAW,CAACjK,OAAZ,CAAoB,IAApB,EAA0B,KAAKsI,SAA/B,CAAd;AACAiB,gBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,iBAAjB,EAAoCiK,WAApC,CAAX;AACD;;AACD,aAAOV,QAAP;AACD;AArHH;AAAA;AAAA,qCAuHoBY,UAvHpB,EAuHgC;AAC5B,UAAMC,IAAI,GAAGD,UAAU,CAACjD,GAAX,CAAe,UAAAG,KAAK,EAAI;AACnC,YAAIkC,QAAQ,GAAGH,sBAAsB,CAACiB,mBAAtC;AACAd,gBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuBqH,KAAK,CAAC5L,KAA7B,CAAX;;AACA,YAAG4L,KAAK,CAACiD,IAAT,EAAe;AACbf,kBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB,uBAAvB,CAAX;AACD,SAFD,MAEO;AACLuJ,kBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB,yBAAvB,CAAX;AACD;;AACD,eAAOuJ,QAAP;AACD,OATY,EASV,IATU,CAAb;AAUA,aAAOa,IAAI,CAACG,IAAL,CAAUpN,kFAAgB,CAACsM,KAAjB,CAAuB,8BAAvB,CAAV,CAAP;AACD;AAnIH;AAAA;AAAA,uCAqIsBG,WArItB,EAqImC;AAC/B,UAAIL,QAAQ,GAAGH,sBAAsB,CAACoB,oBAAtC;AACAjB,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,kBAAjB,EAAqC7C,kFAAgB,CAACsM,KAAjB,CAAuB,kCAAvB,CAArC,CAAX;AACAF,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,mBAAjB,EAAsC7C,kFAAgB,CAACsM,KAAjB,CAAuB,mCAAvB,CAAtC,CAAX;AACAF,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,gBAAjB,EAAmC7C,kFAAgB,CAACsM,KAAjB,CAAuB,gCAAvB,CAAnC,CAAX;AACAF,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,WAAjB,EAA8B4J,WAAW,CAACW,IAAZ,CAAiB,EAAjB,CAA9B,CAAX;AACA,aAAOhB,QAAP;AACD;AA5IH;AAAA;AAAA,qCA8IoB;AAChB,UAAMkB,iBAAiB,GAAI,KAAKC,cAAL,EAA3B;AACA,UAAIC,IAAI,GAAGvB,sBAAsB,CAACwB,aAAlC;AACAD,UAAI,GAAGA,IAAI,CAAC3K,OAAL,CAAa,qBAAb,EAAoCyK,iBAApC,CAAP;AACAE,UAAI,GAAGA,IAAI,CAAC3K,OAAL,CAAa,cAAb,EAA4B,EAA5B,EAAgCA,OAAhC,CAAwC,OAAxC,EAAiD,IAAjD,CAAP;AACA,aAAO2K,IAAP;AACD;AApJH;AAAA;AAAA,iCAsJgB7C,MAtJhB,EAsJwB;AACpB,UAAM+C,YAAY,GAAG/C,MAAM,CAACD,KAAP,IAAgB,CAAhB,GAAoB,0BAApB,GAAiD,iCAAtE;AACA,UAAI0B,QAAQ,GAAG,KAAKuB,YAAL,CAAkB,4BAAlB,EACb,6BADa,EACkBD,YADlB,EACgC/C,MADhC,CAAf;AAEA,aAAOyB,QAAP;AACD;AA3JH;AAAA;AAAA,+BA6JczB,MA7Jd,EA6JsB;AAClB,UAAM+C,YAAY,GAAG/C,MAAM,CAACD,KAAP,IAAgB,CAAhB,GAAoB,wBAApB,GAA+C,+BAApE;AACA,UAAI0B,QAAQ,GAAG,KAAKuB,YAAL,CAAkB,0BAAlB,EACb,2BADa,EACgBD,YADhB,EAC8B/C,MAD9B,CAAf;AAEA,aAAOyB,QAAP;AACD;AAlKH;AAAA;AAAA,iCAoKgBwB,cApKhB,EAoKgCC,eApKhC,EAoKiDH,YApKjD,EAoK+D/C,MApK/D,EAoKuE;AACnE,UAAIyB,QAAQ,GAAGH,sBAAsB,CAAC6B,eAAtC;AACA1B,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,kBAAjB,EAAqC+K,cAArC,CAAX;AACAxB,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,mBAAjB,EAAsCgL,eAAtC,CAAX;AACAzB,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,gBAAjB,EAAmC6K,YAAnC,CAAX;AACA,UAAIK,aAAa,GAAGpD,MAAM,CAACqD,QAA3B;AACA,UAAIC,cAAc,GAAGtD,MAAM,CAACuD,SAA5B;;AACA,UAAGH,aAAa,IAAI,IAApB,EAA0B;AACxBA,qBAAa,GAAG9B,sBAAsB,CAACkC,qBAAvB,CAA6CtL,OAA7C,CAAqD,IAArD,EACd7C,kFAAgB,CAACC,UAAjB,CAA4B,mCAA5B,CADc,CAAhB;AAED,OAHD,MAGO,IAAGgO,cAAc,IAAI,IAArB,EAA2B;AAChCA,sBAAc,GAAGhC,sBAAsB,CAACkC,qBAAvB,CAA6CtL,OAA7C,CAAqD,IAArD,EACf7C,kFAAgB,CAACC,UAAjB,CAA4B,oCAA5B,CADe,CAAjB;AAED;;AACDmM,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuBkL,aAAvB,CAAX;AACA3B,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuBoL,cAAvB,CAAX;AACA,UAAMG,YAAY,GAAGzD,MAAM,CAACD,KAAP,IAAgB,CAAhB,GAAoB,GAApB,GAA0B,GAA/C;AACA0B,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuBuL,YAAvB,CAAX;AACA,aAAOhC,QAAP;AACD;AAvLH;AAAA;AAAA,iCAyLgBzB,MAzLhB,EAyLwB;AAAA;;AACpB,UAAMiD,cAAc,GAAG,4BAAvB;AACA,UAAMC,eAAe,GAAG,6BAAxB,CAFoB,CAGpB;;AAEA,UAAIzB,QAAQ,GAAGH,sBAAsB,CAAC6B,eAAtC;AACA1B,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,kBAAjB,EAAqC+K,cAArC,CAAX;AACAxB,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,mBAAjB,EAAsCgL,eAAtC,CAAX,CAPoB,CAQpB;;AAEA,UAAMQ,QAAQ,GAAG1D,MAAM,CAACuD,SAAP,IAAoB,EAArC;AACA,UAAMI,QAAQ,GAAG3D,MAAM,CAACqD,QAAP,IAAmB,EAApC,CAXoB,CAYpB;;AACA,UAAIO,aAAa,GAAGF,QAApB;AACA,UAAIG,aAAa,GAAGF,QAApB;;AACA,UAAG3D,MAAM,CAACuD,SAAP,IAAoB,IAAvB,EAA6B;AAC3BK,qBAAa,GAAGtC,sBAAsB,CAACkC,qBAAvB,CAA6CtL,OAA7C,CAAqD,IAArD,EACd7C,kFAAgB,CAACC,UAAjB,CAA4B,oCAA5B,CADc,CAAhB;AAED,OAHD,MAGO,IAAI0K,MAAM,CAACqD,QAAP,IAAmB,IAAvB,EAA6B;AACnCQ,qBAAa,GAAGvC,sBAAsB,CAACkC,qBAAvB,CAA6CtL,OAA7C,CAAqD,IAArD,EACb7C,kFAAgB,CAACC,UAAjB,CAA4B,mCAA5B,CADa,CAAhB;AAEA;;AACDmM,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB2L,aAAvB,CAAX;AACApC,cAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB0L,aAAvB,CAAX;;AACA,UAAG5D,MAAM,CAACD,KAAP,IAAgB,CAAnB,EAAsB;AACpB0B,gBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB,GAAvB,CAAX;AACAuJ,gBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,gBAAjB,EAAmC,0BAAnC,CAAX;AACD,OAHD,MAGO;AACL,YAAM4L,IAAI,GAAGC,iEAAU,CAACL,QAAD,EAAWC,QAAX,CAAvB,CADK,CAEL;;AACA,YAAMK,QAAQ,GAAGF,IAAI,CAAC1E,GAAL,CAAS,UAAA6E,IAAI;AAAA,iBAAI,MAAI,CAACC,kBAAL,CAAwBD,IAAI,CAAC,CAAD,CAA5B,EAAiCA,IAAI,CAAC,CAAD,CAArC,CAAJ;AAAA,SAAb,EAA4D,IAA5D,CAAjB;AACA,YAAME,WAAW,GAAGH,QAAQ,CAACI,MAAT,CAAgB,UAACC,IAAD,EAAOC,MAAP;AAAA,iBAAkBD,IAAI,GAAGC,MAAzB;AAAA,SAAhB,EAAiD,EAAjD,CAApB;AACA7C,gBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB,kDAAkDiM,WAAzE,CAAX;AACA1C,gBAAQ,GAAGA,QAAQ,CAACvJ,OAAT,CAAiB,gBAAjB,EAAmC,wBAAnC,CAAX;AACD;;AACD,aAAOuJ,QAAP;AACD;AA7NH;AAAA;AAAA,uCA+NsB8C,IA/NtB,EA+N4BC,MA/N5B,EA+NoC;AAChC,UAAM/C,QAAQ,GAAG,4BAAjB,CADgC,CAEhC;;AACA8C,UAAI,GAAGA,IAAI,CAACrM,OAAL,CAAa,KAAb,EAAmB,QAAnB,CAAP;;AACA,cAAOsM,MAAP;AACE,aAAKT,yDAAU,CAACU,MAAhB;AACE,iBAAOhD,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB,mBAAvB,EAA4CA,OAA5C,CAAoD,IAApD,EAA0DqM,IAA1D,CAAP;;AACF,aAAKR,yDAAU,CAACW,MAAhB;AACE,iBAAOjD,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB,mBAAvB,EAA4CA,OAA5C,CAAoD,IAApD,EAA0DqM,IAA1D,CAAP;;AACF,aAAKR,yDAAU,CAACY,KAAhB;AACE,iBAAOlD,QAAQ,CAACvJ,OAAT,CAAiB,IAAjB,EAAuB,kBAAvB,EAA2CA,OAA3C,CAAmD,IAAnD,EAAyDqM,IAAzD,CAAP;AANJ;AAQD;AA3OH;AAAA;AAAA,wBAgFe;AACX,UAAG,KAAKzE,OAAL,IAAgB,IAAnB,EAAyB;AACvB,eAAO,CAAP;AACD;;AACD,aAAO,KAAKA,OAAL,CAAasE,MAAb,CAAoB,UAACC,IAAD,EAAOO,GAAP;AAAA,eAAeP,IAAI,GAAGO,GAAG,CAAC7E,KAA1B;AAAA,OAApB,EAAqD,CAArD,IAA0D,KAAKD,OAAL,CAAavM,MAA9E;AACD;AArFH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA,IAAM8B,gBAAgB,GAAG+I,6EAAA,EAAzB;AAEO,IAAMkB,cAAb;AAAA;AAAA;AAAA,wBAE0B;AACtB,aAAO,4CAAP;AACD;AAJH;AAAA;AAAA,wBAMoC;AAChC,aAAO,2CAAP;AACD;AARH;AAAA;AAAA,wBAU8B;AAC1B,UAAMuF,GAAG,eAAQxP,gBAAgB,CAACsM,KAAjB,CAAuB,kBAAvB,CAAR,cAAsDtM,gBAAgB,CAACsM,KAAjB,CAAuB,mBAAvB,CAAtD,OAAT;AACA,aAAO,IAAImD,MAAJ,CAAWD,GAAX,CAAP;AACD;AAbH;AAAA;AAAA,wBAewC;AACpC,UAAMA,GAAG,cAAOxP,gBAAgB,CAACsM,KAAjB,CAAuB,kBAAvB,CAAP,cAAqDtM,gBAAgB,CAACsM,KAAjB,CAAuB,mBAAvB,CAArD,MAAT;AACA,aAAO,IAAImD,MAAJ,CAAWD,GAAX,EAAgB,GAAhB,CAAP;AACD;AAlBH;;AAoBE,0BAAaE,OAAb,EAAsB1C,UAAtB,EAAkC2C,eAAlC,EAAmDC,SAAnD,EAA8D;AAAA;;AAC5D,SAAKF,OAAL,GAAeA,OAAf;AACA,SAAKtR,IAAL,GAAYwR,SAAZ;AACA,SAAK5C,UAAL,GAAkBA,UAAlB;AACA,SAAK2C,eAAL,GAAuBA,eAAvB;AACD;;AAzBH;AAAA;AAAA,4BA2BU;AAAA;;AACN,UAAME,OAAO,GAAG,IAAhB;AACA,UAAM3F,KAAK,GAAG,IAAI4F,sEAAJ,CAAoB,KAAK9C,UAAzB,CAAd;AACA,UAAM+C,UAAU,GAAG,IAAIC,2DAAJ,EAAnB;AACA,WAAKN,OAAL,CAAavQ,aAAb,CAA2B+K,KAA3B;AACA,WAAKwF,OAAL,CAAatQ,cAAb,CAA4B2Q,UAA5B;AACA,UAAME,UAAU,GAAGC,IAAI,CAACC,GAAL,EAAnB;AACA,aAAO,KAAKT,OAAL,CAAanQ,YAAb,GAA4BC,IAA5B,CAAkC,UAAA4Q,GAAG,EAAI;AAC9C,YAAMC,UAAU,GAAGH,IAAI,CAACC,GAAL,KAAaF,UAAhC;;AACA,YAAG/F,KAAK,CAACoG,gBAAN,EAAH,EAA6B;AAC3B,iBAAO,IAAIrE,yEAAJ,CAA2B,KAAI,CAAC7N,IAAhC,EAAsC,CAAtC,EAAyC8L,KAAK,CAAC8C,UAA/C,EACL,IADK,EACCoD,GADD,EACMC,UADN,EACkBR,OAAO,CAACU,eAAR,CAAwB,qBAAxB,EAA+C,KAAI,CAACnS,IAAL,GAAU,CAAzD,CADlB,CAAP;AAED;;AACD,YAAMuM,MAAM,GAAGoF,UAAU,CAAC9C,IAAX,CAAgBlD,GAAhB,CAAoB,UAACyG,KAAD,EAAQvS,CAAR,EAAc;AAC/C,cAAGA,CAAC,IAAI,KAAI,CAAC0R,eAAL,CAAqBzR,MAA7B,EAAqC;AACnC,mBAAO,IAAIuS,iEAAJ,CAAmC,IAAnC,EAAyCD,KAAzC,EAAgD,CAAhD,EAAmD,KAAI,CAACE,sBAAL,CAA4BF,KAA5B,CAAnD,CAAP;AACD;;AACD,iBAAO,KAAI,CAACG,WAAL,CAAiBH,KAAjB,EAAwB,KAAI,CAACb,eAAL,CAAqB1R,CAArB,CAAxB,CAAP;AACD,SALc,EAKZ,KALY,CAAf;;AAMA,YAAG,KAAI,CAAC0R,eAAL,CAAqBzR,MAArB,GAA8B6R,UAAU,CAAC9C,IAAX,CAAgB/O,MAAjD,EAAyD;AACvDN,iBAAO,CAACC,GAAR,CAAY,sBAAZ,EAAmC,KAAI,CAAC8R,eAAL,CAAqBzR,MAAxD,EAA+D6R,UAAU,CAAC9C,IAAX,CAAgB/O,MAA/E;;AACA,eAAI,IAAID,CAAC,GAAG8R,UAAU,CAAC9C,IAAX,CAAgB/O,MAA5B,EAAoCD,CAAC,GAAG,KAAI,CAAC0R,eAAL,CAAqBzR,MAA7D,EAAqE,EAAED,CAAvE,EAA0E;AACxE,gBAAM2S,KAAK,GAAG,KAAI,CAACjB,eAAL,CAAqB1R,CAArB,CAAd;AACA0M,kBAAM,CAAC1F,IAAP,CAAY,IAAIwL,iEAAJ,CAAmCG,KAAnC,EAA0C,IAA1C,EAAgD,CAAhD,EAAmD,KAAI,CAACF,sBAAL,CAA4BE,KAA5B,CAAnD,CAAZ;AACD;AACF,SAND,MAMO,IAAI,KAAI,CAACjB,eAAL,CAAqBzR,MAArB,IAA+B,CAA/B,IAAoC,KAAI,CAACyR,eAAL,CAAqBzR,MAArB,IAA+B6R,UAAU,CAAC9C,IAAX,CAAgB/O,MAAvF,EAA+F;AACpG;AACAyM,gBAAM,CAAC1F,IAAP,CAAY,IAAIwL,iEAAJ,CAAmC,EAAnC,EAAuC,EAAvC,EAA2C,CAA3C,EAA8C,QAA9C,CAAZ;AACD;;AACD,eAAO,IAAIxE,yEAAJ,CAA2B,KAAI,CAAC7N,IAAhC,EAAsC,CAAtC,EAA0C8L,KAAK,CAAC8C,UAAhD,EAA4DrC,MAA5D,EAAoEyF,GAApE,EAAyEC,UAAzE,CAAP;AACD,OAvBM,WAuBE,UAAA7P,KAAK,EAAI;AAChB,eAAO,IAAIyL,yEAAJ,CAA2B,KAAI,CAAC7N,IAAhC,EAAsC,CAAtC,EAA0C8L,KAAK,CAAC8C,UAAhD,EAA4D,IAA5D,EAAkE,IAAlE,EACL,IADK,EACC6C,OAAO,CAACU,eAAR,CAAwB,qBAAxB,EAA+C,KAAI,CAACnS,IAAL,GAAY,CAA3D,EAA8DoC,KAAK,CAACD,OAApE,CADD,CAAP;AAED,OA1BM,CAAP;AA2BD;AA7DH;AAAA;AAAA,2CA+D0B4J,MA/D1B,EA+DkC;AAC9B,UAAGF,cAAc,CAAC4G,SAAf,CAAyBC,IAAzB,CAA8B3G,MAA9B,CAAH,EAA0C;AACxC,eAAO,QAAP;AACD,OAFD,MAEO,IAAIF,cAAc,CAAC8G,aAAf,CAA6BD,IAA7B,CAAkC3G,MAAlC,CAAJ,EAA+C;AACpD,eAAO,MAAP;AACD,OAFM,MAEA;AACL,eAAO,QAAP;AACD;AACF;AAvEH;AAAA;AAAA,gCAyEe6G,QAzEf,EAyEyBC,QAzEzB,EAyEmC;AAC/B,UAAGhH,cAAc,CAAC4G,SAAf,CAAyBC,IAAzB,CAA8BG,QAA9B,CAAH,EAA4C;AAC1C,YAAG,CAAChH,cAAc,CAAC4G,SAAf,CAAyBC,IAAzB,CAA8BE,QAA9B,CAAJ,EAA6C;AAC3C,iBAAO,KAAKE,YAAL,CAAkBF,QAAlB,EAA4BC,QAA5B,CAAP;AACD;;AACD,YAAME,KAAK,GAAG,IAAIC,kDAAJ,CAAYJ,QAAZ,CAAd;AACA,YAAMK,KAAK,GAAG,IAAID,kDAAJ,CAAYH,QAAZ,CAAd;AACA,eAAO,KAAKK,YAAL,CAAkBH,KAAlB,EAAyBE,KAAzB,CAAP;AACD,OAPD,MAOO,IAAIpH,cAAc,CAAC8G,aAAf,CAA6BD,IAA7B,CAAkCG,QAAlC,CAAJ,EAAiD;AACtD,YAAI,CAAChH,cAAc,CAAC8G,aAAf,CAA6BD,IAA7B,CAAkCE,QAAlC,CAAL,EAAkD;AAChD,iBAAO,KAAKE,YAAL,CAAkBF,QAAlB,EAA4BC,QAA5B,CAAP;AACD;;AACD,YAAMM,MAAM,GAAGC,0DAAA,CAAkBR,QAAlB,CAAf;AACA,YAAMS,MAAM,GAAGD,0DAAA,CAAkBP,QAAlB,CAAf;AACA,eAAO,KAAKS,YAAL,CAAkBH,MAAlB,EAA0BE,MAA1B,CAAP;AACD,OAPM,MAOA;AACL,eAAO,KAAKP,YAAL,CAAkBF,QAAlB,EAA4BC,QAA5B,CAAP;AACD;AACF;AA3FH;AAAA;AAAA,iCA6FgBE,KA7FhB,EA6FuBE,KA7FvB,EA6F8B;AAC1B,UAAMM,aAAa,GAAGC,IAAI,CAACC,GAAL,CAASR,KAAK,CAACS,EAAN,EAAT,EAAqBlI,mDAAM,CAAC+H,aAA5B,CAAtB;AACAR,WAAK,GAAG,IAAIC,kDAAJ,CAAYD,KAAK,CAAC9F,OAAN,CAAcsG,aAAd,EAA6BP,kDAAO,CAACW,WAArC,CAAZ,CAAR;AACAV,WAAK,GAAG,IAAID,kDAAJ,CAAYC,KAAK,CAAChG,OAAN,CAAcsG,aAAd,EAA6BP,kDAAO,CAACW,WAArC,CAAZ,CAAR;AACA,UAAMpH,MAAM,GAAGwG,KAAK,CAACa,EAAN,CAASX,KAAT,CAAf;AACA,UAAM3G,KAAK,GAAGC,MAAM,GAAG,CAAH,GAAO,CAA3B;AACA,aAAO8F,kEAAA,CAAgCY,KAAK,CAACY,QAAN,EAAhC,EAAkDd,KAAK,CAACc,QAAN,EAAlD,EAAoEvH,KAApE,CAAP;AACD;AApGH;AAAA;AAAA,iCAsGgB6G,MAtGhB,EAsGwBE,MAtGxB,EAsGgC;AAC5B,UAAM/G,KAAK,GAAG6G,MAAM,IAAIE,MAAV,GAAmB,CAAnB,GAAuB,CAArC;AACA,UAAMS,WAAW,GAAGV,uEAAA,CAA+BD,MAA/B,CAApB;AACA,UAAMY,WAAW,GAAGX,uEAAA,CAA+BC,MAA/B,CAApB;AACA,aAAOhB,gEAAA,CAA8B0B,WAA9B,EAA2CD,WAA3C,EAAwDxH,KAAxD,CAAP;AACD;AA3GH;AAAA;AAAA,iCA6GgBsG,QA7GhB,EA6G0BoB,OA7G1B,EA6GmC;AAAA;;AAC/B,UAAMC,cAAc,GAAG,EAAvB;AACA,UAAIC,cAAc,GAAGF,OAAO,CAACG,IAAR,EAArB;AACA,UAAIC,cAAc,GAAGxB,QAAQ,CAACuB,IAAT,EAArB;;AACA,UAAItI,cAAc,CAACwI,mBAAf,CAAmC3B,IAAnC,CAAwCsB,OAAxC,CAAJ,EAAsD;AACpD,YAAMM,gBAAgB,GAAGN,OAAO,CAACO,KAAR,CAAc1I,cAAc,CAACwI,mBAA7B,CAAzB;AACA,YAAMG,iBAAiB,GAAG5B,QAAQ,CAAC2B,KAAT,CAAe1I,cAAc,CAACwI,mBAA9B,KAAsD,EAAhF;AACA,YAAM9H,MAAM,GAAGiI,iBAAiB,CAAC7I,GAAlB,CAAsB,UAACwF,GAAD,EAAMtR,CAAN,EAAY;AAC/C,cAAGA,CAAC,IAAIyU,gBAAgB,CAACxU,MAAzB,EAAiC;AAC/B,mBAAOuS,kEAAA,CAAgC,IAAhC,EAAsClB,GAAtC,EAA2C,CAA3C,CAAP;AACD;;AACD,cAAMsD,KAAK,GAAG,IAAIzB,kDAAJ,CAAY7B,GAAZ,CAAd;AACA,cAAMuD,KAAK,GAAG,IAAI1B,kDAAJ,CAAYsB,gBAAgB,CAACzU,CAAD,CAA5B,CAAd;AACA,iBAAO,MAAI,CAACqT,YAAL,CAAkBuB,KAAlB,EAAyBC,KAAzB,CAAP;AACD,SAPc,EAOZ,IAPY,CAAf;;AAQA,YAAGJ,gBAAgB,CAACxU,MAAjB,GAA0B0U,iBAAiB,CAAC1U,MAA/C,EAAuD;AACrD,eAAI,IAAID,CAAC,GAAG2U,iBAAiB,CAAC1U,MAA9B,EAAsCD,CAAC,GAAGyU,gBAAgB,CAACxU,MAA3D,EAAmE,EAAED,CAArE,EAAwE;AACtE0M,kBAAM,CAAC1F,IAAP,CAAYwL,kEAAA,CAAgCiC,gBAAgB,CAACzU,CAAD,CAAhD,EAAqD,IAArD,EAA2D,CAA3D,CAAZ;AACD;AACF;;AACDqU,sBAAc,GAAGA,cAAc,CAACzP,OAAf,CAAuBoH,cAAc,CAACwI,mBAAtC,EAA2D,EAA3D,CAAjB;AACAD,sBAAc,GAAGA,cAAc,CAAC3P,OAAf,CAAuBoH,cAAc,CAACwI,mBAAtC,EAA2D,EAA3D,CAAjB;AACA,YAAMM,WAAW,GAAGpI,MAAM,CAACoE,MAAP,CAAc,UAACC,IAAD,EAAOgE,CAAP;AAAA,iBAAahE,IAAI,GAAGgE,CAAC,CAACtI,KAAtB;AAAA,SAAd,EAA2C,CAA3C,IAAgDC,MAAM,CAACzM,MAA3E;AACAmU,sBAAc,CAACpN,IAAf,CAAoB8N,WAApB;AACD;;AACD,UAAG9I,cAAc,CAACgJ,uBAAf,CAAuCnC,IAAvC,CAA4CsB,OAA5C,CAAH,EAAyD;AACvD,YAAMc,cAAc,GAAGd,OAAO,CAACO,KAAR,CAAc1I,cAAc,CAACgJ,uBAA7B,CAAvB;AACA,YAAME,eAAe,GAAGnC,QAAQ,CAAC2B,KAAT,CAAe1I,cAAc,CAACgJ,uBAA9B,KAA0D,EAAlF;;AACA,YAAMtI,OAAM,GAAGwI,eAAe,CAACpJ,GAAhB,CAAoB,UAACwF,GAAD,EAAMtR,CAAN,EAAY;AAC7C,cAAGA,CAAC,IAAIiV,cAAc,CAAChV,MAAvB,EAA+B;AAC7B,mBAAOuS,gEAAA,CAA8B,IAA9B,EAAoClB,GAApC,EAAyC,CAAzC,CAAP;AACD;;AACD,cAAMgC,MAAM,GAAGC,0DAAA,CAAkBjC,GAAlB,CAAf;AACA,cAAMkC,MAAM,GAAGD,0DAAA,CAAkB0B,cAAc,CAACjV,CAAD,CAAhC,CAAf;AACA,iBAAO,MAAI,CAACyT,YAAL,CAAkBH,MAAlB,EAA0BE,MAA1B,CAAP;AACD,SAPc,EAOZ,IAPY,CAAf;;AAQA,YAAGyB,cAAc,CAAChV,MAAf,GAAwBiV,eAAe,CAACjV,MAA3C,EAAmD;AACjD,eAAI,IAAID,EAAC,GAAGkV,eAAe,CAACjV,MAA5B,EAAoCD,EAAC,GAAGiV,cAAc,CAAChV,MAAvD,EAA+D,EAAED,EAAjE,EAAoE;AAClE0M,mBAAM,CAAC1F,IAAP,CAAYwL,gEAAA,CAA8ByC,cAAc,CAACjV,EAAD,CAA5C,EAAiD,IAAjD,EAAuD,CAAvD,CAAZ;AACD;AACF;;AACDqU,sBAAc,GAAGA,cAAc,CAACzP,OAAf,CAAuBoH,cAAc,CAACgJ,uBAAtC,EAA+D,EAA/D,CAAjB;AACAT,sBAAc,GAAGA,cAAc,CAAC3P,OAAf,CAAuBoH,cAAc,CAACgJ,uBAAtC,EAA+D,EAA/D,CAAjB;;AACA,YAAMG,SAAS,GAAGzI,OAAM,CAACoE,MAAP,CAAc,UAACC,IAAD,EAAOgE,CAAP;AAAA,iBAAahE,IAAI,GAAGgE,CAAC,CAACtI,KAAtB;AAAA,SAAd,EAA2C,CAA3C,IAAgDC,OAAM,CAACzM,MAAzE;;AACAmU,sBAAc,CAACpN,IAAf,CAAoBmO,SAApB;AACD;;AACD,UAAMC,IAAI,GAAGC,uEAAmB,CAACd,cAAD,EAAiBF,cAAjB,CAAhC;AACA,UAAIiB,SAAS,GAAG3B,IAAI,CAAC4B,GAAL,CAAS,CAAT,EAAYlB,cAAc,CAACpU,MAAf,GAAwBmV,IAApC,IAA0Cf,cAAc,CAACpU,MAAzE;AACAqV,eAAS,GAAGE,MAAM,CAACC,KAAP,CAAaH,SAAb,IAA0B,CAA1B,GAA8BA,SAA1C;AACA,UAAMI,eAAe,GAAGtB,cAAc,CAACnU,MAAf,GAAwB,CAAhD;AACA,UAAM0V,QAAQ,GAAGvB,cAAc,CAACtD,MAAf,CAAsB,UAACC,IAAD,EAAOO,GAAP;AAAA,eAAeP,IAAI,GAAGO,GAAG,GAACoE,eAA1B;AAAA,OAAtB,EAAiE,CAAjE,CAAjB;AACA,UAAME,UAAU,GAAG,KAAKN,SAAS,GAACI,eAAV,GAA4BC,QAAjC,CAAnB;AACA,aAAOnD,kEAAA,CAAgC2B,OAAhC,EAAyCpB,QAAzC,EAAmD6C,UAAnD,CAAP;AACD;AAlKH;AAAA;AAAA,oCAoKmBrI,OApKnB,EAoKqC;AAAA,wCAANC,IAAM;AAANA,YAAM;AAAA;;AACjC,aAAOzL,gBAAgB,CAAC0L,QAAjB,CAA0BF,OAA1B,EAAmCC,IAAnC,CAAP;AACD;AAtKH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;ACXO,SAASqI,kBAAT,CAA6B9F,QAA7B,EAAuCE,SAAvC,EAAkDxD,KAAlD,EAAyD;AAC9D,SAAO,IAAIqJ,iBAAJ,CAAsB/F,QAAtB,EAAgCE,SAAhC,EAA2CxD,KAA3C,EAAkD,QAAlD,CAAP;AACD;AAEM,SAASsJ,gBAAT,CAA2BhG,QAA3B,EAAqCE,SAArC,EAAgDxD,KAAhD,EAAuD;AAC5D,SAAO,IAAIqJ,iBAAJ,CAAsB/F,QAAtB,EAAgCE,SAAhC,EAA2CxD,KAA3C,EAAkD,MAAlD,CAAP;AACD;AAEM,SAASuJ,kBAAT,CAA6BjG,QAA7B,EAAuCE,SAAvC,EAAkDxD,KAAlD,EAAyD;AAC9D,SAAO,IAAIqJ,iBAAJ,CAAsB/F,QAAtB,EAAgCE,SAAhC,EAA2CxD,KAA3C,EAAkD,QAAlD,CAAP;AACD;AAEM,IAAMqJ,iBAAb,GAEE,2BAAa/F,QAAb,EAAuBE,SAAvB,EAAkCxD,KAAlC,EAAyCvM,IAAzC,EAA+C;AAAA;;AAC7C,OAAK6P,QAAL,GAAgBA,QAAhB;AACA,OAAKE,SAAL,GAAiBA,SAAjB;AACA,OAAKxD,KAAL,GAAaA,KAAb;AACA,OAAKvM,IAAL,GAAYA,IAAZ;AACD,CAPH,C;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AAEO,SAAS+V,OAAT,CAAkBzU,CAAlB,EAAqB;AACxB,MAAM0U,KAAK,GAAG,KAAKC,oBAAnB;AACA,MAAMC,IAAI,GAAG,KAAKC,MAAL,CAAYC,KAAzB;;AACA,MAAIrF,IAAI,GAAG,KAAKoF,MAAL,CAAYE,OAAZ,CAAoBL,KAApB,EAA2BE,IAA3B,CAAX;;AACAnF,MAAI,GAAG,KAAKuF,eAAL,CAAqBvF,IAArB,CAAP;AACA,MAAMwF,IAAI,GAAG,KAAKC,eAAlB;AACA,MAAMC,MAAM,GAAG,KAAKC,iBAApB;AACA,QAAMC,4EAAkB,CAACC,iBAAnB,CAAqC7F,IAArC,EAA2CwF,IAA3C,EAAiDE,MAAjD,CAAN;AACH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVD;AAEO,IAAMI,gBAAb;AAAA;;AAAA;;AAEE,4BAAapU,EAAb,EAAiBqU,cAAjB,EAAiCC,gBAAjC,EAAmDC,UAAnD,EAA+D;AAAA;;AAAA;;AAC7D,8BAAMvU,EAAN,EAAUuU,UAAV;AACA,UAAKT,IAAL,GAAYO,cAAZ;AACA,UAAKL,MAAL,GAAcM,gBAAd;AAH6D;AAI9D;;AANH;AAAA,EAAsCE,8CAAtC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAMC,gBAAb;AAAA;;AAAA;;AAEE,4BAAazU,EAAb,EAAiBzC,IAAjB,EAAuBmX,KAAvB,EAA8BC,OAA9B,EAAuCC,OAAvC,EAAgDC,OAAhD,EAA2D;AAAA;;AAAA;;AACzD,8BAAM7U,EAAN,EAAUzC,IAAV,EAAgBqX,OAAhB,EAAyBC,OAAzB;AACA,UAAKH,KAAL,GAAaA,KAAb;AACA,UAAKC,OAAL,GAAeA,OAAf;AAHyD;AAI1D;;AANH;AAAA;AAAA,wBAQkB;AACd,aAAO,KAAKA,OAAL,IAAgB,IAAvB;AACD;AAVH;;AAAA;AAAA,EAAsCG,wDAAtC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAMN,MAAb;AAAA;;AAAA;;AAEE,kBAAaxU,EAAb,EAAiBuU,UAAjB,EAA6B;AAAA;;AAAA;;AAC3B;AACA,UAAKvU,EAAL,GAAUA,EAAV;AACA,UAAKuU,UAAL,GAAkBA,UAAlB;AAH2B;AAI5B;;AANH;AAAA,EAA4BQ,gDAA5B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAMC,KAAb;AAAA;;AAAA;;AAEE,mBAAe;AAAA;;AAAA;AAEd;;AAJH;AAAA,EAA2BD,gDAA3B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAME,IAAb;AAAA;;AAAA;;AAEE,gBAAaV,UAAb,EAAyB;AAAA;;AAAA;;AACvB;AACA,UAAKA,UAAL,GAAkBA,UAAlB;AACA;;;;AAGA,UAAKW,QAAL,GAAgB,EAAhB;AANuB;AAOxB;AAED;;;;;;AAXF;AAAA;AAAA,gCAeeA,QAff,EAeyB;AACrB,WAAKA,QAAL,GAAgBA,QAAhB;AACD;AAjBH;AAAA;AAAA,wBAmBmB;AACf,aAAO,KAAKX,UAAL,KAAoB,IAA3B;AACD;AArBH;;AAAA;AAAA,EAA0BQ,gDAA1B,E;;;;;;;;;;;;;;;;;;;;ACFO,IAAMA,OAAb;AAEE,qBAAe;AAAA;;AACb,SAAKI,WAAL,GAAmB,IAAnB;AACD;;AAJH;AAAA;AAAA,sBAMkBC,UANlB,EAM8B;AAC1B,WAAKD,WAAL,GAAmBC,UAAnB;AACD,KARH;AAAA,wBAUoB;AAChB,aAAO,KAAKD,WAAZ;AACD;AAZH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;ACAO,IAAME,YAAb;AAEC,wBAAYnY,SAAZ,EAAuBgY,QAAvB,EAAiC;AAAA;;AAChC,SAAKhY,SAAL,GAAiBA,SAAjB;AACA,SAAKgY,QAAL,GAAgBA,QAAhB;AACA,SAAKC,WAAL,GAAmB,IAAnB;AACA;;AANF;AAAA;AAAA,sBAQiBC,UARjB,EAQ6B;AAC3B,WAAKD,WAAL,GAAmBC,UAAnB;AACA,KAVF;AAAA,wBAYmB;AACjB,aAAO,KAAKD,WAAZ;AACA;AAdF;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AAEO,IAAML,WAAb;AAAA;;AAAA;;AAEE,uBAAa9U,EAAb,EAAiBzC,IAAjB,EAAuBqX,OAAvB,EAAgCC,OAAhC,EAAyC;AAAA;;AAAA;;AACvC;AACA,UAAK7U,EAAL,GAAUA,EAAV;AACA,UAAKzC,IAAL,GAAYA,IAAZ;AACA,UAAKqX,OAAL,GAAeA,OAAf;AACA,UAAKC,OAAL,GAAeA,OAAf;AALuC;AAMxC;;AARH;AAAA,EAAiCE,gDAAjC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAMO,GAAb;AAAA;;AAAA;;AAEE,eAAaC,MAAb,EAAqBC,QAArB,EAA+BC,MAA/B,EAAuCC,QAAvC,EAAiDC,YAAjD,EAA+D;AAAA;;AAAA;;AAC7D;AACA,UAAKJ,MAAL,GAAcA,MAAd;AACA,UAAKC,QAAL,GAAgBA,QAAhB;AACA,UAAKC,MAAL,GAAcA,MAAd;AACA,UAAKC,QAAL,GAAgBA,QAAhB;AACA,UAAKC,YAAL,GAAoBA,YAApB;AAN6D;AAO9D;;AATH;AAAA;AAAA,wBAWkB;AACd,aAAO,KAAKA,YAAL,CAAkBT,QAAzB;AACD;AAbH;;AAAA;AAAA,EAAyBH,gDAAzB,E;;;;;;;;;;;;;;;;;;;;ACFO,IAAMa,eAAb;AAEE,2BAAarY,IAAb,EAAmByC,EAAnB,EAAwD;AAAA,QAAjC6V,KAAiC,uEAAzB,KAAyB;AAAA,QAAlBC,QAAkB,uEAAP,KAAO;;AAAA;;AACtD,SAAKvY,IAAL,GAAYA,IAAZ;AACA,SAAKyC,EAAL,GAAUA,EAAV;AACA,SAAK6V,KAAL,GAAaA,KAAb;AACA,SAAKC,QAAL,GAAgBA,QAAhB;AACA,SAAKX,WAAL,GAAmB,IAAnB;AACD;;AARH;AAAA;AAAA,sBAUkBC,UAVlB,EAU8B;AAC5B,WAAKD,WAAL,GAAmBC,UAAnB;AACA,KAZF;AAAA,wBAcmB;AACjB,aAAO,KAAKD,WAAZ;AACA;AAhBF;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;ACAA;AAEO,IAAMY,QAAb;AAEE;;;;;;;AAOA,oBAAYvY,IAAZ,EAAkBwY,UAAlB,EAA8BC,gBAA9B,EAAgDN,YAAhD,EAA8D;AAAA;;AAC5D,SAAKnY,IAAL,GAAYA,IAAZ;AACA,SAAKwY,UAAL,GAAkBA,UAAlB;AACA,SAAKC,gBAAL,GAAwBA,gBAAxB;AACA,SAAKN,YAAL,GAAoBA,YAApB;AACA,SAAKR,WAAL,GAAmB,IAAnB;AACD;;AAfH;AAAA;AAAA,kCAqCiB;AACb,aAAO,KAAKc,gBAAL,CAAsBC,IAAtB,CAA4B,UAAAC,CAAC;AAAA,eAAIA,CAAC,CAACL,QAAN;AAAA,OAA7B,CAAP;AACD;AAvCH;AAAA;AAAA,wBAiBgB;AACZ,aAAO,KAAKtY,IAAL,KAAc,IAAd,IAAsB,KAAKwY,UAAL,CAAgBI,YAAhB,CAA6BC,uDAAK,CAACC,IAAnC,CAA7B;AACD;AAnBH;AAAA;AAAA,wBAqBkB;AACd,aAAO,KAAKX,YAAL,CAAkBT,QAAzB;AACD;AAvBH;AAAA;AAAA,wBAyB+B;AAC3B,aAAO,KAAKS,YAAL,CAAkBzY,SAAzB;AACD;AA3BH;AAAA;AAAA,sBA6BkBkY,UA7BlB,EA6B8B;AAC5B,WAAKD,WAAL,GAAmBC,UAAnB;AACA,KA/BF;AAAA,wBAiCmB;AACjB,aAAO,KAAKD,WAAZ;AACC;AAnCH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAMoB,UAAb;AAAA;;AAAA;;AAEE,sBAAaC,SAAb,EAAwBC,MAAxB,EAAgCC,OAAhC,EAAyC;AAAA;;AAAA;;AACvC;AACA,UAAKF,SAAL,GAAiBA,SAAjB;AACA,UAAKC,MAAL,GAAcA,MAAd;AACA,UAAKC,OAAL,GAAeA,OAAf;AAJuC;AAKxC;;AAPH;AAAA,EAAgC3B,gDAAhC,E;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;CAC8D;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChB9D;AAEO,IAAM4B,WAAb;AAAA;;AAAA;;AAEE,uBAAYH,SAAZ,EAAuBb,YAAvB,EAAqC;AAAA;;AAAA,6BAC7Ba,SAD6B,EAClBb,YADkB;AAEpC;;AAJH;AAAA;AAAA,wBAMmB;AACf,aAAO,KAAP;AACD;AARH;;AAAA;AAAA,EAAiCiB,4CAAjC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAMC,MAAb;AAAA;;AAAA;;AAEE,kBAAYtC,UAAZ,EAAwB;AAAA;;AAAA;;AACtB;AACA,UAAKA,UAAL,GAAkBA,UAAlB;AAFsB;AAGvB;;AALH;AAAA,EAA4BQ,gDAA5B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;CCDA;;CAEA;;AACA;AAEO,IAAM+B,MAAb;AAAA;;AAAA;;AAEE;;;;;AAKA,kBAAavC,UAAb,EAAyBwC,KAAzB,EAAgC;AAAA;;AAAA;;AAC9B;AACA,UAAKxC,UAAL,GAAkBA,UAAlB;AACA,UAAKwC,KAAL,GAAaA,KAAb;AAH8B;AAI/B;;AAXH;AAAA,EAA4BhC,gDAA5B,E;;;;;;;;;;;;;;;;;;ACNA;;;;;;AAMO,IAAMiC,OAAb,GAEE,iBAAaC,QAAb,EAAuB;AAAA;;AACrB,OAAKA,QAAL,GAAgBA,QAAhB;AACD,CAJH,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACNA;AAEO,IAAML,KAAb;AAAA;;AAAA;;AAEE,iBAAarC,UAAb,EAAyBoB,YAAzB,EAAuC;AAAA;;AAAA;;AACrC;AACA,UAAKpB,UAAL,GAAkBA,UAAlB;AACA,UAAKoB,YAAL,GAAoBA,YAApB;AAHqC;AAItC;;AANH;AAAA;AAAA,wBAQkB;AACd,aAAO,KAAKA,YAAL,CAAkBT,QAAzB;AACD;AAVH;AAAA;AAAA,wBAYmB;AAChB,aAAO,IAAP;AACA;AAdH;;AAAA;AAAA,EAA2BH,gDAA3B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFO,IAAMmC,WAAb;AAAA;;AAAA;;AACE,uBAAajM,GAAb,EAAkBjL,EAAlB,EAAsB;AAAA;;AAAA;;AACpB,oIAASiL,GAAT;AACA,UAAKjL,EAAL,GAAUA,EAAV;AACA,UAAKmX,QAAL,GAAgB,EAAhB;AACA,QAAIzX,KAAK,CAAC0X,iBAAV,EAA6B1X,KAAK,CAAC0X,iBAAN,6FAA8BF,WAA9B;AAJT;AAKrB;;AANH;AAAA;AAAA,wBAQiB;AACb,aAAO,KAAKC,QAAZ;AACD,KAVH;AAAA,sBAYeE,UAZf,EAY2B;AACvB,WAAKF,QAAL,GAAgBE,UAAhB;AACD;AAdH;;AAAA;AAAA,8FAAiC3X,KAAjC,G;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA,IAAMN,gBAAgB,GAAG+I,6EAAA,EAAzB;;AAEA,SAASmP,WAAT,CAAsBC,UAAtB,EAAgD;AAAA,MAAdC,OAAc,uEAAJ,EAAI;AAC9C,SAAO,IAAIN,wDAAJ,CACL9X,gBAAgB,CAAC0L,QAAjB,CAA0ByM,UAA1B,EAAsCC,OAAtC,CADK,EAELD,UAFK,CAAP;AAID;;AAEM,IAAMrD,kBAAkB,GAAGhQ,MAAM,CAACuT,MAAP,CAAc;AAC9CC,aAAW,EAAE;AAAA,WAAM,IAAIR,wDAAJ,CAAgB9X,gBAAgB,CAAC0L,QAAjB,CAA0B,aAA1B,CAAhB,CAAN;AAAA,GADiC;AAE9C6M,mBAAiB,EAAE,2BAACvK,QAAD,EAAWwK,KAAX,EAAqB;AACtC,QAAMJ,OAAO,GAAG,CAACpK,QAAD,EAAWwK,KAAK,CAACtJ,IAAjB,EAAuBsJ,KAAK,CAAC9D,IAA7B,EAAmC8D,KAAK,CAAC5D,MAAzC,CAAhB;AACA,QAAMpU,KAAK,GAAG0X,WAAW,CAAC,mBAAD,EAAsBE,OAAtB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GAP6C;AAQ9CiY,oBAAkB,EAAE,4BAACC,YAAD,EAAeF,KAAf,EAAyB;AAC3C,QAAM9D,IAAI,GAAGgE,YAAY,CAACtL,IAAb,CAAkBpN,gBAAgB,CAAC2Y,KAAjB,EAAlB,CAAb;AACA,QAAMnY,KAAK,GAAGsU,kBAAkB,CAACyD,iBAAnB,CAAqC7D,IAArC,EAA2C8D,KAA3C,CAAd;AACAhY,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GAb6C;AAc9CoY,YAAU,EAAE,oBAACJ,KAAD,EAAW;AACrB,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAACtJ,IAAP,EAAasJ,KAAK,CAAC9D,IAAnB,EAAyB8D,KAAK,CAAC5D,MAA/B,CAAhB;AACA,QAAMpU,KAAK,GAAG0X,WAAW,CAAC,YAAD,EAAeE,OAAf,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GAnB6C;AAoB9CqY,aAAW,EAAE,qBAACL,KAAD,EAAW;AACtB,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAAC9D,IAAP,EAAa8D,KAAK,CAAC5D,MAAnB,CAAhB;AACA,QAAMpU,KAAK,GAAG0X,WAAW,CAAC,aAAD,EAAgBE,OAAhB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GAzB6C;AA0B9CsY,yBAAuB,EAAE,iCAACC,QAAD,EAAWP,KAAX,EAAqB;AAC5C,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAAC9D,IAAP,EAAa8D,KAAK,CAAC5D,MAAnB,EAA2BmE,QAA3B,CAAhB;AACA,QAAMvY,KAAK,GAAG0X,WAAW,CAAC,yBAAD,EAA4BE,OAA5B,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GA/B6C;AAgC9CwY,oBAAkB,EAAE,4BAACR,KAAD,EAAW;AAC7B,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAAC9D,IAAP,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,oBAAD,EAAuBE,OAAvB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GArC6C;AAsC9CyY,qBAAmB,EAAE,6BAAC7a,IAAD,EAAO2a,QAAP,EAAiBP,KAAjB,EAA2B;AAC9C,QAAMJ,OAAO,GAAG,CAACha,IAAD,EAAO2a,QAAP,EAAiBP,KAAK,CAAC9D,IAAvB,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,qBAAD,EAAwBE,OAAxB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GA3C6C;AA4C9C0Y,yBAAuB,EAAE,iCAACV,KAAD,EAAW;AAClC,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAAC9D,IAAP,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,yBAAD,EAA4BE,OAA5B,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GAjD6C;AAkD9C2Y,uBAAqB,EAAE,+BAACC,OAAD,EAAUZ,KAAV,EAAoB;AACzC,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAAC9D,IAAP,EAAa0E,OAAb,CAAhB;AACA,QAAM5Y,KAAK,GAAG0X,WAAW,CAAC,uBAAD,EAA0BE,OAA1B,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GAvD6C;AAwD9C6Y,kBAAgB,EAAE,0BAACb,KAAD,EAAW;AAC3B,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAACtJ,IAAP,EAAasJ,KAAK,CAAC9D,IAAnB,EAAyB8D,KAAK,CAAC5D,MAA/B,CAAhB;AACA,QAAMpU,KAAK,GAAG0X,WAAW,CAAC,kBAAD,EAAqBE,OAArB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GA7D6C;AA8D9C8Y,cAAY,EAAE,sBAACrM,IAAD,EAAOuL,KAAP,EAAiB;AAC7B,QAAM9D,IAAI,GAAGzH,IAAI,CAACG,IAAL,CAAUpN,gBAAgB,CAAC2Y,KAAjB,EAAV,CAAb;AACA,QAAMP,OAAO,GAAG,CAACI,KAAK,CAACtJ,IAAP,EAAasJ,KAAK,CAAC9D,IAAnB,EAAyB8D,KAAK,CAAC5D,MAA/B,EAAuCF,IAAvC,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,cAAD,EAAiBE,OAAjB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GApE6C;AAqE9C+Y,gBAAc,EAAE,wBAACf,KAAD,EAAW;AACzB,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAAC9D,IAAP,EAAa8D,KAAK,CAAC5D,MAAnB,CAAhB;AACA,QAAMpU,KAAK,GAAG0X,WAAW,CAAC,gBAAD,EAAmBE,OAAnB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GA1E6C;AA2E9CgZ,mBAAiB,EAAE,2BAAChB,KAAD,EAAW;AAC5B,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAACtJ,IAAP,EAAasJ,KAAK,CAAC9D,IAAnB,EAAyB8D,KAAK,CAAC5D,MAA/B,CAAhB;AACA,QAAMpU,KAAK,GAAG0X,WAAW,CAAC,mBAAD,EAAsBE,OAAtB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GAhF6C;AAiF9CiZ,oBAAkB,EAAE,4BAACjB,KAAD,EAAW;AAC7B,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAACtJ,IAAP,EAAasJ,KAAK,CAAC9D,IAAnB,EAAyB8D,KAAK,CAAC5D,MAA/B,CAAhB;AACA,QAAMpU,KAAK,GAAG0X,WAAW,CAAC,oBAAD,EAAuBE,OAAvB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GAtF6C;AAuF9CkZ,iBAAe,EAAE,2BAAM;AACrB,WAAOxB,WAAW,CAAC,iBAAD,CAAlB;AACD,GAzF6C;AA0F9CyB,oBAAkB,EAAE,4BAACnB,KAAD,EAAW;AAC7B,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAACtJ,IAAP,EAAasJ,KAAK,CAAC9D,IAAnB,EAAyB8D,KAAK,CAAC5D,MAA/B,CAAhB;AACA,QAAMpU,KAAK,GAAG0X,WAAW,CAAC,oBAAD,EAAuBE,OAAvB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GA/F6C;AAgG9CuU,mBAAiB,EAAE,2BAAC7F,IAAD,EAAOwF,IAAP,EAAaE,MAAb,EAAwB;AACzC,QAAMwD,OAAO,GAAG,CAAClJ,IAAD,EAAOwF,IAAP,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,mBAAD,EAAsBE,OAAtB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEA,IAAR;AAAcE,YAAM,EAAEA;AAAtB,KAAhB;AACA,WAAOpU,KAAP;AACD,GArG6C;AAsG9CoZ,0BAAwB,EAAE,kCAACpB,KAAD,EAAW;AACnC,QAAMJ,OAAO,GAAG,CAACI,KAAK,CAAC9D,IAAP,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,0BAAD,EAA6BE,OAA7B,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAE8D,KAAK,CAAC9D,IAAd;AAAoBE,YAAM,EAAE4D,KAAK,CAAC5D;AAAlC,KAAhB;AACA,WAAOpU,KAAP;AACD,GA3G6C;AA4G9CqZ,6BAA2B,EAAE,qCAACC,GAAD,EAAM9D,UAAN,EAAqB;AAChD,QAAMoC,OAAO,GAAG,CAAC0B,GAAD,EAAM9D,UAAU,CAACtB,IAAjB,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,6BAAD,EAAgCE,OAAhC,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GAjH6C;AAkH9CuZ,0BAAwB,EAAE,kCAAC3b,IAAD,EAAO4X,UAAP,EAAsB;AAC9C,QAAMoC,OAAO,GAAG,CAACha,IAAD,EAAO4X,UAAU,CAACtB,IAAlB,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,0BAAD,EAA6BE,OAA7B,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GAvH6C;AAwH9CwZ,4BAA0B,EAAE,oCAAC5b,IAAD,EAAO4X,UAAP,EAAsB;AAChD,QAAMoC,OAAO,GAAG,CAACha,IAAD,EAAO4X,UAAU,CAACtB,IAAlB,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,4BAAD,EAA+BE,OAA/B,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GA7H6C;AA8H9CyZ,0BAAwB,EAAE,kCAAC7b,IAAD,EAAO4X,UAAP,EAAsB;AAC9C,QAAMoC,OAAO,GAAG,CAACha,IAAD,EAAO4X,UAAU,CAACtB,IAAlB,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,0BAAD,EAA6BE,OAA7B,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GAnI6C;AAoI9C0Z,+BAA6B,EAAE,uCAAC9b,IAAD,EAAO0b,GAAP,EAAY9D,UAAZ,EAA2B;AACxD,QAAMoC,OAAO,GAAG,CAACpC,UAAU,CAACtB,IAAZ,EAAkBoF,GAAlB,EAAuB1b,IAAvB,CAAhB;AACA,QAAMoC,KAAK,GAAG0X,WAAW,CAAC,+BAAD,EAAkCE,OAAlC,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GAzI6C;AA0I9C2Z,+BAA6B,EAAE,uCAAC/b,IAAD,EAAO0b,GAAP,EAAY9D,UAAZ,EAA2B;AACxD,QAAMoC,OAAO,GAAG,CAACpC,UAAU,CAACtB,IAAZ,EAAkBoF,GAAlB,EAAuB1b,IAAvB,CAAhB;AACA,QAAMoC,KAAK,GAAG0X,WAAW,CAAC,+BAAD,EAAkCE,OAAlC,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GA/I6C;AAgJ9C4Z,wBAAsB,EAAE,gCAACpE,UAAD,EAAgB;AACtC,QAAMoC,OAAO,GAAG,CAACpC,UAAU,CAACtB,IAAZ,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,wBAAD,EAA2BE,OAA3B,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GArJ6C;AAsJ9C6Z,kBAAgB,EAAE,0BAACrE,UAAD,EAAgB;AAChC,QAAMoC,OAAO,GAAG,CAACpC,UAAU,CAACtB,IAAZ,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,kBAAD,EAAqBE,OAArB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GA3J6C;AA4J9C8Z,6BAA2B,EAAE,qCAACtE,UAAD,EAAgB;AAC3C,QAAMoC,OAAO,GAAG,CAACpC,UAAU,CAACtB,IAAZ,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,6BAAD,EAAgCE,OAAhC,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GAjK6C;AAkK9C+Z,qBAAmB,EAAE,6BAACvE,UAAD,EAAgB;AACnC,QAAMoC,OAAO,GAAG,CAACpC,UAAU,CAACtB,IAAZ,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,qBAAD,EAAwBE,OAAxB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD,GAvK6C;AAwK9Cga,qBAAmB,EAAE,6BAACxE,UAAD,EAAgB;AACnC,QAAMoC,OAAO,GAAG,CAACpC,UAAU,CAACtB,IAAZ,CAAhB;AACA,QAAMlU,KAAK,GAAG0X,WAAW,CAAC,qBAAD,EAAwBE,OAAxB,CAAzB;AACA5X,SAAK,CAAC4X,OAAN,GAAgB;AAAE1D,UAAI,EAAEsB,UAAU,CAACtB,IAAnB;AAAyBE,YAAM,EAAEoB,UAAU,CAACpB;AAA5C,KAAhB;AACA,WAAOpU,KAAP;AACD;AA7K6C,CAAd,CAA3B,C;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACZP;AAEO,IAAMia,WAAb;AAAA;;AAAA;;AAEC,uBAAa7Z,EAAb,EAAiB8T,IAAjB,EAAuBE,MAAvB,EAA+B;AAAA;;AAAA;;AAC9B;AACA,UAAKhU,EAAL,GAAUA,EAAV;AACA,UAAK8T,IAAL,GAAYA,IAAZ;AACA,UAAKE,MAAL,GAAcA,MAAd;AAJ8B;AAK9B;;AAPF;AAAA;AAAA,+BASa;AACX,UAAM8F,OAAO,GAAG,KAAKhG,IAAL,CAAUxR,QAAV,EAAhB;AACA,UAAIyX,SAAS,GAAG,IAAhB;;AACA,UAAG,KAAK/F,MAAR,EAAgB;AACf+F,iBAAS,GAAG,KAAK/F,MAAL,CAAY1R,QAAZ,EAAZ;AACA;;AACD,UAAIgM,IAAI,GAAG,IAAX;;AACA,UAAGyL,SAAH,EAAc;AACbzL,YAAI,aAAM,KAAKtO,EAAX,cAAiB8Z,OAAjB,eAA6BC,SAA7B,MAAJ;AACA,OAFD,MAEO;AACNzL,YAAI,aAAM,KAAKtO,EAAX,cAAiB8Z,OAAjB,MAAJ;AACA;;AACD,UAAG,KAAKE,WAAR,EAAqB;AACpB,0BAAW1L,IAAX;AACA,OAFD,MAEO;AACN,eAAOA,IAAP;AACA;AACD;AA1BF;;AAAA;AAAA,EAAiC2L,sDAAjC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AAEO,IAAMC,YAAb;AAAA;;AAAA;;AAEE;;;;;AAKA,wBAAY3c,IAAZ,EAAkBG,KAAlB,EAAyB;AAAA;;AAAA;;AACvB,8BAAMH,IAAN;AACA,UAAKG,KAAL,GAAaA,KAAb;AAFuB;AAGxB;;AAVH;AAAA;AAAA,mCA0CkB;AACd,UAAMyc,KAAK,GAAG,IAAd,CADc,CAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,aAAOA,KAAP;AACD;AAnEH;AAAA;AAAA,mCAqEkB;AACd,UAAMA,KAAK,GAAG,IAAd,CADc,CAEd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,aAAOA,KAAP;AACD;AAvFH;AAAA;AAAA,+BAyFc;AACV,UAAMC,OAAO,GAAG,KAAK1c,KAAL,CAAWyL,GAAX,CAAe,UAAAkR,YAAY;AAAA,eAAIA,YAAY,CAAC/X,QAAb,EAAJ;AAAA,OAA3B,CAAhB;AACA,UAAMgM,IAAI,GAAG,MAAM8L,OAAO,CAAC5N,IAAR,CAAa,GAAb,CAAN,GAA0B,GAAvC;;AACA,UAAG,KAAKwN,WAAR,EAAqB;AACnB,0BAAW1L,IAAX;AACD,OAFD,MAEO;AACL,eAAOA,IAAP;AACD;AACF;AAjGH;AAAA;AAAA,wBAYiB;AACb,UAAMgM,OAAO,GAAG,KAAK5c,KAAL,CAAW,CAAX,CAAhB;;AACA,UAAI4c,OAAO,YAAYJ,YAAvB,EAAqC;AACnC,eAAOI,OAAO,CAAC5c,KAAR,CAAc,CAAd,EAAiBH,IAAxB;AACD,OAFD,MAEO;AACL,eAAO+c,OAAO,CAAC/c,IAAf;AACD;AACF;AAnBH;AAAA;AAAA,wBAqBe;AACX,aAAO,KAAKG,KAAL,CAAWJ,MAAlB;AACD;AAvBH;AAAA;AAAA,wBAyBiB;AACb,UAAMgd,OAAO,GAAG,KAAK5c,KAAL,CAAW,CAAX,CAAhB;;AACA,UAAI,EAAE4c,OAAO,YAAYJ,YAArB,CAAJ,EAAuC;AACrC,eAAO,IAAP;AACD,OAFD,MAEO;AACL,eAAOI,OAAO,CAAC5c,KAAR,CAAcJ,MAArB;AACD;AACF;AAhCH;AAAA;AAAA,wBAkCkB;AACd,aAAO,KAAKqX,OAAL,KAAiB,IAAxB;AACD;AApCH;AAAA;AAAA,wBAsCiB;AACb,aAAO,KAAK4F,YAAL,MAAuB,KAAKC,YAAL,EAA9B;AACD;AAxCH;;AAAA;AAAA,EAAkCC,gDAAlC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AAEO,IAAMC,WAAb;AAAA;;AAAA;;AAEE,uBAAYhd,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAM2Y,uDAAK,CAACsE,OAAZ;AACA,UAAKjd,KAAL,GAAaA,KAAb;AAFiB;AAGlB;;AALH;AAAA;AAAA,+BAOc;AACV,UAAM4Q,IAAI,GAAGsM,+EAAmB,CAAC,KAAKld,KAAN,CAAhC;;AACA,UAAG,KAAKsc,WAAR,EAAqB;AACnB,0BAAW1L,IAAX;AACD,OAFD,MAEO;AACL,eAAOA,IAAP;AACD;AACF;AAdH;;AAAA;AAAA,EAAiCmM,gDAAjC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AAEO,IAAMI,WAAb;AAAA;;AAAA;;AAEE,uBAAYnd,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAM2Y,uDAAK,CAACyE,IAAZ;AACA,UAAKpd,KAAL,GAAaA,KAAb;AAFiB;AAGlB;;AALH;AAAA;AAAA,+BAOc;AACV,UAAM4Q,IAAI,cAAO,KAAK5Q,KAAZ,MAAV;;AACA,UAAG,KAAKsc,WAAR,EAAqB;AACnB,0BAAW1L,IAAX;AACD,OAFD,MAEO;AACL,eAAOA,IAAP;AACD;AACF;AAdH;;AAAA;AAAA,EAAiCmM,gDAAjC,E;;;;;;;;;;;;;;;;;;;;ACHO,IAAMR,UAAb;AAEE,wBAAe;AAAA;;AACf,SAAK9E,WAAL,GAAmB,IAAnB;AACA,SAAK4F,YAAL,GAAoB,KAApB;AACC;;AALH;AAAA;AAAA,sBAOkB3F,UAPlB,EAO8B;AAC5B,WAAKD,WAAL,GAAmBC,UAAnB;AACA,KATF;AAAA,wBAWmB;AACjB,aAAO,KAAKD,WAAZ;AACA;AAbF;AAAA;AAAA,sBAekB6F,IAflB,EAewB;AACtB,WAAKD,YAAL,GAAoBC,IAApB;AACA,KAjBF;AAAA,wBAmBoB;AAClB,aAAO,KAAKD,YAAZ;AACA;AArBF;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AAEO,IAAME,YAAb;AAAA;;AAAA;;AAEC;;;;;AAKA,wBAAajb,EAAb,EAAiBkb,gBAAjB,EAAmC;AAAA;;AAAA;;AAClC;AACA,UAAKlb,EAAL,GAAUA,EAAV;AACA,UAAKkb,gBAAL,GAAwBA,gBAAxB;AAHkC;AAIlC;;AAXF;AAAA;AAAA,+BAqBa;AACX,UAAI1d,IAAI,GAAG,IAAX;;AACA,UAAG,KAAK2d,UAAR,EAAoB;AACnB3d,YAAI,GAAG4d,mFAAuB,CAACC,mBAAxB,EAAP;AACA,OAFD,MAEO;AACN7d,YAAI,GAAG4d,mFAAuB,CAACE,YAAxB,CAAqC,KAAKtb,EAA1C,CAAP;AACA;;AACD,UAAIub,MAAM,GAAG,IAAb;;AACA,UAAG,KAAKL,gBAAL,CAAsB5d,MAAtB,IAAgC,CAAnC,EAAsC;AACrCie,cAAM,GAAG,IAAT;AACA,OAFD,MAEO;AACN,YAAMC,SAAS,GAAG,KAAKN,gBAAL,CAAsB/R,GAAtB,CAA0B,UAAAsS,CAAC;AAAA,iBAAIA,CAAC,CAACnZ,QAAF,EAAJ;AAAA,SAA3B,CAAlB;AACAiZ,cAAM,GAAG,MAAMC,SAAS,CAAChP,IAAV,CAAe,GAAf,CAAN,GAA4B,GAArC;AACA;;AACD,UAAG,KAAKwN,WAAR,EAAqB;AACpB,0BAAWxc,IAAI,GAAG+d,MAAlB;AACA,OAFD,MAEO;AACN,eAAO/d,IAAI,GAAG+d,MAAd;AACA;AACD;AAxCF;AAAA;AAAA,wBAamB;AACjB,aAAO,KAAKvb,EAAL,KAAY,IAAnB;AACA;AAfF;AAAA;AAAA,wBAiBuB;AACrB,aAAO,KAAKkb,gBAAL,CAAsB5d,MAA7B;AACA;AAnBF;;AAAA;AAAA,EAAkC2c,sDAAlC,E;;;;;;;;;;;;ACHA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACVA;AAEO,IAAMyB,QAAb;AAAA;;AAAA;;AAEE,oBAAYC,EAAZ,EAAgBC,IAAhB,EAAsBC,KAAtB,EAA6B;AAAA;;AAAA;;AAC3B;AACA,UAAKF,EAAL,GAAUA,EAAV;AACA,UAAKC,IAAL,GAAYA,IAAZ;AACA,UAAKC,KAAL,GAAaA,KAAb;AAJ2B;AAK5B;;AAPH;AAAA;AAAA,+BASc;AACV,UAAMC,CAAC,GAAG,KAAKF,IAAL,CAAUtZ,QAAV,EAAV;AACA,UAAMqZ,EAAE,GAAG,KAAKA,EAAL,CAAQje,KAAnB;AACA,UAAM0U,CAAC,GAAG,KAAKyJ,KAAL,CAAWvZ,QAAX,EAAV;;AACA,UAAG,KAAK0X,WAAR,EAAqB;AACnB,0BAAY8B,CAAC,GAAGH,EAAJ,GAASvJ,CAArB;AACD,OAFD,MAEO;AACL,eAAO0J,CAAC,GAAGH,EAAJ,GAASvJ,CAAhB;AACD;AACF;AAlBH;;AAAA;AAAA,EAA8B6H,sDAA9B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AAEO,IAAM8B,UAAb;AAAA;;AAAA;;AAEE,sBAAYre,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAM2Y,uDAAK,CAAC2F,OAAZ;AACA,UAAKte,KAAL,GAAaA,KAAb;AAFiB;AAGlB;;AALH;AAAA;AAAA,+BAOa;AACT,UAAM4Q,IAAI,GAAG2N,2EAAe,CAAC,KAAKve,KAAN,EAAa,KAAKH,IAAlB,CAA5B;;AACA,UAAG,KAAKyc,WAAR,EAAqB;AACnB,0BAAW1L,IAAX;AACD,OAFD,MAEO;AACL,eAAOA,IAAP;AACD;AACF;AAdH;;AAAA;AAAA,EAAgCmM,gDAAhC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AAEO,IAAMA,OAAb;AAAA;;AAAA;;AAEE,mBAAald,IAAb,EAAmB;AAAA;;AAAA;;AACjB;AACA,UAAKA,IAAL,GAAYA,IAAZ;AAFiB;AAGlB;;AALH;AAAA,EAA6B0c,sDAA7B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AACA;AAEO,IAAMiC,WAAb;AAAA;;AAAA;;AAEE,uBAAYxe,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAM2Y,uDAAK,CAAC8F,IAAZ;AACA,UAAKze,KAAL,GAAaA,KAAb;AAFiB;AAGlB;;AALH;AAAA;AAAA,+BAOa;AACT,UAAM4Q,IAAI,GAAG2N,2EAAe,CAAC,KAAKve,KAAN,EAAa,KAAKH,IAAlB,CAA5B;;AACA,UAAI,KAAKyc,WAAT,EAAsB;AACpB,0BAAW1L,IAAX;AACD,OAFD,MAEO;AACL,eAAOA,IAAP;AACD;AACF;AAdH;;AAAA;AAAA,EAAiCmM,gDAAjC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACJA;AACA;AAEO,IAAM2B,aAAb;AAAA;;AAAA;;AAEE,yBAAY1e,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAM2Y,uDAAK,CAACgG,MAAZ;AACA,UAAK3e,KAAL,GAAaA,KAAb;AAFiB;AAGlB;;AALH;AAAA;AAAA,+BAOa;AACT,UAAM4Q,IAAI,GAAG,MAAM,KAAK5Q,KAAX,GAAmB,GAAhC;;AACA,UAAG,KAAKsc,WAAR,EAAqB;AACnB,0BAAW1L,IAAX;AACD,OAFD,MAEO;AACL,eAAOA,IAAP;AACD;AACF;AAdH;;AAAA;AAAA,EAAmCmM,gDAAnC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AAEO,IAAM6B,QAAb;AAAA;;AAAA;;AAEE,oBAAaX,EAAb,EAAiBC,IAAjB,EAAuB;AAAA;;AAAA,6BACfD,EADe,EACXC,IADW,EACL,IADK;AAEtB;;AAJH;AAAA;AAAA,+BAMc;AACV,UAAME,CAAC,GAAG,KAAKF,IAAL,CAAUtZ,QAAV,EAAV;AACA,UAAMqZ,EAAE,GAAG,KAAKA,EAAL,CAAQje,KAAnB;;AACA,UAAG,KAAKsc,WAAR,EAAqB;AACnB,0BAAW2B,EAAE,GAAGG,CAAhB;AACD,OAFD,MAEO;AACL,eAAOH,EAAE,GAAGG,CAAZ;AACD;AACF;AAdH;;AAAA;AAAA,EAA8BJ,kDAA9B,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACFA;AACA;AAEO,IAAMa,eAAb;AAAA;;AAAA;;AAEE,2BAAYvc,EAAZ,EAAgB;AAAA;;AAAA;;AACd,8BAAMqW,uDAAK,CAACmG,SAAZ;AACA,UAAKxc,EAAL,GAAUA,EAAV;AAFc;AAGf;;AALH;AAAA;AAAA,+BAOc;AACV,UAAG,KAAKga,WAAR,EAAqB;AACnB,0BAAW,KAAKha,EAAhB;AACD,OAFD,MAEO;AACL,eAAO,KAAKA,EAAZ;AACD;AACF;AAbH;;AAAA;AAAA,EAAqCya,gDAArC,E;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEO,IAAMgC,YAAb;AAAA;AAAA;AAAA,iCACuBnT,KADvB,EAC8B;AAC1B,UAAMoT,UAAU,GAAGC,0EAAe,CAACC,eAAhB,EAAnB;AACA,aAAO,IAAIH,YAAJ,CAAiBnT,KAAjB,EAAwBoT,UAAxB,CAAP;AACD,KAJH,CAME;;AANF;AAAA;AAAA,wBAOqB;AACjB,aAAO,CAAP;AACD;AATH;AAAA;AAAA,wBAUyB;AACrB,aAAO,CAAP;AACD;AAZH;AAAA;AAAA,wBAawB;AACpB,aAAO,CAAP;AACD;AAfH;AAAA;AAAA,wBAgB0B;AACtB,aAAO,CAAP;AACD,KAlBH,CAmBE;;AAnBF;;AAqBE,wBAAapT,KAAb,EAAoBoT,UAApB,EAAgC;AAAA;;AAC9B,SAAKA,UAAL,GAAkBA,UAAlB;AACA,SAAKG,WAAL,GAAmB,IAAIC,wDAAJ,CAAgBxT,KAAhB,CAAnB;AACA,SAAK3N,KAAL,GAAa,IAAI+gB,UAAJ,CAAe,KAAKG,WAApB,CAAb;AACA,SAAKlhB,KAAL,CAAW2X,OAAX,GAAqByJ,oDAAA,CAAmBC,IAAnB,CAAwB,KAAKrhB,KAA7B,CAArB;AACA,SAAKshB,WAAL,GAAmB,IAAIC,8DAAJ,CAAsB,KAAKvhB,KAA3B,CAAnB;AACA,SAAKshB,WAAL,CAAiBE,IAAjB;AACA,SAAKC,GAAL,GAAW,CAAX;AACA,SAAKC,aAAL,GAAqB,CACnB,KAAKX,UAAL,CAAgBY,UADG,EAEnB,KAAKZ,UAAL,CAAgBa,OAFG,EAGnB,KAAKb,UAAL,CAAgBc,UAHG,EAInB,KAAKd,UAAL,CAAgBe,SAJG,EAKnB,KAAKf,UAAL,CAAgBgB,YALG,CAArB;AAOA,SAAKC,aAAL,GAAqB,KAAKN,aAAL,CAAmBO,MAAnB,CAA0B,KAAKlB,UAAL,CAAgBmB,OAA1C,CAArB;AACA,SAAKC,qBAAL,GAA6B,CAA7B;AACA,SAAKC,KAAL,GAAa,EAAb;AACA,SAAKliB,SAAL,GAAiB8gB,0EAAe,CAACqB,mBAAhB,EAAjB;AACA,SAAKC,oBAAL,GAA4B,EAA5B;AACA,SAAKC,qBAAL,GAA6B,EAA7B;AACD;;AA1CH;AAAA;AAAA,gCA4Ce;AACX,aAAO,KAAKC,YAAL,EAAP;AACD;AA9CH;AAAA;AAAA,+BAgD8B;AAAA,UAAlBxK,KAAkB,uEAAV,KAAKyJ,GAAK;AAC1B;AACA;AACA,aAAO,KAAKH,WAAL,CAAiBmB,EAAjB,CAAoBzK,KAApB,CAAP;AACD;AApDH;AAAA;AAAA,gCAsDeoK,KAtDf,EAsDsB;AAClB,UAAI,KAAKA,KAAL,CAAWzgB,MAAX,IAAqB,CAAzB,EAA4B;AAC1B,eAAOmf,YAAY,CAAC4B,IAAb,KAAsBN,KAA7B;AACD,OAFD,MAEO;AACL,eAAO,KAAKA,KAAL,CAAW,KAAKA,KAAL,CAAWzgB,MAAX,GAAoB,CAA/B,MAAsCygB,KAA7C;AACD;AACF;AA5DH;AAAA;AAAA,8BA8DaA,KA9Db,EA8DoB;AAChB,WAAKA,KAAL,CAAW1Z,IAAX,CAAgB0Z,KAAhB;AACD;AAhEH;AAAA;AAAA,wCAkEuB;AACnB,WAAKG,qBAAL,CAA2B7Z,IAA3B,CAAgC,EAAhC;AACD;AApEH;AAAA;AAAA,+BAsEc;AACV,aAAO,KAAK0Z,KAAL,CAAWO,GAAX,EAAP;AACD;AAxEH;AAAA;AAAA,uCA0EsB;AAClB,aAAO,KAAKJ,qBAAL,CAA2BI,GAA3B,EAAP;AACD;AA5EH;AAAA;AAAA,8CA8E6B;AACzB,aAAO,KAAKJ,qBAAL,CAA2B,KAAKA,qBAAL,CAA2B5gB,MAA3B,GAAoC,CAA/D,CAAP;AACD;AAhFH;AAAA;AAAA,4BAkFW;AACP,WAAKihB,QAAL,CAAc,KAAKnB,GAAnB;AACA,aAAO,KAAKH,WAAL,CAAiBuB,UAAxB;AACD;AArFH;AAAA;AAAA,mCAuFkB;AACd,WAAKC,eAAL;AACA,UAAM7G,KAAK,GAAG,KAAK2G,QAAL,EAAd;AACA,UAAIG,UAAU,GAAG,EAAjB;AACA,UAAIC,SAAS,GAAG,EAAhB;;AAEA,UAAI,KAAKjC,UAAL,CAAgBkC,UAAhB,KAA+BhH,KAAK,CAACra,IAAzC,EAA+C;AAC7C,aAAK6f,GAAL;AACA,aAAKqB,eAAL;AACA,aAAKI,cAAL;AACA,aAAKzB,GAAL;AACA,aAAK0B,iBAAL;;AACA,iBAAS;AACP,eAAKL,eAAL;;AACA,cAAM7G,MAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,cACE3G,MAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBqC,QAA/B,IACA,KAAKC,cAAL,CAAoBpH,MAApB,CAFF,EAGE;AACA8G,sBAAU,GAAGA,UAAU,CAACd,MAAX,CAAkB,KAAKqB,oBAAL,EAAlB,CAAb;AACD,WALD,MAKO,IAAIrH,MAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBwC,WAAnC,EAAgD;AACrD,iBAAKJ,iBAAL;AACAH,qBAAS,GAAGA,SAAS,CAACf,MAAV,CAAiB,KAAKuB,aAAL,EAAjB,CAAZ;AACA,iBAAKC,gBAAL;AACD,WAJM,MAIA;AACL;AACD;AACF;;AACD,aAAKX,eAAL;AACA,aAAKY,eAAL;AACA,aAAKjC,GAAL;AACA,aAAKqB,eAAL;;AACA,YAAI,CAAC,KAAKa,KAAL,EAAL,EAAmB;AACjB,gBAAMpL,6EAAkB,CAACwD,WAAnB,EAAN;AACD;;AACD,aAAK0H,gBAAL;AACA,eAAO;AAAEG,gBAAM,EAAEb,UAAV;AAAsBC,mBAAS,EAAEA;AAAjC,SAAP;AACD,OA/BD,MA+BO;AACL,cAAMzK,6EAAkB,CAACyD,iBAAnB,CACJ,KAAKhc,KAAL,CAAW6jB,YAAX,CAAwB,KAAK9C,UAAL,CAAgBkC,UAAxC,CADI,EAEJhH,KAFI,CAAN;AAID;AACF;AAlIH;AAAA;AAAA,qCAoImC;AAAA,UAAjB6H,OAAiB,uEAAP,KAAO;AAC/B,UAAM7H,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI,KAAK7B,UAAL,CAAgBgD,UAAhB,KAA+B9H,KAAK,CAACra,IAAzC,EAA+C;AAC7C,YAAI,CAACkiB,OAAL,EAAc,MAAMvL,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CC,KAA1C,CAAN,CAAd,KACK,OAAO,KAAP;AACN;;AACD,aAAO,IAAP;AACD;AA3IH;AAAA;AAAA,sCA6IoC;AAAA,UAAjB6H,OAAiB,uEAAP,KAAO;AAChC,UAAM7H,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI,KAAK7B,UAAL,CAAgBiD,WAAhB,KAAgC/H,KAAK,CAACra,IAA1C,EAAgD;AAC9C,YAAI,CAACkiB,OAAL,EAAc,MAAMvL,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CC,KAA1C,CAAN,CAAd,KACK,OAAO,KAAP;AACN;;AACD,aAAO,IAAP;AACD;AAED;;;;;;;;;AAtJF;AAAA;AAAA,qCA8JmC;AAAA,UAAjB6H,OAAiB,uEAAP,KAAO;AAC/B,UAAM7H,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI,KAAK7B,UAAL,CAAgBkD,UAAhB,KAA+BhI,KAAK,CAACra,IAAzC,EAA+C;AAC7C,YAAI,CAACkiB,OAAL,EAAc;AACZ,gBAAMvL,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CC,KAA1C,CAAN;AACD,SAFD,MAEO;AACL,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD;AAxKH;AAAA;AAAA,sCA0KoC;AAAA,UAAjB6H,OAAiB,uEAAP,KAAO;AAChC,UAAM7H,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI,KAAK7B,UAAL,CAAgBmD,WAAhB,KAAgCjI,KAAK,CAACra,IAA1C,EAAgD;AAC9C,YAAI,CAACkiB,OAAL,EAAc;AACZ,gBAAMvL,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CC,KAA1C,CAAN;AACD,SAFD,MAEO;AACL,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD;AApLH;AAAA;AAAA,2CAsLyC;AAAA,UAAjB6H,OAAiB,uEAAP,KAAO;AACrC,UAAM7H,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI,KAAK7B,UAAL,CAAgBoD,gBAAhB,KAAqClI,KAAK,CAACra,IAA/C,EAAqD;AACnD,YAAI,CAACkiB,OAAL,EAAc;AACZ,gBAAMvL,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CC,KAA1C,CAAN;AACD,SAFD,MAEO;AACL,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD;AAhMH;AAAA;AAAA,4CAkM0C;AAAA,UAAjB6H,OAAiB,uEAAP,KAAO;AACtC,UAAM7H,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI,KAAK7B,UAAL,CAAgBqD,iBAAhB,KAAsCnI,KAAK,CAACra,IAAhD,EAAsD;AACpD,YAAI,CAACkiB,OAAL,EAAc;AACZ,gBAAMvL,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CC,KAA1C,CAAN;AACD,SAFD,MAEO;AACL,iBAAO,KAAP;AACD;AACF;;AACD,aAAO,IAAP;AACD;AA5MH;AAAA;AAAA,+BA8M6B;AAAA,UAAjB6H,OAAiB,uEAAP,KAAO;AACzB,UAAMO,QAAQ,GAAG,KAAKzB,QAAL,EAAjB;;AACA,UAAIyB,QAAQ,CAACziB,IAAT,KAAkB,KAAKmf,UAAL,CAAgBuD,GAAtC,EAA2C;AACzC,YAAI,CAACR,OAAL,EAAc,MAAMvL,6EAAkB,CAAC+D,WAAnB,CAA+B+H,QAA/B,CAAN,CAAd,KACK,OAAO,KAAP;AACN;;AACD,aAAO,IAAP;AACD;AArNH;AAAA;AAAA,2CAuN0BE,UAvN1B,EAuNsCC,WAvNtC,EAuNmD;AAC/C,UAAMngB,EAAE,GAAGkgB,UAAU,KAAK,IAAf,GAAsB,OAAtB,GAAgCA,UAA3C;AACA,UAAMvM,KAAK,GAAG,KAAKsK,oBAAL,CAA0B/X,OAA1B,CAAkClG,EAAlC,CAAd;;AACA,UAAI2T,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,cAAMO,6EAAkB,CAAC2E,kBAAnB,CAAsCsH,WAAtC,CAAN;AACD;;AACD,WAAKlC,oBAAL,CAA0B5Z,IAA1B,CAA+BrE,EAA/B;AACD;AA9NH;AAAA;AAAA,2CAgO0BogB,UAhO1B,EAgOsChL,UAhOtC,EAgOkD;AAC9C,UAAMzB,KAAK,GAAG,KAAK0M,uBAAL,GAA+Bna,OAA/B,CAAuCka,UAAvC,CAAd;;AACA,UAAIzM,KAAK,KAAK,CAAC,CAAf,EAAkB;AAChB,cAAMO,6EAAkB,CAAC6E,kBAAnB,CAAsC3D,UAAtC,CAAN;AACD;;AACD,WAAKiL,uBAAL,GAA+Bhc,IAA/B,CAAoC+b,UAApC;AACD;AAtOH;AAAA;AAAA,0CAwOyB;AACrB,UAAMJ,QAAQ,GAAG,KAAKzB,QAAL,EAAjB;;AACA,UAAIyB,QAAQ,CAACziB,IAAT,KAAkB,KAAKmf,UAAL,CAAgBuD,GAAlC,IAAyCD,QAAQ,CAAC1R,IAAT,CAAcyD,KAAd,CAAoB,GAApB,CAA7C,EAAuE;AACrE,aAAKqL,GAAL;AACA;AACD;;AACD,YAAMlJ,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CqI,QAA1C,CAAN;AACD;AA/OH;AAAA;AAAA,2CAiP0B;AACtB,UAAMM,IAAI,GAAG,KAAKC,eAAL,EAAb;AACA,WAAKC,QAAL;AACA,WAAKpD,GAAL;AACA,aAAOkD,IAAP;AACD;AAED;;;;;;AAxPF;AAAA;AAAA,sCA6PqB;AACjB,UAAMG,UAAU,GAAG,KAAKlC,QAAL,EAAnB;;AACA,UAAIkC,UAAU,CAACljB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBqC,QAAxC,EAAkD;AAChD,aAAK3B,GAAL;AACA,YAAMsD,UAAU,GAAG,KAAKC,SAAL,EAAnB;AACA,eAAO,KAAKC,gBAAL,CAAsBF,UAAtB,EAAkC,IAAlC,CAAP;AACD,OAJD,MAIO,IAAI,KAAK1B,cAAL,CAAoByB,UAApB,CAAJ,EAAqC;AAC1C,YAAMC,WAAU,GAAG,KAAKC,SAAL,EAAnB;;AACA,eAAO,KAAKC,gBAAL,CAAsBF,WAAtB,CAAP;AACD,OAHM,MAGA;AACL,cAAMxM,6EAAkB,CAAC2D,kBAAnB,CACJ,CAAC,KAAKlc,KAAL,CAAW6jB,YAAX,CAAwB,KAAK9C,UAAL,CAAgBqC,QAAxC,CAAD,EAAoDnB,MAApD,CACE,KAAKiD,YAAL,EADF,CADI,EAIJJ,UAJI,CAAN;AAMD;AACF;AAED;;;;;AAhRF;AAAA;AAAA,qCAoRoBC,UApRpB,EAoRiD;AAAA,UAAjB7L,OAAiB,uEAAP,KAAO;AAC7C,UAAID,OAAO,GAAG,IAAd;AACA,UAAIkM,IAAI,GAAG,IAAX;AACA,UAAIC,IAAI,GAAG,IAAX;AACA,UAAIC,UAAU,GAAG,CAAjB;AACA,UAAM5L,UAAU,GAAG6L,sDAAU,CAACC,gBAAX,CAA4B,KAAK3C,QAAL,EAA5B,CAAnB;AACA,UAAM4C,QAAQ,GAAG,KAAKC,OAAL,EAAjB;AACA,WAAKC,sBAAL,CAA4BF,QAA5B,EAAsC/L,UAAtC,EAP6C,CAQ7C;AACA;;AACA,UAAI,KAAKkM,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,aAAKlE,GAAL,IAAY,CAAZ;AACA,aAAKqB,eAAL;AACAqC,YAAI,GAAG,KAAKS,mBAAL,EAAP;AACA,aAAK9C,eAAL;AACA,aAAK+C,eAAL;AACA,aAAKpE,GAAL,IAAY,CAAZ;AACA4D,kBAAU,IAAI,CAAd;;AACA,YAAI,KAAKM,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,eAAKlE,GAAL,IAAY,CAAZ;AACA,eAAKqB,eAAL;AACAsC,cAAI,GAAG,KAAKQ,mBAAL,EAAP;AACA,eAAK9C,eAAL;AACA,eAAK+C,eAAL;AACA,eAAKpE,GAAL,IAAY,CAAZ;AACA4D,oBAAU,IAAI,CAAd;AACD;;AACD,eAAO,KAAKS,qBAAL,CACLf,UADK,EAEL7L,OAFK,EAGLsM,QAHK,EAIL/L,UAJK,EAKL4L,UALK,EAMLF,IANK,EAOLC,IAPK,CAAP;AASD,OA1BD,MA0BO;AACL,YAAMW,WAAW,GAAG,KAAKnD,QAAL,EAApB;;AACA,YAAI1J,OAAO,IAAI6M,WAAW,CAACnkB,IAAZ,KAAqB,KAAKmf,UAAL,CAAgBhO,KAApD,EAA2D;AACzD,gBAAMwF,6EAAkB,CAACyE,cAAnB,CAAkCvD,UAAlC,CAAN;AACD;;AACD,YAAIsM,WAAW,CAACnkB,IAAZ,KAAqB,KAAKmf,UAAL,CAAgBhO,KAAzC,EAAgD;AAC9C,eAAK0O,GAAL;AACAxI,iBAAO,GAAG,KAAK+M,iBAAL,EAAV;AACD;;AACD,YAAMC,WAAW,GAAG,IAAIC,qDAAJ,CAClBV,QADkB,EAElBT,UAFkB,EAGlB9L,OAHkB,EAIlBC,OAJkB,CAApB;AAMA+M,mBAAW,CAACxM,UAAZ,GAAyBA,UAAzB;AACA,YAAM0M,UAAU,GAAG,KAAKvD,QAAL,EAAnB;;AACA,YAAIuD,UAAU,CAACvkB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBqF,KAAxC,EAA+C;AAC7C,eAAK3E,GAAL;AACA,eAAKqB,eAAL;AACA,iBAAO,CAACmD,WAAD,EAAchE,MAAd,CAAqB,KAAKgD,gBAAL,CAAsBF,UAAtB,EAAkC7L,OAAlC,CAArB,CAAP;AACD,SAJD,MAIO;AACL,iBAAO,CAAC+M,WAAD,CAAP;AACD;AACF;AACF;AAjVH;AAAA;AAAA,0CAoVIlB,UApVJ,EAqVI7L,OArVJ,EAsVIsM,QAtVJ,EAuVI/L,UAvVJ,EAwVI4L,UAxVJ,EAyVIF,IAzVJ,EA0VIC,IA1VJ,EA2VI;AACA,UAAMW,WAAW,GAAG,KAAKnD,QAAL,EAApB;AACA,UAAIyD,OAAO,GAAGlB,IAAd;AACA,UAAImB,SAAS,GAAGlB,IAAhB;AACA,UAAInM,OAAO,GAAG,IAAd;AACA,UAAIsN,SAAS,GAAG,KAAhB;;AACA,UACEpB,IAAI,YAAYqB,4DAAhB,IACApB,IAAI,YAAYoB,4DAFlB,EAGE;AACAD,iBAAS,GAAG,IAAZ;;AACA,YAAIlB,UAAU,GAAG,CAAb,KAAmBF,IAAI,IAAI,IAAR,IAAgBC,IAAI,IAAI,IAA3C,CAAJ,EAAsD;AACpD,gBAAM7M,6EAAkB,CAACwF,2BAAnB,CACJuH,sDAAU,CAACC,gBAAX,CAA4BQ,WAA5B,CADI,CAAN;AAGD;AACF;;AACD,UAAI7M,OAAO,IAAI6M,WAAW,CAACnkB,IAAZ,KAAqB,KAAKmf,UAAL,CAAgBhO,KAApD,EAA2D;AACzD,cAAMwF,6EAAkB,CAACyE,cAAnB,CAAkCvD,UAAlC,CAAN;AACD;;AACD,UAAIsM,WAAW,CAACnkB,IAAZ,KAAqB,KAAKmf,UAAL,CAAgBhO,KAAzC,EAAgD;AAC9C,YAAIwT,SAAJ,EAAe;AACb,cAAIlB,UAAU,IAAI,CAAlB,EAAqB;AACnB,kBAAM9M,6EAAkB,CAACyF,mBAAnB,CACJsH,sDAAU,CAACC,gBAAX,CAA4BQ,WAA5B,CADI,CAAN;AAGD,WAJD,MAIO;AACL,kBAAMxN,6EAAkB,CAAC0F,mBAAnB,CACJqH,sDAAU,CAACC,gBAAX,CAA4BQ,WAA5B,CADI,CAAN;AAGD;AACF;;AACD,aAAKtE,GAAL,IAAY,CAAZ;AACAxI,eAAO,GAAG,KAAKwN,iBAAL,CAAuB1B,UAAvB,CAAV;AACD;;AACD,UAAI9L,OAAO,IAAI,IAAX,IAAmBkM,IAAI,IAAI,IAA/B,EAAqC;AACnC,YAAIE,UAAU,GAAG,CAAjB,EAAoB;AAClB,gBAAM9M,6EAAkB,CAACiF,wBAAnB,CAA4CgI,QAA5C,EAAsD/L,UAAtD,CAAN;AACD;;AACD,cAAMlB,6EAAkB,CAACmF,wBAAnB,CAA4C8H,QAA5C,EAAsD/L,UAAtD,CAAN;AACD;;AACD,UAAI4L,UAAU,GAAG,CAAjB,EAAoB;AAClB,YAAIpM,OAAO,IAAI,IAAX,IAAmBmM,IAAI,IAAI,IAA/B,EAAqC;AACnC,gBAAM7M,6EAAkB,CAACkF,0BAAnB,CACJ+H,QADI,EAEJ/L,UAFI,CAAN;AAID;AACF;;AAED,UAAI4L,UAAU,KAAK,CAAf,IAAoBpM,OAAO,IAAI,IAA/B,IAAuC,CAACA,OAAO,CAACyN,QAApD,EAA8D;AAC5D,YAAMC,SAAS,GAAG1N,OAAO,CAACtS,QAAR,EAAlB;AACA,cAAM4R,6EAAkB,CAACoF,6BAAnB,CACJ6H,QADI,EAEJmB,SAFI,EAGJ1N,OAAO,CAACQ,UAHJ,CAAN;AAKD,OAPD,MAOO,IAAI4L,UAAU,GAAG,CAAb,IAAkBpM,OAAO,IAAI,IAA7B,IAAqCA,OAAO,CAACyN,QAAjD,EAA2D;AAChE,YAAMC,UAAS,GAAG1N,OAAO,CAACtS,QAAR,EAAlB;;AACA,cAAM4R,6EAAkB,CAACqF,6BAAnB,CACJ4H,QADI,EAEJmB,UAFI,EAGJ1N,OAAO,CAACQ,UAHJ,CAAN;AAKD;;AAED,UAAI0L,IAAI,IAAI,IAAZ,EAAkB;AAChBkB,eAAO,GAAG,IAAIG,uDAAJ,CAA2BI,yDAAA,CAAc3N,OAAO,CAACF,KAAtB,CAA3B,CAAV;AACAsN,eAAO,CAAC5M,UAAR,GAAqBA,UAArB;AACD;;AAED,UAAI4L,UAAU,GAAG,CAAjB,EAAoB;AAClB,YAAID,IAAI,IAAI,IAAZ,EAAkB;AAChBkB,mBAAS,GAAG,IAAIE,uDAAJ,CAA2BI,yDAAA,CAAc3N,OAAO,CAACD,OAAtB,CAA3B,CAAZ;AACAsN,mBAAS,CAAC7M,UAAV,GAAuBA,UAAvB;AACD;AACF;;AACD,UAAMwM,WAAW,GAAG,IAAIC,0DAAJ,CAClBV,QADkB,EAElB,IAAIqB,gEAAJ,CAAc9B,UAAd,EAA0BM,UAA1B,CAFkB,EAGlBgB,OAHkB,EAIlBC,SAJkB,EAKlBrN,OALkB,EAMlBC,OANkB,CAApB;AAQA+M,iBAAW,CAACxM,UAAZ,GAAyBA,UAAzB;AACA,UAAM0M,UAAU,GAAG,KAAKvD,QAAL,EAAnB;;AACA,UAAIuD,UAAU,CAACvkB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBqF,KAAxC,EAA+C;AAC7C,aAAK3E,GAAL;AACA,aAAKqB,eAAL;AACA,eAAO,CAACmD,WAAD,EAAchE,MAAd,CAAqB,KAAKgD,gBAAL,CAAsBF,UAAtB,EAAkC7L,OAAlC,CAArB,CAAP;AACD,OAJD,MAIO;AACL,eAAO,CAAC+M,WAAD,CAAP;AACD;AACF;AAzbH;AAAA;AAAA,sCA2bqB;AACjB,UAAIhK,KAAK,GAAG,KAAK2G,QAAL,EAAZ;;AACA,aAAO3G,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBuD,GAA/B,IAAsCrI,KAAK,CAACtJ,IAAN,CAAWyD,KAAX,CAAiB,SAAjB,CAA7C,EAA0E;AACxE,aAAKqL,GAAL;AACAxF,aAAK,GAAG,KAAK2G,QAAL,EAAR;AACD;AACF;AAjcH;AAAA;AAAA,mCAmckB3G,KAnclB,EAmcyB;AACrB,aAAO,KAAKyF,aAAL,CAAmBoF,IAAnB,CAAwB,UAAChH,CAAD;AAAA,eAAOA,CAAC,KAAK7D,KAAK,CAACra,IAAnB;AAAA,OAAxB,CAAP;AACD;AAED;;;;;AAvcF;AAAA;AAAA,0CA2cyB;AACrB,UAAMmlB,QAAQ,GAAG,KAAKnE,QAAL,EAAjB;;AACA,UAAImE,QAAQ,CAACnlB,IAAT,KAAkB,KAAKmf,UAAL,CAAgBV,OAAtC,EAA+C;AAC7C;AACA,aAAKoB,GAAL;AACA,eAAO,KAAKuF,aAAL,CAAmBD,QAAnB,CAAP;AACD,OAJD,MAIO,IAAIA,QAAQ,CAACnlB,IAAT,KAAkB,KAAKmf,UAAL,CAAgBkG,EAAtC,EAA0C;AAC/C;AACA,aAAKxF,GAAL;AACA,eAAO,KAAKyF,aAAL,CAAmBH,QAAnB,CAAP;AACD,OAJM,MAIA,IAAIA,QAAQ,CAACnlB,IAAT,KAAkB,KAAKmf,UAAL,CAAgBmD,WAAtC,EAAmD;AACxD,eAAO,IAAP;AACD,OAFM,MAEA;AACL,cAAM3L,6EAAkB,CAACgE,uBAAnB,CACJ,KAAKvc,KAAL,CAAW6jB,YAAX,CAAwB,KAAK9C,UAAL,CAAgBY,UAAxC,CADI,EAEJoF,QAFI,CAAN;AAID;AACF;AAED;;;;;;AA/dF;AAAA;AAAA,kCAoeiB9K,KApejB,EAoewB;AACpB,UAAMtJ,IAAI,GAAGsJ,KAAK,CAACtJ,IAAnB;AACA,UAAM8G,UAAU,GAAG6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAnB;AACA,UAAMsB,GAAG,GAAG,IAAIiJ,uDAAJ,CAA2BI,yDAAA,CAAcjU,IAAd,CAA3B,CAAZ;AACA4K,SAAG,CAAC9D,UAAJ,GAAiBA,UAAjB;AACA,aAAO8D,GAAP;AACD;AA1eH;AAAA;AAAA,mCA4ekBtB,KA5elB,EA4eyB;AACrB,UAAMxC,UAAU,GAAG6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAnB;AACA,UAAMsB,GAAG,GAAG,IAAIiJ,wDAAJ,CAA4BI,0DAAA,CAAe3K,KAAK,CAACtJ,IAArB,CAA5B,CAAZ;AACA4K,SAAG,CAAC9D,UAAJ,GAAiBA,UAAjB;AACA,aAAO8D,GAAP;AACD;AAjfH;AAAA;AAAA,qCAmfoBtB,KAnfpB,EAmf2B;AACvB,UAAMtJ,IAAI,GAAGsJ,KAAK,CAACtJ,IAAnB;AACA,UAAM8G,UAAU,GAAG6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAnB;AACA,UAAMsB,GAAG,GAAG,IAAIiJ,0DAAJ,CAA8BI,4DAAA,CAAiBjU,IAAjB,CAA9B,CAAZ;AACA4K,SAAG,CAAC9D,UAAJ,GAAiBA,UAAjB;AACA,aAAO8D,GAAP;AACD;AAzfH;AAAA;AAAA,mCA2fkBtB,KA3flB,EA2fyB;AACrB,UAAMtJ,IAAI,GAAGsJ,KAAK,CAACtJ,IAAnB;AACA,UAAM4K,GAAG,GAAG,IAAIiJ,wDAAJ,CAA4BI,0DAAA,CAAejU,IAAf,CAA5B,CAAZ;AACA4K,SAAG,CAAC9D,UAAJ,GAAiB6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAjB;AACA,aAAOsB,GAAP;AACD;AAhgBH;AAAA;AAAA,mCAkgBkBtB,KAlgBlB,EAkgByB;AACrB,UAAMjJ,GAAG,GAAG4T,0DAAA,CAAe3K,KAAK,CAACtJ,IAArB,CAAZ;AACA,UAAM4K,GAAG,GAAG,IAAIiJ,wDAAJ,CAA4BxT,GAA5B,CAAZ;AACAuK,SAAG,CAAC9D,UAAJ,GAAiB6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAjB;AACA,aAAOsB,GAAP;AACD;AAvgBH;AAAA;AAAA,sCAygBqBwH,UAzgBrB,EAygBiC;AAC7B,UAAMoC,SAAS,GAAG,KAAKjE,cAAL,CAAoB,IAApB,CAAlB;;AACA,UAAI,CAACiE,SAAL,EAAgB;AACd,YAAMC,aAAa,GAAG,KAAKxE,QAAL,EAAtB;AACA,cAAMrK,6EAAkB,CAACsF,sBAAnB,CACJyH,sDAAU,CAACC,gBAAX,CAA4B6B,aAA5B,CADI,CAAN;AAGD;;AACD,UAAMC,UAAU,GAAG,KAAKzE,QAAL,EAAnB;;AACA,UAAI,KAAKT,qBAAL,IAA8B,CAAlC,EAAqC;AACnC,cAAM5J,6EAAkB,CAACuF,gBAAnB,CACJwH,sDAAU,CAACC,gBAAX,CAA4B8B,UAA5B,CADI,CAAN;AAGD;;AACD,WAAK5F,GAAL,IAAY,CAAZ;AACA,WAAKU,qBAAL,IAA8B,CAA9B;AACA,WAAKW,eAAL;AACA,UAAItgB,IAAI,GAAG,IAAX;AACA,UAAM8kB,cAAc,GAAG,KAAKpE,cAAL,CAAoB,IAApB,CAAvB;;AACA,UAAIoE,cAAJ,EAAoB;AAClB;AACA9kB,YAAI,GAAG,KAAK+kB,eAAL,CAAqBxC,UAArB,CAAP;AACD,OAHD,MAGO;AACLviB,YAAI,GAAG,KAAKglB,mBAAL,EAAP;AACD;;AACD,WAAK1E,eAAL;AACA,WAAKY,eAAL;AACA,UAAM+D,QAAQ,GAAG,KAAK7E,QAAL,EAAjB;AACA,WAAKnB,GAAL,IAAY,CAAZ;AACA,WAAKU,qBAAL,IAA8B,CAA9B;AACA,UAAM1I,UAAU,GAAG6L,sDAAU,CAACoC,wBAAX,CACjBL,UADiB,EAEjBI,QAFiB,CAAnB;AAIA,UAAIE,OAAO,GAAG,CAAd;;AACA,UAAInlB,IAAI,CAAC,CAAD,CAAJ,YAAmBgkB,yDAAvB,EAAiD;AAC/CmB,eAAO,IAAI,CAAX;AACD,OAFD,MAEO,IAAInlB,IAAI,CAACb,MAAL,IAAe,CAAnB,EAAsB;AAC3BN,eAAO,CAACC,GAAR,CAAY,2CAAZ;AACD;;AACD,UAAMM,IAAI,GAAG,IAAIilB,gEAAJ,CAAc9B,UAAd,EAA0B4C,OAA1B,CAAb;AACA,UAAMpK,GAAG,GAAG,IAAIiJ,yDAAJ,CAA6B5kB,IAA7B,EAAmCY,IAAnC,CAAZ;AACA+a,SAAG,CAAC9D,UAAJ,GAAiBA,UAAjB;AACA,aAAO8D,GAAP;AACD;AAED;;;;AAvjBF;AAAA;AAAA,oCA0jBmBwH,UA1jBnB,EA0jB+B;AAC3B,UAAMrU,IAAI,GAAG,EAAb;AACA,UAAIkX,QAAQ,GAAG,IAAf;;AACA,eAAS;AACP,aAAK1E,cAAL;AACA,YAAMmE,UAAU,GAAG,KAAKzE,QAAL,EAAnB;;AACA,YAAI,KAAKT,qBAAL,IAA8B,CAAlC,EAAqC;AACnC,gBAAM5J,6EAAkB,CAACuF,gBAAnB,CACJwH,sDAAU,CAACC,gBAAX,CAA4B8B,UAA5B,CADI,CAAN;AAGD;;AACD,aAAK5F,GAAL,IAAY,CAAZ;AACA,aAAKU,qBAAL,IAA8B,CAA9B;AACA,aAAKW,eAAL;AACA,YAAMtgB,IAAI,GAAG,KAAKglB,mBAAL,EAAb;AACA,aAAK1E,eAAL;AACA,aAAKY,eAAL;AACA,YAAM+D,QAAQ,GAAG,KAAK7E,QAAL,EAAjB;AACA,aAAKnB,GAAL,IAAY,CAAZ;AACA,aAAKU,qBAAL,IAA8B,CAA9B;AACA,YAAM1I,UAAU,GAAG6L,sDAAU,CAACoC,wBAAX,CACjBL,UADiB,EAEjBI,QAFiB,CAAnB;;AAIA,YAAIG,QAAQ,IAAI,IAAhB,EAAsB;AACpBA,kBAAQ,GAAGplB,IAAI,CAACb,MAAhB;AACD,SAFD,MAEO,IAAIimB,QAAQ,KAAKplB,IAAI,CAACb,MAAtB,EAA8B;AACnC,cAAMglB,SAAS,GAAG,KAAKzF,WAAL,CAAiBjJ,OAAjB,CAChBoP,UAAU,CAACzP,KADK,EAEhB6P,QAAQ,CAAC3P,IAFO,CAAlB;AAIA,gBAAMS,6EAAkB,CAAC+E,2BAAnB,CACJqJ,SADI,EAEJlN,UAFI,CAAN;AAID;;AACD,YAAM7X,IAAI,GAAG,IAAIilB,gEAAJ,CAAc9B,UAAd,EAA0B,CAA1B,CAAb;AACA,YAAMxH,GAAG,GAAG,IAAIiJ,yDAAJ,CAA6B5kB,IAA7B,EAAmCY,IAAnC,CAAZ;AACA+a,WAAG,CAAC9D,UAAJ,GAAiBA,UAAjB;AACA/I,YAAI,CAAChI,IAAL,CAAU6U,GAAV;AACA,YAAM4I,UAAU,GAAG,KAAKvD,QAAL,EAAnB;;AACA,YAAIuD,UAAU,CAACvkB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBqF,KAAxC,EAA+C;AAC7C;AACD;;AACD,aAAK3E,GAAL,IAAY,CAAZ;AACA,aAAKqB,eAAL;AACD;;AACD,UAAIpS,IAAI,CAAC/O,MAAL,IAAe,CAAnB,EAAsB;AACpBN,eAAO,CAACC,GAAR,CAAY,uCAAZ;AACD;;AACD,aAAOoP,IAAP;AACD;AAED;;;;;AA/mBF;AAAA;AAAA,kCAmnBiBuL,KAnnBjB,EAmnBwB;AACpB,UAAMxC,UAAU,GAAG6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAnB;AACA,UAAMsB,GAAG,GAAG,IAAIiJ,4DAAJ,CAAgCvK,KAAK,CAACtJ,IAAtC,CAAZ;AACA4K,SAAG,CAAC9D,UAAJ,GAAiBA,UAAjB;AACA,aAAO8D,GAAP;AACD;AAED;;;;;;AA1nBF;AAAA;AAAA,oCA+nBmB;AACf,WAAKsK,SAAL,CAAe/G,YAAY,CAACgH,QAA5B;AACA,UAAIC,YAAY,GAAG,EAAnB;AACA,UAAM9L,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI3G,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBwC,WAAnC,EAAgD;AAC9C;AACA,eAAO,IAAP;AACD;;AACD,WAAK9B,GAAL;AACA,UAAMuG,OAAO,GAAG,KAAKhD,SAAL,EAAhB;AACA,UAAIK,UAAU,GAAG,CAAjB;;AACA,UAAI,KAAKM,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,aAAKlE,GAAL;AACA,aAAKoE,eAAL;AACA,aAAKpE,GAAL;AACA4D,kBAAU;;AACV,YAAI,KAAKM,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,eAAKlE,GAAL;AACA,eAAKoE,eAAL;AACA,eAAKpE,GAAL;AACA4D,oBAAU;AACX;AACF;;AACD,UAAMb,WAAW,GAAG,KAAK5B,QAAL,EAApB;AACA,UAAM2B,UAAU,GAAG,KAAKkB,OAAL,EAAnB;AACA,WAAKwC,sBAAL,CAA4B1D,UAA5B,EAAwCC,WAAxC;AACA,WAAK0D,oBAAL;AACA,WAAKzG,GAAL;AACA,WAAKqB,eAAL;;AACA,UAAI,CAAC,KAAKqF,qBAAL,CAA2B,IAA3B,CAAL,EAAuC;AACrCJ,oBAAY,GAAG,KAAKK,qBAAL,EAAf,CADqC,CACQ;;AAC7C,aAAKtF,eAAL;AACA,aAAKqF,qBAAL;AACA,aAAK1G,GAAL;AACD,OALD,MAKO;AACL,aAAKA,GAAL;AACD;;AACD,WAAKqB,eAAL;AACA,UAAMuF,aAAa,GAAG,KAAKC,iBAAL,EAAtB;AACA,UAAIjO,UAAU,GAAG2N,OAAjB;;AACA,UAAI3C,UAAU,GAAG,CAAjB,EAAoB;AAClBhL,kBAAU,GAAG,IAAIwM,gEAAJ,CAAcmB,OAAd,EAAuB3C,UAAvB,CAAb;AACD;;AACD,UAAMkD,IAAI,GAAG,IAAIrC,kDAAJ,CACX3B,UADW,EAEXlK,UAFW,EAGX0N,YAHW,EAIXM,aAJW,CAAb;;AAMA,UAAI9D,UAAU,KAAK,IAAf,IAAuB,CAACgE,IAAI,CAACC,MAAjC,EAAyC;AACvC,cAAMjQ,6EAAkB,CAACmE,mBAAnB,CACJ+C,oFAAuB,CAACC,mBAAxB,EADI,EAEJ,KAAK1f,KAAL,CAAW6jB,YAAX,CAAwB,KAAK9C,UAAL,CAAgBmB,OAAxC,CAFI,EAGJjG,KAAK,CAAC9D,IAHF,CAAN;AAKD,OAND,MAMO,IAAIoQ,IAAI,CAACC,MAAL,IAAeT,YAAY,CAACpmB,MAAb,KAAwB,CAA3C,EAA8C;AACnD,cAAM4W,6EAAkB,CAAC4E,eAAnB,EAAN;AACD;;AACD,WAAKsL,QAAL;AACA,aAAOF,IAAP;AACD;AAED;;;;;AA7rBF;AAAA;AAAA,4CAisB2B;AACvB,UAAM7X,IAAI,GAAG,EAAb;;AACA,eAAS;AACP,YAAI2U,UAAU,GAAG,CAAjB;AACA,YAAIqD,SAAS,GAAG,KAAhB;AACA,YAAM3D,UAAU,GAAG,KAAKC,SAAL,EAAnB;AACA,YAAI2D,YAAY,GAAG,KAAK/F,QAAL,EAAnB;;AACA,YAAI+F,YAAY,CAAC/mB,IAAb,KAAsB,KAAKmf,UAAL,CAAgB6H,YAA1C,EAAwD;AACtDF,mBAAS,GAAG,IAAZ;AACA,eAAKjH,GAAL,IAAY,CAAZ;AACAkH,sBAAY,GAAG,KAAK/F,QAAL,EAAf;AACD;;AACD,YAAM4C,QAAQ,GAAG,KAAKC,OAAL,EAAjB;AACA,aAAKC,sBAAL,CAA4BF,QAA5B,EAAsCmD,YAAtC;;AACA,YAAI,KAAKhD,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,eAAKlE,GAAL,IAAY,CAAZ;AACA4D,oBAAU,IAAI,CAAd;AACA,eAAKQ,eAAL;AACA,eAAKpE,GAAL,IAAY,CAAZ;;AACA,cAAI,KAAKkE,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,iBAAKlE,GAAL,IAAY,CAAZ;AACA4D,sBAAU,IAAI,CAAd;AACA,iBAAKQ,eAAL;AACA,iBAAKpE,GAAL,IAAY,CAAZ;AACD;AACF;;AACD,YAAI7f,IAAI,GAAG,IAAX;;AACA,YAAIyjB,UAAU,GAAG,CAAjB,EAAoB;AAClBzjB,cAAI,GAAG,IAAIilB,gEAAJ,CAAc9B,UAAd,EAA0BM,UAA1B,CAAP;AACD,SAFD,MAEO;AACLzjB,cAAI,GAAGmjB,UAAP;AACD;;AACD,YAAM8D,SAAS,GAAG,IAAI3C,yDAAJ,CAA6BtkB,IAA7B,EAAmC4jB,QAAnC,EAA6CkD,SAA7C,CAAlB;AACAG,iBAAS,CAACpP,UAAV,GAAuB6L,sDAAU,CAACC,gBAAX,CAA4BoD,YAA5B,CAAvB;AACAjY,YAAI,CAAChI,IAAL,CAAUmgB,SAAV;AACA,YAAM1C,UAAU,GAAG,KAAKvD,QAAL,EAAnB;AACA,YAAIuD,UAAU,CAACvkB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBqF,KAAxC,EAA+C;AAC/C,aAAK3E,GAAL;AACA,aAAKqB,eAAL;AACD;;AACD,aAAOpS,IAAP;AACD;AA1uBH;AAAA;AAAA,8BA4uBa;AACT,UAAMuL,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI3G,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBkG,EAAnC,EAAuC;AACrC,cAAM1O,6EAAkB,CAAC8D,UAAnB,CAA8BJ,KAA9B,CAAN;AACD;;AACD,WAAKwF,GAAL;;AACA,UAAI,KAAKqH,WAAL,CAAiBhI,YAAY,CAACgH,QAA9B,CAAJ,EAA6C;AAC3C,YAAI7L,KAAK,CAACtJ,IAAN,KAAe8M,oFAAuB,CAACC,mBAAxB,EAAnB,EAAkE;AAChE,iBAAO,IAAP;AACD;AACF;;AACD,aAAOzD,KAAK,CAACtJ,IAAb;AACD;AAxvBH;AAAA;AAAA,sCA0vBqB;AACjB,UAAMsJ,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UACE3G,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBkG,EAA/B,IACAhL,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBgI,MAFjC,EAGE;AACA,cAAMxQ,6EAAkB,CAAC8D,UAAnB,CAA8BJ,KAA9B,CAAN;AACD;;AACD,WAAKwF,GAAL;AACA,aAAOxF,KAAK,CAACtJ,IAAb;AACD;AApwBH;AAAA;AAAA,gCAswBe;AACX,UAAMsJ,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UACE3G,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBkG,EAA/B,IACA,KAAK6B,WAAL,CAAiBhI,YAAY,CAACgH,QAA9B,CAFF,EAGE;AACA,eAAOpN,uDAAK,CAACC,IAAb;AACD,OALD,MAKO,IACLsB,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBmB,OAA/B,IACA,KAAK4G,WAAL,CAAiBhI,YAAY,CAACgH,QAA9B,CAFK,EAGL;AACA,aAAKrG,GAAL;AACA,eAAO/G,uDAAK,CAACC,IAAb;AACD,OANM,MAMA,IAAI,KAAK0I,cAAL,CAAoBpH,KAApB,CAAJ,EAAgC;AACrC,aAAKwF,GAAL;;AACA,gBAAQxF,KAAK,CAACra,IAAd;AACE,eAAK,KAAKmf,UAAL,CAAgBY,UAArB;AACE,mBAAOjH,uDAAK,CAAC2F,OAAb;;AACF,eAAK,KAAKU,UAAL,CAAgBc,UAArB;AACE,mBAAOnH,uDAAK,CAACsE,OAAb;;AACF,eAAK,KAAK+B,UAAL,CAAgBa,OAArB;AACE,mBAAOlH,uDAAK,CAAC8F,IAAb;;AACF,eAAK,KAAKO,UAAL,CAAgBe,SAArB;AACE,mBAAOpH,uDAAK,CAACgG,MAAb;;AACF,eAAK,KAAKK,UAAL,CAAgBgB,YAArB;AACE,mBAAOrH,uDAAK,CAACyE,IAAb;;AACF;AACE;AAZJ;AAcD;;AAED,YAAM5G,6EAAkB,CAACwE,YAAnB,CAAgC,KAAKmI,YAAL,EAAhC,EAAqDjJ,KAArD,CAAN;AACD;AAtyBH;AAAA;AAAA,wCAwyB4C;AAAA,UAAvB+M,aAAuB,uEAAP,KAAO;AACxC,UAAIC,aAAa,GAAG,EAApB;AACA,UAAM1P,QAAQ,GAAG,EAAjB;AACA,UAAI2P,OAAO,GAAG,KAAd;;AACA,UAAI,KAAKhG,cAAL,CAAoB8F,aAApB,CAAJ,EAAwC;AACtC,aAAKvH,GAAL;AACAyH,eAAO,GAAG,IAAV;AACD;;AACD,WAAKpG,eAAL;AACA,UAAIqG,aAAa,GAAG,KAApB;;AACA,eAAS;AACP,YAAMC,GAAG,GAAG,KAAKC,YAAL,EAAZ;AACA,YAAID,GAAG,KAAK,IAAZ,EAAkB;;AAClB,YAAIA,GAAG,KAAK,CAAC,CAAb,EAAgB;AACd,cAAIA,GAAG,YAAYE,KAAnB,EAA0B;AACxB,gBAAIH,aAAJ,EAAmB;AACjB,kBAAMI,SAAS,GAAG,KAAK3G,QAAL,CAAc,KAAKnB,GAAL,GAAW,CAAzB,CAAlB;AACA,oBAAMlJ,6EAAkB,CAACoE,uBAAnB,CAA2C4M,SAA3C,CAAN;AACD;;AACDN,yBAAa,GAAGA,aAAa,CAAChH,MAAd,CAAqBmH,GAArB,CAAhB;AACD,WAND,MAMO;AACLD,yBAAa,GAAG,IAAhB;AACA5P,oBAAQ,CAAC7Q,IAAT,CAAc0gB,GAAd;AACD;AACF;AACF;;AACD,WAAKtG,eAAL;;AACA,UAAIoG,OAAJ,EAAa;AACX,aAAKxF,eAAL;AACA,aAAKjC,GAAL;AACA,aAAKqB,eAAL;AACD;;AACD,aAAO,IAAIoD,sDAAJ,CAA0B+C,aAA1B,EAAyC1P,QAAzC,CAAP;AACD;AAz0BH;AAAA;AAAA,mCA20BkB;AACd,UAAM0C,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI,KAAKS,cAAL,CAAoBpH,KAApB,CAAJ,EAAgC;AAC9B,YAAI,CAAC,KAAK6M,WAAL,CAAiBhI,YAAY,CAACgH,QAA9B,CAAL,EAA8C;AAC5C,gBAAMvP,6EAAkB,CAACoE,uBAAnB,CAA2CV,KAA3C,CAAN;AACD;;AACD,aAAK4L,SAAL,CAAe/G,YAAY,CAAC4B,IAA5B;AACA,YAAM8G,OAAO,GAAG,KAAKxE,SAAL,EAAhB;AACA,aAAKyD,QAAL;AACA,YAAMW,GAAG,GAAG,KAAKnE,gBAAL,CAAsBuE,OAAtB,CAAZ;AACA,aAAK3E,QAAL;AACA,aAAKpD,GAAL;AACA,eAAO2H,GAAP;AACD,OAXD,MAWO,IAAInN,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBkG,EAAnC,EAAuC;AAC5C,eAAO,KAAKwC,cAAL,EAAP;AACD,OAFM,MAEA,IAAIxN,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBgI,MAAnC,EAA2C;AAChD,eAAO,KAAKU,cAAL,EAAP;AACD,OAFM,MAEA,IAAIxN,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgB2I,SAAnC,EAA8C;AACnD,eAAO,KAAKC,WAAL,EAAP;AACD,OAFM,MAEA,IACL1N,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgB6I,QAA/B,IACA3N,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgB8I,YAF1B,EAGL;AACA,eAAO,KAAKC,UAAL,EAAP;AACD,OALM,MAKA,IACL7N,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBgJ,MAA/B,IACA9N,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBiJ,UAF1B,EAGL;AACA,eAAO,KAAKC,QAAL,EAAP;AACD,OALM,MAKA,IAAIhO,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBmJ,QAAnC,EAA6C;AAClD,YAAI,CAAC,KAAKpB,WAAL,CAAiBhI,YAAY,CAACqJ,SAA9B,CAAL,EAA+C;AAC7C,gBAAM5R,6EAAkB,CAACqE,qBAAnB,CACJ,KAAK5c,KAAL,CAAW6jB,YAAX,CAAwB,KAAK9C,UAAL,CAAgBmJ,QAAxC,CADI,EAEJjO,KAFI,CAAN;AAID;;AACD,eAAO,KAAKmO,UAAL,EAAP;AACD,OARM,MAQA,IAAInO,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBsJ,SAAnC,EAA8C;AACnD,eAAO,KAAKC,eAAL,EAAP;AACD,OAFM,MAEA,IAAIrO,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgBwJ,KAAnC,EAA0C;AAC/C,eAAO,KAAKC,gBAAL,EAAP;AACD,OAFM,MAEA,IAAIvO,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgB0J,KAAnC,EAA0C;AAC/C,eAAO,KAAKC,eAAL,EAAP;AACD,OAFM,MAEA,IAAI,KAAK7F,QAAL,CAAc,IAAd,CAAJ,EAAyB;AAC9B,aAAKpD,GAAL;AACA,eAAO,CAAC,CAAR;AACD,OAHM,MAGA;AACL,eAAO,IAAP;AACD;AACF;AA53BH;AAAA;AAAA,sCA83BqB;AACjB,WAAKoG,SAAL,CAAe/G,YAAY,CAACqJ,SAA5B;AACA,WAAK1I,GAAL;AACA,WAAKyG,oBAAL;AACA,WAAKzG,GAAL;AACA,WAAKqB,eAAL;AACA,UAAMvF,GAAG,GAAG,KAAKyI,iBAAL,EAAZ;AACA,WAAKlD,eAAL;AACA,WAAKqF,qBAAL;AACA,WAAK1G,GAAL;AACA,WAAKqB,eAAL;AACA,WAAKI,cAAL;AACA,WAAKzB,GAAL;AACA,WAAKqB,eAAL;AACA,UAAM6H,SAAS,GAAG,KAAKC,UAAL,EAAlB;AACA,WAAK9H,eAAL;AACA,WAAKY,eAAL;AACA,WAAKjC,GAAL;AACA,WAAKqB,eAAL;AAEA,WAAK2F,QAAL;AACA,aAAO,IAAIvC,gDAAJ,CAAoB3I,GAApB,EAAyBoN,SAAzB,CAAP;AACD;AAp5BH;AAAA;AAAA,uCAs5BsB;AAClB,WAAKlJ,GAAL;AACA,WAAKqB,eAAL;AACA,WAAK+E,SAAL,CAAe/G,YAAY,CAACqJ,SAA5B;AACA,UAAM9B,aAAa,GAAG,KAAKC,iBAAL,EAAtB;AACA,WAAKxF,eAAL,GALkB,CAKM;;AACxB,UAAM+H,UAAU,GAAG,KAAKjI,QAAL,EAAnB;;AACA,UAAIiI,UAAU,CAACjpB,IAAX,KAAoB,KAAKmf,UAAL,CAAgB+J,WAAxC,EAAqD;AACnD,cAAMvS,6EAAkB,CAACyD,iBAAnB,CACJ,KAAKhc,KAAL,CAAW6jB,YAAX,CAAwB,KAAK9C,UAAL,CAAgB+J,WAAxC,CADI,EAEJD,UAFI,CAAN;AAID;;AACD,WAAKpJ,GAAL;AACA,WAAKyG,oBAAL;AACA,WAAKzG,GAAL;AACA,WAAKqB,eAAL;AACA,UAAMjI,SAAS,GAAG,KAAKmL,iBAAL,EAAlB;AACA,WAAKlD,eAAL;AACA,WAAKqF,qBAAL;AACA,WAAK1G,GAAL;AACA,WAAKoD,QAAL;AACA,WAAK4D,QAAL;AACA,aAAO,IAAIvC,qDAAJ,CAAyBrL,SAAzB,EAAoCwN,aAApC,CAAP;AACD;AA96BH;AAAA;AAAA,sCAg7BqB;AACjB,UAAI,KAAKS,WAAL,CAAiBhI,YAAY,CAACqJ,SAA9B,CAAJ,EAA8C;AAC5C,aAAKtC,SAAL,CAAe/G,YAAY,CAACqJ,SAA5B;AACD,OAFD,MAEO;AACL,aAAKtC,SAAL,CAAe/G,YAAY,CAACiK,OAA5B;AACD;;AACD,UAAM9O,KAAK,GAAG,KAAK2G,QAAL,EAAd;AACA,WAAKnB,GAAL;AACA,WAAKyG,oBAAL;AACA,WAAKzG,GAAL;AACA,WAAKqB,eAAL;AACA,UAAMkI,iBAAiB,GAAG,KAAKhF,iBAAL,EAA1B;AACA,WAAKlD,eAAL;AACA,WAAKqF,qBAAL;AACA,WAAK1G,GAAL;AACA,WAAKqB,eAAL;AACA,UAAMmI,SAAS,GAAG,KAAK3C,iBAAL,EAAlB;AAEA,UAAM4C,SAAS,GAAG,KAAKtI,QAAL,EAAlB;;AACA,UAAIsI,SAAS,CAACtpB,IAAV,KAAmB,KAAKmf,UAAL,CAAgBoK,OAAvC,EAAgD;AAC9C,aAAK1J,GAAL;AACA,aAAKqB,eAAL;AACA,YAAMsI,OAAO,GAAG,KAAKxI,QAAL,EAAhB;AACA,YAAIyI,SAAS,GAAG,IAAhB;;AACA,YAAI,KAAKnI,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7BmI,mBAAS,GAAG,KAAK/C,iBAAL,EAAZ;AACD,SAFD,MAEO,IAAI8C,OAAO,CAACxpB,IAAR,KAAiB,KAAKmf,UAAL,CAAgB0J,KAArC,EAA4C;AACjDY,mBAAS,GAAG,KAAKX,eAAL,EAAZ;AACD,SAFM,MAEA;AACL,gBAAMnS,6EAAkB,CAAC2D,kBAAnB,CACJ,CAAC,KAAKlc,KAAL,CAAW6jB,YAAX,CAAwB,KAAK9C,UAAL,CAAgB0J,KAAxC,CAAD,EAAiD,GAAjD,CADI,EAEJW,OAFI,CAAN;AAID;;AACD,aAAK3C,QAAL;;AACA,YAAMW,IAAG,GAAG,IAAIlD,oDAAJ,CACV8E,iBADU,EAEVC,SAFU,EAGVI,SAHU,CAAZ;;AAKAjC,YAAG,CAAC3P,UAAJ,GAAiB6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAjB;AACA,eAAOmN,IAAP;AACD;;AACD,WAAKX,QAAL;AAEA,UAAMW,GAAG,GAAG,IAAIlD,oDAAJ,CAAwB8E,iBAAxB,EAA2CC,SAA3C,EAAsD,IAAtD,CAAZ;AACA7B,SAAG,CAAC3P,UAAJ,GAAiB6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAjB;AACA,aAAOmN,GAAP;AACD;AAh+BH;AAAA;AAAA,+BAk+Bc;AACV,WAAKvB,SAAL,CAAe/G,YAAY,CAACqJ,SAA5B;AACA,UAAMmB,SAAS,GAAG,KAAK1I,QAAL,EAAlB;AACA,WAAKnB,GAAL,IAAY,CAAZ,CAHU,CAIV;;AACA,UAAM8J,QAAQ,GAAG,KAAK3I,QAAL,EAAjB;AACA,UAAMve,EAAE,GAAG,KAAKohB,OAAL,EAAX;AACA,UAAM7L,MAAM,GAAG,IAAI4M,4DAAJ,CAAgCniB,EAAhC,CAAf;AACAuV,YAAM,CAACH,UAAP,GAAoB6L,sDAAU,CAACC,gBAAX,CAA4BgG,QAA5B,CAApB,CARU,CASV;;AACA,UAAM1R,QAAQ,GAAG,KAAK2R,kBAAL,CAAwB,KAAKzK,UAAL,CAAgB0K,WAAxC,CAAjB;AACA,UAAM3R,MAAM,GAAG,KAAK0R,kBAAL,CAAwB,KAAKzK,UAAL,CAAgB2K,SAAxC,CAAf;AACA,UAAMC,SAAS,GAAG,KAAKH,kBAAL,CAAwB,KAAKzK,UAAL,CAAgB6K,WAAxC,CAAlB;AACA,WAAK9I,eAAL;AACA,UAAMuF,aAAa,GAAG,KAAKC,iBAAL,EAAtB;AACA,WAAKG,QAAL;AACA,UAAMW,GAAG,GAAG,IAAIlD,6CAAJ,CACVtM,MADU,EAEVC,QAFU,EAGVC,MAHU,EAIV6R,SAJU,EAKVtD,aALU,CAAZ;AAOAe,SAAG,CAAC3P,UAAJ,GAAiB6L,sDAAU,CAACC,gBAAX,CAA4B+F,SAA5B,CAAjB;AACA,aAAOlC,GAAP;AACD;AA3/BH;AAAA;AAAA,iCA6/BgB;AACZ,WAAKvB,SAAL,CAAe/G,YAAY,CAACqJ,SAA5B;AACA,UAAMlO,KAAK,GAAG,KAAK2G,QAAL,EAAd;AACA,WAAKnB,GAAL;AACA,WAAKyG,oBAAL;AACA,WAAKzG,GAAL;AACA,WAAKqB,eAAL;AACA,UAAMkI,iBAAiB,GAAG,KAAKhF,iBAAL,EAA1B;AACA,WAAKlD,eAAL;AACA,WAAKqF,qBAAL;AACA,WAAK1G,GAAL;AACA,WAAKqB,eAAL;AACA,UAAMmI,SAAS,GAAG,KAAK3C,iBAAL,EAAlB;AACA,WAAKG,QAAL;AACA,UAAMW,GAAG,GAAG,IAAIlD,+CAAJ,CAAmB8E,iBAAnB,EAAsCC,SAAtC,CAAZ;AACA7B,SAAG,CAAC3P,UAAJ,GAAiB6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAjB;AACA,aAAOmN,GAAP;AACD;AA9gCH;AAAA;AAAA,iCAghCgB;AACZ,UAAMnN,KAAK,GAAG,KAAK2G,QAAL,EAAd;AACA,WAAKnB,GAAL;AACA,WAAKoD,QAAL;AACA,WAAKpD,GAAL;AACA,UAAMoK,OAAO,GAAG,IAAI3F,+CAAJ,EAAhB;AACA2F,aAAO,CAACpS,UAAR,GAAqB6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAArB;AACA,aAAO4P,OAAP;AACD;AAxhCH;AAAA;AAAA,kCA0hCiB;AACb,WAAKpK,GAAL;AACA,UAAIlE,GAAG,GAAG,IAAV;;AACA,UAAI,CAAC,KAAKsH,QAAL,CAAc,IAAd,CAAL,EAA0B;AACxBtH,WAAG,GAAG,KAAKyI,iBAAL,EAAN;AACA,aAAKnB,QAAL;AACD;;AACD,WAAKpD,GAAL;AACA,aAAO,IAAIyE,gDAAJ,CAAoB3I,GAApB,CAAP;AACD;AAniCH;AAAA;AAAA,qCAqiCoB;AAChB,UAAMuO,QAAQ,GAAG,KAAKlJ,QAAL,EAAjB;AACA,UAAMmJ,IAAI,GAAGD,QAAQ,CAAClqB,IAAT,KAAkB,KAAKmf,UAAL,CAAgBkG,EAA/C;AACA,UAAM5iB,EAAE,GAAG,KAAK2nB,eAAL,EAAX;;AACA,UAAI,KAAKrG,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,aAAKlE,GAAL;AACA,YAAI/I,cAAc,GAAG,IAArB;AACA,YAAIC,gBAAgB,GAAG,IAAvB;AACA,aAAKmK,eAAL;AACApK,sBAAc,GAAG,KAAKuT,eAAL,EAAjB;AACA,aAAKnJ,eAAL;AACA,aAAK+C,eAAL;AACA,aAAKpE,GAAL;;AACA,YAAI,KAAKkE,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,eAAKlE,GAAL;AACA,eAAKqB,eAAL;AACAnK,0BAAgB,GAAG,KAAKsT,eAAL,EAAnB;AACA,eAAKnJ,eAAL;AACA,eAAK+C,eAAL;AACA,eAAKpE,GAAL;AACD;;AACD,YAAMyK,UAAU,GAAG,KAAKtJ,QAAL,EAAnB;;AACA,YAAIsJ,UAAU,CAACtqB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBhO,KAAxC,EAA+C;AAC7C,gBAAMwF,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CkQ,UAA1C,CAAN;AACD;;AACD,aAAKzK,GAAL;AACA,YAAMlE,GAAG,GAAG,KAAKyI,iBAAL,EAAZ;AACA,aAAKnB,QAAL;AACA,aAAKpD,GAAL;AACA,YAAM2H,GAAG,GAAG,IAAIlD,0DAAJ,CACV7hB,EADU,EAEVqU,cAFU,EAGVC,gBAHU,EAIV4E,GAJU,CAAZ;AAMA6L,WAAG,CAAC3P,UAAJ,GAAiB6L,sDAAU,CAACC,gBAAX,CAA4B2G,UAA5B,CAAjB;AACA,eAAO9C,GAAP;AACD;;AACD,UAAM+C,kBAAkB,GAAG,KAAKvJ,QAAL,EAA3B;;AACA,UAAImJ,IAAI,IAAII,kBAAkB,CAACvqB,IAAnB,KAA4B,KAAKmf,UAAL,CAAgBhO,KAAxD,EAA+D;AAC7D,aAAK0O,GAAL;;AACA,YAAMlE,IAAG,GAAG,KAAKyI,iBAAL,EAAZ;;AACA,aAAKnB,QAAL;AACA,aAAKpD,GAAL;;AACA,YAAM2H,KAAG,GAAG,IAAIlD,gDAAJ,CAAoB7hB,EAApB,EAAwBkZ,IAAxB,CAAZ;;AACA6L,aAAG,CAAC3P,UAAJ,GAAiB6L,sDAAU,CAACC,gBAAX,CAA4B4G,kBAA5B,CAAjB;AACA,eAAO/C,KAAP;AACD,OARD,MAQO,IAAI+C,kBAAkB,CAACvqB,IAAnB,KAA4B,KAAKmf,UAAL,CAAgBoD,gBAAhD,EAAkE;AACvE,YAAMiI,QAAQ,GAAG,KAAKC,wBAAL,CAA8BhoB,EAA9B,CAAjB;AACA,aAAKwgB,QAAL;AACA,aAAKpD,GAAL;AACA,eAAO2K,QAAP;AACD,OALM,MAKA,IAAIL,IAAJ,EAAU;AACf,cAAMxT,6EAAkB,CAAC2D,kBAAnB,CACJ,CAAC,GAAD,EAAM,GAAN,CADI,EAEJiQ,kBAFI,CAAN;AAID,OALM,MAKA;AACL,cAAM5T,6EAAkB,CAAC0E,iBAAnB,CAAqC6O,QAArC,CAAN;AACD;AACF;AAjmCH;AAAA;AAAA,uCAmmCsBQ,YAnmCtB,EAmmCoC;AAChC,UAAIA,YAAY,KAAK,KAAKvL,UAAL,CAAgB6K,WAArC,EAAkD;AAChD,YAAI,KAAK1I,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,iBAAO,IAAP;AACD;AACF;;AACD,UAAMqJ,UAAU,GAAG,KAAK3J,QAAL,EAAnB;;AACA,UAAI2J,UAAU,CAAC3qB,IAAX,KAAoB0qB,YAAxB,EAAsC;AACpC;AACA,YAAME,OAAO,GAAG,KAAKxsB,KAAL,CAAW6jB,YAAX,CAAwByI,YAAxB,CAAhB;AACA,cAAM,IAAIvoB,KAAJ,CACJ,0DACEyoB,OADF,GAEE,iBAFF,GAGED,UAAU,CAAC5Z,IAJT,CAAN;AAMD;;AACD,WAAK8O,GAAL,IAAY,CAAZ;AACA,UAAIgL,SAAS,GAAG,KAAK7J,QAAL,EAAhB;AACA,UAAI8J,WAAW,GAAG,KAAlB;AACA,UAAI1M,EAAE,GAAG,IAAT;;AACA,UAAIyM,SAAS,CAAC7qB,IAAV,KAAmB,KAAKmf,UAAL,CAAgB4L,MAAvC,EAA+C;AAC7CD,mBAAW,GAAG,IAAd;AACA1M,UAAE,GAAGyM,SAAS,CAAC9Z,IAAf;AACA,aAAK8O,GAAL,IAAY,CAAZ;AACAgL,iBAAS,GAAG,KAAK7J,QAAL,EAAZ;AACD;;AACD,UAAI/I,QAAQ,GAAG,IAAf;;AACA,UAAI4S,SAAS,CAAC7qB,IAAV,KAAmB,KAAKmf,UAAL,CAAgBkG,EAAvC,EAA2C;AACzCpN,gBAAQ,GAAG,IAAI2M,4DAAJ,CAAgC,KAAKf,OAAL,EAAhC,CAAX;AACA5L,gBAAQ,CAACJ,UAAT,GAAsB6L,sDAAU,CAACC,gBAAX,CAA4BkH,SAA5B,CAAtB;AACD,OAHD,MAGO,IAAIA,SAAS,CAAC7qB,IAAV,KAAmB,KAAKmf,UAAL,CAAgBV,OAAvC,EAAgD;AACrD,aAAKoB,GAAL,IAAY,CAAZ;AACA5H,gBAAQ,GAAG,KAAKmN,aAAL,CAAmByF,SAAnB,CAAX;AACD;;AACD,UAAI5S,QAAQ,IAAI,IAAhB,EAAsB;AACpB;AACA,YAAM2S,QAAO,GAAG,KAAKxsB,KAAL,CAAW6jB,YAAX,CAAwByI,YAAxB,CAAhB;AACA,cAAM,IAAIvoB,KAAJ,CACJ,+CACE0oB,SAAS,CAAC9Z,IADZ,GAEE,qDAFF,GAGE6Z,QAHF,GAIE,4CALE,CAAN;AAOD;;AACD,UAAIE,WAAJ,EAAiB;AACf7S,gBAAQ,GAAG,IAAI2M,qDAAJ,CAAyBoG,qEAAiB,CAAC5M,EAAD,CAA1C,EAAgDnG,QAAhD,CAAX;AACD;;AACD,aAAOA,QAAP;AACD;AArpCH;AAAA;AAAA,iCAupCgB;AACZ,UAAMoC,KAAK,GAAG,KAAK2G,QAAL,EAAd;;AACA,UAAI3G,KAAK,CAACra,IAAN,KAAe,KAAKmf,UAAL,CAAgB8L,OAAnC,EAA4C;AAC1C,cAAMtU,6EAAkB,CAACyD,iBAAnB,CACJ,KAAKhc,KAAL,CAAW6jB,YAAX,CAAwB,KAAK9C,UAAL,CAAgB8L,OAAxC,CADI,EAEJ5Q,KAFI,CAAN;AAID;;AACD,WAAKwF,GAAL;AACA,UAAMqL,SAAS,GAAG,KAAKlK,QAAL,EAAlB;;AACA,UAAIkK,SAAS,CAAClrB,IAAV,KAAmB,KAAKmf,UAAL,CAAgBgM,UAAvC,EAAmD;AACjD,aAAKtL,GAAL;AACA,YAAMuL,UAAU,GAAG,KAAKpK,QAAL,EAAnB;;AACA,YAAIoK,UAAU,CAACprB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBkM,KAAxC,EAA+C;AAC7C,gBAAM1U,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CgR,UAA1C,CAAN;AACD;;AACD,aAAKvL,GAAL;AACA,aAAKqB,eAAL;AACA,YAAMoK,KAAK,GAAG,KAAK5E,iBAAL,CAAuB,IAAvB,CAAd;AACA,YAAM6E,WAAW,GAAG,IAAIjH,8CAAJ,CAAkB,IAAlB,CAApB;AACAiH,mBAAW,CAACC,WAAZ,CAAwBF,KAAK,CAAC3T,QAA9B;AACA,eAAO,CAAC4T,WAAD,CAAP;AACD,OAZD,MAYO;AACL,YAAM5P,GAAG,GAAG,KAAKyI,iBAAL,EAAZ;;AACA,YAAMgH,WAAU,GAAG,KAAKpK,QAAL,EAAnB;;AACA,YAAIoK,WAAU,CAACprB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBkM,KAAxC,EAA+C;AAC7C,gBAAM1U,6EAAkB,CAACyD,iBAAnB,CAAqC,GAArC,EAA0CgR,WAA1C,CAAN;AACD;;AACD,aAAKvL,GAAL;AACA,aAAKqB,eAAL;;AACA,YAAMoK,MAAK,GAAG,KAAK5E,iBAAL,CAAuB,IAAvB,CAAd;;AACA,YAAM+E,KAAK,GAAG,IAAInH,8CAAJ,CAAkB3I,GAAlB,CAAd;AACA8P,aAAK,CAACD,WAAN,CAAkBF,MAAK,CAAC3T,QAAxB;AACA,YAAM+T,SAAS,GAAG,KAAK1K,QAAL,EAAlB;;AACA,YAAI0K,SAAS,CAAC1rB,IAAV,KAAmB,KAAKmf,UAAL,CAAgB8L,OAAvC,EAAgD;AAC9C,iBAAO,CAACQ,KAAD,EAAQpL,MAAR,CAAe,KAAK2I,UAAL,EAAf,CAAP;AACD,SAFD,MAEO;AACL,iBAAO,CAACyC,KAAD,CAAP;AACD;AACF;AACF;AAED;;;;;;;;;;;;;;;;;;AAjsCF;AAAA;AAAA,wCAktCuB;AACnB,UAAIE,IAAI,GAAG,KAAKC,kBAAL,EAAX;;AACA,aAAO,KAAK5K,QAAL,GAAgBhhB,IAAhB,KAAyB,KAAKmf,UAAL,CAAgB0M,WAAhD,EAA6D;AAC3D,YAAMC,OAAO,GAAG,KAAK9K,QAAL,EAAhB;AACA,aAAKnB,GAAL;AACA,YAAMkM,EAAE,GAAGf,qEAAiB,CAAC,IAAD,CAA5B;AACA,aAAK9J,eAAL;AACA,YAAM8K,IAAI,GAAG,KAAKJ,kBAAL,EAAb;AACA,YAAMK,QAAQ,GAAG,IAAIrH,qDAAJ,CAAyBmH,EAAzB,EAA6BJ,IAA7B,EAAmCK,IAAnC,CAAjB;AACAC,gBAAQ,CAACpU,UAAT,GAAsB6L,sDAAU,CAACC,gBAAX,CAA4BmI,OAA5B,CAAtB;AACAH,YAAI,GAAGM,QAAP;AACD;;AACD,aAAON,IAAP;AACD;AA/tCH;AAAA;AAAA,yCAiuCwB;AACpB,UAAIA,IAAI,GAAG,KAAKO,kBAAL,EAAX;;AACA,aAAO,KAAKlL,QAAL,GAAgBhhB,IAAhB,KAAyB,KAAKmf,UAAL,CAAgBgN,YAAhD,EAA8D;AAC5D,YAAML,OAAO,GAAG,KAAK9K,QAAL,EAAhB;AACA,aAAKnB,GAAL;AACA,YAAMuM,GAAG,GAAGpB,qEAAiB,CAAC,KAAD,CAA7B;AACA,aAAK9J,eAAL;AACA,YAAM8K,IAAI,GAAG,KAAKE,kBAAL,EAAb;AACA,YAAMD,QAAQ,GAAG,IAAIrH,qDAAJ,CAAyBwH,GAAzB,EAA8BT,IAA9B,EAAoCK,IAApC,CAAjB;AACAC,gBAAQ,CAACpU,UAAT,GAAsB6L,sDAAU,CAACC,gBAAX,CAA4BmI,OAA5B,CAAtB;AACAH,YAAI,GAAGM,QAAP;AACD;;AACD,aAAON,IAAP;AACD;AA9uCH;AAAA;AAAA,yCAgvCwB;AACpB,UAAMU,aAAa,GAAG,KAAKrL,QAAL,EAAtB;;AACA,UAAIqL,aAAa,CAACrsB,IAAd,KAAuB,KAAKmf,UAAL,CAAgBmN,YAA3C,EAAyD;AACvD,YAAMR,OAAO,GAAG,KAAK9K,QAAL,EAAhB;AACA,aAAKnB,GAAL;AACA,YAAM0M,GAAG,GAAGvB,qEAAiB,CAAC,KAAD,CAA7B;AACA,YAAMW,IAAI,GAAG,KAAKa,kBAAL,EAAb;AACA,YAAMP,QAAQ,GAAG,IAAIrH,qDAAJ,CAAyB2H,GAAzB,EAA8BZ,IAA9B,CAAjB;AACAM,gBAAQ,CAACpU,UAAT,GAAsB6L,sDAAU,CAACC,gBAAX,CAA4BmI,OAA5B,CAAtB;AACA,eAAOG,QAAP;AACD,OARD,MAQO;AACL,eAAO,KAAKO,kBAAL,EAAP;AACD;AACF;AA7vCH;AAAA;AAAA,yCA+vCwB;AACpB,UAAIb,IAAI,GAAG,KAAKtB,eAAL,EAAX;;AACA,aAAO,KAAKrJ,QAAL,GAAgBhhB,IAAhB,KAAyB,KAAKmf,UAAL,CAAgBsN,mBAAhD,EAAqE;AACnE,YAAMC,QAAQ,GAAG,KAAK1L,QAAL,EAAjB;AACA,aAAKnB,GAAL;AACA,YAAM8M,GAAG,GAAG3B,qEAAiB,CAAC0B,QAAQ,CAAC3b,IAAV,CAA7B;AACA,YAAMib,IAAI,GAAG,KAAK3B,eAAL,EAAb;AACA,YAAM4B,QAAQ,GAAG,IAAIrH,qDAAJ,CAAyB+H,GAAzB,EAA8BhB,IAA9B,EAAoCK,IAApC,CAAjB;AACAC,gBAAQ,CAACpU,UAAT,GAAsB6L,sDAAU,CAACC,gBAAX,CAA4B+I,QAA5B,CAAtB;AACAf,YAAI,GAAGM,QAAP;AACD;;AACD,aAAON,IAAP;AACD;AA3wCH;AAAA;AAAA,sCA6wCqB;AACjB,UAAIiB,MAAM,GAAG,KAAKC,WAAL,EAAb;;AACA,aAAO,KAAK7L,QAAL,GAAgBhhB,IAAhB,KAAyB,KAAKmf,UAAL,CAAgB4L,MAAhD,EAAwD;AACtD,YAAM+B,UAAU,GAAG,KAAK9L,QAAL,EAAnB;AACA,aAAKnB,GAAL;AACA,YAAMzB,EAAE,GAAG4M,qEAAiB,CAAC8B,UAAU,CAAC/b,IAAZ,CAA5B;AACA,YAAMgc,OAAO,GAAG,KAAKF,WAAL,EAAhB;AACA,YAAMZ,QAAQ,GAAG,IAAIrH,qDAAJ,CAAyBxG,EAAzB,EAA6BwO,MAA7B,EAAqCG,OAArC,CAAjB;AACAd,gBAAQ,CAACpU,UAAT,GAAsB6L,sDAAU,CAACC,gBAAX,CAA4BmJ,UAA5B,CAAtB;AACAF,cAAM,GAAGX,QAAT;AACD;;AACD,aAAOW,MAAP;AACD;AAzxCH;AAAA;AAAA,kCA2xCiB;AACb,UAAII,IAAI,GAAG,KAAKC,SAAL,EAAX;;AACA,aAAO,KAAKjM,QAAL,GAAgBhhB,IAAhB,KAAyB,KAAKmf,UAAL,CAAgB+N,QAAhD,EAA0D;AACxD,YAAMC,WAAW,GAAG,KAAKnM,QAAL,EAApB;AACA,aAAKnB,GAAL;AACA,YAAMzB,EAAE,GAAG4M,qEAAiB,CAACmC,WAAW,CAACpc,IAAb,CAA5B;AACA,YAAMqc,KAAK,GAAG,KAAKH,SAAL,EAAd;AACA,YAAMhB,QAAQ,GAAG,IAAIrH,qDAAJ,CAAyBxG,EAAzB,EAA6B4O,IAA7B,EAAmCI,KAAnC,CAAjB;AACAnB,gBAAQ,CAACpU,UAAT,GAAsB6L,sDAAU,CAACC,gBAAX,CAA4BwJ,WAA5B,CAAtB;AACAH,YAAI,GAAGf,QAAP;AACD;;AACD,aAAOe,IAAP;AACD;AAvyCH;AAAA;AAAA,gCAyyCe;AACX,UAAM3S,KAAK,GAAG,KAAK2G,QAAL,EAAd;AACA,UAAInJ,UAAU,GAAG,IAAjB;AACA,UAAI8D,GAAG,GAAG,IAAV;;AACA,cAAQtB,KAAK,CAACra,IAAd;AACE,aAAK,KAAKmf,UAAL,CAAgB4L,MAArB;AACE,eAAKlL,GAAL;AACAhI,oBAAU,GAAG6L,sDAAU,CAACC,gBAAX,CAA4BtJ,KAA5B,CAAb;AACAsB,aAAG,GAAG,IAAIiJ,qDAAJ,CACJoG,qEAAiB,CAAC3Q,KAAK,CAACtJ,IAAP,CADb,EAEJ,KAAKkc,SAAL,EAFI,CAAN;AAIAtR,aAAG,CAAC9D,UAAJ,GAAiBA,UAAjB;AACA,iBAAO8D,GAAP;;AACF,aAAK,KAAKwD,UAAL,CAAgBV,OAArB;AACE,eAAKoB,GAAL;AACA,iBAAO,KAAKuF,aAAL,CAAmB/K,KAAnB,CAAP;;AACF,aAAK,KAAK8E,UAAL,CAAgBP,IAArB;AACE,eAAKiB,GAAL;AACA,iBAAO,KAAKwN,cAAL,CAAoBhT,KAApB,CAAP;;AACF,aAAK,KAAK8E,UAAL,CAAgBL,MAArB;AACE,eAAKe,GAAL;AACA,iBAAO,KAAKyN,gBAAL,CAAsBjT,KAAtB,CAAP;;AACF,aAAK,KAAK8E,UAAL,CAAgBoO,SAArB;AACE,eAAK1N,GAAL;AACA,iBAAO,KAAK2N,cAAL,CAAoBnT,KAApB,CAAP;;AACF,aAAK,KAAK8E,UAAL,CAAgBsO,OAArB;AACA,aAAK,KAAKtO,UAAL,CAAgBuO,QAArB;AACE,eAAK7N,GAAL;AACA,iBAAO,KAAK8N,cAAL,CAAoBtT,KAApB,CAAP;;AACF,aAAK,KAAK8E,UAAL,CAAgBgD,UAArB;AACE;AACA;AACA,gBAAMxL,6EAAkB,CAAC8E,wBAAnB,CAA4CpB,KAA5C,CAAN;;AACF,aAAK,KAAK8E,UAAL,CAAgBkG,EAArB;AACA,aAAK,KAAKlG,UAAL,CAAgBgI,MAArB;AACE,iBAAO,KAAKyG,WAAL,EAAP;;AACF,aAAK,KAAKzO,UAAL,CAAgBoD,gBAArB;AACE,iBAAO,KAAKsL,mBAAL,EAAP;;AACF;AACE,gBAAMlX,6EAAkB,CAACuE,gBAAnB,CAAoCb,KAApC,CAAN;AApCJ;AAsCD;AAn1CH;AAAA;AAAA,kCAq1CiB;AACb,UAAMyT,MAAM,GAAG,KAAK9M,QAAL,EAAf;AACA,UAAMve,EAAE,GAAG,KAAK2nB,eAAL,EAAX;AACA,UAAMD,IAAI,GAAG2D,MAAM,CAAC9tB,IAAP,KAAgB,KAAKmf,UAAL,CAAgBkG,EAA7C;;AACA,UAAI8E,IAAI,IAAI,KAAKpG,cAAL,CAAoB,IAApB,CAAZ,EAAuC;AACrC,YAAIgK,MAAM,GAAG,IAAb;AACA,aAAKlO,GAAL;AACA,YAAMmO,UAAU,GAAG,KAAK3D,eAAL,EAAnB;AACA,YAAI4D,WAAW,GAAG,IAAlB;AACA,aAAK/M,eAAL;AACA,aAAK+C,eAAL;AACA8J,cAAM,GAAG,KAAK/M,QAAL,EAAT;AACA,aAAKnB,GAAL;;AACA,YAAI,KAAKkE,cAAL,CAAoB,IAApB,CAAJ,EAA+B;AAC7B,eAAKlE,GAAL;AACAoO,qBAAW,GAAG,KAAK5D,eAAL,EAAd;AACA,eAAKnJ,eAAL;AACA,eAAK+C,eAAL;AACA8J,gBAAM,GAAG,KAAK/M,QAAL,EAAT;AACA,eAAKnB,GAAL;AACD;;AACD,YAAMhI,UAAU,GAAG6L,sDAAU,CAACoC,wBAAX,CAAoCgI,MAApC,EAA4CC,MAA5C,CAAnB;AACA,YAAMpS,GAAG,GAAG,IAAIiJ,wDAAJ,CAA4BniB,EAA5B,EAAgCurB,UAAhC,EAA4CC,WAA5C,CAAZ;AACAtS,WAAG,CAAC9D,UAAJ,GAAiBA,UAAjB;AACA,eAAO8D,GAAP;AACD,OArBD,MAqBO,IAAI,KAAK2K,oBAAL,CAA0B,IAA1B,CAAJ,EAAqC;AAC1C,eAAO,KAAK4H,2BAAL,CAAiCzrB,EAAjC,CAAP;AACD,OAFM,MAEA,IAAI0nB,IAAJ,EAAU;AACf,YAAMtS,WAAU,GAAG6L,sDAAU,CAACC,gBAAX,CAA4BmK,MAA5B,CAAnB;;AACA,YAAMnS,KAAG,GAAG,IAAIiJ,4DAAJ,CAAgCniB,EAAhC,CAAZ;;AACAkZ,aAAG,CAAC9D,UAAJ,GAAiBA,WAAjB;AACA,eAAO8D,KAAP;AACD,OALM,MAKA;AACL,cAAMhF,6EAAkB,CAAC0E,iBAAnB,CAAqCyS,MAArC,CAAN;AACD;AACF;AAx3CH;AAAA;AAAA,oCA03CmBrrB,EA13CnB,EA03CuB;AACnB,UAAMxC,IAAI,GAAG4d,oFAAuB,CAACsQ,eAAxB,CAAwC1rB,EAAxC,CAAb;;AACA,UAAIxC,IAAI,KAAK,IAAb,EAAmB;AACjB,YAAIwC,EAAE,KAAKob,oFAAuB,CAACC,mBAAxB,EAAX,EAA0D;AACxD,iBAAO,IAAP;AACD;;AACD,eAAOrb,EAAP;AACD,OALD,MAKO;AACL,eAAOxC,IAAP;AACD;AACF;AAp4CH;AAAA;AAAA,gDAs4C+BwC,EAt4C/B,EAs4CmC;AAC/B,UAAMqrB,MAAM,GAAG,KAAK9M,QAAL,CAAc,KAAKnB,GAAL,GAAW,CAAzB,CAAf;AACA,UAAMlC,gBAAgB,GAAG,KAAKyQ,qBAAL,EAAzB;AACA,UAAML,MAAM,GAAG,KAAK/M,QAAL,CAAc,KAAKnB,GAAL,GAAW,CAAzB,CAAf;AACA,UAAMwO,QAAQ,GAAG,KAAKC,eAAL,CAAqB7rB,EAArB,CAAjB;AACA,UAAMoV,UAAU,GAAG6L,sDAAU,CAACoC,wBAAX,CAAoCgI,MAApC,EAA4CC,MAA5C,CAAnB;AACA,UAAMvG,GAAG,GAAG,IAAI5C,yDAAJ,CAA6ByJ,QAA7B,EAAuC1Q,gBAAvC,CAAZ;AACA6J,SAAG,CAAC3P,UAAJ,GAAiBA,UAAjB;AACA,aAAO2P,GAAP;AACD;AA/4CH;AAAA;AAAA,6CAi5C4B/kB,EAj5C5B,EAi5CgC;AAC5B,aAAO,KAAKyrB,2BAAL,CAAiCzrB,EAAjC,CAAP;AACD;AAn5CH;AAAA;AAAA,0CAq5CyB;AACrB,WAAK6jB,oBAAL;AACA,UAAMwH,MAAM,GAAG,KAAK9M,QAAL,EAAf;AACA,WAAKnB,GAAL,IAAY,CAAZ;AACA,WAAKqB,eAAL;AACA,UAAMvF,GAAG,GAAG,KAAKyI,iBAAL,EAAZ;AACA,WAAKlD,eAAL;AACA,WAAKqF,qBAAL;AACA,UAAMwH,MAAM,GAAG,KAAK/M,QAAL,EAAf;AACA,WAAKnB,GAAL,IAAY,CAAZ;AACAlE,SAAG,CAAC9D,UAAJ,GAAiB6L,sDAAU,CAACoC,wBAAX,CAAoCgI,MAApC,EAA4CC,MAA5C,CAAjB;AACApS,SAAG,CAACc,WAAJ,GAAkB,IAAlB;AACA,aAAOd,GAAP;AACD;AAl6CH;AAAA;AAAA,4CAo6C2B;AACvB,WAAK2K,oBAAL;AACA,WAAKzG,GAAL;;AACA,UAAI,KAAK0G,qBAAL,CAA2B,IAA3B,CAAJ,EAAsC;AACpC,aAAK1G,GAAL;AACA,eAAO,EAAP;AACD;;AACD,WAAKqB,eAAL;AACA,UAAMpS,IAAI,GAAG,KAAK8W,mBAAL,EAAb;AACA,WAAK1E,eAAL;AACA,WAAKqF,qBAAL;AACA,WAAK1G,GAAL;AACA,aAAO/Q,IAAP;AACD;AAj7CH;AAAA;AAAA,0CAm7CyB;AACrB,UAAMA,IAAI,GAAG,EAAb;;AACA,eAAS;AACP,YAAM6M,GAAG,GAAG,KAAKyI,iBAAL,EAAZ;AACAtV,YAAI,CAAChI,IAAL,CAAU6U,GAAV;AACA,YAAM4S,UAAU,GAAG,KAAKvN,QAAL,EAAnB;;AACA,YAAIuN,UAAU,CAACvuB,IAAX,KAAoB,KAAKmf,UAAL,CAAgBqF,KAAxC,EAA+C;AAC7C;AACD,SAFD,MAEO;AACL,eAAK3E,GAAL;AACA,eAAKqB,eAAL;AACD;AACF;;AACD,aAAOpS,IAAP;AACD;AAj8CH;AAAA;AAAA,mCAm8CkB;AAAA;;AACd,UAAM0f,KAAK,GAAG,KAAKtH,WAAL,CAAiBhI,YAAY,CAACgH,QAA9B,IACV,KAAK9F,aADK,GAEV,KAAKN,aAFT;AAGA,aAAO0O,KAAK,CAAC5iB,GAAN,CAAU,UAAC6iB,CAAD;AAAA,eAAO,KAAI,CAACrwB,KAAL,CAAW6jB,YAAX,CAAwBwM,CAAxB,CAAP;AAAA,OAAV,CAAP;AACD;AAx8CH;;AAAA;AAAA,I;;;;;;;;;;;;ACba;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,WAAW,qBAAqB;AAChC,UAAU,qBAAqB;AAC/B,UAAU,qBAAqB;AAC/B,SAAS,qBAAqB;AAC9B,SAAS,sBAAsB;AAC/B,SAAS,qBAAqB;AAC9B,SAAS,sBAAsB;AAC/B,SAAS,sBAAsB;AAC/B,UAAU,uBAAuB;AACjC,UAAU,wBAAwB;AAClC,SAAS,uBAAuB;AAChC,UAAU;AACV,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;ACtCO,IAAM/K,UAAb;AAAA;AAAA;AAAA,qCAE2BrJ,KAF3B,EAEkC;AAC9B,aAAO,IAAIqJ,UAAJ,CAAerJ,KAAK,CAAC9D,IAArB,EAA2B8D,KAAK,CAAC5D,MAAjC,EAAyC4D,KAAK,CAACtJ,IAA/C,EAAqDsJ,KAAK,CAACtJ,IAAN,CAAWhR,MAAhE,CAAP;AACD;AAJH;AAAA;AAAA,6CAMmC+tB,MANnC,EAM2CC,MAN3C,EAMmD;AAC/C,UAAMxX,IAAI,GAAGuX,MAAM,CAACvX,IAApB;AACA,UAAME,MAAM,GAAGqX,MAAM,CAACrX,MAAtB,CAF+C,CAG/C;AACA;;AACA,UAAMiY,IAAI,GAAGX,MAAM,CAACY,UAAP,GAAoB,CAApB,GAAwBb,MAAM,CAACa,UAA5C;AACA,aAAO,IAAIjL,UAAJ,CAAenN,IAAf,EAAqBE,MAArB,EAA6B,EAA7B,EAAiCiY,IAAjC,CAAP;AACD;AAbH;;AAeE,sBAAanY,IAAb,EAAmBE,MAAnB,EAA2B1F,IAA3B,EAAiC2d,IAAjC,EAAuC;AAAA;;AACrC,SAAKnY,IAAL,GAAYA,IAAZ;AACA,SAAKE,MAAL,GAAcA,MAAd;AACA,SAAK1F,IAAL,GAAYA,IAAZ;AACA,SAAK2d,IAAL,GAAYA,IAAZ;AACD;;AApBH;AAAA,I;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AAEO,IAAMzvB,UAAb;AAAA;AAAA;AAAA,wBAC8B;AAC1B;AAQD;AAVH;AAAA;AAAA,wBAYqC;AACjC;AAKD;AAlBH;AAAA;AAAA,wBAoBqB;AACjB,aAAO,CAAP;AACD;AAtBH;AAAA;AAAA,wBAwBqB;AACjB,aAAO,CAAP;AACD;AA1BH;AAAA;AAAA,wBA4BoB;AAChB,aAAO,CAAP;AACD;AA9BH;AAAA;AAAA,wBAgCsB;AAClB,aAAO,CAAP;AACD;AAlCH;;AAoCE,sBAAa2vB,SAAb,EAAkD;AAAA,QAA1BC,gBAA0B,uEAAP,KAAO;;AAAA;;AAChD,SAAKA,gBAAL,GAAwBA,gBAAxB;AACA,SAAK9iB,KAAL,GAAa,IAAb;AACA,SAAK+iB,cAAL,GAAsB,IAAtB;AACA,SAAKC,YAAL,GAAoB,IAApB;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,SAAL,GAAiB,IAAjB;AACA,SAAKC,SAAL,GAAiB,KAAjB;AACA,SAAKC,QAAL,GAAgB,IAAhB;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,OAAL,GAAe,IAAf;AACA,SAAKC,MAAL,GAAc,KAAd;AACA,QAAIC,QAAQ,GAAGd,SAAf;;AACA,QAAIA,SAAS,CAAC,CAAD,CAAT,KAAiB,GAArB,EAA0B;AACxBc,cAAQ,GAAGd,SAAS,CAACe,SAAV,CAAoB,CAApB,CAAX;AACD;;AACD,SAAKC,MAAL,GAAczwB,QAAQ,CAACC,cAAT,CAAwBswB,QAAxB,CAAd;AACA,SAAKG,KAAL;AACA,SAAKC,cAAL,GAAsB,EAAtB;AACA,SAAKC,SAAL;AACA,SAAKvuB,cAAL,GAAsB,EAAtB;AACA,SAAKwuB,UAAL,GAAkB,CAAC,CAAnB;AACD;;AA7DH;AAAA;AAAA,4BA+DW;AACP,WAAKC,SAAL;;AACA,WAAKC,YAAL;AACD;AAlEH;AAAA;AAAA,mCAoEkB;AACd,WAAKnkB,KAAL,CAAW5H,gBAAX,CAA4B,SAA5B,EAAuC,KAAKnD,aAAL,CAAmBye,IAAnB,CAAwB,IAAxB,CAAvC;AACA,WAAK4P,QAAL,CAAclrB,gBAAd,CAA+B,OAA/B,EAAwC,KAAKgsB,aAAL,CAAmB1Q,IAAnB,CAAwB,IAAxB,CAAxC;AACA,WAAK6P,OAAL,CAAanrB,gBAAb,CAA8B,OAA9B,EAAuC,KAAKisB,YAAL,CAAkB3Q,IAAlB,CAAuB,IAAvB,CAAvC;AACA,WAAK8P,OAAL,CAAaprB,gBAAb,CAA8B,OAA9B,EAAuC,KAAKksB,YAAL,CAAkB5Q,IAAlB,CAAuB,IAAvB,CAAvC;AACD;AAzEH;AAAA;AAAA,kCA2EiB6Q,KA3EjB,EA2EwB;AACpB,UAAI,CAAC,KAAKlB,SAAV,EAAqB;AACnB;AACD;;AACD,UAAMmB,OAAO,GAAGD,KAAK,CAACE,KAAtB;;AACA,UAAID,OAAO,KAAK,EAAZ,IAAkB,KAAKd,MAA3B,EAAmC;AACjC,YAAI,KAAKV,YAAL,IAAqB,IAAzB,EAA+B;AAC7BpsB,uBAAa,CAAC,KAAKosB,YAAN,CAAb;AACA,eAAKA,YAAL,GAAoB,IAApB;AACD;;AACD,YAAIhe,IAAI,GAAG,KAAKhF,KAAL,CAAW5L,KAAtB;AACA4Q,YAAI,GAAGA,IAAI,CAACrM,OAAL,CAAa,SAAb,EAAwB,EAAxB,CAAP;AACA,aAAK+rB,eAAL,CAAqB1f,IAArB;;AACA,aAAK2f,gBAAL,CAAsB3f,IAAtB;;AACA,aAAKhF,KAAL,CAAW5L,KAAX,GAAmB,EAAnB;AACA,aAAK+uB,SAAL,CAAevkB,SAAf,GAA2B,EAA3B;AACA,aAAKgmB,WAAL,GAAmB,IAAnB;AACD;AACF;AA7FH;AAAA;AAAA,gCA+Fe;AACX,UAAMC,QAAQ,GAAGzxB,QAAQ,CAAC0xB,aAAT,CAAuB,KAAvB,CAAjB;AACAD,cAAQ,CAACE,SAAT,CAAmBC,GAAnB,CAAuB,MAAvB;AACAH,cAAQ,CAACjmB,SAAT,GAAqB1L,UAAU,CAAC+xB,aAAhC;AACA,WAAKxB,OAAL,GAAeoB,QAAQ,CAACtoB,aAAT,CAAuB,cAAvB,CAAf;AACA,WAAKknB,OAAL,CAAasB,SAAb,CAAuBC,GAAvB,CAA2B,iBAA3B;AACA,WAAK/B,QAAL,GAAgB7vB,QAAQ,CAAC0xB,aAAT,CAAuB,KAAvB,CAAhB;AACA,WAAK7B,QAAL,CAAcvsB,EAAd,GAAmB,0BAAnB;AACA,WAAKusB,QAAL,CAAcrkB,SAAd,GAA0B1L,UAAU,CAACgyB,oBAArC;AACA,WAAKllB,KAAL,GAAa5M,QAAQ,CAAC0xB,aAAT,CAAuB,OAAvB,CAAb;AACA,WAAK9kB,KAAL,CAAW7C,YAAX,CAAwB,MAAxB,EAAgC,SAAhC;AACA,WAAK6C,KAAL,CAAW7C,YAAX,CAAwB,OAAxB,EAAiC,EAAjC;AACA,WAAK6C,KAAL,CAAW7C,YAAX,CAAwB,MAAxB,EAAgC,MAAhC;AACA,WAAK6C,KAAL,CAAW7C,YAAX,CAAwB,cAAxB,EAAwC,KAAxC;AACA,WAAK8lB,QAAL,CAAckC,MAAd,CAAqB,KAAKnlB,KAA1B;AACA,WAAKyjB,OAAL,CAAa0B,MAAb,CAAoB,KAAKlC,QAAzB;AACA4B,cAAQ,CAACM,MAAT,CAAgB,KAAK1B,OAArB;AACA,WAAKI,MAAL,CAAYsB,MAAZ,CAAmBN,QAAnB;AACA,WAAK3B,QAAL,GAAgB,KAAKD,QAAL,CAAc1mB,aAAd,CAA4B,MAA5B,CAAhB;AACA,WAAK6mB,SAAL,GAAiB,KAAKF,QAAL,CAAc3mB,aAAd,CAA4B,SAA5B,CAAjB;AACA,WAAK4mB,SAAL,GAAiB,KAAKD,QAAL,CAAc3mB,aAAd,CAA4B,MAA5B,CAAjB;AACA,WAAK+mB,QAAL,GAAgBuB,QAAQ,CAACtoB,aAAT,CAAuB,0BAAvB,CAAhB;AACA,WAAKgnB,OAAL,GAAesB,QAAQ,CAACtoB,aAAT,CAAuB,yBAAvB,CAAf;AACA,WAAKinB,OAAL,GAAeqB,QAAQ,CAACtoB,aAAT,CAAuB,yBAAvB,CAAf;;AACA,WAAK6oB,YAAL,GAxBW,CAyBX;;;AACAC,YAAM,CACHlwB,CADH,CACK,KAAKmuB,QADV,EAEGgC,KAFH,CAES;AAAEC,eAAO,EAAEzvB,kFAAgB,CAACsM,KAAjB,CAAuB,wBAAvB;AAAX,OAFT;AAGAijB,YAAM,CACHlwB,CADH,CACK,KAAKquB,OADV,EAEG8B,KAFH,CAES;AAAEC,eAAO,EAAEzvB,kFAAgB,CAACsM,KAAjB,CAAuB,uBAAvB;AAAX,OAFT;AAGAijB,YAAM,CACHlwB,CADH,CACK,KAAKouB,OADV,EAEG+B,KAFH,CAES;AAAEC,eAAO,EAAEzvB,kFAAgB,CAACsM,KAAjB,CAAuB,uBAAvB;AAAX,OAFT;AAGD;AAlIH;AAAA;AAAA,mCAoIkB;AACd,WAAK8gB,QAAL,CAAc9qB,gBAAd,CAA+B,OAA/B,EAAwC,KAAKotB,kBAAL,CAAwB9R,IAAxB,CAA6B,IAA7B,CAAxC,EADc,CAEd;;AAEA,WAAK1T,KAAL,CAAW5H,gBAAX,CAA4B,OAA5B,EAAqC,KAAKqtB,cAAL,CAAoB/R,IAApB,CAAyB,IAAzB,CAArC;AACA,WAAK1T,KAAL,CAAW5H,gBAAX,CAA4B,MAA5B,EAAoC,KAAKstB,cAAL,CAAoBhS,IAApB,CAAyB,IAAzB,CAApC;AACD;AA1IH;AAAA;AAAA,yCA4IwB;AAAA;;AACpB,UAAI,KAAKqP,cAAL,IAAuB,IAA3B,EAAiC;AAC/B;AACD;;AACD,WAAK/iB,KAAL,CAAW9J,KAAX;AACA,WAAK6sB,cAAL,GAAsBsC,MAAM,CAAC1uB,WAAP,CAAmB,YAAM;AAC7C,YAAI,KAAI,CAACysB,SAAL,CAAevsB,KAAf,CAAqB8uB,UAArB,KAAoC,SAAxC,EAAmD;AACjD,eAAI,CAACvC,SAAL,CAAevsB,KAAf,CAAqB8uB,UAArB,GAAkC,QAAlC;AACD,SAFD,MAEO;AACL,eAAI,CAACvC,SAAL,CAAevsB,KAAf,CAAqB8uB,UAArB,GAAkC,SAAlC;AACD;AACF,OANqB,EAMnB,GANmB,CAAtB;AAOD;AAxJH;AAAA;AAAA,qCA0JoB;AAChB,WAAKxC,SAAL,CAAevkB,SAAf,GAA2B,KAAKoB,KAAL,CAAW5L,KAAtC;AACA,UAAI,KAAK4uB,YAAL,IAAqB,IAAzB,EAA+BqC,MAAM,CAACzuB,aAAP,CAAqB,KAAKosB,YAA1B;AAC/B,WAAK4C,cAAL;AACD;AA9JH;AAAA;AAAA,qCAgKoB;AAChBhvB,mBAAa,CAAC,KAAKmsB,cAAN,CAAb;AACA,WAAKA,cAAL,GAAsB,IAAtB;AACA,WAAKK,SAAL,CAAevsB,KAAf,CAAqB8uB,UAArB,GAAkC,SAAlC;AACD;AApKH;AAAA;AAAA,oCAsKmB3gB,IAtKnB,EAsKyB;AACrB,WAAK+e,cAAL,CAAoB8B,OAApB,CAA4B,UAACxkB,OAAD;AAAA,eAAaA,OAAO,CAAC2D,IAAD,CAApB;AAAA,OAA5B;AACA,WAAK+e,cAAL,CAAoBhnB,MAApB,CAA2B,CAA3B,EAA8B,KAAKgnB,cAAL,CAAoB/vB,MAAlD;AACA,WAAKgwB,SAAL;AACA,WAAKN,MAAL,GAAc,KAAd;AACD;AA3KH;AAAA;AAAA,iCA6KgB1e,IA7KhB,EA6KsB9D,OA7KtB,EA6K+B;AAC3B,WAAK4kB,aAAL,CAAmB9gB,IAAnB,EAAyB9D,OAAzB,EAAkC,KAAlC;AACD;AA/KH;AAAA;AAAA,0BAiLS8D,IAjLT,EAiLgC;AAAA,UAAjB+gB,OAAiB,uEAAP,KAAO;;AAC5B,WAAKC,WAAL,CAAiBhhB,IAAjB,EAAuB9R,UAAU,CAAC+yB,IAAlC,EAAwCF,OAAxC;AACD;AAnLH;AAAA;AAAA,yBAqLQ/gB,IArLR,EAqLc;AACV,WAAK8gB,aAAL,CAAmB9gB,IAAnB,EAAyB9R,UAAU,CAACyN,IAApC;AACD;AAvLH;AAAA;AAAA,wBAyLOqE,IAzLP,EAyLa;AACT,WAAK8gB,aAAL,CAAmB9gB,IAAnB,EAAyB9R,UAAU,CAAC6N,GAApC;AACD;AA3LH;AAAA;AAAA;AAAA,8MA6LqBiE,IA7LrB,EA6L2B/Q,IA7L3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6LiC8xB,uBA7LjC,2DA6L2C,KA7L3C;AA8LI;AACMG,0BA/LV,GA+LuBlgB,IAAI,CAACC,GAAL,EA/LvB;AAgMI,qBAAKxQ,cAAL,CAAoBsF,IAApB,CAAyB,CAAzB;AAhMJ;AAAA,uBAiMUorB,iDAAA,CAAY,CAAZ,CAjMV;;AAAA;AAkMI,qBAAK1wB,cAAL,CAAoBuf,GAApB;;AAlMJ,sBAmMQ,KAAKiP,UAAL,IAAmBiC,UAnM3B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAuMI,oBAAI,KAAKtB,WAAL,IAAoB,IAAxB,EAA8B;AACtBwB,0BADsB,GACX,KAAKC,eAAL,CAAqBpyB,IAArB,CADW;AAEtBqyB,yBAFsB,GAEZlzB,QAAQ,CAAC0xB,aAAT,CAAuB,KAAvB,CAFY;AAG5BwB,yBAAO,CAACvB,SAAR,CAAkBC,GAAlB,CAAsBoB,QAAtB;AACA,uBAAK3C,OAAL,CAAa8C,YAAb,CAA0BD,OAA1B,EAAmC,KAAKrD,QAAxC;AACA,uBAAK2B,WAAL,GAAmB0B,OAAnB;AACD;;AACD,qBAAK1B,WAAL,CAAiBhmB,SAAjB,IAA8B,KAAK4nB,aAAL,CAAmBxhB,IAAnB,CAA9B;;AACA,oBAAI+gB,OAAJ,EAAa;AACX;AACA,uBAAKnB,WAAL,GAAmB,IAAnB;AACD;;AACD,qBAAK6B,UAAL;;AAnNJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iNAsNuBzhB,IAtNvB,EAsN6B/Q,IAtN7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAsNmCyyB,sBAtNnC,8DAsN4C,IAtN5C;AAuNUR,0BAvNV,GAuNuBlgB,IAAI,CAACC,GAAL,EAvNvB;AAwNI,qBAAKxQ,cAAL,CAAoBsF,IAApB,CAAyB,CAAzB;AAxNJ;AAAA,uBAyNUorB,iDAAA,CAAY,CAAZ,CAzNV;;AAAA;AA0NI,qBAAK1wB,cAAL,CAAoBuf,GAApB;;AA1NJ,sBA2NQ,KAAKiP,UAAL,IAAmBiC,UA3N3B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AA8NUE,wBA9NV,GA8NqB,KAAKC,eAAL,CAAqBpyB,IAArB,CA9NrB;AA+NUqyB,uBA/NV,GA+NoBlzB,QAAQ,CAAC0xB,aAAT,CAAuB,KAAvB,CA/NpB;AAgOIwB,uBAAO,CAACvB,SAAR,CAAkBC,GAAlB,CAAsBoB,QAAtB;AACA,oBAAIM,MAAJ,EAAYJ,OAAO,CAAC1nB,SAAR,GAAoB,KAAK4nB,aAAL,CAAmBxhB,IAAnB,CAApB,CAAZ,KACKshB,OAAO,CAAC1nB,SAAR,mBAA6BoG,IAA7B;;AACL,oBAAI,KAAK4f,WAAL,IAAoB,IAApB,IAA4B,KAAKA,WAAL,CAAiBhmB,SAAjB,CAA2B5K,MAA3B,KAAsC,CAAtE,EAAyE;AACvE,uBAAKyvB,OAAL,CAAakD,WAAb,CAAyB,KAAK/B,WAA9B;AACD;;AACD,qBAAKnB,OAAL,CAAa8C,YAAb,CAA0BD,OAA1B,EAAmC,KAAKrD,QAAxC;AACA,qBAAK2B,WAAL,GAAmB,IAAnB;AACA,qBAAK6B,UAAL;;AAxOJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oNA2O0BzhB,IA3O1B;AAAA;AAAA;AAAA;AAAA;AAAA;AA4OUkhB,0BA5OV,GA4OuBlgB,IAAI,CAACC,GAAL,EA5OvB;AA6OI,qBAAKxQ,cAAL,CAAoBsF,IAApB,CAAyB,CAAzB;AA7OJ;AAAA,uBA8OUorB,iDAAA,CAAY,CAAZ,CA9OV;;AAAA;AA+OI,qBAAK1wB,cAAL,CAAoBuf,GAApB;;AA/OJ,sBAgPQ,KAAKiP,UAAL,IAAmBiC,UAhP3B;AAAA;AAAA;AAAA;;AAAA;;AAAA;AAmPUE,wBAnPV,GAmPqB,KAAKC,eAAL,CAAqBnzB,UAAU,CAAC0zB,KAAhC,CAnPrB;AAoPUN,uBApPV,GAoPoBlzB,QAAQ,CAAC0xB,aAAT,CAAuB,KAAvB,CApPpB;AAqPIwB,uBAAO,CAAC1nB,SAAR,GAAoB,KAAKioB,gBAAL,CAAsB7hB,IAAtB,CAApB;AACAshB,uBAAO,CAACvB,SAAR,CAAkBC,GAAlB,CAAsBoB,QAAtB;AACA,qBAAK3C,OAAL,CAAa8C,YAAb,CAA0BD,OAA1B,EAAmC,KAAKrD,QAAxC;AACA,qBAAK2B,WAAL,GAAmB,IAAnB;AACA,qBAAK6B,UAAL;;AAzPJ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA,kCA4PiBzhB,IA5PjB,EA4PuB;AACnBA,UAAI,GAAGA,IAAI,CAACrM,OAAL,CAAa,KAAb,EAAoB,QAApB,CAAP;AACA,4CAA6BqM,IAA7B;AACD;AA/PH;AAAA;AAAA,qCAiQoBA,IAjQpB,EAiQ0B;AACtB,UAAIA,IAAI,CAACqD,IAAL,GAAYrU,MAAZ,IAAsB,CAA1B,EAA6B;AAC3BgR,YAAI,GAAG,QAAP;AACD;;AACD,yFAAwEA,IAAxE;AACD;AAtQH;AAAA;AAAA,iCAwQgB;AACZ;AACA,WAAKye,OAAL,CAAaqD,SAAb,GAAyB,KAAKrD,OAAL,CAAasD,YAAtC;AACD;AA3QH;AAAA;AAAA,4BA6QW;AACP,WAAKtD,OAAL,CAAa5sB,KAAb,CAAmBC,OAAnB,GAA6B,OAA7B,CADO,CAEP;;AACA,UAAI,CAAC,KAAKgsB,gBAAN,IAA0B,KAAKe,MAAL,CAAYhtB,KAAZ,CAAkBmwB,GAAlB,CAAsBhzB,MAAtB,IAAgC,CAA9D,EAAiE;AAC/D,aAAK6vB,MAAL,CAAYhtB,KAAZ,CAAkBowB,SAAlB,GAA8B,QAA9B;AACD;;AACD,UAAI,KAAK5D,SAAT,EAAoB;AAClB,aAAK6D,SAAL;AACA,aAAKtB,cAAL;AACD;;AACD,UAAI,CAACO,+DAAA,CAA0B,KAAK1C,OAA/B,CAAL,EACE,KAAKA,OAAL,CAAa0D,cAAb,CAA4B,KAA5B;AACF,WAAKV,UAAL;AACD;AA1RH;AAAA;AAAA,2BA4RU;AACN,UAAI,KAAKpD,SAAT,EAAoB;AAClBzsB,qBAAa,CAAC,KAAKosB,YAAN,CAAb;AACA,aAAKgB,SAAL;AACA,aAAKX,SAAL,GAAiB,IAAjB;AACD,OALK,CAMN;;;AACA,UAAI,CAAC,KAAKP,gBAAN,IAA0B,KAAKe,MAAL,CAAYhtB,KAAZ,CAAkBmwB,GAAlB,CAAsBhzB,MAAtB,IAAgC,CAA9D,EAAiE;AAC/D,aAAK6vB,MAAL,CAAYhtB,KAAZ,CAAkBowB,SAAlB,GAA8B,GAA9B;AACD;;AACD,WAAKxD,OAAL,CAAa5sB,KAAb,CAAmBC,OAAnB,GAA6B,MAA7B;AACD;AAvSH;AAAA;AAAA,oCAySmB7C,IAzSnB,EAySyB;AACrB,cAAQA,IAAR;AACE,aAAKf,UAAU,CAAC0zB,KAAhB;AACE,iBAAO,uBAAP;;AACF,aAAK1zB,UAAU,CAAC+yB,IAAhB;AACE,iBAAO,sBAAP;;AACF,aAAK/yB,UAAU,CAACyN,IAAhB;AACE,iBAAO,kBAAP;;AACF,aAAKzN,UAAU,CAAC6N,GAAhB;AACE,iBAAO,mBAAP;AARJ;AAUD;AApTH;AAAA;AAAA,8BAsTa;AACT,WAAKf,KAAL,CAAWonB,mBAAX,CAA+B,OAA/B,EAAwC,KAAK3B,cAAL,CAAoB/R,IAApB,CAAyB,IAAzB,CAAxC;AACA,WAAK1T,KAAL,CAAWonB,mBAAX,CAA+B,MAA/B,EAAuC,KAAK1B,cAAL,CAAoBhS,IAApB,CAAyB,IAAzB,CAAvC;AACA,WAAK1T,KAAL,CAAWonB,mBAAX,CAA+B,SAA/B,EAA0C,KAAKnyB,aAAL,CAAmBye,IAAnB,CAAwB,IAAxB,CAA1C;AACA,WAAKwP,QAAL,CAAckE,mBAAd,CACE,OADF,EAEE,KAAK5B,kBAAL,CAAwB9R,IAAxB,CAA6B,IAA7B,CAFF;AAIA,WAAK4P,QAAL,CAAc8D,mBAAd,CAAkC,OAAlC,EAA2C,KAAKhD,aAAL,CAAmB1Q,IAAnB,CAAwB,IAAxB,CAA3C;AACA,WAAK6P,OAAL,CAAa6D,mBAAb,CAAiC,OAAjC,EAA0C,KAAK/C,YAAL,CAAkB3Q,IAAlB,CAAuB,IAAvB,CAA1C;AACA,WAAK8P,OAAL,CAAa4D,mBAAb,CAAiC,OAAjC,EAA0C,KAAK9C,YAAL,CAAkB5Q,IAAlB,CAAuB,IAAvB,CAA1C;AACA,WAAK1T,KAAL,GAAa,IAAb;AACA,WAAKkjB,QAAL,GAAgB,IAAhB;AACA,WAAKD,QAAL,GAAgB,IAAhB;AACA,WAAKQ,OAAL,GAAe,IAAf;AACA,WAAKN,SAAL,GAAiB,IAAjB;AACA,WAAKC,SAAL,GAAiB,IAAjB;AACA,WAAKE,QAAL,GAAgB,IAAhB;AACA,WAAKC,OAAL,GAAe,IAAf;AACA,WAAKC,OAAL,GAAe,IAAf;AACA,WAAKoB,WAAL,GAAmB,IAAnB;AACA,UAAMyC,KAAK,GAAG,KAAKxD,MAAL,CAAYyD,SAAZ,CAAsB,KAAtB,CAAd;AACA,WAAKzD,MAAL,CAAY0D,UAAZ,CAAuBC,YAAvB,CAAoCH,KAApC,EAA2C,KAAKxD,MAAhD;;AACA,UAAI,KAAKd,cAAL,IAAuB,IAA3B,EAAiC;AAC/BnsB,qBAAa,CAAC,KAAKmsB,cAAN,CAAb;AACD;;AACD,UAAI,KAAKC,YAAL,IAAqB,IAAzB,EAA+B;AAC7BpsB,qBAAa,CAAC,KAAKosB,YAAN,CAAb;AACD;AACF;AAnVH;AAAA;AAAA,gCAqVe;AACX,WAAKK,SAAL,GAAiB,IAAjB;AACA,WAAKJ,QAAL,CAAcpsB,KAAd,CAAoBC,OAApB,GAA8B,OAA9B;AACA,WAAKosB,QAAL,CAAchrB,KAAd,GAHW,CAIX;;AACA,WAAKuuB,UAAL;AACD;AA3VH;AAAA;AAAA,gCA6Ve;AACX,WAAKpD,SAAL,GAAiB,KAAjB;AACA,WAAKJ,QAAL,CAAcpsB,KAAd,CAAoBC,OAApB,GAA8B,OAA9B;AACAF,mBAAa,CAAC,KAAKmsB,cAAN,CAAb;AACA,WAAKA,cAAL,GAAsB,IAAtB;AACD;AAlWH;AAAA;AAAA,mCAoWgC;AAAA;;AAAA,UAAhBW,MAAgB,uEAAP,KAAO;AAC5B,UAAM+D,OAAO,GAAG,IAAIpnB,OAAJ,CAAY,UAACgB,OAAD,EAAU9L,CAAV,EAAgB;AAC1C,cAAI,CAACwuB,cAAL,CAAoBhpB,IAApB,CAAyBsG,OAAzB;;AACA,cAAI,CAACqiB,MAAL,GAAcA,MAAd;AACA,YAAI,MAAI,CAACV,YAAL,IAAqB,IAAzB,EAA+B,MAAI,CAAC4C,cAAL;;AAC/B,cAAI,CAACsB,SAAL;AACD,OALe,CAAhB;AAMA,aAAOO,OAAP;AACD;AA5WH;AAAA;AAAA,+BA8WcziB,IA9Wd,EA8WoB;AAChB;AACA,UAAI/E,MAAM,GAAG,KAAK+E,IAAlB;;AACA,UAAI/E,MAAM,CAACrD,OAAP,CAAe,IAAf,MAAyB,CAAC,CAA9B,EAAiC;AAC/B;AACA,YAAM8qB,UAAU,GAAGznB,MAAM,CAAC0nB,KAAP,CAAa,IAAb,CAAnB;AACA,YAAI5zB,CAAC,GAAG,CAAR;;AACA,eAAOA,CAAC,GAAG2zB,UAAU,CAAC1zB,MAAX,GAAoB,CAA/B,EAAkCD,CAAC,IAAI,CAAvC,EAA0C;AACxC;AACA,cAAI+L,EAAC,GAAG4nB,UAAU,CAAC3zB,CAAD,CAAlB;AACA+L,YAAC,GAAGA,EAAC,CAACnH,OAAF,CAAU,KAAV,EAAiB,kBAAjB,CAAJ;AACAmH,YAAC,GAAGA,EAAC,CAACnH,OAAF,CAAU,KAAV,EAAiB,UAAjB,CAAJ;;AACA,cAAImH,EAAC,CAAC9L,MAAF,KAAa,CAAjB,EAAoB;AAClB,iBAAK4zB,KAAL,CAAW9nB,EAAX;AACD;;AACD,eAAK8nB,KAAL,CAAW,EAAX,EAAe,IAAf;AACD;;AACD,YAAI9nB,CAAC,GAAG4nB,UAAU,CAAC3zB,CAAD,CAAlB;AACA+L,SAAC,GAAGA,CAAC,CAACnH,OAAF,CAAU,KAAV,EAAiB,kBAAjB,CAAJ;AACAmH,SAAC,GAAGA,CAAC,CAACnH,OAAF,CAAU,KAAV,EAAiB,UAAjB,CAAJ;AACA,YAAImH,CAAC,CAAC9L,MAAF,IAAY,CAAhB,EAAmB,KAAK4zB,KAAL,CAAW9nB,CAAX;AACpB,OAlBD,MAkBO;AACL;AACAG,cAAM,GAAGA,MAAM,CAACtH,OAAP,CAAe,KAAf,EAAsB,kBAAtB,CAAT;AACAsH,cAAM,GAAGA,MAAM,CAACtH,OAAP,CAAe,KAAf,EAAsB,UAAtB,CAAT;AACA,YAAIsH,MAAM,CAACjM,MAAP,IAAiB,CAArB,EAAwB,KAAK4zB,KAAL,CAAW3nB,MAAX;AACzB;AACF;AAzYH;AAAA;AAAA,yCA2YwB;AACpB,WAAKgkB,UAAL,GAAkBje,IAAI,CAACC,GAAL,EAAlB;AACD;AA7YH;AAAA;AAAA,4BA+YW;AACP,WAAK4hB,kBAAL;;AACA,aAAO,KAAK5E,QAAL,CAAcjnB,aAAd,CAA4B8rB,UAA5B,CAAuC9zB,MAAvC,GAAgD,CAAvD,EAA0D;AACxD,aAAKivB,QAAL,CAAcjnB,aAAd,CAA4B2qB,WAA5B,CACE,KAAK1D,QAAL,CAAcjnB,aAAd,CAA4B+rB,UAD9B;AAGD;;AACD,WAAK/nB,KAAL,CAAW5L,KAAX,GAAmB,EAAnB;AACA,WAAK+uB,SAAL,CAAevkB,SAAf,GAA2B,EAA3B;AACA,WAAKgmB,WAAL,GAAmB,IAAnB;AACD;AAzZH;AAAA;AAAA,oCA2ZmB;AACf,WAAKoD,KAAL;AACD;AA7ZH;AAAA;AAAA,mCA+ZkB;AACd,WAAK9xB,KAAL;AACD;AAjaH;AAAA;AAAA,mCAmakB;AACd,WAAK+xB,IAAL;AACD;AAraH;AAAA;AAAA,iCAuagB;AACZ,WAAKpyB,IAAL,CAAUC,kFAAgB,CAACC,UAAjB,CAA4B,wBAA5B,CAAV;AACA,WAAKmtB,QAAL,CAAchrB,KAAd;AACD;AA1aH;AAAA;AAAA,qCA4aoB;AAChB,WAAK8qB,YAAL,GAAoBqC,MAAM,CAAC1uB,WAAP,CAClB,KAAKuxB,UAAL,CAAgBxU,IAAhB,CAAqB,IAArB,CADkB,EAElBhU,mDAAM,CAACyoB,mBAFW,CAApB;AAID;AAjbH;AAAA;AAAA,iDAmbgC;AAC5B,WAAKpE,cAAL,CAAoB8B,OAApB,CAA4B,UAACxkB,OAAD;AAAA,eAAaA,OAAO,CAAC,EAAD,CAApB;AAAA,OAA5B;AACA,WAAK0iB,cAAL,CAAoBhnB,MAApB,CAA2B,CAA3B,EAA8B,KAAKgnB,cAAL,CAAoB/vB,MAAlD;;AACA,UAAI,KAAKgvB,YAAL,IAAqB,IAAzB,EAA+B;AAC7BpsB,qBAAa,CAAC,KAAKosB,YAAN,CAAb;AACA,aAAKA,YAAL,GAAoB,IAApB;AACD;;AACD,WAAKhjB,KAAL,CAAW5L,KAAX,GAAmB,EAAnB;AACA,WAAK+uB,SAAL,CAAevkB,SAAf,GAA2B,EAA3B;AACA,WAAKgmB,WAAL,GAAmB,IAAnB;AACA,WAAKZ,SAAL;AACA,WAAKN,MAAL,GAAc,KAAd;AACD;AA/bH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;ACJO,IAAM0E,KAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,mCAEkB;AACd,YAAM,IAAIhyB,KAAJ,CAAU,qBAAV,CAAN;AACD;AAJH;AAAA;AAAA,iDAMgC;AAC5B,YAAM,IAAIA,KAAJ,CAAU,qBAAV,CAAN;AACD;AARH;;AAAA;AAAA,I;;;;;;;;;;;;;;;;;;;;ACAO,IAAMiyB,MAAb;AAAA;AAAA;AAAA;;AAAA;AAAA;AAAA,+BAEcrjB,IAFd,EAEoB;AAChB,YAAM,IAAI5O,KAAJ,CAAU,qBAAV,CAAN;AACD;AAJH;;AAAA;AAAA,I;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAQA;AACA;AACA;AACA;AAQA;AAIA;AACA;AACA;AACA;AACA;AAEA,IAAMkyB,UAAU,GAAG;AACjBC,gBAAc,EAAEC,qEADC;AAEjBC,SAAO,EAAED,8DAFQ;AAGjBE,SAAO,EAAEF,8DAHQ;AAIjBG,cAAY,EAAEH,mEAJG;AAKjBI,SAAO,EAAEJ,8DAAqBI;AALb,CAAnB;AAQA,IAAMC,IAAI,GAAGC,+DAAU,CAACD,IAAxB;AACA,IAAM/yB,gBAAgB,GAAG+I,6EAAA,EAAzB;;;;;;;;;;;;;ACvCa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACda;AACb,8CAA8C,cAAc;AAC5D;AACA,kBAAkB,mBAAO,CAAC,yCAAW;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,MAAM;AACrB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,iBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;AC5GY;AACb,8CAA8C,cAAc;AAC5D;AACA,gBAAgB,mBAAO,CAAC,qDAAqB;AAC7C,oBAAoB,mBAAO,CAAC,+CAAkB;AAC9C,oBAAoB,mBAAO,CAAC,6DAAyB;AACrD,iBAAiB,mBAAO,CAAC,2CAAgB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qCAAqC;AAChE;AACA,+BAA+B,sCAAsC;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,qCAAqC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrNa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA,CAAC;;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAGA;AAEA;AAIA;;AAOA,SAASkqB,UAAT,CAAqB30B,KAArB,EAA4B40B,MAA5B,EAAoC;AAClC,OAAK,IAAMC,GAAX,IAAkBD,MAAlB,EAA0B;AACxB,QAAGpuB,MAAM,CAACsuB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AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,GAAG;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,cAAc,+BAA+B,cAAc;AAC1F;AACA;AACA;AACA;AACA;AACA,eAAe,OAAO;AACtB,eAAe,YAAY;AAC3B,eAAe,OAAO;AACtB,eAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,GAAG;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uCAAuC,qBAAqB;AAC5D;AACA;AACA;AACA;AACA;AACA,uCAAuC,oBAAoB;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA,0FAA0F,GAAG;AAC7F;AACA;AACA;AACA;AACA;AACA,0FAA0F,GAAG;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAkC,cAAc,+BAA+B,cAAc;AAC7F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,2BAA2B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA+B,WAAW;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4CAA4C,GAAG;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC9Qa;AACb,8CAA8C,cAAc;AAC5D;AACA,mBAAmB,mBAAO,CAAC,sDAAuB;AAClD;AACA;AACA;AACA,eAAe,KAAK;AACpB,eAAe,OAAO;AACtB,eAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAmD;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC7Da;AACb,8CAA8C,cAAc;AAC5D;AACA,sBAAsB,mBAAO,CAAC,0DAAe;AAC7C,4BAA4B,mBAAO,CAAC,kFAA2B;AAC/D,mBAAmB,mBAAO,CAAC,sDAAuB;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uDAAuD;AACvD;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,uBAAuB,2BAA2B;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrIa;AACb,8CAA8C,cAAc;AAC5D;AACA,sBAAsB,mBAAO,CAAC,0DAAe;AAC7C;AACA;AACA;AACA,eAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AC3Ba;AACb,8CAA8C,cAAc;AAC5D;AACA,2BAA2B,mBAAO,CAAC,oEAAoB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACnBa;AACb,8CAA8C,cAAc;AAC5D;AACA,qBAAqB,mBAAO,CAAC,qEAAgC;AAC7D,8BAA8B,mBAAO,CAAC,gFAAuB;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,6BAA6B,oBAAoB;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;ACrFa;AACb,8CAA8C,cAAc;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA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","file":"main.f64ad23b33716d4c9e46.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"ivprogCore\"] = factory();\n\telse\n\t\troot[\"ivprogCore\"] = factory();\n})(window, function() {\nreturn "," \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"main\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonpivprogCore\"] = window[\"webpackJsonpivprogCore\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([\"./js/main.js\",\"vendors~main\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Generated from C:\\Users\\verss\\AppData\\Local\\Temp\\tmp-14264lcNK0M7xRLS5\\ivprog.g4 by ANTLR 4.7\r\n// jshint ignore: start\r\nvar antlr4 = __webpack_require__(2);\r\n\r\n\r\nvar serializedATN = [\"\\u0003\\u608b\\ua72a\\u8133\\ub9ed\\u417c\\u3be7\\u7786\\u5964\",\r\n    \"\\u00026\\u0209\\b\\u0001\\u0004\\u0002\\t\\u0002\\u0004\\u0003\\t\\u0003\\u0004\",\r\n    \"\\u0004\\t\\u0004\\u0004\\u0005\\t\\u0005\\u0004\\u0006\\t\\u0006\\u0004\\u0007\\t\",\r\n    \"\\u0007\\u0004\\b\\t\\b\\u0004\\t\\t\\t\\u0004\\n\\t\\n\\u0004\\u000b\\t\\u000b\\u0004\",\r\n    \"\\f\\t\\f\\u0004\\r\\t\\r\\u0004\\u000e\\t\\u000e\\u0004\\u000f\\t\\u000f\\u0004\\u0010\",\r\n    \"\\t\\u0010\\u0004\\u0011\\t\\u0011\\u0004\\u0012\\t\\u0012\\u0004\\u0013\\t\\u0013\",\r\n    \"\\u0004\\u0014\\t\\u0014\\u0004\\u0015\\t\\u0015\\u0004\\u0016\\t\\u0016\\u0004\\u0017\",\r\n    \"\\t\\u0017\\u0004\\u0018\\t\\u0018\\u0004\\u0019\\t\\u0019\\u0004\\u001a\\t\\u001a\",\r\n    \"\\u0004\\u001b\\t\\u001b\\u0004\\u001c\\t\\u001c\\u0004\\u001d\\t\\u001d\\u0004\\u001e\",\r\n    \"\\t\\u001e\\u0004\\u001f\\t\\u001f\\u0004 \\t \\u0004!\\t!\\u0004\\\"\\t\\\"\\u0004#\",\r\n    \"\\t#\\u0004$\\t$\\u0004%\\t%\\u0004&\\t&\\u0004\\'\\t\\'\\u0004(\\t(\\u0004)\\t)\\u0004\",\r\n    \"*\\t*\\u0004+\\t+\\u0004,\\t,\\u0004-\\t-\\u0004.\\t.\\u0004/\\t/\\u00040\\t0\\u0004\",\r\n    \"1\\t1\\u00042\\t2\\u00043\\t3\\u00044\\t4\\u00045\\t5\\u00046\\t6\\u00047\\t7\\u0004\",\r\n    \"8\\t8\\u00049\\t9\\u0004:\\t:\\u0004;\\t;\\u0004<\\t<\\u0004=\\t=\\u0004>\\t>\\u0004\",\r\n    \"?\\t?\\u0004@\\t@\\u0003\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\",\r\n    \"\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\\u0003\\u0003\\u0003\\u0003\",\r\n    \"\\u0003\\u0003\\u0003\\u0003\\u0003\\u0003\\u0004\\u0003\\u0004\\u0003\\u0004\\u0003\",\r\n    \"\\u0004\\u0003\\u0004\\u0003\\u0005\\u0003\\u0005\\u0003\\u0005\\u0003\\u0005\\u0003\",\r\n    \"\\u0005\\u0003\\u0006\\u0003\\u0006\\u0003\\u0006\\u0003\\u0006\\u0003\\u0006\\u0003\",\r\n    \"\\u0006\\u0003\\u0006\\u0003\\u0007\\u0003\\u0007\\u0003\\u0007\\u0003\\u0007\\u0003\",\r\n    \"\\b\\u0003\\b\\u0003\\b\\u0003\\b\\u0003\\b\\u0003\\t\\u0003\\t\\u0003\\t\\u0003\\t\\u0003\",\r\n    \"\\t\\u0003\\t\\u0003\\t\\u0003\\n\\u0003\\n\\u0003\\n\\u0003\\n\\u0003\\n\\u0003\\u000b\",\r\n    \"\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\",\r\n    \"\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\\u0003\\f\\u0003\\f\\u0003\\f\\u0003\\f\",\r\n    \"\\u0003\\f\\u0003\\f\\u0003\\r\\u0003\\r\\u0003\\r\\u0003\\r\\u0003\\r\\u0003\\r\\u0003\",\r\n    \"\\r\\u0003\\r\\u0003\\r\\u0003\\u000e\\u0003\\u000e\\u0003\\u000e\\u0003\\u000e\\u0003\",\r\n    \"\\u000e\\u0003\\u000e\\u0003\\u000e\\u0003\\u000f\\u0003\\u000f\\u0003\\u000f\\u0003\",\r\n    \"\\u000f\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\",\r\n    \"\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\",\r\n    \"\\u0011\\u0003\\u0011\\u0003\\u0011\\u0003\\u0011\\u0003\\u0011\\u0003\\u0012\\u0003\",\r\n    \"\\u0012\\u0003\\u0012\\u0003\\u0013\\u0003\\u0013\\u0003\\u0013\\u0003\\u0013\\u0003\",\r\n    \"\\u0013\\u0003\\u0014\\u0003\\u0014\\u0003\\u0014\\u0003\\u0014\\u0003\\u0014\\u0003\",\r\n    \"\\u0014\\u0003\\u0015\\u0003\\u0015\\u0003\\u0015\\u0003\\u0015\\u0003\\u0015\\u0003\",\r\n    \"\\u0015\\u0003\\u0015\\u0003\\u0016\\u0003\\u0016\\u0003\\u0016\\u0003\\u0016\\u0003\",\r\n    \"\\u0016\\u0003\\u0016\\u0003\\u0017\\u0003\\u0017\\u0003\\u0017\\u0003\\u0017\\u0003\",\r\n    \"\\u0017\\u0003\\u0017\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\",\r\n    \"\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\",\r\n    \"\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0019\\u0003\\u0019\\u0003\\u0019\\u0003\",\r\n    \"\\u001a\\u0003\\u001a\\u0003\\u001a\\u0003\\u001a\\u0003\\u001a\\u0003\\u001b\\u0003\",\r\n    \"\\u001b\\u0003\\u001b\\u0003\\u001b\\u0003\\u001b\\u0003\\u001b\\u0003\\u001c\\u0003\",\r\n    \"\\u001c\\u0003\\u001c\\u0003\\u001c\\u0003\\u001c\\u0003\\u001d\\u0003\\u001d\\u0003\",\r\n    \"\\u001d\\u0003\\u001d\\u0003\\u001e\\u0003\\u001e\\u0003\\u001e\\u0003\\u001e\\u0003\",\r\n    \"\\u001f\\u0003\\u001f\\u0003\\u001f\\u0003 \\u0003 \\u0003!\\u0003!\\u0003\\\"\\u0003\",\r\n    \"\\\"\\u0003#\\u0003#\\u0003$\\u0003$\\u0003%\\u0003%\\u0003&\\u0003&\\u0003\\'\\u0003\",\r\n    \"\\'\\u0003(\\u0003(\\u0003(\\u0003(\\u0003(\\u0005(\\u014a\\n(\\u0003)\\u0003)\",\r\n    \"\\u0003*\\u0003*\\u0003+\\u0003+\\u0003,\\u0003,\\u0003-\\u0003-\\u0003-\\u0003\",\r\n    \"-\\u0003-\\u0003-\\u0003-\\u0003-\\u0003-\\u0005-\\u015d\\n-\\u0003.\\u0003.\\u0003\",\r\n    \"/\\u0003/\\u00030\\u00030\\u00070\\u0165\\n0\\f0\\u000e0\\u0168\\u000b0\\u0003\",\r\n    \"1\\u00031\\u00031\\u00031\\u00032\\u00062\\u016f\\n2\\r2\\u000e2\\u0170\\u0003\",\r\n    \"2\\u00032\\u00032\\u00032\\u00052\\u0177\\n2\\u00032\\u00062\\u017a\\n2\\r2\\u000e\",\r\n    \"2\\u017b\\u00032\\u00032\\u00032\\u00032\\u00052\\u0182\\n2\\u00032\\u00062\\u0185\",\r\n    \"\\n2\\r2\\u000e2\\u0186\\u00052\\u0189\\n2\\u00033\\u00063\\u018c\\n3\\r3\\u000e\",\r\n    \"3\\u018d\\u00033\\u00033\\u00063\\u0192\\n3\\r3\\u000e3\\u0193\\u00033\\u00063\",\r\n    \"\\u0197\\n3\\r3\\u000e3\\u0198\\u00033\\u00033\\u00073\\u019d\\n3\\f3\\u000e3\\u01a0\",\r\n    \"\\u000b3\\u00033\\u00053\\u01a3\\n3\\u00034\\u00034\\u00054\\u01a7\\n4\\u00034\",\r\n    \"\\u00064\\u01aa\\n4\\r4\\u000e4\\u01ab\\u00035\\u00035\\u00075\\u01b0\\n5\\f5\\u000e\",\r\n    \"5\\u01b3\\u000b5\\u00035\\u00035\\u00036\\u00036\\u00056\\u01b9\\n6\\u00037\\u0003\",\r\n    \"7\\u00037\\u00057\\u01be\\n7\\u00037\\u00037\\u00038\\u00038\\u00038\\u00038\\u0003\",\r\n    \"9\\u00039\\u0003:\\u0006:\\u01c9\\n:\\r:\\u000e:\\u01ca\\u0003:\\u0005:\\u01ce\",\r\n    \"\\n:\\u0003;\\u0003;\\u0003<\\u0003<\\u0003=\\u0003=\\u0003=\\u0003=\\u0005=\\u01d8\",\r\n    \"\\n=\\u0003>\\u0003>\\u0003>\\u0003>\\u0003>\\u0003>\\u0003>\\u0003>\\u0003>\\u0003\",\r\n    \">\\u0003>\\u0005>\\u01e5\\n>\\u0003?\\u0003?\\u0003?\\u0003?\\u0003?\\u0003?\\u0003\",\r\n    \"?\\u0003@\\u0003@\\u0003@\\u0003@\\u0007@\\u01f2\\n@\\f@\\u000e@\\u01f5\\u000b\",\r\n    \"@\\u0003@\\u0005@\\u01f8\\n@\\u0003@\\u0003@\\u0003@\\u0003@\\u0003@\\u0007@\\u01ff\",\r\n    \"\\n@\\f@\\u000e@\\u0202\\u000b@\\u0003@\\u0003@\\u0005@\\u0206\\n@\\u0003@\\u0003\",\r\n    \"@\\u0003\\u0200\\u0002A\\u0003\\u0003\\u0005\\u0004\\u0007\\u0005\\t\\u0006\\u000b\",\r\n    \"\\u0007\\r\\b\\u000f\\t\\u0011\\n\\u0013\\u000b\\u0015\\f\\u0017\\r\\u0019\\u000e\\u001b\",\r\n    \"\\u000f\\u001d\\u0010\\u001f\\u0011!\\u0012#\\u0013%\\u0014\\'\\u0015)\\u0016+\",\r\n    \"\\u0017-\\u0018/\\u00191\\u001a3\\u001b5\\u001c7\\u001d9\\u0002;\\u0002=\\u0002\",\r\n    \"?\\u001eA\\u001fC E!G\\\"I#K$M%O&Q\\'S(U)W*Y+[,]-_.a/c0e1g\\u0002i2k\\u0002\",\r\n    \"m3o4q\\u0002s5u\\u0002w\\u0002y\\u0002{\\u0002}\\u0002\\u007f6\\u0003\\u0002\",\r\n    \"\\u0012\\u0004\\u0002--//\\u0005\\u0002\\'\\',,11\\u0004\\u0002>>@@\\u0005\\u0002\",\r\n    \"C\\\\aac|\\u0006\\u00022;C\\\\aac|\\u0003\\u00022;\\u0003\\u000223\\u0004\\u0002\",\r\n    \"GGgg\\u0006\\u0002\\f\\f\\u000f\\u000f$$^^\\u0006\\u0002\\f\\f\\u000f\\u000f))^\",\r\n    \"^\\u0004\\u0002\\u000b\\u000b\\\"\\\"\\u0004\\u0002\\f\\f\\u000f\\u000f\\u0005\\u0002\",\r\n    \"2;CHch\\u0003\\u000229\\n\\u0002$$))^^ddhhppttvv\\u0003\\u000225\\u0002\\u021e\",\r\n    \"\\u0002\\u0003\\u0003\\u0002\\u0002\\u0002\\u0002\\u0005\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002\\u0007\\u0003\\u0002\\u0002\\u0002\\u0002\\t\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002\\u000b\\u0003\\u0002\\u0002\\u0002\\u0002\\r\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002\\u000f\\u0003\\u0002\\u0002\\u0002\\u0002\\u0011\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002\\u0013\\u0003\\u0002\\u0002\\u0002\\u0002\\u0015\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002\\u0017\\u0003\\u0002\\u0002\\u0002\\u0002\\u0019\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002\\u001b\\u0003\\u0002\\u0002\\u0002\\u0002\\u001d\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002\\u001f\\u0003\\u0002\\u0002\\u0002\\u0002!\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002#\\u0003\\u0002\\u0002\\u0002\\u0002%\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\'\\u0003\\u0002\\u0002\\u0002\\u0002)\\u0003\\u0002\\u0002\\u0002\\u0002+\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0002-\\u0003\\u0002\\u0002\\u0002\\u0002/\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u00021\\u0003\\u0002\\u0002\\u0002\\u00023\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u00025\\u0003\\u0002\\u0002\\u0002\\u00027\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002?\\u0003\\u0002\\u0002\\u0002\\u0002A\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"C\\u0003\\u0002\\u0002\\u0002\\u0002E\\u0003\\u0002\\u0002\\u0002\\u0002G\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0002I\\u0003\\u0002\\u0002\\u0002\\u0002K\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0002M\\u0003\\u0002\\u0002\\u0002\\u0002O\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0002Q\\u0003\\u0002\\u0002\\u0002\\u0002S\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002U\\u0003\\u0002\\u0002\\u0002\\u0002W\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"Y\\u0003\\u0002\\u0002\\u0002\\u0002[\\u0003\\u0002\\u0002\\u0002\\u0002]\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0002_\\u0003\\u0002\\u0002\\u0002\\u0002a\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0002c\\u0003\\u0002\\u0002\\u0002\\u0002e\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0002i\\u0003\\u0002\\u0002\\u0002\\u0002m\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002o\\u0003\\u0002\\u0002\\u0002\\u0002s\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\u007f\\u0003\\u0002\\u0002\\u0002\\u0003\\u0081\\u0003\\u0002\\u0002\\u0002\\u0005\",\r\n    \"\\u0089\\u0003\\u0002\\u0002\\u0002\\u0007\\u008e\\u0003\\u0002\\u0002\\u0002\\t\",\r\n    \"\\u0093\\u0003\\u0002\\u0002\\u0002\\u000b\\u0098\\u0003\\u0002\\u0002\\u0002\\r\",\r\n    \"\\u009f\\u0003\\u0002\\u0002\\u0002\\u000f\\u00a3\\u0003\\u0002\\u0002\\u0002\\u0011\",\r\n    \"\\u00a8\\u0003\\u0002\\u0002\\u0002\\u0013\\u00af\\u0003\\u0002\\u0002\\u0002\\u0015\",\r\n    \"\\u00b4\\u0003\\u0002\\u0002\\u0002\\u0017\\u00be\\u0003\\u0002\\u0002\\u0002\\u0019\",\r\n    \"\\u00c4\\u0003\\u0002\\u0002\\u0002\\u001b\\u00cd\\u0003\\u0002\\u0002\\u0002\\u001d\",\r\n    \"\\u00d4\\u0003\\u0002\\u0002\\u0002\\u001f\\u00d8\\u0003\\u0002\\u0002\\u0002!\",\r\n    \"\\u00e3\\u0003\\u0002\\u0002\\u0002#\\u00e8\\u0003\\u0002\\u0002\\u0002%\\u00eb\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\'\\u00f0\\u0003\\u0002\\u0002\\u0002)\\u00f6\\u0003\",\r\n    \"\\u0002\\u0002\\u0002+\\u00fd\\u0003\\u0002\\u0002\\u0002-\\u0103\\u0003\\u0002\",\r\n    \"\\u0002\\u0002/\\u0109\\u0003\\u0002\\u0002\\u00021\\u0116\\u0003\\u0002\\u0002\",\r\n    \"\\u00023\\u0119\\u0003\\u0002\\u0002\\u00025\\u011e\\u0003\\u0002\\u0002\\u0002\",\r\n    \"7\\u0124\\u0003\\u0002\\u0002\\u00029\\u0129\\u0003\\u0002\\u0002\\u0002;\\u012d\",\r\n    \"\\u0003\\u0002\\u0002\\u0002=\\u0131\\u0003\\u0002\\u0002\\u0002?\\u0134\\u0003\",\r\n    \"\\u0002\\u0002\\u0002A\\u0136\\u0003\\u0002\\u0002\\u0002C\\u0138\\u0003\\u0002\",\r\n    \"\\u0002\\u0002E\\u013a\\u0003\\u0002\\u0002\\u0002G\\u013c\\u0003\\u0002\\u0002\",\r\n    \"\\u0002I\\u013e\\u0003\\u0002\\u0002\\u0002K\\u0140\\u0003\\u0002\\u0002\\u0002\",\r\n    \"M\\u0142\\u0003\\u0002\\u0002\\u0002O\\u0149\\u0003\\u0002\\u0002\\u0002Q\\u014b\",\r\n    \"\\u0003\\u0002\\u0002\\u0002S\\u014d\\u0003\\u0002\\u0002\\u0002U\\u014f\\u0003\",\r\n    \"\\u0002\\u0002\\u0002W\\u0151\\u0003\\u0002\\u0002\\u0002Y\\u015c\\u0003\\u0002\",\r\n    \"\\u0002\\u0002[\\u015e\\u0003\\u0002\\u0002\\u0002]\\u0160\\u0003\\u0002\\u0002\",\r\n    \"\\u0002_\\u0162\\u0003\\u0002\\u0002\\u0002a\\u0169\\u0003\\u0002\\u0002\\u0002\",\r\n    \"c\\u0188\\u0003\\u0002\\u0002\\u0002e\\u01a2\\u0003\\u0002\\u0002\\u0002g\\u01a4\",\r\n    \"\\u0003\\u0002\\u0002\\u0002i\\u01ad\\u0003\\u0002\\u0002\\u0002k\\u01b8\\u0003\",\r\n    \"\\u0002\\u0002\\u0002m\\u01ba\\u0003\\u0002\\u0002\\u0002o\\u01c1\\u0003\\u0002\",\r\n    \"\\u0002\\u0002q\\u01c5\\u0003\\u0002\\u0002\\u0002s\\u01cd\\u0003\\u0002\\u0002\",\r\n    \"\\u0002u\\u01cf\\u0003\\u0002\\u0002\\u0002w\\u01d1\\u0003\\u0002\\u0002\\u0002\",\r\n    \"y\\u01d7\\u0003\\u0002\\u0002\\u0002{\\u01e4\\u0003\\u0002\\u0002\\u0002}\\u01e6\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u007f\\u0205\\u0003\\u0002\\u0002\\u0002\\u0081\\u0082\",\r\n    \"\\u0007r\\u0002\\u0002\\u0082\\u0083\\u0007t\\u0002\\u0002\\u0083\\u0084\\u0007\",\r\n    \"q\\u0002\\u0002\\u0084\\u0085\\u0007i\\u0002\\u0002\\u0085\\u0086\\u0007t\\u0002\",\r\n    \"\\u0002\\u0086\\u0087\\u0007c\\u0002\\u0002\\u0087\\u0088\\u0007o\\u0002\\u0002\",\r\n    \"\\u0088\\u0004\\u0003\\u0002\\u0002\\u0002\\u0089\\u008a\\u0007t\\u0002\\u0002\",\r\n    \"\\u008a\\u008b\\u0007g\\u0002\\u0002\\u008b\\u008c\\u0007c\\u0002\\u0002\\u008c\",\r\n    \"\\u008d\\u0007n\\u0002\\u0002\\u008d\\u0006\\u0003\\u0002\\u0002\\u0002\\u008e\",\r\n    \"\\u008f\\u0007x\\u0002\\u0002\\u008f\\u0090\\u0007q\\u0002\\u0002\\u0090\\u0091\",\r\n    \"\\u0007k\\u0002\\u0002\\u0091\\u0092\\u0007f\\u0002\\u0002\\u0092\\b\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0093\\u0094\\u0007d\\u0002\\u0002\\u0094\\u0095\\u0007q\\u0002\",\r\n    \"\\u0002\\u0095\\u0096\\u0007q\\u0002\\u0002\\u0096\\u0097\\u0007n\\u0002\\u0002\",\r\n    \"\\u0097\\n\\u0003\\u0002\\u0002\\u0002\\u0098\\u0099\\u0007u\\u0002\\u0002\\u0099\",\r\n    \"\\u009a\\u0007v\\u0002\\u0002\\u009a\\u009b\\u0007t\\u0002\\u0002\\u009b\\u009c\",\r\n    \"\\u0007k\\u0002\\u0002\\u009c\\u009d\\u0007p\\u0002\\u0002\\u009d\\u009e\\u0007\",\r\n    \"i\\u0002\\u0002\\u009e\\f\\u0003\\u0002\\u0002\\u0002\\u009f\\u00a0\\u0007k\\u0002\",\r\n    \"\\u0002\\u00a0\\u00a1\\u0007p\\u0002\\u0002\\u00a1\\u00a2\\u0007v\\u0002\\u0002\",\r\n    \"\\u00a2\\u000e\\u0003\\u0002\\u0002\\u0002\\u00a3\\u00a4\\u0007e\\u0002\\u0002\",\r\n    \"\\u00a4\\u00a5\\u0007j\\u0002\\u0002\\u00a5\\u00a6\\u0007c\\u0002\\u0002\\u00a6\",\r\n    \"\\u00a7\\u0007t\\u0002\\u0002\\u00a7\\u0010\\u0003\\u0002\\u0002\\u0002\\u00a8\",\r\n    \"\\u00a9\\u0007u\\u0002\\u0002\\u00a9\\u00aa\\u0007y\\u0002\\u0002\\u00aa\\u00ab\",\r\n    \"\\u0007k\\u0002\\u0002\\u00ab\\u00ac\\u0007v\\u0002\\u0002\\u00ac\\u00ad\\u0007\",\r\n    \"e\\u0002\\u0002\\u00ad\\u00ae\\u0007j\\u0002\\u0002\\u00ae\\u0012\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u00af\\u00b0\\u0007e\\u0002\\u0002\\u00b0\\u00b1\\u0007c\\u0002\",\r\n    \"\\u0002\\u00b1\\u00b2\\u0007u\\u0002\\u0002\\u00b2\\u00b3\\u0007g\\u0002\\u0002\",\r\n    \"\\u00b3\\u0014\\u0003\\u0002\\u0002\\u0002\\u00b4\\u00b5\\u0007q\\u0002\\u0002\",\r\n    \"\\u00b5\\u00b6\\u0007v\\u0002\\u0002\\u00b6\\u00b7\\u0007j\\u0002\\u0002\\u00b7\",\r\n    \"\\u00b8\\u0007g\\u0002\\u0002\\u00b8\\u00b9\\u0007t\\u0002\\u0002\\u00b9\\u00ba\",\r\n    \"\\u0007y\\u0002\\u0002\\u00ba\\u00bb\\u0007k\\u0002\\u0002\\u00bb\\u00bc\\u0007\",\r\n    \"u\\u0002\\u0002\\u00bc\\u00bd\\u0007g\\u0002\\u0002\\u00bd\\u0016\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u00be\\u00bf\\u0007e\\u0002\\u0002\\u00bf\\u00c0\\u0007q\\u0002\",\r\n    \"\\u0002\\u00c0\\u00c1\\u0007p\\u0002\\u0002\\u00c1\\u00c2\\u0007u\\u0002\\u0002\",\r\n    \"\\u00c2\\u00c3\\u0007v\\u0002\\u0002\\u00c3\\u0018\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u00c4\\u00c5\\u0007h\\u0002\\u0002\\u00c5\\u00c6\\u0007w\\u0002\\u0002\\u00c6\",\r\n    \"\\u00c7\\u0007p\\u0002\\u0002\\u00c7\\u00c8\\u0007e\\u0002\\u0002\\u00c8\\u00c9\",\r\n    \"\\u0007v\\u0002\\u0002\\u00c9\\u00ca\\u0007k\\u0002\\u0002\\u00ca\\u00cb\\u0007\",\r\n    \"q\\u0002\\u0002\\u00cb\\u00cc\\u0007p\\u0002\\u0002\\u00cc\\u001a\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u00cd\\u00ce\\u0007t\\u0002\\u0002\\u00ce\\u00cf\\u0007g\\u0002\",\r\n    \"\\u0002\\u00cf\\u00d0\\u0007v\\u0002\\u0002\\u00d0\\u00d1\\u0007w\\u0002\\u0002\",\r\n    \"\\u00d1\\u00d2\\u0007t\\u0002\\u0002\\u00d2\\u00d3\\u0007p\\u0002\\u0002\\u00d3\",\r\n    \"\\u001c\\u0003\\u0002\\u0002\\u0002\\u00d4\\u00d5\\u0007h\\u0002\\u0002\\u00d5\",\r\n    \"\\u00d6\\u0007q\\u0002\\u0002\\u00d6\\u00d7\\u0007t\\u0002\\u0002\\u00d7\\u001e\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u00d8\\u00d9\\u0007t\\u0002\\u0002\\u00d9\\u00da\",\r\n    \"\\u0007g\\u0002\\u0002\\u00da\\u00db\\u0007r\\u0002\\u0002\\u00db\\u00dc\\u0007\",\r\n    \"g\\u0002\\u0002\\u00dc\\u00dd\\u0007c\\u0002\\u0002\\u00dd\\u00de\\u0007v\\u0002\",\r\n    \"\\u0002\\u00de\\u00df\\u0007a\\u0002\\u0002\\u00df\\u00e0\\u0007h\\u0002\\u0002\",\r\n    \"\\u00e0\\u00e1\\u0007q\\u0002\\u0002\\u00e1\\u00e2\\u0007t\\u0002\\u0002\\u00e2\",\r\n    \" \\u0003\\u0002\\u0002\\u0002\\u00e3\\u00e4\\u0007h\\u0002\\u0002\\u00e4\\u00e5\",\r\n    \"\\u0007t\\u0002\\u0002\\u00e5\\u00e6\\u0007q\\u0002\\u0002\\u00e6\\u00e7\\u0007\",\r\n    \"o\\u0002\\u0002\\u00e7\\\"\\u0003\\u0002\\u0002\\u0002\\u00e8\\u00e9\\u0007v\\u0002\",\r\n    \"\\u0002\\u00e9\\u00ea\\u0007q\\u0002\\u0002\\u00ea$\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u00eb\\u00ec\\u0007r\\u0002\\u0002\\u00ec\\u00ed\\u0007c\\u0002\\u0002\\u00ed\",\r\n    \"\\u00ee\\u0007u\\u0002\\u0002\\u00ee\\u00ef\\u0007u\\u0002\\u0002\\u00ef&\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u00f0\\u00f1\\u0007d\\u0002\\u0002\\u00f1\\u00f2\\u0007\",\r\n    \"t\\u0002\\u0002\\u00f2\\u00f3\\u0007g\\u0002\\u0002\\u00f3\\u00f4\\u0007c\\u0002\",\r\n    \"\\u0002\\u00f4\\u00f5\\u0007m\\u0002\\u0002\\u00f5(\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u00f6\\u00f7\\u0007t\\u0002\\u0002\\u00f7\\u00f8\\u0007g\\u0002\\u0002\\u00f8\",\r\n    \"\\u00f9\\u0007r\\u0002\\u0002\\u00f9\\u00fa\\u0007g\\u0002\\u0002\\u00fa\\u00fb\",\r\n    \"\\u0007c\\u0002\\u0002\\u00fb\\u00fc\\u0007v\\u0002\\u0002\\u00fc*\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u00fd\\u00fe\\u0007w\\u0002\\u0002\\u00fe\\u00ff\\u0007p\\u0002\",\r\n    \"\\u0002\\u00ff\\u0100\\u0007v\\u0002\\u0002\\u0100\\u0101\\u0007k\\u0002\\u0002\",\r\n    \"\\u0101\\u0102\\u0007n\\u0002\\u0002\\u0102,\\u0003\\u0002\\u0002\\u0002\\u0103\",\r\n    \"\\u0104\\u0007y\\u0002\\u0002\\u0104\\u0105\\u0007j\\u0002\\u0002\\u0105\\u0106\",\r\n    \"\\u0007k\\u0002\\u0002\\u0106\\u0107\\u0007n\\u0002\\u0002\\u0107\\u0108\\u0007\",\r\n    \"g\\u0002\\u0002\\u0108.\\u0003\\u0002\\u0002\\u0002\\u0109\\u010a\\u0007t\\u0002\",\r\n    \"\\u0002\\u010a\\u010b\\u0007g\\u0002\\u0002\\u010b\\u010c\\u0007r\\u0002\\u0002\",\r\n    \"\\u010c\\u010d\\u0007g\\u0002\\u0002\\u010d\\u010e\\u0007c\\u0002\\u0002\\u010e\",\r\n    \"\\u010f\\u0007v\\u0002\\u0002\\u010f\\u0110\\u0007a\\u0002\\u0002\\u0110\\u0111\",\r\n    \"\\u0007y\\u0002\\u0002\\u0111\\u0112\\u0007j\\u0002\\u0002\\u0112\\u0113\\u0007\",\r\n    \"k\\u0002\\u0002\\u0113\\u0114\\u0007n\\u0002\\u0002\\u0114\\u0115\\u0007g\\u0002\",\r\n    \"\\u0002\\u01150\\u0003\\u0002\\u0002\\u0002\\u0116\\u0117\\u0007k\\u0002\\u0002\",\r\n    \"\\u0117\\u0118\\u0007h\\u0002\\u0002\\u01182\\u0003\\u0002\\u0002\\u0002\\u0119\",\r\n    \"\\u011a\\u0007g\\u0002\\u0002\\u011a\\u011b\\u0007n\\u0002\\u0002\\u011b\\u011c\",\r\n    \"\\u0007u\\u0002\\u0002\\u011c\\u011d\\u0007g\\u0002\\u0002\\u011d4\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u011e\\u011f\\u0007h\\u0002\\u0002\\u011f\\u0120\\u0007c\\u0002\",\r\n    \"\\u0002\\u0120\\u0121\\u0007n\\u0002\\u0002\\u0121\\u0122\\u0007u\\u0002\\u0002\",\r\n    \"\\u0122\\u0123\\u0007g\\u0002\\u0002\\u01236\\u0003\\u0002\\u0002\\u0002\\u0124\",\r\n    \"\\u0125\\u0007v\\u0002\\u0002\\u0125\\u0126\\u0007t\\u0002\\u0002\\u0126\\u0127\",\r\n    \"\\u0007w\\u0002\\u0002\\u0127\\u0128\\u0007g\\u0002\\u0002\\u01288\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0129\\u012a\\u0007p\\u0002\\u0002\\u012a\\u012b\\u0007q\\u0002\",\r\n    \"\\u0002\\u012b\\u012c\\u0007v\\u0002\\u0002\\u012c:\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u012d\\u012e\\u0007C\\u0002\\u0002\\u012e\\u012f\\u0007P\\u0002\\u0002\\u012f\",\r\n    \"\\u0130\\u0007F\\u0002\\u0002\\u0130<\\u0003\\u0002\\u0002\\u0002\\u0131\\u0132\",\r\n    \"\\u0007Q\\u0002\\u0002\\u0132\\u0133\\u0007T\\u0002\\u0002\\u0133>\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0134\\u0135\\u0007(\\u0002\\u0002\\u0135@\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0136\\u0137\\u0007*\\u0002\\u0002\\u0137B\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0138\\u0139\\u0007+\\u0002\\u0002\\u0139D\\u0003\\u0002\\u0002\\u0002\\u013a\",\r\n    \"\\u013b\\u0007]\\u0002\\u0002\\u013bF\\u0003\\u0002\\u0002\\u0002\\u013c\\u013d\",\r\n    \"\\u0007_\\u0002\\u0002\\u013dH\\u0003\\u0002\\u0002\\u0002\\u013e\\u013f\\u0007\",\r\n    \"}\\u0002\\u0002\\u013fJ\\u0003\\u0002\\u0002\\u0002\\u0140\\u0141\\u0007\\u007f\",\r\n    \"\\u0002\\u0002\\u0141L\\u0003\\u0002\\u0002\\u0002\\u0142\\u0143\\u0007.\\u0002\",\r\n    \"\\u0002\\u0143N\\u0003\\u0002\\u0002\\u0002\\u0144\\u0145\\u0007>\\u0002\\u0002\",\r\n    \"\\u0145\\u014a\\u0007/\\u0002\\u0002\\u0146\\u0147\\u0007\\u00e4\\u0002\\u0002\",\r\n    \"\\u0147\\u0148\\u0007\\u2022\\u0002\\u0002\\u0148\\u014a\\u0007\\uffff\\u0002\\u0002\",\r\n    \"\\u0149\\u0144\\u0003\\u0002\\u0002\\u0002\\u0149\\u0146\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u014aP\\u0003\\u0002\\u0002\\u0002\\u014b\\u014c\\t\\u0002\\u0002\\u0002\\u014c\",\r\n    \"R\\u0003\\u0002\\u0002\\u0002\\u014d\\u014e\\t\\u0003\\u0002\\u0002\\u014eT\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u014f\\u0150\\u0005;\\u001e\\u0002\\u0150V\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0151\\u0152\\u0005=\\u001f\\u0002\\u0152X\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0153\\u0154\\u0007@\\u0002\\u0002\\u0154\\u015d\\u0007?\\u0002\\u0002\",\r\n    \"\\u0155\\u0156\\u0007?\\u0002\\u0002\\u0156\\u015d\\u0007?\\u0002\\u0002\\u0157\",\r\n    \"\\u0158\\u0007>\\u0002\\u0002\\u0158\\u015d\\u0007?\\u0002\\u0002\\u0159\\u015d\",\r\n    \"\\t\\u0004\\u0002\\u0002\\u015a\\u015b\\u0007#\\u0002\\u0002\\u015b\\u015d\\u0007\",\r\n    \"?\\u0002\\u0002\\u015c\\u0153\\u0003\\u0002\\u0002\\u0002\\u015c\\u0155\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u015c\\u0157\\u0003\\u0002\\u0002\\u0002\\u015c\\u0159\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u015c\\u015a\\u0003\\u0002\\u0002\\u0002\\u015dZ\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u015e\\u015f\\u0007<\\u0002\\u0002\\u015f\\\\\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0160\\u0161\\u00059\\u001d\\u0002\\u0161^\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0162\\u0166\\t\\u0005\\u0002\\u0002\\u0163\\u0165\\t\\u0006\\u0002\\u0002\",\r\n    \"\\u0164\\u0163\\u0003\\u0002\\u0002\\u0002\\u0165\\u0168\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0166\\u0164\\u0003\\u0002\\u0002\\u0002\\u0166\\u0167\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0167`\\u0003\\u0002\\u0002\\u0002\\u0168\\u0166\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0169\\u016a\\u0005_0\\u0002\\u016a\\u016b\\u00070\\u0002\\u0002\\u016b\\u016c\",\r\n    \"\\u0005_0\\u0002\\u016cb\\u0003\\u0002\\u0002\\u0002\\u016d\\u016f\\t\\u0007\\u0002\",\r\n    \"\\u0002\\u016e\\u016d\\u0003\\u0002\\u0002\\u0002\\u016f\\u0170\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0170\\u016e\\u0003\\u0002\\u0002\\u0002\\u0170\\u0171\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0171\\u0189\\u0003\\u0002\\u0002\\u0002\\u0172\\u0173\\u00072\\u0002\",\r\n    \"\\u0002\\u0173\\u0177\\u0007z\\u0002\\u0002\\u0174\\u0175\\u00072\\u0002\\u0002\",\r\n    \"\\u0175\\u0177\\u0007Z\\u0002\\u0002\\u0176\\u0172\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0176\\u0174\\u0003\\u0002\\u0002\\u0002\\u0177\\u0179\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0178\\u017a\\u0005u;\\u0002\\u0179\\u0178\\u0003\\u0002\\u0002\\u0002\\u017a\",\r\n    \"\\u017b\\u0003\\u0002\\u0002\\u0002\\u017b\\u0179\\u0003\\u0002\\u0002\\u0002\\u017b\",\r\n    \"\\u017c\\u0003\\u0002\\u0002\\u0002\\u017c\\u0189\\u0003\\u0002\\u0002\\u0002\\u017d\",\r\n    \"\\u017e\\u00072\\u0002\\u0002\\u017e\\u0182\\u0007d\\u0002\\u0002\\u017f\\u0180\",\r\n    \"\\u00072\\u0002\\u0002\\u0180\\u0182\\u0007D\\u0002\\u0002\\u0181\\u017d\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0181\\u017f\\u0003\\u0002\\u0002\\u0002\\u0182\\u0184\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0183\\u0185\\t\\b\\u0002\\u0002\\u0184\\u0183\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0185\\u0186\\u0003\\u0002\\u0002\\u0002\\u0186\\u0184\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0186\\u0187\\u0003\\u0002\\u0002\\u0002\\u0187\\u0189\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0188\\u016e\\u0003\\u0002\\u0002\\u0002\\u0188\\u0176\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0188\\u0181\\u0003\\u0002\\u0002\\u0002\\u0189d\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u018a\\u018c\\t\\u0007\\u0002\\u0002\\u018b\\u018a\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u018c\\u018d\\u0003\\u0002\\u0002\\u0002\\u018d\\u018b\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u018d\\u018e\\u0003\\u0002\\u0002\\u0002\\u018e\\u018f\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u018f\\u0191\\u00070\\u0002\\u0002\\u0190\\u0192\\t\\u0007\\u0002\",\r\n    \"\\u0002\\u0191\\u0190\\u0003\\u0002\\u0002\\u0002\\u0192\\u0193\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0193\\u0191\\u0003\\u0002\\u0002\\u0002\\u0193\\u0194\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0194\\u01a3\\u0003\\u0002\\u0002\\u0002\\u0195\\u0197\\t\\u0007\\u0002\",\r\n    \"\\u0002\\u0196\\u0195\\u0003\\u0002\\u0002\\u0002\\u0197\\u0198\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0198\\u0196\\u0003\\u0002\\u0002\\u0002\\u0198\\u0199\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0199\\u019a\\u0003\\u0002\\u0002\\u0002\\u019a\\u019e\\u00070\\u0002\",\r\n    \"\\u0002\\u019b\\u019d\\t\\u0007\\u0002\\u0002\\u019c\\u019b\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u019d\\u01a0\\u0003\\u0002\\u0002\\u0002\\u019e\\u019c\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u019e\\u019f\\u0003\\u0002\\u0002\\u0002\\u019f\\u01a1\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01a0\\u019e\\u0003\\u0002\\u0002\\u0002\\u01a1\\u01a3\\u0005g4\\u0002\",\r\n    \"\\u01a2\\u018b\\u0003\\u0002\\u0002\\u0002\\u01a2\\u0196\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01a3f\\u0003\\u0002\\u0002\\u0002\\u01a4\\u01a6\\t\\t\\u0002\\u0002\\u01a5\\u01a7\",\r\n    \"\\t\\u0002\\u0002\\u0002\\u01a6\\u01a5\\u0003\\u0002\\u0002\\u0002\\u01a6\\u01a7\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01a7\\u01a9\\u0003\\u0002\\u0002\\u0002\\u01a8\\u01aa\",\r\n    \"\\t\\u0007\\u0002\\u0002\\u01a9\\u01a8\\u0003\\u0002\\u0002\\u0002\\u01aa\\u01ab\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01ab\\u01a9\\u0003\\u0002\\u0002\\u0002\\u01ab\\u01ac\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01ach\\u0003\\u0002\\u0002\\u0002\\u01ad\\u01b1\",\r\n    \"\\u0007$\\u0002\\u0002\\u01ae\\u01b0\\u0005k6\\u0002\\u01af\\u01ae\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01b0\\u01b3\\u0003\\u0002\\u0002\\u0002\\u01b1\\u01af\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01b1\\u01b2\\u0003\\u0002\\u0002\\u0002\\u01b2\\u01b4\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01b3\\u01b1\\u0003\\u0002\\u0002\\u0002\\u01b4\\u01b5\\u0007$\",\r\n    \"\\u0002\\u0002\\u01b5j\\u0003\\u0002\\u0002\\u0002\\u01b6\\u01b9\\n\\n\\u0002\\u0002\",\r\n    \"\\u01b7\\u01b9\\u0005y=\\u0002\\u01b8\\u01b6\\u0003\\u0002\\u0002\\u0002\\u01b8\",\r\n    \"\\u01b7\\u0003\\u0002\\u0002\\u0002\\u01b9l\\u0003\\u0002\\u0002\\u0002\\u01ba\",\r\n    \"\\u01bd\\u0007)\\u0002\\u0002\\u01bb\\u01be\\u0005y=\\u0002\\u01bc\\u01be\\n\\u000b\",\r\n    \"\\u0002\\u0002\\u01bd\\u01bb\\u0003\\u0002\\u0002\\u0002\\u01bd\\u01bc\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01be\\u01bf\\u0003\\u0002\\u0002\\u0002\\u01bf\\u01c0\\u0007)\",\r\n    \"\\u0002\\u0002\\u01c0n\\u0003\\u0002\\u0002\\u0002\\u01c1\\u01c2\\t\\f\\u0002\\u0002\",\r\n    \"\\u01c2\\u01c3\\u0003\\u0002\\u0002\\u0002\\u01c3\\u01c4\\b8\\u0002\\u0002\\u01c4\",\r\n    \"p\\u0003\\u0002\\u0002\\u0002\\u01c5\\u01c6\\u0007=\\u0002\\u0002\\u01c6r\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01c7\\u01c9\\t\\r\\u0002\\u0002\\u01c8\\u01c7\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01c9\\u01ca\\u0003\\u0002\\u0002\\u0002\\u01ca\\u01c8\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01ca\\u01cb\\u0003\\u0002\\u0002\\u0002\\u01cb\\u01ce\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01cc\\u01ce\\u0005q9\\u0002\\u01cd\\u01c8\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01cd\\u01cc\\u0003\\u0002\\u0002\\u0002\\u01cet\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01cf\\u01d0\\t\\u000e\\u0002\\u0002\\u01d0v\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01d1\\u01d2\\t\\u000f\\u0002\\u0002\\u01d2x\\u0003\\u0002\\u0002\\u0002\\u01d3\",\r\n    \"\\u01d4\\u0007^\\u0002\\u0002\\u01d4\\u01d8\\t\\u0010\\u0002\\u0002\\u01d5\\u01d8\",\r\n    \"\\u0005}?\\u0002\\u01d6\\u01d8\\u0005{>\\u0002\\u01d7\\u01d3\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01d7\\u01d5\\u0003\\u0002\\u0002\\u0002\\u01d7\\u01d6\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01d8z\\u0003\\u0002\\u0002\\u0002\\u01d9\\u01da\\u0007^\\u0002\\u0002\",\r\n    \"\\u01da\\u01db\\t\\u0011\\u0002\\u0002\\u01db\\u01dc\\u0005w<\\u0002\\u01dc\\u01dd\",\r\n    \"\\u0005w<\\u0002\\u01dd\\u01e5\\u0003\\u0002\\u0002\\u0002\\u01de\\u01df\\u0007\",\r\n    \"^\\u0002\\u0002\\u01df\\u01e0\\u0005w<\\u0002\\u01e0\\u01e1\\u0005w<\\u0002\\u01e1\",\r\n    \"\\u01e5\\u0003\\u0002\\u0002\\u0002\\u01e2\\u01e3\\u0007^\\u0002\\u0002\\u01e3\",\r\n    \"\\u01e5\\u0005w<\\u0002\\u01e4\\u01d9\\u0003\\u0002\\u0002\\u0002\\u01e4\\u01de\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01e4\\u01e2\\u0003\\u0002\\u0002\\u0002\\u01e5|\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01e6\\u01e7\\u0007^\\u0002\\u0002\\u01e7\\u01e8\",\r\n    \"\\u0007w\\u0002\\u0002\\u01e8\\u01e9\\u0005u;\\u0002\\u01e9\\u01ea\\u0005u;\\u0002\",\r\n    \"\\u01ea\\u01eb\\u0005u;\\u0002\\u01eb\\u01ec\\u0005u;\\u0002\\u01ec~\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01ed\\u01ee\\u00071\\u0002\\u0002\\u01ee\\u01ef\\u00071\\u0002\",\r\n    \"\\u0002\\u01ef\\u01f3\\u0003\\u0002\\u0002\\u0002\\u01f0\\u01f2\\n\\r\\u0002\\u0002\",\r\n    \"\\u01f1\\u01f0\\u0003\\u0002\\u0002\\u0002\\u01f2\\u01f5\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01f3\\u01f1\\u0003\\u0002\\u0002\\u0002\\u01f3\\u01f4\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01f4\\u01f7\\u0003\\u0002\\u0002\\u0002\\u01f5\\u01f3\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01f6\\u01f8\\u0007\\u000f\\u0002\\u0002\\u01f7\\u01f6\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01f7\\u01f8\\u0003\\u0002\\u0002\\u0002\\u01f8\\u01f9\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01f9\\u0206\\u0007\\f\\u0002\\u0002\\u01fa\\u01fb\\u00071\\u0002\\u0002\\u01fb\",\r\n    \"\\u01fc\\u0007,\\u0002\\u0002\\u01fc\\u0200\\u0003\\u0002\\u0002\\u0002\\u01fd\",\r\n    \"\\u01ff\\u000b\\u0002\\u0002\\u0002\\u01fe\\u01fd\\u0003\\u0002\\u0002\\u0002\\u01ff\",\r\n    \"\\u0202\\u0003\\u0002\\u0002\\u0002\\u0200\\u0201\\u0003\\u0002\\u0002\\u0002\\u0200\",\r\n    \"\\u01fe\\u0003\\u0002\\u0002\\u0002\\u0201\\u0203\\u0003\\u0002\\u0002\\u0002\\u0202\",\r\n    \"\\u0200\\u0003\\u0002\\u0002\\u0002\\u0203\\u0204\\u0007,\\u0002\\u0002\\u0204\",\r\n    \"\\u0206\\u00071\\u0002\\u0002\\u0205\\u01ed\\u0003\\u0002\\u0002\\u0002\\u0205\",\r\n    \"\\u01fa\\u0003\\u0002\\u0002\\u0002\\u0206\\u0207\\u0003\\u0002\\u0002\\u0002\\u0207\",\r\n    \"\\u0208\\b@\\u0003\\u0002\\u0208\\u0080\\u0003\\u0002\\u0002\\u0002\\u001e\\u0002\",\r\n    \"\\u0149\\u015c\\u0166\\u0170\\u0176\\u017b\\u0181\\u0186\\u0188\\u018d\\u0193\\u0198\",\r\n    \"\\u019e\\u01a2\\u01a6\\u01ab\\u01b1\\u01b8\\u01bd\\u01ca\\u01cd\\u01d7\\u01e4\\u01f3\",\r\n    \"\\u01f7\\u0200\\u0205\\u0004\\b\\u0002\\u0002\\u0002\\u0003\\u0002\"].join(\"\");\r\n\r\n\r\nvar atn = new antlr4.atn.ATNDeserializer().deserialize(serializedATN);\r\n\r\nvar decisionsToDFA = atn.decisionToState.map( function(ds, index) { return new antlr4.dfa.DFA(ds, index); });\r\n\r\nfunction ivprog(input) {\r\n\tantlr4.Lexer.call(this, input);\r\n    this._interp = new antlr4.atn.LexerATNSimulator(this, atn, decisionsToDFA, new antlr4.PredictionContextCache());\r\n    return this;\r\n}\r\n\r\nivprog.prototype = Object.create(antlr4.Lexer.prototype);\r\nivprog.prototype.constructor = ivprog;\r\n\r\nivprog.EOF = antlr4.Token.EOF;\r\nivprog.RK_PROGRAM = 1;\r\nivprog.RK_REAL = 2;\r\nivprog.RK_VOID = 3;\r\nivprog.RK_BOOLEAN = 4;\r\nivprog.RK_STRING = 5;\r\nivprog.RK_INTEGER = 6;\r\nivprog.RK_CHARACTER = 7;\r\nivprog.RK_SWITCH = 8;\r\nivprog.RK_CASE = 9;\r\nivprog.RK_DEFAULT = 10;\r\nivprog.RK_CONST = 11;\r\nivprog.RK_FUNCTION = 12;\r\nivprog.RK_RETURN = 13;\r\nivprog.RK_FOR = 14;\r\nivprog.RK_FOR_ALT = 15;\r\nivprog.RK_FOR_FROM = 16;\r\nivprog.RK_FOR_TO = 17;\r\nivprog.RK_FOR_PASS = 18;\r\nivprog.RK_BREAK = 19;\r\nivprog.RK_DO = 20;\r\nivprog.RK_DO_UNTIL = 21;\r\nivprog.RK_WHILE = 22;\r\nivprog.RK_WHILE_ALT = 23;\r\nivprog.RK_IF = 24;\r\nivprog.RK_ELSE = 25;\r\nivprog.RK_FALSE = 26;\r\nivprog.RK_TRUE = 27;\r\nivprog.RK_REFERENCE = 28;\r\nivprog.OPEN_PARENTHESIS = 29;\r\nivprog.CLOSE_PARENTHESIS = 30;\r\nivprog.OPEN_BRACE = 31;\r\nivprog.CLOSE_BRACE = 32;\r\nivprog.OPEN_CURLY = 33;\r\nivprog.CLOSE_CURLY = 34;\r\nivprog.COMMA = 35;\r\nivprog.EQUAL = 36;\r\nivprog.SUM_OP = 37;\r\nivprog.MULTI_OP = 38;\r\nivprog.AND_OPERATOR = 39;\r\nivprog.OR_OPERATOR = 40;\r\nivprog.RELATIONAL_OPERATOR = 41;\r\nivprog.COLON = 42;\r\nivprog.NOT_OPERATOR = 43;\r\nivprog.ID = 44;\r\nivprog.LIB_ID = 45;\r\nivprog.INTEGER = 46;\r\nivprog.REAL = 47;\r\nivprog.STRING = 48;\r\nivprog.CHARACTER = 49;\r\nivprog.WHITESPACE = 50;\r\nivprog.EOS = 51;\r\nivprog.COMMENTS = 52;\r\n\r\nivprog.prototype.channelNames = [ \"DEFAULT_TOKEN_CHANNEL\", \"HIDDEN\" ];\r\n\r\nivprog.prototype.modeNames = [ \"DEFAULT_MODE\" ];\r\n\r\nivprog.prototype.literalNames = [ null, \"'program'\", \"'real'\", \"'void'\", \r\n                                  \"'bool'\", \"'string'\", \"'int'\", \"'char'\", \r\n                                  \"'switch'\", \"'case'\", \"'otherwise'\", \"'const'\", \r\n                                  \"'function'\", \"'return'\", \"'for'\", \"'repeat_for'\", \r\n                                  \"'from'\", \"'to'\", \"'pass'\", \"'break'\", \r\n                                  \"'repeat'\", \"'until'\", \"'while'\", \"'repeat_while'\", \r\n                                  \"'if'\", \"'else'\", \"'false'\", \"'true'\", \r\n                                  \"'&'\", \"'('\", \"')'\", \"'['\", \"']'\", \"'{'\", \r\n                                  \"'}'\", \"','\", null, null, null, null, \r\n                                  null, null, \"':'\" ];\r\n\r\nivprog.prototype.symbolicNames = [ null, \"RK_PROGRAM\", \"RK_REAL\", \"RK_VOID\", \r\n                                   \"RK_BOOLEAN\", \"RK_STRING\", \"RK_INTEGER\", \r\n                                   \"RK_CHARACTER\", \"RK_SWITCH\", \"RK_CASE\", \r\n                                   \"RK_DEFAULT\", \"RK_CONST\", \"RK_FUNCTION\", \r\n                                   \"RK_RETURN\", \"RK_FOR\", \"RK_FOR_ALT\", \r\n                                   \"RK_FOR_FROM\", \"RK_FOR_TO\", \"RK_FOR_PASS\", \r\n                                   \"RK_BREAK\", \"RK_DO\", \"RK_DO_UNTIL\", \"RK_WHILE\", \r\n                                   \"RK_WHILE_ALT\", \"RK_IF\", \"RK_ELSE\", \"RK_FALSE\", \r\n                                   \"RK_TRUE\", \"RK_REFERENCE\", \"OPEN_PARENTHESIS\", \r\n                                   \"CLOSE_PARENTHESIS\", \"OPEN_BRACE\", \"CLOSE_BRACE\", \r\n                                   \"OPEN_CURLY\", \"CLOSE_CURLY\", \"COMMA\", \r\n                                   \"EQUAL\", \"SUM_OP\", \"MULTI_OP\", \"AND_OPERATOR\", \r\n                                   \"OR_OPERATOR\", \"RELATIONAL_OPERATOR\", \r\n                                   \"COLON\", \"NOT_OPERATOR\", \"ID\", \"LIB_ID\", \r\n                                   \"INTEGER\", \"REAL\", \"STRING\", \"CHARACTER\", \r\n                                   \"WHITESPACE\", \"EOS\", \"COMMENTS\" ];\r\n\r\nivprog.prototype.ruleNames = [ \"RK_PROGRAM\", \"RK_REAL\", \"RK_VOID\", \"RK_BOOLEAN\", \r\n                               \"RK_STRING\", \"RK_INTEGER\", \"RK_CHARACTER\", \r\n                               \"RK_SWITCH\", \"RK_CASE\", \"RK_DEFAULT\", \"RK_CONST\", \r\n                               \"RK_FUNCTION\", \"RK_RETURN\", \"RK_FOR\", \"RK_FOR_ALT\", \r\n                               \"RK_FOR_FROM\", \"RK_FOR_TO\", \"RK_FOR_PASS\", \r\n                               \"RK_BREAK\", \"RK_DO\", \"RK_DO_UNTIL\", \"RK_WHILE\", \r\n                               \"RK_WHILE_ALT\", \"RK_IF\", \"RK_ELSE\", \"RK_FALSE\", \r\n                               \"RK_TRUE\", \"RK_LOGICAL_NOT\", \"RK_LOGICAL_AND\", \r\n                               \"RK_LOGICAL_OR\", \"RK_REFERENCE\", \"OPEN_PARENTHESIS\", \r\n                               \"CLOSE_PARENTHESIS\", \"OPEN_BRACE\", \"CLOSE_BRACE\", \r\n                               \"OPEN_CURLY\", \"CLOSE_CURLY\", \"COMMA\", \"EQUAL\", \r\n                               \"SUM_OP\", \"MULTI_OP\", \"AND_OPERATOR\", \"OR_OPERATOR\", \r\n                               \"RELATIONAL_OPERATOR\", \"COLON\", \"NOT_OPERATOR\", \r\n                               \"ID\", \"LIB_ID\", \"INTEGER\", \"REAL\", \"ExponentPart\", \r\n                               \"STRING\", \"STRING_CHARACTER\", \"CHARACTER\", \r\n                               \"WHITESPACE\", \"SEMICOLON\", \"EOS\", \"HEX_DIGIT\", \r\n                               \"OCTAL_DIGIT\", \"ESC_SEQ\", \"ESC_OCTAL\", \"ESC_UNICODE\", \r\n                               \"COMMENTS\" ];\r\n\r\nivprog.prototype.grammarFileName = \"ivprog.g4\";\r\n\r\n\r\n\r\nexports.ivprog = ivprog;\r\n\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\nivprog: __webpack_require__(0).ivprog\n};\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"antlr4/index\");\n\n/***/ })\n/******/ ]);","/* This is a dictionary of the language defined functions\r\n**/\r\nexport default {\r\n  main_function: \"main\",\r\n  $read: \"read\",\r\n  $write: \"write\",\r\n  $numElements: \"total_of_elements\",\r\n  $matrixLines: \"total_of_lines\",\r\n  $matrixColumns: \"total_of_columns\",\r\n  $substring: \"substring\",\r\n  $length: \"length\",\r\n  $uppercase: \"uppercase\",\r\n  $lowercase: \"lowercase\",\r\n  $charAt: \"char_at\",\r\n  $isReal: \"is_real\",\r\n  $isInt: \"is_integer\",\r\n  $isBool: \"is_logic\",\r\n  $castReal: \"to_real\",\r\n  $castInt: \"to_integer\",\r\n  $castBool: \"to_logic\",\r\n  $castString: \"to_string\",\r\n  $castChar: \"to_char\",\r\n  $sin: \"sin\",\r\n  $cos: \"cos\",\r\n  $tan: \"tan\",\r\n  $sqrt: \"sqrt\",\r\n  $pow: \"pow\",\r\n  $log: \"log\",\r\n  $abs: \"abs\",\r\n  $negate: \"negate\",\r\n  $invert: \"invert\",\r\n  $max: \"maximum\",\r\n  $min: \"minimum\",\r\n  $rand: \"random\"\r\n\r\n}","/**\r\n * This is the dictionary of the language defined libraries\r\n */\r\nexport default {\r\n  $mathLib: \"Mathematic\",\r\n  $ioLib: \"IO\",\r\n  $strLib: \"Text\",\r\n  $arrayLib: \"Array\",\r\n  $langLib: \"Conversion\"\r\n}","import * as PT from \"./pt/ivprog.g4\";\r\nimport PTFuncs from \"./pt/langFunctions\";\r\nimport PTLibs from \"./pt/langLibs\";\r\nimport * as EN from \"./en/ivprog.g4\";\r\nimport ENFuncs from \"./en/langFunctions\";\r\nimport ENLibs from \"./en/langLibs\";\r\n/*import * as ES from \"./es/ivprog.g4\";\r\nimport ESFuncs from \"./es/langFunctions\";\r\nimport ESLibs from \"./es/langLibs\";*/\r\n\r\nexport default {\r\n  pt: { lexer: PT.ivprog, langFuncs: PTFuncs, langLibs: PTLibs },\r\n  en: { lexer: EN.ivprog, langFuncs: ENFuncs, langLibs: ENLibs },\r\n  //es: {lexer: ES.ivprog, langFuncs: ESFuncs, langLibs: ESLibs}\r\n};\r\n","module.exports =\n/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// identity function for calling harmony imports with the correct context\n/******/ \t__webpack_require__.i = function(value) { return value; };\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 1);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// Generated from C:\\Users\\verss\\AppData\\Local\\Temp\\tmp-142647cQ4X9xn5nPu\\ivprog.g4 by ANTLR 4.7\r\n// jshint ignore: start\r\nvar antlr4 = __webpack_require__(2);\r\n\r\n\r\nvar serializedATN = [\"\\u0003\\u608b\\ua72a\\u8133\\ub9ed\\u417c\\u3be7\\u7786\\u5964\",\r\n    \"\\u00026\\u0224\\b\\u0001\\u0004\\u0002\\t\\u0002\\u0004\\u0003\\t\\u0003\\u0004\",\r\n    \"\\u0004\\t\\u0004\\u0004\\u0005\\t\\u0005\\u0004\\u0006\\t\\u0006\\u0004\\u0007\\t\",\r\n    \"\\u0007\\u0004\\b\\t\\b\\u0004\\t\\t\\t\\u0004\\n\\t\\n\\u0004\\u000b\\t\\u000b\\u0004\",\r\n    \"\\f\\t\\f\\u0004\\r\\t\\r\\u0004\\u000e\\t\\u000e\\u0004\\u000f\\t\\u000f\\u0004\\u0010\",\r\n    \"\\t\\u0010\\u0004\\u0011\\t\\u0011\\u0004\\u0012\\t\\u0012\\u0004\\u0013\\t\\u0013\",\r\n    \"\\u0004\\u0014\\t\\u0014\\u0004\\u0015\\t\\u0015\\u0004\\u0016\\t\\u0016\\u0004\\u0017\",\r\n    \"\\t\\u0017\\u0004\\u0018\\t\\u0018\\u0004\\u0019\\t\\u0019\\u0004\\u001a\\t\\u001a\",\r\n    \"\\u0004\\u001b\\t\\u001b\\u0004\\u001c\\t\\u001c\\u0004\\u001d\\t\\u001d\\u0004\\u001e\",\r\n    \"\\t\\u001e\\u0004\\u001f\\t\\u001f\\u0004 \\t \\u0004!\\t!\\u0004\\\"\\t\\\"\\u0004#\",\r\n    \"\\t#\\u0004$\\t$\\u0004%\\t%\\u0004&\\t&\\u0004\\'\\t\\'\\u0004(\\t(\\u0004)\\t)\\u0004\",\r\n    \"*\\t*\\u0004+\\t+\\u0004,\\t,\\u0004-\\t-\\u0004.\\t.\\u0004/\\t/\\u00040\\t0\\u0004\",\r\n    \"1\\t1\\u00042\\t2\\u00043\\t3\\u00044\\t4\\u00045\\t5\\u00046\\t6\\u00047\\t7\\u0004\",\r\n    \"8\\t8\\u00049\\t9\\u0004:\\t:\\u0004;\\t;\\u0004<\\t<\\u0004=\\t=\\u0004>\\t>\\u0004\",\r\n    \"?\\t?\\u0004@\\t@\\u0003\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\",\r\n    \"\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\\u0002\\u0003\\u0003\\u0003\",\r\n    \"\\u0003\\u0003\\u0003\\u0003\\u0003\\u0003\\u0003\\u0003\\u0004\\u0003\\u0004\\u0003\",\r\n    \"\\u0004\\u0003\\u0004\\u0003\\u0004\\u0003\\u0004\\u0003\\u0005\\u0003\\u0005\\u0003\",\r\n    \"\\u0005\\u0003\\u0005\\u0003\\u0005\\u0003\\u0005\\u0003\\u0005\\u0003\\u0006\\u0003\",\r\n    \"\\u0006\\u0003\\u0006\\u0003\\u0006\\u0003\\u0006\\u0003\\u0006\\u0003\\u0006\\u0003\",\r\n    \"\\u0007\\u0003\\u0007\\u0003\\u0007\\u0003\\u0007\\u0003\\u0007\\u0003\\u0007\\u0003\",\r\n    \"\\u0007\\u0003\\u0007\\u0003\\b\\u0003\\b\\u0003\\b\\u0003\\b\\u0003\\b\\u0003\\b\\u0003\",\r\n    \"\\b\\u0003\\b\\u0003\\b\\u0003\\b\\u0003\\t\\u0003\\t\\u0003\\t\\u0003\\t\\u0003\\t\\u0003\",\r\n    \"\\t\\u0003\\t\\u0003\\t\\u0003\\n\\u0003\\n\\u0003\\n\\u0003\\n\\u0003\\n\\u0003\\u000b\",\r\n    \"\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\",\r\n    \"\\u0003\\u000b\\u0003\\u000b\\u0003\\u000b\\u0003\\f\\u0003\\f\\u0003\\f\\u0003\\f\",\r\n    \"\\u0003\\f\\u0003\\f\\u0003\\r\\u0003\\r\\u0003\\r\\u0003\\r\\u0003\\r\\u0003\\r\\u0003\",\r\n    \"\\r\\u0003\\u000e\\u0003\\u000e\\u0003\\u000e\\u0003\\u000e\\u0003\\u000e\\u0003\",\r\n    \"\\u000e\\u0003\\u000e\\u0003\\u000e\\u0003\\u000f\\u0003\\u000f\\u0003\\u000f\\u0003\",\r\n    \"\\u000f\\u0003\\u000f\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\",\r\n    \"\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\\u0010\\u0003\",\r\n    \"\\u0010\\u0003\\u0010\\u0003\\u0011\\u0003\\u0011\\u0003\\u0011\\u0003\\u0012\\u0003\",\r\n    \"\\u0012\\u0003\\u0012\\u0003\\u0012\\u0003\\u0013\\u0003\\u0013\\u0003\\u0013\\u0003\",\r\n    \"\\u0013\\u0003\\u0013\\u0003\\u0013\\u0003\\u0014\\u0003\\u0014\\u0003\\u0014\\u0003\",\r\n    \"\\u0014\\u0003\\u0014\\u0003\\u0015\\u0003\\u0015\\u0003\\u0015\\u0003\\u0015\\u0003\",\r\n    \"\\u0015\\u0003\\u0015\\u0003\\u0015\\u0003\\u0016\\u0003\\u0016\\u0003\\u0016\\u0003\",\r\n    \"\\u0016\\u0003\\u0016\\u0003\\u0016\\u0003\\u0016\\u0003\\u0016\\u0003\\u0017\\u0003\",\r\n    \"\\u0017\\u0003\\u0017\\u0003\\u0017\\u0003\\u0017\\u0003\\u0017\\u0003\\u0017\\u0003\",\r\n    \"\\u0017\\u0003\\u0017\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\",\r\n    \"\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\",\r\n    \"\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\\u0018\\u0003\",\r\n    \"\\u0019\\u0003\\u0019\\u0003\\u0019\\u0003\\u001a\\u0003\\u001a\\u0003\\u001a\\u0003\",\r\n    \"\\u001a\\u0003\\u001a\\u0003\\u001a\\u0003\\u001b\\u0003\\u001b\\u0003\\u001b\\u0003\",\r\n    \"\\u001b\\u0003\\u001b\\u0003\\u001b\\u0003\\u001c\\u0003\\u001c\\u0003\\u001c\\u0003\",\r\n    \"\\u001c\\u0003\\u001c\\u0003\\u001c\\u0003\\u001c\\u0003\\u001c\\u0003\\u001c\\u0003\",\r\n    \"\\u001c\\u0003\\u001c\\u0003\\u001d\\u0003\\u001d\\u0003\\u001d\\u0003\\u001d\\u0003\",\r\n    \"\\u001e\\u0003\\u001e\\u0003\\u001f\\u0003\\u001f\\u0003\\u001f\\u0003 \\u0003\",\r\n    \" \\u0003!\\u0003!\\u0003\\\"\\u0003\\\"\\u0003#\\u0003#\\u0003$\\u0003$\\u0003%\\u0003\",\r\n    \"%\\u0003&\\u0003&\\u0003\\'\\u0003\\'\\u0003(\\u0003(\\u0003(\\u0003(\\u0003(\\u0005\",\r\n    \"(\\u0165\\n(\\u0003)\\u0003)\\u0003*\\u0003*\\u0003+\\u0003+\\u0003,\\u0003,\\u0003\",\r\n    \"-\\u0003-\\u0003-\\u0003-\\u0003-\\u0003-\\u0003-\\u0003-\\u0003-\\u0005-\\u0178\",\r\n    \"\\n-\\u0003.\\u0003.\\u0003/\\u0003/\\u00030\\u00030\\u00070\\u0180\\n0\\f0\\u000e\",\r\n    \"0\\u0183\\u000b0\\u00031\\u00031\\u00031\\u00031\\u00032\\u00062\\u018a\\n2\\r\",\r\n    \"2\\u000e2\\u018b\\u00032\\u00032\\u00032\\u00032\\u00052\\u0192\\n2\\u00032\\u0006\",\r\n    \"2\\u0195\\n2\\r2\\u000e2\\u0196\\u00032\\u00032\\u00032\\u00032\\u00052\\u019d\",\r\n    \"\\n2\\u00032\\u00062\\u01a0\\n2\\r2\\u000e2\\u01a1\\u00052\\u01a4\\n2\\u00033\\u0006\",\r\n    \"3\\u01a7\\n3\\r3\\u000e3\\u01a8\\u00033\\u00033\\u00063\\u01ad\\n3\\r3\\u000e3\\u01ae\",\r\n    \"\\u00033\\u00063\\u01b2\\n3\\r3\\u000e3\\u01b3\\u00033\\u00033\\u00073\\u01b8\\n\",\r\n    \"3\\f3\\u000e3\\u01bb\\u000b3\\u00033\\u00053\\u01be\\n3\\u00034\\u00034\\u0005\",\r\n    \"4\\u01c2\\n4\\u00034\\u00064\\u01c5\\n4\\r4\\u000e4\\u01c6\\u00035\\u00035\\u0007\",\r\n    \"5\\u01cb\\n5\\f5\\u000e5\\u01ce\\u000b5\\u00035\\u00035\\u00036\\u00036\\u0005\",\r\n    \"6\\u01d4\\n6\\u00037\\u00037\\u00037\\u00057\\u01d9\\n7\\u00037\\u00037\\u0003\",\r\n    \"8\\u00038\\u00038\\u00038\\u00039\\u00039\\u0003:\\u0006:\\u01e4\\n:\\r:\\u000e\",\r\n    \":\\u01e5\\u0003:\\u0005:\\u01e9\\n:\\u0003;\\u0003;\\u0003<\\u0003<\\u0003=\\u0003\",\r\n    \"=\\u0003=\\u0003=\\u0005=\\u01f3\\n=\\u0003>\\u0003>\\u0003>\\u0003>\\u0003>\\u0003\",\r\n    \">\\u0003>\\u0003>\\u0003>\\u0003>\\u0003>\\u0005>\\u0200\\n>\\u0003?\\u0003?\\u0003\",\r\n    \"?\\u0003?\\u0003?\\u0003?\\u0003?\\u0003@\\u0003@\\u0003@\\u0003@\\u0007@\\u020d\",\r\n    \"\\n@\\f@\\u000e@\\u0210\\u000b@\\u0003@\\u0005@\\u0213\\n@\\u0003@\\u0003@\\u0003\",\r\n    \"@\\u0003@\\u0003@\\u0007@\\u021a\\n@\\f@\\u000e@\\u021d\\u000b@\\u0003@\\u0003\",\r\n    \"@\\u0005@\\u0221\\n@\\u0003@\\u0003@\\u0003\\u021b\\u0002A\\u0003\\u0003\\u0005\",\r\n    \"\\u0004\\u0007\\u0005\\t\\u0006\\u000b\\u0007\\r\\b\\u000f\\t\\u0011\\n\\u0013\\u000b\",\r\n    \"\\u0015\\f\\u0017\\r\\u0019\\u000e\\u001b\\u000f\\u001d\\u0010\\u001f\\u0011!\\u0012\",\r\n    \"#\\u0013%\\u0014\\'\\u0015)\\u0016+\\u0017-\\u0018/\\u00191\\u001a3\\u001b5\\u001c\",\r\n    \"7\\u001d9\\u0002;\\u0002=\\u0002?\\u001eA\\u001fC E!G\\\"I#K$M%O&Q\\'S(U)W*Y\",\r\n    \"+[,]-_.a/c0e1g\\u0002i2k\\u0002m3o4q\\u0002s5u\\u0002w\\u0002y\\u0002{\\u0002\",\r\n    \"}\\u0002\\u007f6\\u0003\\u0002\\u0012\\u0004\\u0002--//\\u0005\\u0002\\'\\',,1\",\r\n    \"1\\u0004\\u0002>>@@\\u0005\\u0002C\\\\aac|\\u0006\\u00022;C\\\\aac|\\u0003\\u0002\",\r\n    \"2;\\u0003\\u000223\\u0004\\u0002GGgg\\u0006\\u0002\\f\\f\\u000f\\u000f$$^^\\u0006\",\r\n    \"\\u0002\\f\\f\\u000f\\u000f))^^\\u0004\\u0002\\u000b\\u000b\\\"\\\"\\u0004\\u0002\\f\",\r\n    \"\\f\\u000f\\u000f\\u0005\\u00022;CHch\\u0003\\u000229\\n\\u0002$$))^^ddhhppt\",\r\n    \"tvv\\u0003\\u000225\\u0002\\u0239\\u0002\\u0003\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\u0005\\u0003\\u0002\\u0002\\u0002\\u0002\\u0007\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\t\\u0003\\u0002\\u0002\\u0002\\u0002\\u000b\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\r\\u0003\\u0002\\u0002\\u0002\\u0002\\u000f\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\u0011\\u0003\\u0002\\u0002\\u0002\\u0002\\u0013\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\u0015\\u0003\\u0002\\u0002\\u0002\\u0002\\u0017\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\u0019\\u0003\\u0002\\u0002\\u0002\\u0002\\u001b\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"\\u001d\\u0003\\u0002\\u0002\\u0002\\u0002\\u001f\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"!\\u0003\\u0002\\u0002\\u0002\\u0002#\\u0003\\u0002\\u0002\\u0002\\u0002%\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0002\\'\\u0003\\u0002\\u0002\\u0002\\u0002)\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0002+\\u0003\\u0002\\u0002\\u0002\\u0002-\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0002/\\u0003\\u0002\\u0002\\u0002\\u00021\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u00023\\u0003\\u0002\\u0002\\u0002\\u00025\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"7\\u0003\\u0002\\u0002\\u0002\\u0002?\\u0003\\u0002\\u0002\\u0002\\u0002A\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0002C\\u0003\\u0002\\u0002\\u0002\\u0002E\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0002G\\u0003\\u0002\\u0002\\u0002\\u0002I\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0002K\\u0003\\u0002\\u0002\\u0002\\u0002M\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002O\\u0003\\u0002\\u0002\\u0002\\u0002Q\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"S\\u0003\\u0002\\u0002\\u0002\\u0002U\\u0003\\u0002\\u0002\\u0002\\u0002W\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0002Y\\u0003\\u0002\\u0002\\u0002\\u0002[\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0002]\\u0003\\u0002\\u0002\\u0002\\u0002_\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0002a\\u0003\\u0002\\u0002\\u0002\\u0002c\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0002e\\u0003\\u0002\\u0002\\u0002\\u0002i\\u0003\\u0002\\u0002\\u0002\\u0002\",\r\n    \"m\\u0003\\u0002\\u0002\\u0002\\u0002o\\u0003\\u0002\\u0002\\u0002\\u0002s\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0002\\u007f\\u0003\\u0002\\u0002\\u0002\\u0003\\u0081\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0005\\u008a\\u0003\\u0002\\u0002\\u0002\\u0007\\u008f\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\t\\u0095\\u0003\\u0002\\u0002\\u0002\\u000b\\u009c\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\r\\u00a3\\u0003\\u0002\\u0002\\u0002\\u000f\\u00ab\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0011\\u00b5\\u0003\\u0002\\u0002\\u0002\\u0013\\u00bd\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0015\\u00c2\\u0003\\u0002\\u0002\\u0002\\u0017\\u00cc\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0019\\u00d2\\u0003\\u0002\\u0002\\u0002\\u001b\\u00d9\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u001d\\u00e1\\u0003\\u0002\\u0002\\u0002\\u001f\\u00e6\\u0003\",\r\n    \"\\u0002\\u0002\\u0002!\\u00f2\\u0003\\u0002\\u0002\\u0002#\\u00f5\\u0003\\u0002\",\r\n    \"\\u0002\\u0002%\\u00f9\\u0003\\u0002\\u0002\\u0002\\'\\u00ff\\u0003\\u0002\\u0002\",\r\n    \"\\u0002)\\u0104\\u0003\\u0002\\u0002\\u0002+\\u010b\\u0003\\u0002\\u0002\\u0002\",\r\n    \"-\\u0113\\u0003\\u0002\\u0002\\u0002/\\u011c\\u0003\\u0002\\u0002\\u00021\\u012c\",\r\n    \"\\u0003\\u0002\\u0002\\u00023\\u012f\\u0003\\u0002\\u0002\\u00025\\u0135\\u0003\",\r\n    \"\\u0002\\u0002\\u00027\\u013b\\u0003\\u0002\\u0002\\u00029\\u0146\\u0003\\u0002\",\r\n    \"\\u0002\\u0002;\\u014a\\u0003\\u0002\\u0002\\u0002=\\u014c\\u0003\\u0002\\u0002\",\r\n    \"\\u0002?\\u014f\\u0003\\u0002\\u0002\\u0002A\\u0151\\u0003\\u0002\\u0002\\u0002\",\r\n    \"C\\u0153\\u0003\\u0002\\u0002\\u0002E\\u0155\\u0003\\u0002\\u0002\\u0002G\\u0157\",\r\n    \"\\u0003\\u0002\\u0002\\u0002I\\u0159\\u0003\\u0002\\u0002\\u0002K\\u015b\\u0003\",\r\n    \"\\u0002\\u0002\\u0002M\\u015d\\u0003\\u0002\\u0002\\u0002O\\u0164\\u0003\\u0002\",\r\n    \"\\u0002\\u0002Q\\u0166\\u0003\\u0002\\u0002\\u0002S\\u0168\\u0003\\u0002\\u0002\",\r\n    \"\\u0002U\\u016a\\u0003\\u0002\\u0002\\u0002W\\u016c\\u0003\\u0002\\u0002\\u0002\",\r\n    \"Y\\u0177\\u0003\\u0002\\u0002\\u0002[\\u0179\\u0003\\u0002\\u0002\\u0002]\\u017b\",\r\n    \"\\u0003\\u0002\\u0002\\u0002_\\u017d\\u0003\\u0002\\u0002\\u0002a\\u0184\\u0003\",\r\n    \"\\u0002\\u0002\\u0002c\\u01a3\\u0003\\u0002\\u0002\\u0002e\\u01bd\\u0003\\u0002\",\r\n    \"\\u0002\\u0002g\\u01bf\\u0003\\u0002\\u0002\\u0002i\\u01c8\\u0003\\u0002\\u0002\",\r\n    \"\\u0002k\\u01d3\\u0003\\u0002\\u0002\\u0002m\\u01d5\\u0003\\u0002\\u0002\\u0002\",\r\n    \"o\\u01dc\\u0003\\u0002\\u0002\\u0002q\\u01e0\\u0003\\u0002\\u0002\\u0002s\\u01e8\",\r\n    \"\\u0003\\u0002\\u0002\\u0002u\\u01ea\\u0003\\u0002\\u0002\\u0002w\\u01ec\\u0003\",\r\n    \"\\u0002\\u0002\\u0002y\\u01f2\\u0003\\u0002\\u0002\\u0002{\\u01ff\\u0003\\u0002\",\r\n    \"\\u0002\\u0002}\\u0201\\u0003\\u0002\\u0002\\u0002\\u007f\\u0220\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0081\\u0082\\u0007r\\u0002\\u0002\\u0082\\u0083\\u0007t\\u0002\",\r\n    \"\\u0002\\u0083\\u0084\\u0007q\\u0002\\u0002\\u0084\\u0085\\u0007i\\u0002\\u0002\",\r\n    \"\\u0085\\u0086\\u0007t\\u0002\\u0002\\u0086\\u0087\\u0007c\\u0002\\u0002\\u0087\",\r\n    \"\\u0088\\u0007o\\u0002\\u0002\\u0088\\u0089\\u0007c\\u0002\\u0002\\u0089\\u0004\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u008a\\u008b\\u0007t\\u0002\\u0002\\u008b\\u008c\",\r\n    \"\\u0007g\\u0002\\u0002\\u008c\\u008d\\u0007c\\u0002\\u0002\\u008d\\u008e\\u0007\",\r\n    \"n\\u0002\\u0002\\u008e\\u0006\\u0003\\u0002\\u0002\\u0002\\u008f\\u0090\\u0007\",\r\n    \"x\\u0002\\u0002\\u0090\\u0091\\u0007c\\u0002\\u0002\\u0091\\u0092\\u0007|\\u0002\",\r\n    \"\\u0002\\u0092\\u0093\\u0007k\\u0002\\u0002\\u0093\\u0094\\u0007q\\u0002\\u0002\",\r\n    \"\\u0094\\b\\u0003\\u0002\\u0002\\u0002\\u0095\\u0096\\u0007n\\u0002\\u0002\\u0096\",\r\n    \"\\u0097\\u0007q\\u0002\\u0002\\u0097\\u0098\\u0007i\\u0002\\u0002\\u0098\\u0099\",\r\n    \"\\u0007k\\u0002\\u0002\\u0099\\u009a\\u0007e\\u0002\\u0002\\u009a\\u009b\\u0007\",\r\n    \"q\\u0002\\u0002\\u009b\\n\\u0003\\u0002\\u0002\\u0002\\u009c\\u009d\\u0007e\\u0002\",\r\n    \"\\u0002\\u009d\\u009e\\u0007c\\u0002\\u0002\\u009e\\u009f\\u0007f\\u0002\\u0002\",\r\n    \"\\u009f\\u00a0\\u0007g\\u0002\\u0002\\u00a0\\u00a1\\u0007k\\u0002\\u0002\\u00a1\",\r\n    \"\\u00a2\\u0007c\\u0002\\u0002\\u00a2\\f\\u0003\\u0002\\u0002\\u0002\\u00a3\\u00a4\",\r\n    \"\\u0007k\\u0002\\u0002\\u00a4\\u00a5\\u0007p\\u0002\\u0002\\u00a5\\u00a6\\u0007\",\r\n    \"v\\u0002\\u0002\\u00a6\\u00a7\\u0007g\\u0002\\u0002\\u00a7\\u00a8\\u0007k\\u0002\",\r\n    \"\\u0002\\u00a8\\u00a9\\u0007t\\u0002\\u0002\\u00a9\\u00aa\\u0007q\\u0002\\u0002\",\r\n    \"\\u00aa\\u000e\\u0003\\u0002\\u0002\\u0002\\u00ab\\u00ac\\u0007e\\u0002\\u0002\",\r\n    \"\\u00ac\\u00ad\\u0007c\\u0002\\u0002\\u00ad\\u00ae\\u0007t\\u0002\\u0002\\u00ae\",\r\n    \"\\u00af\\u0007c\\u0002\\u0002\\u00af\\u00b0\\u0007e\\u0002\\u0002\\u00b0\\u00b1\",\r\n    \"\\u0007v\\u0002\\u0002\\u00b1\\u00b2\\u0007g\\u0002\\u0002\\u00b2\\u00b3\\u0007\",\r\n    \"t\\u0002\\u0002\\u00b3\\u00b4\\u0007g\\u0002\\u0002\\u00b4\\u0010\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u00b5\\u00b6\\u0007g\\u0002\\u0002\\u00b6\\u00b7\\u0007u\\u0002\",\r\n    \"\\u0002\\u00b7\\u00b8\\u0007e\\u0002\\u0002\\u00b8\\u00b9\\u0007q\\u0002\\u0002\",\r\n    \"\\u00b9\\u00ba\\u0007n\\u0002\\u0002\\u00ba\\u00bb\\u0007j\\u0002\\u0002\\u00bb\",\r\n    \"\\u00bc\\u0007c\\u0002\\u0002\\u00bc\\u0012\\u0003\\u0002\\u0002\\u0002\\u00bd\",\r\n    \"\\u00be\\u0007e\\u0002\\u0002\\u00be\\u00bf\\u0007c\\u0002\\u0002\\u00bf\\u00c0\",\r\n    \"\\u0007u\\u0002\\u0002\\u00c0\\u00c1\\u0007q\\u0002\\u0002\\u00c1\\u0014\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u00c2\\u00c3\\u0007e\\u0002\\u0002\\u00c3\\u00c4\\u0007\",\r\n    \"q\\u0002\\u0002\\u00c4\\u00c5\\u0007p\\u0002\\u0002\\u00c5\\u00c6\\u0007v\\u0002\",\r\n    \"\\u0002\\u00c6\\u00c7\\u0007t\\u0002\\u0002\\u00c7\\u00c8\\u0007c\\u0002\\u0002\",\r\n    \"\\u00c8\\u00c9\\u0007t\\u0002\\u0002\\u00c9\\u00ca\\u0007k\\u0002\\u0002\\u00ca\",\r\n    \"\\u00cb\\u0007q\\u0002\\u0002\\u00cb\\u0016\\u0003\\u0002\\u0002\\u0002\\u00cc\",\r\n    \"\\u00cd\\u0007e\\u0002\\u0002\\u00cd\\u00ce\\u0007q\\u0002\\u0002\\u00ce\\u00cf\",\r\n    \"\\u0007p\\u0002\\u0002\\u00cf\\u00d0\\u0007u\\u0002\\u0002\\u00d0\\u00d1\\u0007\",\r\n    \"v\\u0002\\u0002\\u00d1\\u0018\\u0003\\u0002\\u0002\\u0002\\u00d2\\u00d3\\u0007\",\r\n    \"h\\u0002\\u0002\\u00d3\\u00d4\\u0007w\\u0002\\u0002\\u00d4\\u00d5\\u0007p\\u0002\",\r\n    \"\\u0002\\u00d5\\u00d6\\u0007e\\u0002\\u0002\\u00d6\\u00d7\\u0007c\\u0002\\u0002\",\r\n    \"\\u00d7\\u00d8\\u0007q\\u0002\\u0002\\u00d8\\u001a\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u00d9\\u00da\\u0007f\\u0002\\u0002\\u00da\\u00db\\u0007g\\u0002\\u0002\\u00db\",\r\n    \"\\u00dc\\u0007x\\u0002\\u0002\\u00dc\\u00dd\\u0007q\\u0002\\u0002\\u00dd\\u00de\",\r\n    \"\\u0007n\\u0002\\u0002\\u00de\\u00df\\u0007x\\u0002\\u0002\\u00df\\u00e0\\u0007\",\r\n    \"c\\u0002\\u0002\\u00e0\\u001c\\u0003\\u0002\\u0002\\u0002\\u00e1\\u00e2\\u0007\",\r\n    \"r\\u0002\\u0002\\u00e2\\u00e3\\u0007c\\u0002\\u0002\\u00e3\\u00e4\\u0007t\\u0002\",\r\n    \"\\u0002\\u00e4\\u00e5\\u0007c\\u0002\\u0002\\u00e5\\u001e\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u00e6\\u00e7\\u0007t\\u0002\\u0002\\u00e7\\u00e8\\u0007g\\u0002\\u0002\",\r\n    \"\\u00e8\\u00e9\\u0007r\\u0002\\u0002\\u00e9\\u00ea\\u0007k\\u0002\\u0002\\u00ea\",\r\n    \"\\u00eb\\u0007v\\u0002\\u0002\\u00eb\\u00ec\\u0007c\\u0002\\u0002\\u00ec\\u00ed\",\r\n    \"\\u0007a\\u0002\\u0002\\u00ed\\u00ee\\u0007r\\u0002\\u0002\\u00ee\\u00ef\\u0007\",\r\n    \"c\\u0002\\u0002\\u00ef\\u00f0\\u0007t\\u0002\\u0002\\u00f0\\u00f1\\u0007c\\u0002\",\r\n    \"\\u0002\\u00f1 \\u0003\\u0002\\u0002\\u0002\\u00f2\\u00f3\\u0007f\\u0002\\u0002\",\r\n    \"\\u00f3\\u00f4\\u0007g\\u0002\\u0002\\u00f4\\\"\\u0003\\u0002\\u0002\\u0002\\u00f5\",\r\n    \"\\u00f6\\u0007c\\u0002\\u0002\\u00f6\\u00f7\\u0007v\\u0002\\u0002\\u00f7\\u00f8\",\r\n    \"\\u0007g\\u0002\\u0002\\u00f8$\\u0003\\u0002\\u0002\\u0002\\u00f9\\u00fa\\u0007\",\r\n    \"r\\u0002\\u0002\\u00fa\\u00fb\\u0007c\\u0002\\u0002\\u00fb\\u00fc\\u0007u\\u0002\",\r\n    \"\\u0002\\u00fc\\u00fd\\u0007u\\u0002\\u0002\\u00fd\\u00fe\\u0007q\\u0002\\u0002\",\r\n    \"\\u00fe&\\u0003\\u0002\\u0002\\u0002\\u00ff\\u0100\\u0007r\\u0002\\u0002\\u0100\",\r\n    \"\\u0101\\u0007c\\u0002\\u0002\\u0101\\u0102\\u0007t\\u0002\\u0002\\u0102\\u0103\",\r\n    \"\\u0007g\\u0002\\u0002\\u0103(\\u0003\\u0002\\u0002\\u0002\\u0104\\u0105\\u0007\",\r\n    \"t\\u0002\\u0002\\u0105\\u0106\\u0007g\\u0002\\u0002\\u0106\\u0107\\u0007r\\u0002\",\r\n    \"\\u0002\\u0107\\u0108\\u0007k\\u0002\\u0002\\u0108\\u0109\\u0007v\\u0002\\u0002\",\r\n    \"\\u0109\\u010a\\u0007c\\u0002\\u0002\\u010a*\\u0003\\u0002\\u0002\\u0002\\u010b\",\r\n    \"\\u010c\\u0007c\\u0002\\u0002\\u010c\\u010d\\u0007v\\u0002\\u0002\\u010d\\u010e\",\r\n    \"\\u0007g\\u0002\\u0002\\u010e\\u010f\\u0007a\\u0002\\u0002\\u010f\\u0110\\u0007\",\r\n    \"s\\u0002\\u0002\\u0110\\u0111\\u0007w\\u0002\\u0002\\u0111\\u0112\\u0007g\\u0002\",\r\n    \"\\u0002\\u0112,\\u0003\\u0002\\u0002\\u0002\\u0113\\u0114\\u0007g\\u0002\\u0002\",\r\n    \"\\u0114\\u0115\\u0007p\\u0002\\u0002\\u0115\\u0116\\u0007s\\u0002\\u0002\\u0116\",\r\n    \"\\u0117\\u0007w\\u0002\\u0002\\u0117\\u0118\\u0007c\\u0002\\u0002\\u0118\\u0119\",\r\n    \"\\u0007p\\u0002\\u0002\\u0119\\u011a\\u0007v\\u0002\\u0002\\u011a\\u011b\\u0007\",\r\n    \"q\\u0002\\u0002\\u011b.\\u0003\\u0002\\u0002\\u0002\\u011c\\u011d\\u0007t\\u0002\",\r\n    \"\\u0002\\u011d\\u011e\\u0007g\\u0002\\u0002\\u011e\\u011f\\u0007r\\u0002\\u0002\",\r\n    \"\\u011f\\u0120\\u0007k\\u0002\\u0002\\u0120\\u0121\\u0007v\\u0002\\u0002\\u0121\",\r\n    \"\\u0122\\u0007c\\u0002\\u0002\\u0122\\u0123\\u0007a\\u0002\\u0002\\u0123\\u0124\",\r\n    \"\\u0007g\\u0002\\u0002\\u0124\\u0125\\u0007p\\u0002\\u0002\\u0125\\u0126\\u0007\",\r\n    \"s\\u0002\\u0002\\u0126\\u0127\\u0007w\\u0002\\u0002\\u0127\\u0128\\u0007c\\u0002\",\r\n    \"\\u0002\\u0128\\u0129\\u0007p\\u0002\\u0002\\u0129\\u012a\\u0007v\\u0002\\u0002\",\r\n    \"\\u012a\\u012b\\u0007q\\u0002\\u0002\\u012b0\\u0003\\u0002\\u0002\\u0002\\u012c\",\r\n    \"\\u012d\\u0007u\\u0002\\u0002\\u012d\\u012e\\u0007g\\u0002\\u0002\\u012e2\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u012f\\u0130\\u0007u\\u0002\\u0002\\u0130\\u0131\\u0007\",\r\n    \"g\\u0002\\u0002\\u0131\\u0132\\u0007p\\u0002\\u0002\\u0132\\u0133\\u0007c\\u0002\",\r\n    \"\\u0002\\u0133\\u0134\\u0007q\\u0002\\u0002\\u01344\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0135\\u0136\\u0007h\\u0002\\u0002\\u0136\\u0137\\u0007c\\u0002\\u0002\\u0137\",\r\n    \"\\u0138\\u0007n\\u0002\\u0002\\u0138\\u0139\\u0007u\\u0002\\u0002\\u0139\\u013a\",\r\n    \"\\u0007q\\u0002\\u0002\\u013a6\\u0003\\u0002\\u0002\\u0002\\u013b\\u013c\\u0007\",\r\n    \"x\\u0002\\u0002\\u013c\\u013d\\u0007g\\u0002\\u0002\\u013d\\u013e\\u0007t\\u0002\",\r\n    \"\\u0002\\u013e\\u013f\\u0007f\\u0002\\u0002\\u013f\\u0140\\u0007c\\u0002\\u0002\",\r\n    \"\\u0140\\u0141\\u0007f\\u0002\\u0002\\u0141\\u0142\\u0007g\\u0002\\u0002\\u0142\",\r\n    \"\\u0143\\u0007k\\u0002\\u0002\\u0143\\u0144\\u0007t\\u0002\\u0002\\u0144\\u0145\",\r\n    \"\\u0007q\\u0002\\u0002\\u01458\\u0003\\u0002\\u0002\\u0002\\u0146\\u0147\\u0007\",\r\n    \"p\\u0002\\u0002\\u0147\\u0148\\u0007c\\u0002\\u0002\\u0148\\u0149\\u0007q\\u0002\",\r\n    \"\\u0002\\u0149:\\u0003\\u0002\\u0002\\u0002\\u014a\\u014b\\u0007G\\u0002\\u0002\",\r\n    \"\\u014b<\\u0003\\u0002\\u0002\\u0002\\u014c\\u014d\\u0007Q\\u0002\\u0002\\u014d\",\r\n    \"\\u014e\\u0007W\\u0002\\u0002\\u014e>\\u0003\\u0002\\u0002\\u0002\\u014f\\u0150\",\r\n    \"\\u0007(\\u0002\\u0002\\u0150@\\u0003\\u0002\\u0002\\u0002\\u0151\\u0152\\u0007\",\r\n    \"*\\u0002\\u0002\\u0152B\\u0003\\u0002\\u0002\\u0002\\u0153\\u0154\\u0007+\\u0002\",\r\n    \"\\u0002\\u0154D\\u0003\\u0002\\u0002\\u0002\\u0155\\u0156\\u0007]\\u0002\\u0002\",\r\n    \"\\u0156F\\u0003\\u0002\\u0002\\u0002\\u0157\\u0158\\u0007_\\u0002\\u0002\\u0158\",\r\n    \"H\\u0003\\u0002\\u0002\\u0002\\u0159\\u015a\\u0007}\\u0002\\u0002\\u015aJ\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u015b\\u015c\\u0007\\u007f\\u0002\\u0002\\u015cL\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u015d\\u015e\\u0007.\\u0002\\u0002\\u015eN\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u015f\\u0160\\u0007>\\u0002\\u0002\\u0160\\u0165\\u0007/\\u0002\",\r\n    \"\\u0002\\u0161\\u0162\\u0007\\u00e4\\u0002\\u0002\\u0162\\u0163\\u0007\\u2022\\u0002\",\r\n    \"\\u0002\\u0163\\u0165\\u0007\\uffff\\u0002\\u0002\\u0164\\u015f\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0164\\u0161\\u0003\\u0002\\u0002\\u0002\\u0165P\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0166\\u0167\\t\\u0002\\u0002\\u0002\\u0167R\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0168\\u0169\\t\\u0003\\u0002\\u0002\\u0169T\\u0003\\u0002\\u0002\\u0002\\u016a\",\r\n    \"\\u016b\\u0005;\\u001e\\u0002\\u016bV\\u0003\\u0002\\u0002\\u0002\\u016c\\u016d\",\r\n    \"\\u0005=\\u001f\\u0002\\u016dX\\u0003\\u0002\\u0002\\u0002\\u016e\\u016f\\u0007\",\r\n    \"@\\u0002\\u0002\\u016f\\u0178\\u0007?\\u0002\\u0002\\u0170\\u0171\\u0007?\\u0002\",\r\n    \"\\u0002\\u0171\\u0178\\u0007?\\u0002\\u0002\\u0172\\u0173\\u0007>\\u0002\\u0002\",\r\n    \"\\u0173\\u0178\\u0007?\\u0002\\u0002\\u0174\\u0178\\t\\u0004\\u0002\\u0002\\u0175\",\r\n    \"\\u0176\\u0007#\\u0002\\u0002\\u0176\\u0178\\u0007?\\u0002\\u0002\\u0177\\u016e\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u0177\\u0170\\u0003\\u0002\\u0002\\u0002\\u0177\\u0172\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u0177\\u0174\\u0003\\u0002\\u0002\\u0002\\u0177\\u0175\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u0178Z\\u0003\\u0002\\u0002\\u0002\\u0179\\u017a\",\r\n    \"\\u0007<\\u0002\\u0002\\u017a\\\\\\u0003\\u0002\\u0002\\u0002\\u017b\\u017c\\u0005\",\r\n    \"9\\u001d\\u0002\\u017c^\\u0003\\u0002\\u0002\\u0002\\u017d\\u0181\\t\\u0005\\u0002\",\r\n    \"\\u0002\\u017e\\u0180\\t\\u0006\\u0002\\u0002\\u017f\\u017e\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0180\\u0183\\u0003\\u0002\\u0002\\u0002\\u0181\\u017f\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0181\\u0182\\u0003\\u0002\\u0002\\u0002\\u0182`\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0183\\u0181\\u0003\\u0002\\u0002\\u0002\\u0184\\u0185\\u0005_0\\u0002\",\r\n    \"\\u0185\\u0186\\u00070\\u0002\\u0002\\u0186\\u0187\\u0005_0\\u0002\\u0187b\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0188\\u018a\\t\\u0007\\u0002\\u0002\\u0189\\u0188\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u018a\\u018b\\u0003\\u0002\\u0002\\u0002\\u018b\\u0189\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u018b\\u018c\\u0003\\u0002\\u0002\\u0002\\u018c\\u01a4\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u018d\\u018e\\u00072\\u0002\\u0002\\u018e\\u0192\\u0007\",\r\n    \"z\\u0002\\u0002\\u018f\\u0190\\u00072\\u0002\\u0002\\u0190\\u0192\\u0007Z\\u0002\",\r\n    \"\\u0002\\u0191\\u018d\\u0003\\u0002\\u0002\\u0002\\u0191\\u018f\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u0192\\u0194\\u0003\\u0002\\u0002\\u0002\\u0193\\u0195\\u0005u;\\u0002\",\r\n    \"\\u0194\\u0193\\u0003\\u0002\\u0002\\u0002\\u0195\\u0196\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0196\\u0194\\u0003\\u0002\\u0002\\u0002\\u0196\\u0197\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u0197\\u01a4\\u0003\\u0002\\u0002\\u0002\\u0198\\u0199\\u00072\\u0002\\u0002\",\r\n    \"\\u0199\\u019d\\u0007d\\u0002\\u0002\\u019a\\u019b\\u00072\\u0002\\u0002\\u019b\",\r\n    \"\\u019d\\u0007D\\u0002\\u0002\\u019c\\u0198\\u0003\\u0002\\u0002\\u0002\\u019c\",\r\n    \"\\u019a\\u0003\\u0002\\u0002\\u0002\\u019d\\u019f\\u0003\\u0002\\u0002\\u0002\\u019e\",\r\n    \"\\u01a0\\t\\b\\u0002\\u0002\\u019f\\u019e\\u0003\\u0002\\u0002\\u0002\\u01a0\\u01a1\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01a1\\u019f\\u0003\\u0002\\u0002\\u0002\\u01a1\\u01a2\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01a2\\u01a4\\u0003\\u0002\\u0002\\u0002\\u01a3\\u0189\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01a3\\u0191\\u0003\\u0002\\u0002\\u0002\\u01a3\\u019c\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01a4d\\u0003\\u0002\\u0002\\u0002\\u01a5\\u01a7\",\r\n    \"\\t\\u0007\\u0002\\u0002\\u01a6\\u01a5\\u0003\\u0002\\u0002\\u0002\\u01a7\\u01a8\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01a8\\u01a6\\u0003\\u0002\\u0002\\u0002\\u01a8\\u01a9\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u01a9\\u01aa\\u0003\\u0002\\u0002\\u0002\\u01aa\\u01ac\",\r\n    \"\\u00070\\u0002\\u0002\\u01ab\\u01ad\\t\\u0007\\u0002\\u0002\\u01ac\\u01ab\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01ad\\u01ae\\u0003\\u0002\\u0002\\u0002\\u01ae\\u01ac\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01ae\\u01af\\u0003\\u0002\\u0002\\u0002\\u01af\\u01be\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01b0\\u01b2\\t\\u0007\\u0002\\u0002\\u01b1\\u01b0\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01b2\\u01b3\\u0003\\u0002\\u0002\\u0002\\u01b3\\u01b1\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01b3\\u01b4\\u0003\\u0002\\u0002\\u0002\\u01b4\\u01b5\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01b5\\u01b9\\u00070\\u0002\\u0002\\u01b6\\u01b8\\t\\u0007\",\r\n    \"\\u0002\\u0002\\u01b7\\u01b6\\u0003\\u0002\\u0002\\u0002\\u01b8\\u01bb\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01b9\\u01b7\\u0003\\u0002\\u0002\\u0002\\u01b9\\u01ba\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01ba\\u01bc\\u0003\\u0002\\u0002\\u0002\\u01bb\\u01b9\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01bc\\u01be\\u0005g4\\u0002\\u01bd\\u01a6\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01bd\\u01b1\\u0003\\u0002\\u0002\\u0002\\u01bef\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01bf\\u01c1\\t\\t\\u0002\\u0002\\u01c0\\u01c2\\t\\u0002\\u0002\\u0002\\u01c1\",\r\n    \"\\u01c0\\u0003\\u0002\\u0002\\u0002\\u01c1\\u01c2\\u0003\\u0002\\u0002\\u0002\\u01c2\",\r\n    \"\\u01c4\\u0003\\u0002\\u0002\\u0002\\u01c3\\u01c5\\t\\u0007\\u0002\\u0002\\u01c4\",\r\n    \"\\u01c3\\u0003\\u0002\\u0002\\u0002\\u01c5\\u01c6\\u0003\\u0002\\u0002\\u0002\\u01c6\",\r\n    \"\\u01c4\\u0003\\u0002\\u0002\\u0002\\u01c6\\u01c7\\u0003\\u0002\\u0002\\u0002\\u01c7\",\r\n    \"h\\u0003\\u0002\\u0002\\u0002\\u01c8\\u01cc\\u0007$\\u0002\\u0002\\u01c9\\u01cb\",\r\n    \"\\u0005k6\\u0002\\u01ca\\u01c9\\u0003\\u0002\\u0002\\u0002\\u01cb\\u01ce\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01cc\\u01ca\\u0003\\u0002\\u0002\\u0002\\u01cc\\u01cd\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01cd\\u01cf\\u0003\\u0002\\u0002\\u0002\\u01ce\\u01cc\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01cf\\u01d0\\u0007$\\u0002\\u0002\\u01d0j\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01d1\\u01d4\\n\\n\\u0002\\u0002\\u01d2\\u01d4\\u0005y=\\u0002\\u01d3\",\r\n    \"\\u01d1\\u0003\\u0002\\u0002\\u0002\\u01d3\\u01d2\\u0003\\u0002\\u0002\\u0002\\u01d4\",\r\n    \"l\\u0003\\u0002\\u0002\\u0002\\u01d5\\u01d8\\u0007)\\u0002\\u0002\\u01d6\\u01d9\",\r\n    \"\\u0005y=\\u0002\\u01d7\\u01d9\\n\\u000b\\u0002\\u0002\\u01d8\\u01d6\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01d8\\u01d7\\u0003\\u0002\\u0002\\u0002\\u01d9\\u01da\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01da\\u01db\\u0007)\\u0002\\u0002\\u01dbn\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01dc\\u01dd\\t\\f\\u0002\\u0002\\u01dd\\u01de\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01de\\u01df\\b8\\u0002\\u0002\\u01dfp\\u0003\\u0002\\u0002\\u0002\\u01e0\\u01e1\",\r\n    \"\\u0007=\\u0002\\u0002\\u01e1r\\u0003\\u0002\\u0002\\u0002\\u01e2\\u01e4\\t\\r\\u0002\",\r\n    \"\\u0002\\u01e3\\u01e2\\u0003\\u0002\\u0002\\u0002\\u01e4\\u01e5\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01e5\\u01e3\\u0003\\u0002\\u0002\\u0002\\u01e5\\u01e6\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01e6\\u01e9\\u0003\\u0002\\u0002\\u0002\\u01e7\\u01e9\\u0005q9\\u0002\",\r\n    \"\\u01e8\\u01e3\\u0003\\u0002\\u0002\\u0002\\u01e8\\u01e7\\u0003\\u0002\\u0002\\u0002\",\r\n    \"\\u01e9t\\u0003\\u0002\\u0002\\u0002\\u01ea\\u01eb\\t\\u000e\\u0002\\u0002\\u01eb\",\r\n    \"v\\u0003\\u0002\\u0002\\u0002\\u01ec\\u01ed\\t\\u000f\\u0002\\u0002\\u01edx\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u01ee\\u01ef\\u0007^\\u0002\\u0002\\u01ef\\u01f3\\t\\u0010\",\r\n    \"\\u0002\\u0002\\u01f0\\u01f3\\u0005}?\\u0002\\u01f1\\u01f3\\u0005{>\\u0002\\u01f2\",\r\n    \"\\u01ee\\u0003\\u0002\\u0002\\u0002\\u01f2\\u01f0\\u0003\\u0002\\u0002\\u0002\\u01f2\",\r\n    \"\\u01f1\\u0003\\u0002\\u0002\\u0002\\u01f3z\\u0003\\u0002\\u0002\\u0002\\u01f4\",\r\n    \"\\u01f5\\u0007^\\u0002\\u0002\\u01f5\\u01f6\\t\\u0011\\u0002\\u0002\\u01f6\\u01f7\",\r\n    \"\\u0005w<\\u0002\\u01f7\\u01f8\\u0005w<\\u0002\\u01f8\\u0200\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u01f9\\u01fa\\u0007^\\u0002\\u0002\\u01fa\\u01fb\\u0005w<\\u0002\\u01fb\",\r\n    \"\\u01fc\\u0005w<\\u0002\\u01fc\\u0200\\u0003\\u0002\\u0002\\u0002\\u01fd\\u01fe\",\r\n    \"\\u0007^\\u0002\\u0002\\u01fe\\u0200\\u0005w<\\u0002\\u01ff\\u01f4\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u01ff\\u01f9\\u0003\\u0002\\u0002\\u0002\\u01ff\\u01fd\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0200|\\u0003\\u0002\\u0002\\u0002\\u0201\\u0202\\u0007^\\u0002\",\r\n    \"\\u0002\\u0202\\u0203\\u0007w\\u0002\\u0002\\u0203\\u0204\\u0005u;\\u0002\\u0204\",\r\n    \"\\u0205\\u0005u;\\u0002\\u0205\\u0206\\u0005u;\\u0002\\u0206\\u0207\\u0005u;\\u0002\",\r\n    \"\\u0207~\\u0003\\u0002\\u0002\\u0002\\u0208\\u0209\\u00071\\u0002\\u0002\\u0209\",\r\n    \"\\u020a\\u00071\\u0002\\u0002\\u020a\\u020e\\u0003\\u0002\\u0002\\u0002\\u020b\",\r\n    \"\\u020d\\n\\r\\u0002\\u0002\\u020c\\u020b\\u0003\\u0002\\u0002\\u0002\\u020d\\u0210\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u020e\\u020c\\u0003\\u0002\\u0002\\u0002\\u020e\\u020f\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u020f\\u0212\\u0003\\u0002\\u0002\\u0002\\u0210\\u020e\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u0211\\u0213\\u0007\\u000f\\u0002\\u0002\\u0212\\u0211\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u0212\\u0213\\u0003\\u0002\\u0002\\u0002\\u0213\\u0214\",\r\n    \"\\u0003\\u0002\\u0002\\u0002\\u0214\\u0221\\u0007\\f\\u0002\\u0002\\u0215\\u0216\",\r\n    \"\\u00071\\u0002\\u0002\\u0216\\u0217\\u0007,\\u0002\\u0002\\u0217\\u021b\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u0218\\u021a\\u000b\\u0002\\u0002\\u0002\\u0219\\u0218\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u021a\\u021d\\u0003\\u0002\\u0002\\u0002\\u021b\\u021c\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u021b\\u0219\\u0003\\u0002\\u0002\\u0002\\u021c\\u021e\\u0003\",\r\n    \"\\u0002\\u0002\\u0002\\u021d\\u021b\\u0003\\u0002\\u0002\\u0002\\u021e\\u021f\\u0007\",\r\n    \",\\u0002\\u0002\\u021f\\u0221\\u00071\\u0002\\u0002\\u0220\\u0208\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0220\\u0215\\u0003\\u0002\\u0002\\u0002\\u0221\\u0222\\u0003\\u0002\",\r\n    \"\\u0002\\u0002\\u0222\\u0223\\b@\\u0003\\u0002\\u0223\\u0080\\u0003\\u0002\\u0002\",\r\n    \"\\u0002\\u001e\\u0002\\u0164\\u0177\\u0181\\u018b\\u0191\\u0196\\u019c\\u01a1\\u01a3\",\r\n    \"\\u01a8\\u01ae\\u01b3\\u01b9\\u01bd\\u01c1\\u01c6\\u01cc\\u01d3\\u01d8\\u01e5\\u01e8\",\r\n    \"\\u01f2\\u01ff\\u020e\\u0212\\u021b\\u0220\\u0004\\b\\u0002\\u0002\\u0002\\u0003\",\r\n    \"\\u0002\"].join(\"\");\r\n\r\n\r\nvar atn = new antlr4.atn.ATNDeserializer().deserialize(serializedATN);\r\n\r\nvar decisionsToDFA = atn.decisionToState.map( function(ds, index) { return new antlr4.dfa.DFA(ds, index); });\r\n\r\nfunction ivprog(input) {\r\n\tantlr4.Lexer.call(this, input);\r\n    this._interp = new antlr4.atn.LexerATNSimulator(this, atn, decisionsToDFA, new antlr4.PredictionContextCache());\r\n    return this;\r\n}\r\n\r\nivprog.prototype = Object.create(antlr4.Lexer.prototype);\r\nivprog.prototype.constructor = ivprog;\r\n\r\nivprog.EOF = antlr4.Token.EOF;\r\nivprog.RK_PROGRAM = 1;\r\nivprog.RK_REAL = 2;\r\nivprog.RK_VOID = 3;\r\nivprog.RK_BOOLEAN = 4;\r\nivprog.RK_STRING = 5;\r\nivprog.RK_INTEGER = 6;\r\nivprog.RK_CHARACTER = 7;\r\nivprog.RK_SWITCH = 8;\r\nivprog.RK_CASE = 9;\r\nivprog.RK_DEFAULT = 10;\r\nivprog.RK_CONST = 11;\r\nivprog.RK_FUNCTION = 12;\r\nivprog.RK_RETURN = 13;\r\nivprog.RK_FOR = 14;\r\nivprog.RK_FOR_ALT = 15;\r\nivprog.RK_FOR_FROM = 16;\r\nivprog.RK_FOR_TO = 17;\r\nivprog.RK_FOR_PASS = 18;\r\nivprog.RK_BREAK = 19;\r\nivprog.RK_DO = 20;\r\nivprog.RK_DO_UNTIL = 21;\r\nivprog.RK_WHILE = 22;\r\nivprog.RK_WHILE_ALT = 23;\r\nivprog.RK_IF = 24;\r\nivprog.RK_ELSE = 25;\r\nivprog.RK_FALSE = 26;\r\nivprog.RK_TRUE = 27;\r\nivprog.RK_REFERENCE = 28;\r\nivprog.OPEN_PARENTHESIS = 29;\r\nivprog.CLOSE_PARENTHESIS = 30;\r\nivprog.OPEN_BRACE = 31;\r\nivprog.CLOSE_BRACE = 32;\r\nivprog.OPEN_CURLY = 33;\r\nivprog.CLOSE_CURLY = 34;\r\nivprog.COMMA = 35;\r\nivprog.EQUAL = 36;\r\nivprog.SUM_OP = 37;\r\nivprog.MULTI_OP = 38;\r\nivprog.AND_OPERATOR = 39;\r\nivprog.OR_OPERATOR = 40;\r\nivprog.RELATIONAL_OPERATOR = 41;\r\nivprog.COLON = 42;\r\nivprog.NOT_OPERATOR = 43;\r\nivprog.ID = 44;\r\nivprog.LIB_ID = 45;\r\nivprog.INTEGER = 46;\r\nivprog.REAL = 47;\r\nivprog.STRING = 48;\r\nivprog.CHARACTER = 49;\r\nivprog.WHITESPACE = 50;\r\nivprog.EOS = 51;\r\nivprog.COMMENTS = 52;\r\n\r\nivprog.prototype.channelNames = [ \"DEFAULT_TOKEN_CHANNEL\", \"HIDDEN\" ];\r\n\r\nivprog.prototype.modeNames = [ \"DEFAULT_MODE\" ];\r\n\r\nivprog.prototype.literalNames = [ null, \"'programa'\", \"'real'\", \"'vazio'\", \r\n                                  \"'logico'\", \"'cadeia'\", \"'inteiro'\", \"'caractere'\", \r\n                                  \"'escolha'\", \"'caso'\", \"'contrario'\", \r\n                                  \"'const'\", \"'funcao'\", \"'devolva'\", \"'para'\", \r\n                                  \"'repita_para'\", \"'de'\", \"'ate'\", \"'passo'\", \r\n                                  \"'pare'\", \"'repita'\", \"'ate_que'\", \"'enquanto'\", \r\n                                  \"'repita_enquanto'\", \"'se'\", \"'senao'\", \r\n                                  \"'falso'\", \"'verdadeiro'\", \"'&'\", \"'('\", \r\n                                  \"')'\", \"'['\", \"']'\", \"'{'\", \"'}'\", \"','\", \r\n                                  null, null, null, null, null, null, \"':'\" ];\r\n\r\nivprog.prototype.symbolicNames = [ null, \"RK_PROGRAM\", \"RK_REAL\", \"RK_VOID\", \r\n                                   \"RK_BOOLEAN\", \"RK_STRING\", \"RK_INTEGER\", \r\n                                   \"RK_CHARACTER\", \"RK_SWITCH\", \"RK_CASE\", \r\n                                   \"RK_DEFAULT\", \"RK_CONST\", \"RK_FUNCTION\", \r\n                                   \"RK_RETURN\", \"RK_FOR\", \"RK_FOR_ALT\", \r\n                                   \"RK_FOR_FROM\", \"RK_FOR_TO\", \"RK_FOR_PASS\", \r\n                                   \"RK_BREAK\", \"RK_DO\", \"RK_DO_UNTIL\", \"RK_WHILE\", \r\n                                   \"RK_WHILE_ALT\", \"RK_IF\", \"RK_ELSE\", \"RK_FALSE\", \r\n                                   \"RK_TRUE\", \"RK_REFERENCE\", \"OPEN_PARENTHESIS\", \r\n                                   \"CLOSE_PARENTHESIS\", \"OPEN_BRACE\", \"CLOSE_BRACE\", \r\n                                   \"OPEN_CURLY\", \"CLOSE_CURLY\", \"COMMA\", \r\n                                   \"EQUAL\", \"SUM_OP\", \"MULTI_OP\", \"AND_OPERATOR\", \r\n                                   \"OR_OPERATOR\", \"RELATIONAL_OPERATOR\", \r\n                                   \"COLON\", \"NOT_OPERATOR\", \"ID\", \"LIB_ID\", \r\n                                   \"INTEGER\", \"REAL\", \"STRING\", \"CHARACTER\", \r\n                                   \"WHITESPACE\", \"EOS\", \"COMMENTS\" ];\r\n\r\nivprog.prototype.ruleNames = [ \"RK_PROGRAM\", \"RK_REAL\", \"RK_VOID\", \"RK_BOOLEAN\", \r\n                               \"RK_STRING\", \"RK_INTEGER\", \"RK_CHARACTER\", \r\n                               \"RK_SWITCH\", \"RK_CASE\", \"RK_DEFAULT\", \"RK_CONST\", \r\n                               \"RK_FUNCTION\", \"RK_RETURN\", \"RK_FOR\", \"RK_FOR_ALT\", \r\n                               \"RK_FOR_FROM\", \"RK_FOR_TO\", \"RK_FOR_PASS\", \r\n                               \"RK_BREAK\", \"RK_DO\", \"RK_DO_UNTIL\", \"RK_WHILE\", \r\n                               \"RK_WHILE_ALT\", \"RK_IF\", \"RK_ELSE\", \"RK_FALSE\", \r\n                               \"RK_TRUE\", \"RK_LOGICAL_NOT\", \"RK_LOGICAL_AND\", \r\n                               \"RK_LOGICAL_OR\", \"RK_REFERENCE\", \"OPEN_PARENTHESIS\", \r\n                               \"CLOSE_PARENTHESIS\", \"OPEN_BRACE\", \"CLOSE_BRACE\", \r\n                               \"OPEN_CURLY\", \"CLOSE_CURLY\", \"COMMA\", \"EQUAL\", \r\n                               \"SUM_OP\", \"MULTI_OP\", \"AND_OPERATOR\", \"OR_OPERATOR\", \r\n                               \"RELATIONAL_OPERATOR\", \"COLON\", \"NOT_OPERATOR\", \r\n                               \"ID\", \"LIB_ID\", \"INTEGER\", \"REAL\", \"ExponentPart\", \r\n                               \"STRING\", \"STRING_CHARACTER\", \"CHARACTER\", \r\n                               \"WHITESPACE\", \"SEMICOLON\", \"EOS\", \"HEX_DIGIT\", \r\n                               \"OCTAL_DIGIT\", \"ESC_SEQ\", \"ESC_OCTAL\", \"ESC_UNICODE\", \r\n                               \"COMMENTS\" ];\r\n\r\nivprog.prototype.grammarFileName = \"ivprog.g4\";\r\n\r\n\r\n\r\nexports.ivprog = ivprog;\r\n\r\n\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports = {\nivprog: __webpack_require__(0).ivprog\n};\n\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = require(\"antlr4/index\");\n\n/***/ })\n/******/ ]);","/* This is a dictionary of the language defined functions\r\n**/\r\nexport default {\r\n  main_function: \"inicio\",\r\n  $read: \"leia\",\r\n  $write: \"escreva\",\r\n  $numElements: \"total_de_elementos\",\r\n  $matrixLines: \"total_de_linhas\",\r\n  $matrixColumns: \"total_de_colunas\",\r\n  $substring: \"subcadeia\",\r\n  $length: \"comprimento\",\r\n  $uppercase: \"caixa_alta\",\r\n  $lowercase: \"caixa_baixa\",\r\n  $charAt: \"caractere_na_posicao\",\r\n  $isReal: \"e_real\",\r\n  $isInt: \"e_inteiro\",\r\n  $isBool: \"e_logico\",\r\n  $castReal: \"como_real\",\r\n  $castInt: \"como_inteiro\",\r\n  $castBool: \"como_logico\",\r\n  $castString: \"como_cadeia\",\r\n  $castChar: \"como_caractere\",\r\n  $sin: \"seno\",\r\n  $cos: \"cosseno\",\r\n  $tan: \"tangente\",\r\n  $sqrt: \"raiz_quadrada\",\r\n  $pow: \"potencia\",\r\n  $log: \"logaritmo\",\r\n  $abs: \"modulo\",\r\n  $negate: \"trocar_sinal\",\r\n  $invert: \"inverter_valor\",\r\n  $max: \"maximo\",\r\n  $min: \"minimo\",\r\n  $rand: \"numero_aleatorio\"\r\n}","/**\r\n * This is the dictionary of the language defined libraries\r\n */\r\nexport default {\r\n  $mathLib: \"Matematica\",\r\n  $ioLib: \"ES\",\r\n  $strLib: \"Texto\",\r\n  $arrayLib: \"Arranjo\",\r\n  $langLib: \"Conversao\"\r\n}","module.exports = {\"pt\":{\"token_missing_one\":\"Erro de sintaxe: Espera-se $0, mas encontrou-se $1 na linha:$2, coluna:$3\",\"token_missing_two\":\"Erro de sintaxe: Esperava-se $0 ou $1 mas encontrou-se $2 na liha:$3, coluna: $4\",\"eos_missing\":\"Falta uma nova linha ou ; na linha: $0, coluna: $1\",\"invalid_type\":\"$0 na linha: $1, coluna: $2  um tipo invlido. Os tipos vlidos so: $3\",\"invalid_array_dimension\":\"A dimenso invlida na linha: $0, coluna: $1. Insira um $2 ou identificador vlido do mesmo tipo.\",\"invalid_array_size\":\"O tamnho do vetor/matriz excede o mximo de 2 na linha $0\",\"extra_lines\":\"Nenhum texto  permitido aps '}' em 'programa {...}'\",\"invalid_main_return\":\"A funo $0 declarada na linha $2 deve retornar $1.\",\"invalid_var_declaration\":\"Erro na linha $0: variveis s podem ser declaradas no corpo principal da funo e nas primeiras linhas, antes de qualquer comando.\",\"invalid_break_command\":\"Erro na linha $0. O comando $1 no pode ser usado fora de uma estrutura de repetio ou 'escolha...caso'\",\"invalid_terminal\":\"No  possvel utilizar $0 na expresso da linha: $1, coluna: $2. Tente um valor nmerico, varivel ou chamada de funo.\",\"const_not_init\":\"Erro na linha: $0, coluna: $1. Uma varivel declarada como const deve ser inicializada\",\"id_missing\":\"Esperava-se um identificador, mas encontrou-se $0 na linha: $1, coluna: $2\",\"invalid_id_format\":\"$0 na linha: $1, coluna: $2 no  um identificador vlido. O smbolo '.' no  permitido neste contexto.\",\"main_missing\":\"A funo principal no foi encontrada\",\"invalid_global_var\":\"Erro crtico: Chamada invlida da funo initGlobal fora do contexto BASE\",\"not_implemented\":\"Erro interno crtico: A funo definida pelo sistema $0 no foi implementada.\",\"function_missing\":\"A funo $0 no foi encontrada\",\"function_missing_full\":\"A funo $0 na linha: $1, coluna: $2 no foi encontrada\",\"invalid_parameters_size_full\":\"Erro na linha $0: a quantidade de parmetros fornecidos  funo $1 est incorreta. Esperava-se $2, encontrou-se $3.\",\"invalid_parameters_size\":\"A quantidade de parmetros fornecidos  funo $0 est incorreta. Esperava-se $1, encontrou-se $2\",\"invalid_ref_full\":\"A expresso $0 fornecida como parmetro para a funo $1 na linha $2 no  vlida para esta funo. Use uma varivel ou posio de vetor.\",\"invalid_ref\":\"A expresso $0 fornecida como parmetro para a funo $1 no  vlida para esta funo. Use uma varivel ou posio de vetor.\",\"invalid_parameter_type_full\":\"A expresso $0 fornecida como parmetro para a funo $1 na linha $2 no  compatvel com o tipo esperado.\",\"invalid_parameter_type\":\"A expresso $0 fornecida como parmetro para a funo $1 no  compatvel com o tipo esperado.\",\"unknown_command_full\":\"Erro interno crtico: comando desconhecido encontrado na linha $0\",\"unknown_command\":\"Erro interno crtico: comando desconhecido encontrado!\",\"loop_condition_type_full\":\"Erro na linha: $0, coluna $1: a condio $2 do lao de repetio deve ser do tipo lgico\",\"loop_condition_type\":\"A condio $0 do lao de repetio deve ser do tipo lgico\",\"endless_loop_full\":\"Possvel lao infinito detectado no seu cdigo. Verifique a linha $0\",\"endless_loop\":\"Possvel lao infinito detectado no seu cdigo.\",\"for_condition_type_full\":\"Erro na linha: $0, coluna $1: a condio de parada $2 do comando para(...) deve ser do tipo lgico\",\"for_condition_type\":\"A condio de parada $0 do comando para(...) deve ser do tipo lgico\",\"if_condition_type_full\":\"Erro na linha: $0, coluna $1: a condio $2 do comando se...senao deve ser do tipo lgico\",\"if_condition_type\":\"A condio $0 do comando se...senao deve ser do tipo lgico\",\"invalid_return_type_full\":\"Erro na linha $0: a expresso no produz um tipo compatvel com a funo $1. Tipo esperado: $2.\",\"invalid_return_type\":\"A expresso no produz um tipo compatvel com a funo $0. Tipo esperado: $1.\",\"invalid_void_return_full\":\"Erro na linha $0: a funo $1 no pode retornar uma expresso vazia, use uma espresso do tipo $2\",\"invalid_void_return\":\"A funo $0 no pode retornar uma expresso vazia, use uma espresso do tipo $1\",\"unexpected_break_command_full\":\"Erro interno crtico: comando pare encontrado fora do contexto de um lao/escolha..caso na linha $0\",\"unexpected_break_command\":\"Erro interno crtico: comando pare encontrado fora do contexto de um lao/escolha..caso\",\"invalid_dimension\":\"As dimenses de um vetor/matriz devem ser do tipo inteiro\",\"void_in_expression_full\":\"Erro na linha: $0, coluna: $1: a funo $2 no pode ser utilizada em uma expresso pois seu tipo de retorno  vazio\",\"void_in_expression\":\"A funo $0 no pode ser utilizada em uma expresso pois seu tipo de retorno  vazio\",\"invalid_array_access_full\":\"Identificador $0 na linha: $1, coluna: $2 no se refere a um vetor/matriz vlido\",\"invalid_array_access\":\"Identificador $0 no se refere a um vetor/matriz vlido\",\"invalid_matrix_access_full\":\"Identificador $0 na linha: $1, coluna: $2 no se refere a uma matriz vlida\",\"invalid_matrix_access\":\"Identificador $0 no se refere a uma matriz vlida\",\"matrix_column_outbounds_full\":\"Erro na linha $0: nmero de colunas $1  invlido para a matriz $2 que possui $3 colunas\",\"matrix_column_outbounds\":\"Nmero de colunas $0  invlido para a matriz $1 que possui $2 colunas\",\"matrix_line_outbounds_full\":\"Erro na linha $0: nmero de linhas $1  invlido para a matriz $2 que possui $3 linhas\",\"matrix_line_outbounds\":\"Nmero de linhas $0  invlido para a matriz $1 que possui $2 linhas\",\"vector_line_outbounds_full\":\"Erro na linha $0: O nmero de elementos $1  invlido para a vetor $2 que possui $3 elementos.\",\"vector_line_outbounds\":\"O nmero de elementos $1  invlido para a vetor $2 que possui $3 elementos.\",\"vector_not_matrix_full\":\"Erro na linha $0: $1 no  uma matriz\",\"vector_not_matrix\":\"$0 no  uma matriz\",\"invalid_infix_op_full\":\"Erro na linha $0: a expresso $1  invlida, pois o operador $2 no pode ser aplicado aos tipos $3 e $4\",\"invalid_infix_op\":\"A expresso $0  invlida, pois o operador $1 no pode ser aplicado aos tipos $2 e $3\",\"invalid_unary_op_full\":\"Erro na linha $0: a expresso $1  invlida, pois o operador $2 no pode ser aplicado ao tipo $3\",\"invalid_unary_op\":\"A expresso $0  invlida, pois o operador $1 no pode ser aplicado ao tipo $2\",\"unknown_op\":\"Erro interno crtico: Operao $0 desconhecida\",\"duplicate_function\":\"A funo $0 na linha: $1, coluna: $2 j foi definida anteriormente.\",\"duplicate_variable\":\"A varivel $0 na linha: $1, coluna: $2 j foi declarada anteriormente.\",\"main_parameters\":\"A funo inicio no pode ter parmetros.\",\"symbol_not_found_full\":\"A varivel $0 na linha: $1, coluna: $2 no foi declarada\",\"symbol_not_found\":\"A varivel $0 no foi declarada\",\"array_dimension_not_int_full\":\"As dimenses do arranjo (vetor ou matriz) na linha $0 devem ser do tipo inteiro.\",\"array_dimension_not_int\":\"As dimenses de um arranjo (vetor ou matriz) devem ser do tipo inteiro.\",\"array_dimension_not_positive_full\":\"As dimenses do arranjo (vetor ou matriz) na linha $0 devem ser valores positivos.\",\"array_dimension_not_positive\":\"As dimenses de um arranjo (vetor ou matriz) devem ser valores positivos.\",\"incompatible_types_full\":\"Era esperado um $0 mas a expresso $1 na linha $2 resulta em $3.\",\"incompatible_types\":\"Era esperado um $0 mas a expresso $1 resulta em $2.\",\"incompatible_types_array_full\":\"A expresso $0 na linha $2  incompatvel com o tipo $1.\",\"incompatible_types_array\":\"A expresso $0  incompatvel com o tipo $1.\",\"invalid_case_type_full\":\"O caso $0 na linha $1  incompatvel com o tipo $2.\",\"invalid_case_type\":\"O caso $0  incompatvel com o tipo $1.\",\"function_no_return\":\"A funo $0 no possui um comando de devoluo acessvel. Toda funo deve ter ao menos um comando 'devolva' no seu corpo principal.\",\"invalid_array_literal_type_full\":\"Erro na linha $0: a expresso $1 no resulta em um tipo compatvel.\",\"invalid_array_literal_type\":\"A expresso $0 no resulta em um tipo compatvel.\",\"invalid_array_literal_line_full\":\"Erro na linha $0: esperava-se $1 linhas mas encontrou $2.\",\"invalid_array_literal_line\":\"Esperava-se $0 linhas mas encontrou $1.\",\"invalid_array_literal_column_full\":\"Erro na linha $0: esperava-se $1 colunas mas encontrou $2.\",\"invalid_array_literal_column\":\"Esperava-se $0 colunas mas encontrou $1.\",\"exceeded_input_request\":\"A quantidade de leituras requisitadas execedeu a quantidade de entradas disponveis.\",\"test_case_few_reads\":\"Caso de teste $0 falhou: ainda restam entradas!\",\"test_case_failed\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"> <span>Caso de teste $0 no executou com sucesso.</span></div>\",\"test_case_failed_exception\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$2\\\"> <span>Caso de teste $0 falhou</span>: $1\",\"test_case_exception\":\"Ocorreu uma exceo no caso de teste $0: $1\",\"invalid_type_conversion\":\"O valor $0 no pode ser convertido para o tipo $1\",\"invalid_read_type\":\"Erro na linha $0: A entrada \\\"$1\\\" no  do tipo $2, que  o tipo da varivel <span class='ivprog-error-varname'>$3</span>.\",\"invalid_read_type_array\":\"Erro na linha $0: A entrada \\\"$1\\\" no  do tipo $2, que  o tipo aceito pela varivel <span class='ivprog-error-varname'>$3</span> que  um $4.\",\"inform_valid_identifier\":\"Informe um nome vlido! O nome no pode ser uma palavra reservadas e deve comear com letras ou _ e conter apenas letras, nmeros e _.\",\"inform_valid_global_duplicated\":\"J existe uma varivel global com o nome <span class='ivprog-error-varname'>$0</span>, voc precisa de nomes distintos.\",\"inform_valid_variable_duplicated\":\"J existe uma varivel com o nome <span class='ivprog-error-varname'>$0</span> na funo <span class='ivprog-error-varname'>$1</span>, voc precisa de nomes distintos.\",\"inform_valid_function_duplicated\":\"J existe uma funo com o nome <span class='ivprog-error-varname'>$0</span>, voc precisa de nomes distintos.\",\"inform_valid_param_duplicated\":\"J existe um parmetro com o nome <span class='ivprog-error-varname'>$0</span> na funo <span class='ivprog-error-varname'>$1</span>, voc precisa de nomes distintos.\",\"invalid_character\":\"O caractere $0 na linha $1 no pode ser utilizado neste contexto.\",\"annonymous_array_literal\":\"Erro na linha $0: a notao de vetor/matriz s permitida durante a inicializao de uma varivel desse tipo. Ex: inteiro vec[3]  {1,2,3}.\",\"invalid_matrix_literal_line\":\"A expresso $0 na linha $1 no possui um nmero de elementos igual a linha anterior. Todas as linhas de uma matriz devem ter a mesma quantidade de elementos.\",\"cannot_infer_matrix_line\":\"No  possvel inferir o nmero de linhas da matriz $0 na linha $1.  necessrio que ela seja inicializada ou que o valor seja informado de forma explcita.\",\"cannot_infer_matrix_column\":\"No  possvel inferir o nmero de colunas da matriz $0 na linha $1.  necessrio que ela seja inicializada ou que o valor seja informado de forma explcita.\",\"cannot_infer_vector_size\":\"No  possvel inferir o nmero de elementos do vetor $0 na linha $1.  necessrio que ele seja inicializado ou que o valor seja informado de forma explcita\",\"matrix_to_vector_literal_attr\":\"Erro na linha $0: A expresso $1 representa uma matriz e no pode ser atribuda ao vetor $2.\",\"vector_to_matrix_literal_attr\":\"Erro na linha $0: A expresso $1 representa um vetor e no pode ser atribudo a matriz $2.\",\"invalid_const_ref_full\":\"A varivel $0 fornecida como parmetro para a funo $1 na linha $2  uma constante e no pode ser usada neste contexto. Use uma varivel ou posio de vetor.\",\"invalid_const_ref\":\"A varivel $0 fornecida como parmetro para a funo $1  uma constante e no pode ser usada neste contexto. Use uma varivel ou posio de vetor.\",\"invalid_const_assignment_full\":\"Erro na linha $0: $1  uma constante e portanto no pode ter seu valor alterado\",\"invalid_const_assignment\":\"$0  uma constante e portanto no pode ter seu valor alterado\",\"array_init_not_literal\":\"Erro na linha $0: Vetor/Matriz s pode ser inicializado por literal. Ex: real vetor[] <- {1,2,3}\",\"array_exceeds_2d\":\"Erro na linha $0: O nmero mximo de dimenses que um arranjo pode ter  2. Elemento de 3 ou mais dimenses encontrado!\",\"invalid_matrix_id_dimension\":\"Erro na linha $0: Voc deve definir todas as dimenses da matriz quando uma delas  definida por uma varivel! Ex: real mat1[var][5], mat2[5][var]\",\"invalid_vector_init\":\"Erro na linha $0: No se pode inicializar um vetor que teve seu tamanho declarado utilizando uma varivel! Utilize uma atribuio de vetores ou use um lao de repetio.\",\"invalid_matrix_init\":\"Erro na linha $0: No se pode inicializar uma matrix que teve ao menos uma das suas dimenses declaradas utilizando uma varivel! Utilize uma atribuio de matrizes ou use um lao de repetio.\",\"invalid_vector_assignment_full\":\"Erro na linha $0: S se pode atribuir um vetor a outro desde que eles comportem o mesmo nmero de elementos. $1 comporta $2 e $3 comporta $4!\",\"invalid_vector_assignment\":\"S se pode atribuir um vetor a outro desde que eles comportem o mesmo nmero de elementos. $0 comporta $1 e $2 comporta $3!\",\"invalid_matrix_assignment_full\":\"Erro na linha $0: S se pode atribuir uma matriz a outra desde que ambas possuam dimenses de mesmo tamanho. $1 tem $2 linhas e $3 colunas, enquanto $4 possui $5 linhas e $6 colunas!\",\"invalid_matrix_assignment\":\"S se pode atribuir uma matriz a outra desde que ambas possuam dimenses de mesmo tamanho. $0 tem $1 linhas e $2 colunas, enquanto $3 possui $4 linhas e $5 colunas!\",\"matrix_to_vector_attr\":\"Erro na linha $0: $1 representa uma matriz e no pode ser atribuda ao vetor $2.\",\"vector_to_matrix_attr\":\"Erro na linha $0: $1 representa um vetor e no pode ser atribudo a matriz $2.\",\"invalid_matrix_index_assign_full\":\"Erro na linha $0: A posio $1 da matriz $2 aceita apenas vetores de tamanho $3, mas $4 tem tamanho $5\",\"invalid_matrix_index_assign\":\"A linha $0 da matriz $1 aceita apenas vetores de tamanho $2, mas $3 tem tamanho $4\",\"invalid_number_elements_vector\":\"Esperava-se por $0 elementos na linha $1 mas a expresso $2 possui $3 elementos.\",\"invalid_number_lines_matrix\":\"Esperava-se por uma matriz com $0 linhas na linha $1 mas a expresso $2 possui $3 linhas\",\"divsion_by_zero_full\":\"Erro na linha $0: A expresso $1 resulta em uma diviso por 0.\",\"divsion_by_zero\":\"A expresso $0 resulta em uma diviso por 0.\",\"undefined_tanget_value\":\"Erro na linha $0: A tangente de $1 no  indefinida.\",\"negative_log_value\":\"Erro na linha $0: No se pode calcular o log de um valor negativo.\",\"invalid_string_index\":\"Erro na linha $0 durante a execuo da funo $1: $2  um ndice invlido para a cadeia de texto $3. Os valores vlidos vo de 0  $4\",\"negative_sqrt_value\":\"Erro na linha $0: No  permitido calcular a raiz quadrada de um nmero negativo.\",\"exceeded_recursive_calls\":\"Erro na execuo da linha $0: Nmero de chamadas recursivas execedeu o limite mximo definido!\",\"invalid_for_variable\":\"Erro na linha $0: A variavel $1 utilizada no comando repita_para deve ser do tipo inteiro.\",\"invalid_for_from\":\"Erro na linha $0: O valor $1 passado para o parmetro 'de' do comando repita_para deve ser do tipo inteiro.\",\"invalid_for_to\":\"Erro na linha $0: O valor $1 passado para o parmetro 'para' do comando repita_para deve ser do tipo inteiro.\",\"invalid_for_pass\":\"Erro na linha $0: O valor $1 passado para o parmetro 'passo' do comando repita_para deve ser do tipo inteiro.\",\"exceed_max_instructions\":\"Nmero de instrues excedeu o limite definido. Certifique-se que seu cdigo no possui laos infinitos ou muitas chamadas de funes recursivas.\"},\"en\":{\"token_missing_one\":\"Syntax error: Expected $0 but found $1 at line:$2, column:$3\",\"token_missing_two\":\"Syntax error: Expected $0 or $1 but found $2 at line:$3, column: $4\",\"eos_missing\":\"A new line or a ; is missing at line: $0, column: $1\",\"invalid_type\":\"$0 at line: $1, column: $2 is a invalid type. The valid types are: $3\",\"invalid_array_dimension\":\"Invalid dimension at line: $0, column: $1. Insert a $2 or a valid identifier of the same type.\",\"invalid_array_size\":\"The array at line $0 exceeds the maximum size of 2.\",\"extra_lines\":\"No text is allowed after '}' in 'program {  }'\",\"invalid_main_return\":\"The function $0 declared at line $2 must return $1.\",\"invalid_var_declaration\":\"Error at line $0: Variables can only be declared in the main body of a function and at the first lines, before any command.\",\"invalid_break_command\":\"Error at line $0. The command $1 cannot be used outside a loop command or switch ...case structure.\",\"invalid_terminal\":\"It is not possible to use $0 in the expression at line: $1, column: $2. Try a numeric value, variable or function call.\",\"const_not_init\":\"Error at line: $0, column: $1. A variable declared as const must be initialized.\",\"id_missing\":\"Expected an identifier but found $0 at line: $1, column: $2.\",\"invalid_id_format\":\"$0 at line: $1, column: $2 is not a valid identifier. The symbol '.' is not permitted in this context.\",\"main_missing\":\"The main function was not found. You need to declare a function of return type void named main.\",\"invalid_global_var\":\"Critical Error: Invalid call of the function IVProgProcessor.initGlobal outside the BASE context.\",\"not_implemented\":\"Critial internal error: The system defined function $0 was not found.\",\"function_missing\":\"The function $0 was not found.\",\"function_missing_full\":\"The function $0 at line: $1, column: $2 was not found.\",\"invalid_parameters_size_full\":\"Error at line $0: The number of parameters provided to the function $1 is incorrect. It expected $2 but found $3.\",\"invalid_parameters_size\":\"The number of parameters provided to the function $0 is incorrect. It expected $1 but found $2.\",\"invalid_ref_full\":\"The expression $0 provided as a parameter to the function $1 at line $2 is not valid in this context. Use a variable or a position of a vector.\",\"invalid_ref\":\"The expression $0 provided as a parameter to the function $1 is not valid in this context. Use a variable or a position of a vector.\",\"invalid_parameter_type_full\":\"The expression $0 provided as a parameter to the function $1 at line $2 is not of the expected type.\",\"invalid_parameter_type\":\"The expression $0 provided as a parameter to the function $1 is not of the expected type.\",\"unknown_command_full\":\"Internal error: an unknown command found at line $0.\",\"unknown_command\":\"Internal error: an unknown command found.\",\"loop_condition_type_full\":\"Error at line: $0, column $1: the condition $2 of the loop must be of type bool (true or false).\",\"loop_condition_type\":\"The condition $0 of the loop must be of type bool (true or false).\",\"endless_loop_full\":\"Possible infinite loop detected in your code. Check line $0.\",\"endless_loop\":\"Possible infinite loop detected in your code.\",\"for_condition_type_full\":\"Erro na linha: $0, coluna $1: a condio de parada $2 do comando para(...) deve ser do tipo lgico\",\"for_condition_type\":\"A condio de parada $0 do comando para(...) deve ser do tipo lgico\",\"if_condition_type_full\":\"Error at line: $0, column $1: the condition $2 in the if  else command must result in a bool (true or false).\",\"if_condition_type\":\"The condition $0 in the if  else command must result in a bool (true or false).\",\"invalid_return_type_full\":\"Error at line $0: The expression doest not result in a type compatible with the function $1.  Expected type: $2.\",\"invalid_return_type\":\"The expression doest not result in a type compatible with the function $0.  Expected type: $1.\",\"invalid_void_return_full\":\"Error at line $0: The function $1 cannot return an empty expression, use an expression that results in a $2\",\"invalid_void_return\":\"The function $0 cannot return an empty expression, use an expression that results in a $1\",\"unexpected_break_command_full\":\"Critical error at line $0:  a break command was found outside a valid context: loop or switch  case structure.\",\"unexpected_break_command\":\"Critical error:  a break command was found outside a valid context: loop or switch  case structure.\",\"invalid_dimension\":\"Array (vector or matrix) dimensions must be of type int.\",\"void_in_expression_full\":\"Error at line: $0, column: $1: The function $2 cannot be used inside an expression since its return type is void.\",\"void_in_expression\":\"The function $0 cannot be used inside an expression since its return type is void.\",\"invalid_array_access_full\":\"Identifier $0 at line: $1, column: $2 does not identify a valid vector or matrix.\",\"invalid_array_access\":\"Identifier $0 does not identify a valid vector or matrix.\",\"invalid_matrix_access_full\":\"Identifier $0 at line: $1, column: $2 does not identify a valid matrix.\",\"invalid_matrix_access\":\"Identifier $0 does not identify a valid matrix.\",\"matrix_column_outbounds_full\":\"Error at line $0: The number of columns $1 is invalid for the matrix $2 which has $3 columns.\",\"matrix_column_outbounds\":\"The number of columns $0 is invalid for the matrix $1 which has $2 columns.\",\"matrix_line_outbounds_full\":\"Error at line $0: The number of lines $1 is invalid for matrix $2 which has $3 lines.\",\"matrix_line_outbounds\":\"The number of lines $0 is invalid for matrix $1 which has $2 lines.\",\"vector_line_outbounds_full\":\"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.\",\"vector_line_outbounds\":\"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.\",\"vector_not_matrix_full\":\"Error at line $0: $1 is not a matrix.\",\"vector_not_matrix\":\"$0 is not a matrix.\",\"invalid_infix_op_full\":\"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the types $3 and $4.\",\"invalid_infix_op\":\"The expression $0 is not valid because the operator $1 cannot be applied to the types $2 and $3.\",\"invalid_unary_op_full\":\"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the type $3.\",\"invalid_unary_op\":\"The expression $0 is not valid because the operator $1 cannot be applied to the type $2.\",\"unknown_op\":\"Critical error: Unknown operator $0.\",\"duplicate_function\":\"The function $0 at line: $1, column: $2 has already been declared.\",\"duplicate_variable\":\"The variable $0 at line: $1, column: $2 has already been declared.\",\"main_parameters\":\"The main function cannot have parameters.\",\"symbol_not_found_full\":\"The variable $0 at line: $1, column: $2 has not been declared.\",\"symbol_not_found\":\"The variable $0 has not been declared.\",\"array_dimension_not_int_full\":\"The array (vector or matrix) dimensions at line $0 must be of type int.\",\"array_dimension_not_int\":\"An array (vector or matrix) dimensions must be of type int.\",\"array_dimension_not_positive_full\":\"The array (vector or matrix) dimensions at line $0 must be positive.\",\"array_dimension_not_positive\":\"An array (vector or matrix) dimensions must be positive.\",\"incompatible_types_full\":\"It expected $0 but the expression $1 at line $2 results in $3.\",\"incompatible_types\":\"It expected $0 but the expression $1 results in $2.\",\"incompatible_types_array_full\":\"The expression $0 at line $2 is not compatible with type $1.\",\"incompatible_types_array\":\"The expression $0 is not compatible with type $1.\",\"invalid_case_type_full\":\"The case expression $0 at line $1 is not compatible with type $2.\",\"invalid_case_type\":\"The case expression $0 is not compatible with type $1.\",\"function_no_return\":\"The function $0 does not have a reacheable return command. Every function must have at least one return command in its main body.\",\"invalid_array_literal_type_full\":\"Error at line $0: the expression $1 does not result in a compatible type.\",\"invalid_array_literal_type\":\"The expression $0 does not result in a compatible type.\",\"invalid_array_literal_line_full\":\"Error at line $0: it expected $1 lines but found $2.\",\"invalid_array_literal_line\":\"It expected $0 lines but found $1.\",\"invalid_array_literal_column_full\":\"Error at line $0: it expected $1 column but found $2.\",\"invalid_array_literal_column\":\"It expected $0 column but found $1.\",\"exceeded_input_request\":\"The amount of reads requested exceeded the amount of inputs available.\",\"test_case_few_reads\":\"Teste case $0 failed: there are available inputs remaining.\",\"test_case_failed\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"> <span>Test case $0 did not executed successfully.</span></div>\",\"test_case_failed_exception\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$2\\\"> <span>Test case $0 failed</span>: $1\",\"test_case_exception\":\"An exception has ocurred during the execution of test case $0: $1\",\"invalid_type_conversion\":\"The value $0 cannot be converted to type $1.\",\"invalid_read_type\":\"Error at line $0: The input \\\"$1\\\" is not of type $2 which is the type of the variable <span class='ivprog-error-varname'>$3</span>.\",\"invalid_read_type_array\":\"Error at line $0: The input \\\"$1\\\" is not of type $2 which is the type  accepted by the variable <span class='ivprog-error-varname'>$3</span> of type $4.\",\"inform_valid_identifier\":\"Enter a valid identifier! The identifier cannot be a reserved word and it must begin with a letter or _, followed by numbers, letters and _ only.\",\"inform_valid_global_duplicated\":\"A global variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each gloval variable.\",\"inform_valid_variable_duplicated\":\"A variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each variable.\",\"inform_valid_function_duplicated\":\"A function named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each function.\",\"inform_valid_param_duplicated\":\"A parameter named <span class='ivprog-error-varname'>$0</span> already exists in function <span class='ivprog-error-varname'>$1</span>, you need distinc names for each parameter.\",\"invalid_character\":\"The character $0 at line $1 cannot be used in this context.\",\"annonymous_array_literal\":\"Error at line $0: the array notation is only permitted during initialization of an array variable. i. e.: int vec[3]  {1, 2, 3}.\",\"invalid_matrix_literal_line\":\"The expression $0 at line $1 does not have the same number of elements as the last line. All lines of a matrix must have the same number of elements.\",\"cannot_infer_matrix_line\":\"It is not possible to infer the number of lines of matrix $0 at line $1. It must be initialized or have its lines explicitly declared.\",\"cannot_infer_matrix_column\":\"It is not possible to infer the number of columns of matrix $0 at line $1. It must be initialized or have its columns explicitly declared.\",\"cannot_infer_vector_size\":\"It is not possible to infer the number of elements of vector $0 at line $1. It must be initialized or have its size explicitly declard.\",\"matrix_to_vector_literal_attr\":\"Error at line $0: The expression $1 represents a matrix and cannot be assigned to the vector $2.\",\"vector_to_matrix_literal_attr\":\"Error at line $0: The expression $1 represents a vector and cannot be assigned to the matrix $2.\",\"invalid_const_ref_full\":\"The variable $0 provided as a parameter to the function $1 at line $2 is a constant and cannot be used in this context. Use a non-constant variable or vector position.\",\"invalid_const_ref\":\"The variable $0 provided as a parameter to the function $1 is a constant and cannot be used in this context. Use a non-constant variable or vector position.\",\"invalid_const_assignment_full\":\"Error at line $0: $1 is a constant e therefore cannot have its value changed.\",\"invalid_const_assignment\":\"$0 is a constant e therefore cannot have its value changed.\",\"array_init_not_literal\":\"Error at line $0: An array (vector or matrix) can only be initialized by an array literal. i.e : real vector[] <- {1,2,3}\",\"array_exceeds_2d\":\"Error at line $0: The maximum number of dimensions an array can have is 2. An element of 3 or dimensions was found.\",\"invalid_matrix_id_dimension\":\"Error at line $0: You must define all dimensions of the matrix when one of them is defined by a variable! i.e: real mat1[var][5], mat2[5][var]\",\"invalid_vector_init\":\"Error at line $0: You cannot initialize a vector when its size is defined by a variable. Use a vector assignment or loop command.\",\"invalid_matrix_init\":\"Error at line $0: You cannot initialize a matrix when one of its dimensions is defined by a variable. Use a matrix assignment or loop command.\",\"invalid_vector_assignment_full\":\"Error at line $0: You can only assign a vector to another when both have the same number of elements. $1 has $2 and $3 has $4 elements!\",\"invalid_vector_assignment\":\"You can only assign a vector to another when both have the same number of elements. $0 has $1 and $2 has $3 elements!\",\"invalid_matrix_assignment_full\":\"Error at line $0: You can only assign a matrix to another when both have dimensions of the same size. $1 has $2 lines e $3 columns while $4 has $5 lines and $6 columns!\",\"invalid_matrix_assignment\":\"You can only assign a matrix to another when both have dimensions of the same size. $0 has $1 lines e $2 columns while $3 has $4 lines and $5 columns!\",\"matrix_to_vector_attr\":\"Error at line $0: $1 represents a matrix and cannot be assigned to the vector $2.\",\"vector_to_matrix_attr\":\"Error at line $0: $1 represents a vector and cannot be assigned to the matrix $2.\",\"invalid_matrix_index_assign_full\":\"Error at line $0: The position $1 of the matrix $2 only accepts vectors of size $3 but $4 has size $5.\",\"invalid_matrix_index_assign\":\"The position $0 of the matrix $1 only accepts vectors of size $2 but $3 has size $4.\",\"invalid_number_elements_vector\":\"It expected $0 elements at line $1 but the expression $2 has $3 elements.\",\"invalid_number_lines_matrix\":\"It expected a matrix with $0 lines at line $1 but the expression $2 has $3 lines.\",\"divsion_by_zero_full\":\"Error at line $0: The expression $1 resuts in a division by zero.\",\"divsion_by_zero\":\"The expression $0 resuts in a division by zero.\",\"undefined_tanget_value\":\"Error at line $0: The tangent of $1 is undefined.\",\"negative_log_value\":\"Error at line $0: You cannot calculate the logarithm of a negative value.\",\"invalid_string_index\":\"Error at line $0 during the execution of the function $1: $2 is an invalid index for the text string $3. The valid indexes go from 0 to $4.\",\"negative_sqrt_value\":\"Error at line $0: It is not allowd to calculate the square root of a negative number.\",\"exceeded_recursive_calls\":\"Error during the execution of line $0: The number of recursive calls exceeded the allowed number of calls.\",\"invalid_for_variable\":\"Error at line $0: The variable $1 used in the repeat_for command must be of type int.\",\"invalid_for_from\":\"Error at line $0: The value $1 passed to the parameter 'from' of the repeat_for command must be of type int.\",\"invalid_for_to\":\"Error at line $0: The value $1 passed to the parameter 'to' of the repeat_for command must be of type int.\",\"invalid_for_pass\":\"Error at line $0: The value $1 passed to the parameter 'pass' of the repeat_for command must be of type int.\",\"exceed_max_instructions\":\"The number of instructions executed by your program exceed the defined limit. Check your code for infinite loops or excessive recursive functions calls.\"},\"es\":{\"token_missing_one\":\"Syntax error: Expected $0 but found $1 at line:$2, column:$3\",\"token_missing_two\":\"Syntax error: Expected $0 or $1 but found $2 at line:$3, column: $4\",\"eos_missing\":\"A new line or a ; is missing at line: $0, column: $1\",\"invalid_type\":\"$0 at line: $1, column: $2 is a invalid type. The valid types are: $3\",\"invalid_array_dimension\":\"Invalid dimension at line: $0, column: $1. Insert a $2 or a valid identifier of the same type.\",\"invalid_array_size\":\"The array at line $0 exceeds the maximum size of 2.\",\"extra_lines\":\"No text is allowed after '}' in 'program {  }'\",\"invalid_main_return\":\"The function $0 declared at line $2 must return $1.\",\"invalid_var_declaration\":\"Error at line $0: Variables can only be declared in the main body of a function and at the first lines, before any command.\",\"invalid_break_command\":\"Error at line $0. The command $1 cannot be used outside a loop command or switch ...case structure.\",\"invalid_terminal\":\"It is not possible to use $0 in the expression at line: $1, column: $2. Try a numeric value, variable or function call.\",\"const_not_init\":\"Error at line: $0, column: $1. A variable declared as const must be initialized.\",\"id_missing\":\"Expected an identifier but found $0 at line: $1, column: $2.\",\"invalid_id_format\":\"$0 at line: $1, column: $2 is not a valid identifier. The symbol '.' is not permitted in this context.\",\"main_missing\":\"The main function was not found. You need to declare a function of return type void named main.\",\"invalid_global_var\":\"Critical Error: Invalid call of the function IVProgProcessor.initGlobal outside the BASE context.\",\"not_implemented\":\"Critial internal error: The system defined function $0 was not found.\",\"function_missing\":\"The function $0 was not found.\",\"function_missing_full\":\"The function $0 at line: $1, column: $2 was not found.\",\"invalid_parameters_size_full\":\"Error at line $0: The number of parameters provided to the function $1 is incorrect. It expected $2 but found $3.\",\"invalid_parameters_size\":\"The number of parameters provided to the function $0 is incorrect. It expected $1 but found $2.\",\"invalid_ref_full\":\"The expression $0 provided as a parameter to the function $1 at line $2 is not valid in this context. Use a variable or a position of a vector.\",\"invalid_ref\":\"The expression $0 provided as a parameter to the function $1 is not valid in this context. Use a variable or a position of a vector.\",\"invalid_parameter_type_full\":\"The expression $0 provided as a parameter to the function $1 at line $2 is not of the expected type.\",\"invalid_parameter_type\":\"The expression $0 provided as a parameter to the function $1 is not of the expected type.\",\"unknown_command_full\":\"Internal error: an unknown command found at line $0.\",\"unknown_command\":\"Internal error: an unknown command found.\",\"loop_condition_type_full\":\"Error at line: $0, column $1: the condition $2 of the loop must be of type bool (true or false).\",\"loop_condition_type\":\"The condition $0 of the loop must be of type bool (true or false).\",\"endless_loop_full\":\"Possible infinite loop detected in your code. Check line $0.\",\"endless_loop\":\"Possible infinite loop detected in your code.\",\"for_condition_type_full\":\"Erro na linha: $0, coluna $1: a condio de parada $2 do comando para(...) deve ser do tipo lgico\",\"for_condition_type\":\"A condio de parada $0 do comando para(...) deve ser do tipo lgico\",\"if_condition_type_full\":\"Error at line: $0, column $1: the condition $2 in the if  else command must result in a bool (true or false).\",\"if_condition_type\":\"The condition $0 in the if  else command must result in a bool (true or false).\",\"invalid_return_type_full\":\"Error at line $0: The expression doest not result in a type compatible with the function $1.  Expected type: $2.\",\"invalid_return_type\":\"The expression doest not result in a type compatible with the function $0.  Expected type: $1.\",\"invalid_void_return_full\":\"Error at line $0: The function $1 cannot return an empty expression, use an expression that results in a $2\",\"invalid_void_return\":\"The function $0 cannot return an empty expression, use an expression that results in a $1\",\"unexpected_break_command_full\":\"Critical error at line $0:  a break command was found outside a valid context: loop or switch  case structure.\",\"unexpected_break_command\":\"Critical error:  a break command was found outside a valid context: loop or switch  case structure.\",\"invalid_dimension\":\"Array (vector or matrix) dimensions must be of type int.\",\"void_in_expression_full\":\"Error at line: $0, column: $1: The function $2 cannot be used inside an expression since its return type is void.\",\"void_in_expression\":\"The function $0 cannot be used inside an expression since its return type is void.\",\"invalid_array_access_full\":\"Identifier $0 at line: $1, column: $2 does not identify a valid vector or matrix.\",\"invalid_array_access\":\"Identifier $0 does not identify a valid vector or matrix.\",\"invalid_matrix_access_full\":\"Identifier $0 at line: $1, column: $2 does not identify a valid matrix.\",\"invalid_matrix_access\":\"Identifier $0 does not identify a valid matrix.\",\"matrix_column_outbounds_full\":\"Error at line $0: The number of columns $1 is invalid for the matrix $2 which has $3 columns.\",\"matrix_column_outbounds\":\"The number of columns $0 is invalid for the matrix $1 which has $2 columns.\",\"matrix_line_outbounds_full\":\"Error at line $0: The number of lines $1 is invalid for matrix $2 which has $3 lines.\",\"matrix_line_outbounds\":\"The number of lines $0 is invalid for matrix $1 which has $2 lines.\",\"vector_line_outbounds_full\":\"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.\",\"vector_line_outbounds\":\"Error at line $0: The number of elements $1 is invalid for vector $2 which has $3 elements.\",\"vector_not_matrix_full\":\"Error at line $0: $1 is not a matrix.\",\"vector_not_matrix\":\"$0 is not a matrix.\",\"invalid_infix_op_full\":\"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the types $3 and $4.\",\"invalid_infix_op\":\"The expression $0 is not valid because the operator $1 cannot be applied to the types $2 and $3.\",\"invalid_unary_op_full\":\"Error at line $0:  The expression $1 is not valid because the operator $2 cannot be applied to the type $3.\",\"invalid_unary_op\":\"The expression $0 is not valid because the operator $1 cannot be applied to the type $2.\",\"unknown_op\":\"Critical error: Unknown operator $0.\",\"duplicate_function\":\"The function $0 at line: $1, column: $2 has already been declared.\",\"duplicate_variable\":\"The variable $0 at line: $1, column: $2 has already been declared.\",\"main_parameters\":\"The main function cannot have parameters.\",\"symbol_not_found_full\":\"The variable $0 at line: $1, column: $2 has not been declared.\",\"symbol_not_found\":\"The variable $0 has not been declared.\",\"array_dimension_not_int_full\":\"The array (vector or matrix) dimensions at line $0 must be of type int.\",\"array_dimension_not_int\":\"An array (vector or matrix) dimensions must be of type int.\",\"array_dimension_not_positive_full\":\"The array (vector or matrix) dimensions at line $0 must be positive.\",\"array_dimension_not_positive\":\"An array (vector or matrix) dimensions must be positive.\",\"incompatible_types_full\":\"It expected $0 but the expression $1 at line $2 results in $3.\",\"incompatible_types\":\"It expected $0 but the expression $1 results in $2.\",\"incompatible_types_array_full\":\"The expression $0 at line $2 is not compatible with type $1.\",\"incompatible_types_array\":\"The expression $0 is not compatible with type $1.\",\"invalid_case_type_full\":\"The case expression $0 at line $1 is not compatible with type $2.\",\"invalid_case_type\":\"The case expression $0 is not compatible with type $1.\",\"function_no_return\":\"The function $0 does not have a reacheable return command. Every function must have at least one return command in its main body.\",\"invalid_array_literal_type_full\":\"Error at line $0: the expression $1 does not result in a compatible type.\",\"invalid_array_literal_type\":\"The expression $0 does not result in a compatible type.\",\"invalid_array_literal_line_full\":\"Error at line $0: it expected $1 lines but found $2.\",\"invalid_array_literal_line\":\"It expected $0 lines but found $1.\",\"invalid_array_literal_column_full\":\"Error at line $0: it expected $1 column but found $2.\",\"invalid_array_literal_column\":\"It expected $0 column but found $1.\",\"exceeded_input_request\":\"The amount of reads requested exceeded the amount of inputs available.\",\"test_case_few_reads\":\"Teste case $0 failed: there are available inputs remaining.\",\"test_case_failed\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"> <span>Test case $0 did not executed successfully.</span></div>\",\"test_case_failed_exception\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$2\\\"> <span>Test case $0 failed</span>: $1\",\"test_case_exception\":\"An exception has ocurred during the execution of test case $0: $1\",\"invalid_type_conversion\":\"The value $0 cannot be converted to type $1.\",\"invalid_read_type\":\"Error at line $0: The input \\\"$1\\\" is not of type $2 which is the type of the variable <span class='ivprog-error-varname'>$3</span>.\",\"invalid_read_type_array\":\"Error at line $0: The input \\\"$1\\\" is not of type $2 which is the type  accepted by the variable <span class='ivprog-error-varname'>$3</span> of type $4.\",\"inform_valid_identifier\":\"Enter a valid identifier! The identifier cannot be a reserved word and it must begin with a letter or _, followed by numbers, letters and _ only.\",\"inform_valid_global_duplicated\":\"A global variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each gloval variable.\",\"inform_valid_variable_duplicated\":\"A variable named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each variable.\",\"inform_valid_function_duplicated\":\"A function named <span class='ivprog-error-varname'>$0</span> already exists, you need distinct names for each function.\",\"inform_valid_param_duplicated\":\"A parameter named <span class='ivprog-error-varname'>$0</span> already exists in function <span class='ivprog-error-varname'>$1</span>, you need distinc names for each parameter.\",\"invalid_character\":\"The character $0 at line $1 cannot be used in this context.\",\"annonymous_array_literal\":\"Error at line $0: the array notation is only permitted during initialization of an array variable. i. e.: int vec[3]  {1, 2, 3}.\",\"invalid_matrix_literal_line\":\"The expression $0 at line $1 does not have the same number of elements as the last line. All lines of a matrix must have the same number of elements.\",\"cannot_infer_matrix_line\":\"It is not possible to infer the number of lines of matrix $0 at line $1. It must be initialized or have its lines explicitly declared.\",\"cannot_infer_matrix_column\":\"It is not possible to infer the number of columns of matrix $0 at line $1. It must be initialized or have its columns explicitly declared.\",\"cannot_infer_vector_size\":\"It is not possible to infer the number of elements of vector $0 at line $1. It must be initialized or have its size explicitly declard.\",\"matrix_to_vector_literal_attr\":\"Error at line $0: The expression $1 represents a matrix and cannot be assigned to the vector $2.\",\"vector_to_matrix_literal_attr\":\"Error at line $0: The expression $1 represents a vector and cannot be assigned to the matrix $2.\",\"invalid_const_ref_full\":\"The variable $0 provided as a parameter to the function $1 at line $2 is a constant and cannot be used in this context. Use a non-constant variable or vector position.\",\"invalid_const_ref\":\"The variable $0 provided as a parameter to the function $1 is a constant and cannot be used in this context. Use a non-constant variable or vector position.\",\"invalid_const_assignment_full\":\"Error at line $0: $1 is a constant e therefore cannot have its value changed.\",\"invalid_const_assignment\":\"$0 is a constant e therefore cannot have its value changed.\",\"array_init_not_literal\":\"Error at line $0: An array (vector or matrix) can only be initialized by an array literal. i.e : real vector[] <- {1,2,3}\",\"array_exceeds_2d\":\"Error at line $0: The maximum number of dimensions an array can have is 2. An element of 3 or dimensions was found.\",\"invalid_matrix_id_dimension\":\"Error at line $0: You must define all dimensions of the matrix when one of them is defined by a variable! i.e: real mat1[var][5], mat2[5][var]\",\"invalid_vector_init\":\"Error at line $0: You cannot initialize a vector when its size is defined by a variable. Use a vector assignment or loop command.\",\"invalid_matrix_init\":\"Error at line $0: You cannot initialize a matrix when one of its dimensions is defined by a variable. Use a matrix assignment or loop command.\",\"invalid_vector_assignment_full\":\"Error at line $0: You can only assign a vector to another when both have the same number of elements. $1 has $2 and $3 has $4 elements!\",\"invalid_vector_assignment\":\"You can only assign a vector to another when both have the same number of elements. $0 has $1 and $2 has $3 elements!\",\"invalid_matrix_assignment_full\":\"Error at line $0: You can only assign a matrix to another when both have dimensions of the same size. $1 has $2 lines e $3 columns while $4 has $5 lines and $6 columns!\",\"invalid_matrix_assignment\":\"You can only assign a matrix to another when both have dimensions of the same size. $0 has $1 lines e $2 columns while $3 has $4 lines and $5 columns!\",\"matrix_to_vector_attr\":\"Error at line $0: $1 represents a matrix and cannot be assigned to the vector $2.\",\"vector_to_matrix_attr\":\"Error at line $0: $1 represents a vector and cannot be assigned to the matrix $2.\",\"invalid_matrix_index_assign_full\":\"Error at line $0: The position $1 of the matrix $2 only accepts vectors of size $3 but $4 has size $5.\",\"invalid_matrix_index_assign\":\"The position $0 of the matrix $1 only accepts vectors of size $2 but $3 has size $4.\",\"invalid_number_elements_vector\":\"It expected $0 elements at line $1 but the expression $2 has $3 elements.\",\"invalid_number_lines_matrix\":\"It expected a matrix with $0 lines at line $1 but the expression $2 has $3 lines.\",\"divsion_by_zero_full\":\"Error at line $0: The expression $1 resuts in a division by zero.\",\"divsion_by_zero\":\"The expression $0 resuts in a division by zero.\",\"undefined_tanget_value\":\"Error at line $0: The tangent of $1 is undefined.\",\"negative_log_value\":\"Error at line $0: You cannot calculate the logarithm of a negative value.\",\"invalid_string_index\":\"Error at line $0 during the execution of the function $1: $2 is an invalid index for the text string $3. The valid indexes go from 0 to $4.\",\"negative_sqrt_value\":\"Error at line $0: It is not allowd to calculate the square root of a negative number.\",\"exceeded_recursive_calls\":\"Error during the execution of line $0: The number of recursive calls exceeded the allowed number of calls.\",\"invalid_for_variable\":\"Error at line $0: The variable $1 used in the repeat_for command must be of type int.\",\"invalid_for_from\":\"Error at line $0: The value $1 passed to the parameter 'from' of the repeat_for command must be of type int.\",\"invalid_for_to\":\"Error at line $0: The value $1 passed to the parameter 'to' of the repeat_for command must be of type int.\",\"invalid_for_pass\":\"Error at line $0: The value $1 passed to the parameter 'pass' of the repeat_for command must be of type int.\",\"exceed_max_instructions\":\"The number of instructions executed by your program exceed the defined limit. Check your code for infinite loops or excessive recursive functions calls.\"}}","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nconst Messages = require(\"./message.csv\");\r\nconst UI = require(\"./ui.csv\");\r\nconst Errors = require(\"./error.csv\");\r\nconst MessagesObj = Messages;\r\nconst UIObj = UI;\r\nconst ErrorsObj = Errors;\r\nconst i18n_data = {};\r\nfor (const key in UIObj) {\r\n    const data = {};\r\n    data['error'] = ErrorsObj[key];\r\n    data['message'] = MessagesObj[key];\r\n    data['ui'] = UIObj[key];\r\n    i18n_data[key] = data;\r\n}\r\nexports.default = i18n_data;\r\n","module.exports = {\"pt\":{\"test_case_success\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"><span>Caso de teste $0</span>: OK</div>\",\"test_case_duration\":\"Levou $0ms\",\"test_suite_grade\":\"A sua soluo alcanou $0% da nota.\",\"awaiting_input_message\":\"O seu programa est em execuo e aguardando uma entrada! Digite algo e pressione ENTER...\",\"assessment-empty-expected-tooltip\":\"A sada gerada foi alm do esperado\",\"assessment-empty-generated-tooltip\":\"O programa no gerou sadas suficientes\",\"testcase_autogen_unused_input\":\"A soluo submetida no l todas entradas disponveis no caso de teste 1\",\"testcase_autogen_empty\":\"Sua soluo no gerou qualquer sada para o caso de teste $0.\",\"success_execution\":\"Execuo do programa finalizada!\",\"aborted_execution\":\"A execuo do programa foi interrompida!\",\"unexpected_execution_error\":\"Erro inesperado durante a execuo do programa.\"},\"en\":{\"test_case_success\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"><span>Test case $0</span>: OK</div>\",\"test_case_duration\":\"Took $0ms\",\"test_suite_grade\":\"Your solution scored $0% of the grade.\",\"awaiting_input_message\":\"Your program is running and awaiting for an input. Type something and press ENTER\",\"assessment-empty-expected-tooltip\":\"The generated output was beyond the amount expected\",\"assessment-empty-generated-tooltip\":\"The program did not generate enough outputs\",\"testcase_autogen_unused_input\":\"The submitted solution does not read all inputs available in the test case $0\",\"testcase_autogen_empty\":\"Your solution did not generate any output for test case $0.\",\"success_execution\":\"Program execution finished!\",\"aborted_execution\":\"Program execution was aborted!\",\"unexpected_execution_error\":\"Unexpected error during program execution.\"},\"es\":{\"test_case_success\":\"<div class='assessment-div-detail' onClick='ivprogCore.openAssessmentDetail(event)' data-page=\\\"$1\\\"><span>Test case $0</span>: OK</div>\",\"test_case_duration\":\"Tard $0ms\",\"test_suite_grade\":\"Su solucin obtuvo $0% de la calificacin.\",\"awaiting_input_message\":\"Su programa se est ejecutando y esperando una entrada. Escriba algo y presione ENTER ...\",\"assessment-empty-expected-tooltip\":\"The generated output was beyond the amount expected\",\"assessment-empty-generated-tooltip\":\"El programa no gener suficientes resultados.\",\"testcase_autogen_unused_input\":\"La solucin presentada no lee todas las entradas disponibles en el caso de prueba 1\",\"testcase_autogen_empty\":\"Su solucin no gener ningn resultado para el caso de prueba de $ 0.\",\"success_execution\":\"Ejecucin del programa terminada!\",\"aborted_execution\":\"La ejecucin del programa fue abortada!\",\"unexpected_execution_error\":\"Error inesperado durante la ejecucin del programa.\"}}","module.exports = {\"pt\":{\"function\":\"funcao\",\"btn_clear\":\"Limpar\",\"btn_function\":\"Funo\",\"btn_arithmetic_plus\":\"Adio\",\"btn_arithmetic_minus\":\"Subtrao\",\"btn_arithmetic_multiplication\":\"Multiplicao\",\"btn_arithmetic_division\":\"Diviso\",\"btn_arithmetic_module\":\"Mdulo\",\"btn_break\":\"Pare\",\"btn_case\":\"Caso\",\"expression_invalid\":\"Expresso invlida. Verifique a sintxe antes de continuar.\",\"expression_undelcared_variable\":\"Variveis no declaradas:\",\"expression_undeclared_function\":\"Funes no definidas:\",\"start\":\"inicio\",\"type_void\":\"vazio\",\"type_integer\":\"inteiro\",\"logic_operator_and\":\"E\",\"logic_operator_or\":\"OU\",\"logic_operator_not\":\"nao\",\"type_real\":\"real\",\"program\":\"programa\",\"type_text\":\"cadeia\",\"textvar_default_value\":\"texto\",\"type_boolean\":\"logico\",\"logic_value_true\":\"verdadeiro\",\"logic_value_false\":\"falso\",\"variable\":\"Varivel\",\"command\":\"Comando\",\"new_parameter\":\"parametro\",\"new_variable\":\"variavel\",\"new_global\":\"global\",\"new_function\":\"nova_funcao\",\"matrix\":\"matriz\",\"vector\":\"vetor\",\"text_lock_expression\":\"Bloquear expresso\",\"text_unlock_expression\":\"Desbloquear expresso\",\"text_edit_expression\":\"Editar expresso manualmente\",\"text_edit_expression_confirm\":\"Confirmar edio\",\"text_edit_expression_cancel\":\"Cancelar edio\",\"text_add_function\":\"Adicionar uma nova funo ao programa\",\"text_move_command\":\"Mover comando\",\"text_add_parameters\":\"Adicionar um novo parmetro\",\"text_comment_start\":\"Comentrio inicial da funo...\",\"text_comment_main\":\"Esta  a funo principal...\",\"text_read_var\":\"Entrada/Leitura de dados\",\"text_write_var\":\"Sada/Escrita de dados\",\"text_command_read\":\"leia\",\"text_command_write\":\"escreva\",\"text_return\":\"devolva\",\"text_btn_return\":\"Devolver\",\"text_comment\":\"Comentrio\",\"string_join_or\":\"ou\",\"matrix_info_string\":\"matriz de $0\",\"vector_info_string\":\"vetor de $0\",\"text_attribution\":\"Atribuio\",\"text_if\":\"se\",\"text_break\":\"pare\",\"text_else\":\"senao\",\"text_for\":\"repita_para\",\"text_code_while\":\"repita_enquanto\",\"text_code_do\":\"repita\",\"text_code_do_until\":\"ate_que\",\"text_command_do\":\"repita\",\"text_command_while\":\"repita enquanto\",\"text_command_do_until\":\"at que\",\"text_code_switch\":\"escolha\",\"text_code_case\":\"caso\",\"text_config_programming\":\"Programao\",\"text_config_programming_both\":\"Visual e textual\",\"text_config_programming_textual\":\"Textual\",\"text_config_programming_visual\":\"Visual\",\"text_logic_expression\":\"Lgicos\",\"text_arithmetic_expression\":\"Aritmticos\",\"text_iftrue\":\"Se verdadeiro ento\",\"text_message_error_activity_file\":\"Aconteceu um erro ao processar a atividade. <br> Recarregue a pgina para tentar novamente.\",\"text_message_error_activity_reload\":\"Recarregar\",\"text_repeatNtimes\":\"Repita N vezes\",\"text_receives\":\"recebe\",\"text_whiletrue\":\"Enquanto verdadeiro\",\"text_dowhiletrue\":\"Repita at que verdadeiro\",\"text_switch\":\"Escolha\",\"text_functioncall\":\"Chamada de funo\",\"text_value\":\"Valor\",\"text_operator\":\"Operador\",\"text_parentheses\":\"Parnteses\",\"text_change\":\"Alterar\",\"text_teacher_algorithm\":\"Algoritmo\",\"text_teacher_algorithm_include\":\"Incluir o algoritmo abaixo no exerccio\",\"text_teacher_test_case\":\"Casos de teste\",\"text_teacher_config\":\"Configuraes\",\"text_teacher_data_types\":\"Tipos de dados\",\"text_teacher_commands\":\"Comandos\",\"text_teacher_functions\":\"Funes\",\"text_teacher_create_functions\":\"Criar novas funes\",\"text_teacher_create_movement_functions\":\"Movimentar funes\",\"text_teacher_test_case_input\":\"Entrada\",\"text_teacher_test_case_output\":\"Sada\",\"text_teacher_test_case_actions\":\"Aes\",\"text_teacher_test_case_add\":\"Adicionar caso de teste\",\"text_header_ivprog_functions\":\"Funes do iVProg\",\"text_menu_functions_math\":\"Matemtica\",\"text_menu_functions_text\":\"Texto\",\"text_menu_functions_array\":\"Arranjo\",\"text_menu_functions_conversion\":\"Converso\",\"text_no_variable\":\"Nenhuma varivel declarada\",\"text_no_variable_instruction\":\"Antes de utilizar uma varivel,  necessrio cri-la\",\"text_ivprog_description\":\"Programao Visual interativa na Internet\",\"tooltip_visual\":\"Programao visual\",\"tooltip_textual\":\"Programao textual\",\"tooltip_upload\":\"Upload de cdigo fonte\",\"tooltip_download\":\"Download do cdigo fonte\",\"tooltip_undo\":\"Desfazer\",\"tooltip_redo\":\"Refazer\",\"tooltip_run\":\"Executar o programa\",\"tooltip_evaluate\":\"Avaliar o programa\",\"tooltip_help\":\"Ajuda\",\"tooltip_add_global\":\"Adicionar varivel global\",\"tooltip_hide_function\":\"Ocultar os elementos da funo\",\"var_menu_select_var\":\"Selecione uma varivel\",\"var_menu_select_all\":\"Selecione\",\"var_menu_select_function\":\"Selecione uma funo\",\"expression_menu_select\":\"Construir uma expresso lgica\",\"inform_valid_content\":\"Informe o contedo!\",\"inform_valid_expression\":\"Construa uma expresso lgica!\",\"tooltip_terminal_clear\":\"Limpa o terminal removendo todos os textos j escritos e os pendentes.\",\"tooltip_terminal_show\":\"Exibe o terminal caso esteja escondido\",\"tooltip_terminal_hide\":\"Esconde o terminal caso no esteja escondido\",\"text_ivprog_version\":\"Verso\",\"text_teacher_filter\":\"Filtro\",\"text_teacher_filter_active\":\"Ativado\",\"text_teacher_filter_help\":\"Ao ativar o filtro, as modificaes do iVProg estaro bloqueadas.\",\"text_join_assessment_outputs\":\" ; \",\"assessment-detail-time-label\":\"Durao\",\"assessment-detail-grade-label\":\"Nota\",\"assessment-detail-input-label\":\"Entradas\",\"assessment-detail-output-label\":\"Sadas\",\"assessment-detail-expected-label\":\"Esperava\",\"assessment-detail-generated-label\":\"Gerou\",\"assessment-detail-result-label\":\"Resultado\",\"assessment-detail-title\":\"Caso de Teste $0\",\"text_teacher_generate_outputs\":\"Gerar sadas\",\"text_teacher_generate_outputs_algorithm\":\"Antes de gerar as sadas, elabore um algoritmo!\",\"text_code_for_from\":\"de\",\"text_code_for_to\":\"ate\",\"text_code_for_pass\":\"passo\",\"text_for_from\":\"de\",\"text_for_to\":\"at\",\"text_for_pass\":\"passo\",\"text_relational_expression\":\"Relacionais\",\"write_command_newline_on\":\"Quebra de linha ativada\",\"write_command_newline_off\":\" Quebra de linha desativada\",\"write_seprator_menu_text\":\"Espao\",\"initial_program_code\":\"programa {\\\\n\\\\n\\\\t\\\\tfuncao vazio inicio () {\\\\n\\\\t\\\\t\\\\t// Inicie seu codigo aqui!\\\\n\\\\t\\\\t}\\\\n}\",\"type_char\":\"caractere\",\"charvar_default_value\":\"A\",\"write_seprator_menu_tooltip\":\"Separador para imprimir mais valores/variveis\"},\"en\":{\"function\":\"function\",\"btn_clear\":\"Clean\",\"btn_function\":\"Function\",\"btn_arithmetic_plus\":\"Addition\",\"btn_arithmetic_minus\":\"Subtraction\",\"btn_arithmetic_multiplication\":\"Multiplication\",\"btn_arithmetic_division\":\"Division\",\"btn_arithmetic_module\":\"Remainder\",\"btn_break\":\"break\",\"btn_case\":\"Case\",\"expression_invalid\":\"Invalid expression. Check the syntax before proceeding.\",\"expression_undelcared_variable\":\"Undeclared variables:\",\"expression_undeclared_function\":\"Undefined functions:\",\"start\":\"main\",\"type_void\":\"void\",\"type_integer\":\"int\",\"logic_operator_and\":\"AND\",\"logic_operator_or\":\"OR\",\"logic_operator_not\":\"not\",\"type_real\":\"real\",\"program\":\"program\",\"type_text\":\"string\",\"textvar_default_value\":\"text\",\"type_boolean\":\"bool\",\"logic_value_true\":\"true\",\"logic_value_false\":\"false\",\"variable\":\"Variable\",\"command\":\"Command\",\"new_parameter\":\"parameter\",\"new_variable\":\"variable\",\"new_global\":\"global\",\"new_function\":\"new_function\",\"matrix\":\"matrix\",\"vector\":\"vector\",\"text_lock_expression\":\"Block expression\",\"text_unlock_expression\":\"Unlock expression\",\"text_edit_expression\":\"Edit expression manually\",\"text_edit_expression_confirm\":\"Confirm edition\",\"text_edit_expression_cancel\":\"Cancel edition\",\"text_add_function\":\"Add a new function to the program\",\"text_move_command\":\"Move command\",\"text_add_parameters\":\"Add a new parameter\",\"text_comment_start\":\"Function initial comment\",\"text_comment_main\":\"This is the main funcion\",\"text_read_var\":\"Input/Read data\",\"text_write_var\":\"Output/Write data\",\"text_command_read\":\"read\",\"text_command_write\":\"write\",\"text_return\":\"return\",\"text_btn_return\":\"Return\",\"text_comment\":\"Comment\",\"string_join_or\":\"or\",\"matrix_info_string\":\"matrix of $0\",\"vector_info_string\":\"vector of $0\",\"text_attribution\":\"Assignment\",\"text_if\":\"if\",\"text_break\":\"break\",\"text_else\":\"else\",\"text_for\":\"repeat_for\",\"text_code_while\":\"repeat_while\",\"text_code_do\":\"repeat\",\"text_code_do_until\":\"until\",\"text_command_do\":\"repeat\",\"text_command_while\":\"repeat while\",\"text_command_do_until\":\"until\",\"text_code_switch\":\"switch\",\"text_code_case\":\"case\",\"text_config_programming\":\"Programming\",\"text_config_programming_both\":\"Visual & Textual\",\"text_config_programming_textual\":\"Textual\",\"text_config_programming_visual\":\"Visual\",\"text_logic_expression\":\"Logic\",\"text_arithmetic_expression\":\"Arithmetics\",\"text_iftrue\":\"If true then\",\"text_message_error_activity_file\":\"There was an error processing the activity.<br> Reload the page to try again.\",\"text_message_error_activity_reload\":\"Reload\",\"text_repeatNtimes\":\"Repeat N times\",\"text_receives\":\"receives\",\"text_whiletrue\":\"While true\",\"text_dowhiletrue\":\"Repeat until true\",\"text_switch\":\"Switch\",\"text_functioncall\":\"Function call\",\"text_value\":\"Value\",\"text_operator\":\"Operator\",\"text_parentheses\":\"Parentheses\",\"text_change\":\"Modify\",\"text_teacher_algorithm\":\"Algorithm\",\"text_teacher_algorithm_include\":\"Include the algorithm below in the activity\",\"text_teacher_test_case\":\"Test cases\",\"text_teacher_config\":\"Configurations\",\"text_teacher_data_types\":\"Data types\",\"text_teacher_commands\":\"Commands\",\"text_teacher_functions\":\"Functions\",\"text_teacher_create_functions\":\"Create new functions\",\"text_teacher_create_movement_functions\":\"Move functions\",\"text_teacher_test_case_input\":\"Input\",\"text_teacher_test_case_output\":\"Output\",\"text_teacher_test_case_actions\":\"Actions\",\"text_teacher_test_case_add\":\"Add test case\",\"text_header_ivprog_functions\":\"iVProg Functions\",\"text_menu_functions_math\":\"Math\",\"text_menu_functions_text\":\"Text\",\"text_menu_functions_array\":\"Array\",\"text_menu_functions_conversion\":\"Conversion\",\"text_no_variable\":\"No variable declared\",\"text_no_variable_instruction\":\"Before using a variable, you need to create it\",\"text_ivprog_description\":\"Interactive and Visual Programming on the Internet\",\"tooltip_visual\":\"Visual programming\",\"tooltip_textual\":\"Textual programming\",\"tooltip_upload\":\"Upload source code\",\"tooltip_download\":\"Download source code\",\"tooltip_undo\":\"Undo\",\"tooltip_redo\":\"Redo\",\"tooltip_run\":\"Run the program\",\"tooltip_evaluate\":\"Evaluate the program\",\"tooltip_help\":\"Help\",\"tooltip_add_global\":\"Add a global variable\",\"tooltip_hide_function\":\"Hide function elements\",\"var_menu_select_var\":\"Select a variable\",\"var_menu_select_all\":\"Select\",\"var_menu_select_function\":\"Select a function\",\"expression_menu_select\":\"Construct a logic expression\",\"inform_valid_content\":\"Provide some data\",\"inform_valid_expression\":\"Construct a logic expression\",\"tooltip_terminal_clear\":\"Clears the terminal by removing all wrriten and pending text.\",\"tooltip_terminal_show\":\"Shows the terminal if it is hidden\",\"tooltip_terminal_hide\":\"Hides the terminal if it is not on display\",\"text_ivprog_version\":\"Version\",\"text_teacher_filter\":\"Filter\",\"text_teacher_filter_active\":\"Activated\",\"text_teacher_filter_help\":\"By activating the filter modifications in iVProg will be blocked\",\"text_join_assessment_outputs\":\" ; \",\"assessment-detail-time-label\":\"Duration\",\"assessment-detail-grade-label\":\"Grade\",\"assessment-detail-input-label\":\"Inputs\",\"assessment-detail-output-label\":\"Outputs\",\"assessment-detail-expected-label\":\"Expected\",\"assessment-detail-generated-label\":\"Generated\",\"assessment-detail-result-label\":\"Result\",\"assessment-detail-title\":\"Test Case $0\",\"text_teacher_generate_outputs\":\"Generate outputs\",\"text_teacher_generate_outputs_algorithm\":\"Before generating the outputs you need to create an algorithm\",\"text_code_for_from\":\"from\",\"text_code_for_to\":\"to\",\"text_code_for_pass\":\"pass\",\"text_for_from\":\"from\",\"text_for_to\":\"to\",\"text_for_pass\":\"pass\",\"text_relational_expression\":\"Relational\",\"write_command_newline_on\":\" Line break is on\",\"write_command_newline_off\":\" Line break is off\",\"write_seprator_menu_text\":\"Spacer\",\"initial_program_code\":\"program {\\\\n\\\\n\\\\t\\\\tfunction void main () {\\\\n\\\\t\\\\t\\\\t// Start your code here!\\\\n\\\\t\\\\t}\\\\n}\",\"type_char\":\"char\",\"charvar_default_value\":\"A\",\"write_seprator_menu_tooltip\":\"Separator used to print more values/variables\"},\"es\":{\"function\":\"function\",\"btn_clear\":\"Limpiar\",\"btn_function\":\"Funcon\",\"btn_arithmetic_plus\":\"Adicin\",\"btn_arithmetic_minus\":\"Sustraccin\",\"btn_arithmetic_multiplication\":\"Multiplicacin\",\"btn_arithmetic_division\":\"Divisin\",\"btn_arithmetic_module\":\"Resto\",\"btn_break\":\"break\",\"btn_case\":\"Caso\",\"expression_invalid\":\"Expresin no vlida. Verifique la sintaxis antes de continuar.\",\"expression_undelcared_variable\":\"Variables no declaradas:\",\"expression_undeclared_function\":\"Funcon no declaradas:\",\"start\":\"main\",\"type_void\":\"void\",\"type_integer\":\"int\",\"logic_operator_and\":\"AND\",\"logic_operator_or\":\"OR\",\"logic_operator_not\":\"not\",\"type_real\":\"real\",\"program\":\"program\",\"type_text\":\"string\",\"textvar_default_value\":\"texto\",\"type_boolean\":\"bool\",\"logic_value_true\":\"true\",\"logic_value_false\":\"false\",\"variable\":\"Variable\",\"command\":\"Comando\",\"new_parameter\":\"parametro\",\"new_variable\":\"variable\",\"new_global\":\"global\",\"new_function\":\"nueva_funcin\",\"matrix\":\"matriz\",\"vector\":\"vector\",\"text_lock_expression\":\"Expresin de bloque \",\"text_unlock_expression\":\"Desbloquear expresin \",\"text_edit_expression\":\"Editar expresin manualmente \",\"text_edit_expression_confirm\":\"Confirmar edicin\",\"text_edit_expression_cancel\":\"Cancelar edicin\",\"text_add_function\":\"Agregar una nueva funcin al programa\",\"text_move_command\":\"Mover comando\",\"text_add_parameters\":\"Agregar un nuevo parmetro\",\"text_comment_start\":\"Comentario inicial de la funcin\",\"text_comment_main\":\"Esta es la funcin principal\",\"text_read_var\":\"Entrada/Lectura de dados\",\"text_write_var\":\"Salida/Escribir datos\",\"text_command_read\":\"read\",\"text_command_write\":\"write\",\"text_return\":\"return\",\"text_btn_return\":\"Devolucin\",\"text_comment\":\"Comentario\",\"string_join_or\":\"or\",\"matrix_info_string\":\"matriz de $0\",\"vector_info_string\":\"vector de $0\",\"text_attribution\":\"Asignacin\",\"text_if\":\"if\",\"text_break\":\"break\",\"text_else\":\"else\",\"text_for\":\"repeat_for\",\"text_code_while\":\"repeat_while\",\"text_code_do\":\"repeat\",\"text_code_do_until\":\"until\",\"text_command_do\":\"repeat\",\"text_command_while\":\"repeat while\",\"text_command_do_until\":\"until\",\"text_code_switch\":\"switch\",\"text_code_case\":\"case\",\"text_config_programming\":\"Programacin\",\"text_config_programming_both\":\"Visual & Textual\",\"text_config_programming_textual\":\"Textual\",\"text_config_programming_visual\":\"Visual\",\"text_logic_expression\":\"Lgicos\",\"text_arithmetic_expression\":\"Aritmtica\",\"text_iftrue\":\"Si verdad entonces\",\"text_message_error_activity_file\":\"Se produjo un error al procesar la actividad.<br> Recargar la pgina para volver a intentarlo.\",\"text_message_error_activity_reload\":\"Recargar\",\"text_repeatNtimes\":\"Repetir N veces\",\"text_receives\":\"receives\",\"text_whiletrue\":\"Mientras verdad\",\"text_dowhiletrue\":\"Repita hasta verdad\",\"text_switch\":\"Switch\",\"text_functioncall\":\"Llamada de funcin\",\"text_value\":\"Valor\",\"text_operator\":\"Operador\",\"text_parentheses\":\"Parntesis\",\"text_change\":\"Modify\",\"text_teacher_algorithm\":\"Algorithm\",\"text_teacher_algorithm_include\":\"Incluir el algoritmo en la actividad.\",\"text_teacher_test_case\":\"Test cases\",\"text_teacher_config\":\"Configuraciones\",\"text_teacher_data_types\":\"Data types\",\"text_teacher_commands\":\"Commands\",\"text_teacher_functions\":\"Funciones\",\"text_teacher_create_functions\":\"Create new functions\",\"text_teacher_create_movement_functions\":\"Move functions\",\"text_teacher_test_case_input\":\"Input\",\"text_teacher_test_case_output\":\"Output\",\"text_teacher_test_case_actions\":\"Actions\",\"text_teacher_test_case_add\":\"Add test case\",\"text_header_ivprog_functions\":\"iVProg Functions\",\"text_menu_functions_math\":\"Math\",\"text_menu_functions_text\":\"Text\",\"text_menu_functions_array\":\"Array\",\"text_menu_functions_conversion\":\"Conversion\",\"text_no_variable\":\"No variable declared\",\"text_no_variable_instruction\":\"Antes de usar una variable, debe crearla\",\"text_ivprog_description\":\"Interactive and Visual Programming on the Internet\",\"tooltip_visual\":\"Visual programming\",\"tooltip_textual\":\"Textual programming\",\"tooltip_upload\":\"Upload source code\",\"tooltip_download\":\"Download source code\",\"tooltip_undo\":\"Undo\",\"tooltip_redo\":\"Redo\",\"tooltip_run\":\"Run the program\",\"tooltip_evaluate\":\"Evaluate the program\",\"tooltip_help\":\"Help\",\"tooltip_add_global\":\"Add a global variable\",\"tooltip_hide_function\":\"Hide function elements\",\"var_menu_select_var\":\"Select a variable\",\"var_menu_select_all\":\"Select\",\"var_menu_select_function\":\"Select a function\",\"expression_menu_select\":\"Construct a logic expression\",\"inform_valid_content\":\"Proporcionar algunos datos\",\"inform_valid_expression\":\"Construct a logic expression\",\"tooltip_terminal_clear\":\"Borra el terminal eliminando todo el texto escrito y pendiente.\",\"tooltip_terminal_show\":\"Muestra el terminal si est oculto.\",\"tooltip_terminal_hide\":\"Oculta el terminal si no est en exhibicin\",\"text_ivprog_version\":\"Version\",\"text_teacher_filter\":\"Filter\",\"text_teacher_filter_active\":\"Activated\",\"text_teacher_filter_help\":\"Al activar el filtro, las modificaciones en iVProg sern bloqueadas\",\"text_join_assessment_outputs\":\" ;\",\"assessment-detail-time-label\":\"Duration\",\"assessment-detail-grade-label\":\"Grade\",\"assessment-detail-input-label\":\"Inputs\",\"assessment-detail-output-label\":\"Outputs\",\"assessment-detail-expected-label\":\"Expected\",\"assessment-detail-generated-label\":\"Generated\",\"assessment-detail-result-label\":\"Result\",\"assessment-detail-title\":\"Test Case $0\",\"text_teacher_generate_outputs\":\"Generate outputs\",\"text_teacher_generate_outputs_algorithm\":\"Antes de generar las salidas necesita crear un algoritmo\",\"text_code_for_from\":\"from\",\"text_code_for_to\":\"to\",\"text_code_for_pass\":\"pass\",\"text_for_from\":\"from\",\"text_for_to\":\"to\",\"text_for_pass\":\"pass\",\"text_relational_expression\":\"Relational\",\"write_command_newline_on\":\"El salto de lnea est activado\",\"write_command_newline_off\":\"El salto de lnea est desactivado\",\"write_seprator_menu_text\":\"Spacer\",\"initial_program_code\":\"program {\\\\n\\\\n\\\\t\\\\tfunction void main () {\\\\n\\\\t\\\\t\\\\t// Start your code here!\\\\n\\\\t\\\\t}\\\\n}\",\"type_char\":\"char\",\"charvar_default_value\":\"A\",\"write_seprator_menu_tooltip\":\"Separator used to print more values/variables\"}}","// Imports\r\nimport {terminal} from \"./main\";\r\nimport {variables} from \"./modules/variables/variables\";\r\nimport {operations} from \"./modules/operations/operations\";\r\nimport * as TextEditor from \"../visualUI/text_editor\";\r\nimport * as CodeManagement from \"../visualUI/code_generator\";\r\nimport {SemanticAnalyser} from \"../processor/semantic/semanticAnalyser\";\r\nimport {IVProgProcessor} from \"../processor/ivprogProcessor\";\r\nimport {Modes} from \"../processor/modes\";\r\nimport {LocalizedStrings} from \"../services/localizedStringsService\";\r\nimport {DOMConsole} from \"../io/domConsole\";\r\n// Imports\r\n\r\n// iVProg variables\r\nlet proc = null;\r\nlet isRunning = false;\r\nlet domConsole = new DOMConsole(\"terminal\");\r\n\r\n//\r\nconst ivprogConsoleTitleSpan = document.getElementById('ivprog-console-title-span');\r\nconst runCodePlayIcon = document.getElementById('runCodePlayIcon');\r\nconst runCodeStopIcon = document.getElementById('runCodeStopIcon');\r\n\r\n//Debug\r\nconst generatedCode = document.getElementById('generatedCode');\r\n\r\nfunction generateCode () {\r\n\r\n    console.log(variables);\r\n    console.log(operations);\r\n\r\n    let code = `programa {\\n`;\r\n\r\n    for (let i = 0; i < variables.length; i++) {\r\n        code += `    ${variables[i].type.name} ${variables[i].name} <- ${variables[i].type.barrier}${variables[i].value}${variables[i].type.barrier}\\n`;\r\n    }\r\n\r\n    code += `    funcao vazio inicio () {\\n`;\r\n\r\n    for (let i = 0; i < operations.length; i++) {\r\n        switch (operations[i].type) {\r\n            case 'ASSIGN':\r\n                code += `        ${operations[i].assignedVariable.name} <- `;\r\n\r\n                for (let j = 0; j < operations[i].operators.length; j++) {\r\n                    switch (operations[i].operators[j].type.value) {\r\n                        case 'VARIABLE':\r\n                            code += operations[i].operators[j].variable.name;\r\n                            break;\r\n                        case 'VALUE':\r\n                            code += operations[i].operators[j].value;\r\n                            break;\r\n                        case 'OPERATOR':\r\n                            code += operations[i].operators[j].operator.name;\r\n                            break;\r\n                    }\r\n                }\r\n                break;\r\n            case 'PRINT':\r\n                code += `        escreva (\"${operations[i].assignedVariable.name}: \" + ${operations[i].assignedVariable.name} + \"\\\\n\")`;\r\n                break;\r\n        }\r\n\r\n        code += `\\n`;\r\n    }\r\n\r\n    code += `    }\\n`;\r\n\r\n    code += `}`;\r\n\r\n    generatedCode.innerText = code;\r\n\r\n    return code;\r\n}\r\n\r\nexport function runCode () {\r\n    if (isRunning) {\r\n        return;\r\n    }\r\n    let strCode = generateCode();\r\n\r\n    if (strCode == null) {\r\n        return;\r\n    }\r\n\r\n    // toggleConsole(true);\r\n\r\n    // if(domConsole == null)\r\n    //   domConsole = new DOMConsole(\"#ivprog-term\");\r\n    //$(\"#ivprog-term\").slideDown(500);\r\n    try {\r\n        const data = SemanticAnalyser.analyseFromSource(strCode);\r\n        proc = new IVProgProcessor(data);\r\n        proc.registerInput(domConsole);\r\n        proc.registerOutput(domConsole);\r\n        $(\"#ivprog-term\").addClass('ivprog-term-active');\r\n        isRunning = true;\r\n        proc.interpretAST().then(_ => {\r\n            scheduleCall(() => {\r\n                if (domConsole.pending_writes.length == 0) {\r\n                    if (proc.mode === Modes.ABORT) {\r\n                        domConsole.info(LocalizedStrings.getMessage(\"aborted_execution\"));\r\n                    } else {\r\n                        domConsole.info(LocalizedStrings.getMessage(\"success_execution\"));\r\n                    }\r\n                    $(\"#ivprog-term\").removeClass('ivprog-term-active');\r\n                    isRunning = false;\r\n                    proc = null;\r\n                    showRunButton();\r\n                    ivprogConsoleTitleSpan.focus();\r\n                    return true;\r\n                }\r\n\r\n                return false;\r\n            }, 100);\r\n        }).catch(err => {\r\n            scheduleCall(() => {\r\n                if (domConsole.pending_writes.length == 0) {\r\n                    if (err instanceof Error) {\r\n                        domConsole.err(err.message);\r\n                    } else {\r\n                        domConsole.err(err);\r\n                    }\r\n                    // $(\"#ivprog-term\").removeClass('ivprog-term-active');\r\n                    isRunning = false;\r\n                    proc = null;\r\n                    showRunButton();\r\n                    return true;\r\n                }\r\n                return false;\r\n            }, 100);\r\n        })\r\n    } catch (error) {\r\n        scheduleCall(() => {\r\n            if (domConsole.pending_writes.length == 0) {\r\n                isRunning = false;\r\n                proc = null;\r\n                showRunButton();\r\n                domConsole.err(error.message);\r\n                console.log(error);\r\n                return true;\r\n            }\r\n            return false;\r\n        }, 100);\r\n    }\r\n}\r\n\r\n// ***********************************************************************\r\n\r\nfunction scheduleCall (callback, time) {\r\n    const scheduled_call = () => {\r\n        const id = setInterval(() => {\r\n            if (callback()) {\r\n                clearInterval(id);\r\n            }\r\n        }, time)\r\n    }\r\n    scheduled_call();\r\n}\r\n\r\n// ***********************************************************************\r\n\r\nfunction showRunButton () {\r\n    runCodePlayIcon.style.display = 'inline';\r\n    runCodeStopIcon.style.display = 'none';\r\n}\r\n\r\nfunction showStopButton () {\r\n    runCodePlayIcon.style.display = 'none';\r\n    runCodeStopIcon.style.display = 'inline';\r\n}\r\n\r\n// ***********************************************************************","// Imports\r\nimport {createVariable, deleteAllVariable} from './modules/variables/variables';\r\nimport {createOperation, createPrintOperation, deleteAllOperation} from './modules/operations/operations';\r\nimport {runCode} from \"./compiler\";\r\n// Imports\r\n\r\n// Html references\r\nexport const htmlOlCommandsVariables = document.getElementById('htmlOlCommandsVariablesVariables');\r\nexport const htmlOlCommandsOperations = document.getElementById('htmlOlCommandsVariablesOperations');\r\nexport const terminal = document.getElementById('terminal');\r\n\r\n// ***********************************************************************\r\n// Init Accessible UI\r\n// ***********************************************************************\r\n\r\n// Accessible UI buttons references\r\nconst createVariableButton = document.getElementById('createVariableButton');\r\nconst assignVariableButton = document.getElementById('assignVariableButton');\r\nconst printButton = document.getElementById('printButton');\r\nconst runCodeButton = document.getElementById('runCodeButton');\r\nconst cleanCommands = document.getElementById('cleanCommands');\r\nconst ivprogConsoleClearbtn = document.getElementById('ivprog-console-clearbtn');\r\nconst ivprogConsoleShowbtn = document.getElementById('ivprog-console-showbtn');\r\nconst ivprogConsoleHidebtn = document.getElementById('ivprog-console-hidebtn');\r\n\r\nexport function initAccessibleUI () {\r\n\r\n    // Hidding terminal visual UI minimize and close buttons\r\n    ivprogConsoleShowbtn.style.display = 'none';\r\n    ivprogConsoleHidebtn.style.display = 'none';\r\n\r\n    // Initializing dropdown menus\r\n    $(\".dropdown-submenu a.test\").on(\"click\", function (e) {\r\n        $(this).next(\"ul\").toggle();\r\n        e.stopPropagation();\r\n        e.preventDefault();\r\n    });\r\n\r\n    $('#goToCommands').click(ev => {\r\n        $('#commands').click();\r\n    });\r\n\r\n    // Adding listeners\r\n    createVariableButton.addEventListener('click', ev => {\r\n        createVariable();\r\n    });\r\n\r\n    assignVariableButton.addEventListener('click', ev => {\r\n        createOperation();\r\n    });\r\n\r\n    printButton.addEventListener('click', ev => {\r\n        createPrintOperation();\r\n    });\r\n\r\n    runCodeButton.addEventListener('click', ev => {\r\n        ivprogConsoleClearbtn.click();\r\n        runCode();\r\n    });\r\n\r\n    cleanCommands.addEventListener('click', ev => {\r\n        deleteAllVariable();\r\n        deleteAllOperation();\r\n    });\r\n}\r\n\r\n// ***********************************************************************\r\n\r\n// Reference: https://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid\r\nexport function generateUUID () {\r\n    return ([1e7] + -1e3 + -4e3 + -8e3 + -1e11).replace(/[018]/g, c =>\r\n        (c ^ crypto.getRandomValues(new Uint8Array(1))[0] & 15 >> c / 4).toString(16)\r\n    );\r\n}\r\n\r\n// ***********************************************************************","// Imports\r\nimport {variables} from \"../variables/variables\";\r\nimport {eltP} from \"codemirror/src/util/dom\";\r\nimport {operations} from \"./operations\";\r\n// Imports\r\n\r\n// *********************************************************************************\r\n// Scheme for the operations list\r\n// *********************************************************************************\r\n\r\nexport const operationScheme = {\r\n    hash: 'UUID for the operation',\r\n    assignedVariable: 'Reference to the assigned variable',\r\n    type: 'ASSIGN',\r\n    operators: []\r\n}\r\n\r\n// *********************************************************************************\r\n// Scheme for the operators\r\n// *********************************************************************************\r\n\r\nexport const operatorScheme = {\r\n    hash: 'UUID for the operator',\r\n    type: 'Operator type',\r\n    value: 'Operator value',\r\n    variable: 'Reference to the variable',\r\n    operator: 'Reference to operator'\r\n}\r\n\r\n// *********************************************************************************\r\n// Operator types\r\n// *********************************************************************************\r\n\r\nexport const Operators = {\r\n    VARIABLE: 'VARIABLE',\r\n    VALUE: 'VALUE',\r\n    OPERATOR: 'OPERATOR'\r\n}\r\n\r\nexport const OperatorType = [\r\n    {\r\n        name: 'Varivel',\r\n        value: Operators.VARIABLE\r\n    },\r\n    {\r\n        name: 'Valor',\r\n        value: Operators.VALUE\r\n    },\r\n    {\r\n        name: 'Operator',\r\n        value: Operators.OPERATOR\r\n    }\r\n]\r\n\r\n// *********************************************************************************\r\n// Operation types\r\n// *********************************************************************************\r\n\r\nexport const OperationType = [\r\n    {\r\n        name: ';',\r\n        friendlyName: 'Fim',\r\n        value: 'SEMICOLON'\r\n    },\r\n    {\r\n        name: '+',\r\n        friendlyName: 'Soma',\r\n        value: 'PLUS'\r\n    },\r\n    {\r\n        name: '-',\r\n        friendlyName: 'Subtrao',\r\n        value: 'MINUS'\r\n    },\r\n    {\r\n        name: '*',\r\n        friendlyName: 'Multiplicao',\r\n        value: 'MULTIPLICATION'\r\n    },\r\n    {\r\n        name: '/',\r\n        friendlyName: 'Diviso',\r\n        value: 'DIVISION'\r\n    },\r\n    {\r\n        name: '(',\r\n        friendlyName: 'Abre parenteses',\r\n        value: 'OPEN_PARENTHESES'\r\n    },\r\n    {\r\n        name: ')',\r\n        friendlyName: 'Fecha parenteses',\r\n        value: 'CLOSE_PARENTHESES'\r\n    },\r\n]\r\n\r\n// *********************************************************************************\r\n// Operator kinds\r\n// *********************************************************************************\r\n\r\nexport const OperatorKind = [\r\n    {\r\n        name: 'Varivel',\r\n        value: 'VARIABLE'\r\n    },\r\n    {\r\n        name: 'Valor',\r\n        value: 'VALUE'\r\n    }\r\n]\r\n\r\n// *********************************************************************************\r\n// Operation type html schemes\r\n// *********************************************************************************\r\n\r\nexport function htmlOperationTypeScheme () {\r\n    let operationTypesSelect = ``;\r\n\r\n    for (let i = 0; i < OperationType.length; i++) {\r\n        operationTypesSelect += `<option value=\"${OperationType[i].value}\">${OperationType[i].name}</option>`;\r\n    }\r\n\r\n    return `<div class=\"col-2\">\r\n                <select id=\"operation<operationKindId>Select\" class=\"form-control\" title=\"selecione o tipo da operao\" >\r\n                    <option > selecione</option>\r\n                    ${operationTypesSelect}\r\n                </select>\r\n            </div>`;\r\n}\r\n\r\n// *********************************************************************************\r\n// Assign variable operation kind html schemes\r\n// *********************************************************************************\r\n\r\nexport function htmlOperationKindScheme (operation) {\r\n    let operatorKindsSelect = ``;\r\n\r\n    for (let i = 0; i < OperatorKind.length; i++) {\r\n        operatorKindsSelect += `<option value=\"${OperatorKind[i].value}\">${OperatorKind[i].name}</option>`;\r\n    }\r\n\r\n    return `<div class=\"col-3\">\r\n                <select id=\"operation${operation.hash}KindSelect\" class=\"form-control\" title=\"Selecione o tipo de atribuio\" operation-id=\"${operation.hash}\">\r\n                    <option >Selecione</option>\r\n                    ${operatorKindsSelect}\r\n                </select>\r\n            </div>`;\r\n}\r\n\r\n// *********************************************************************************\r\n// Assign variable html schemes\r\n// *********************************************************************************\r\n\r\nexport function htmlAssignVariableScheme () {\r\n\r\n    const variablesSelect = htmlVariablesSelectScheme();\r\n\r\n    return `<li id=\"operation<operationId>Li\">\r\n                <form id=\"operation<operationId>Form\">\r\n                    <div class=\"row p-2 w-100 variable-item\" style=\"background-color: aliceblue;\">\r\n                        <div class=\"col-2 my-auto\">\r\n                            <select title=\"Selecione a varivel\" id=\"operation<operationId>AssignVariableSelect\" class=\"form-control\" name=\"variableSelect\" operation-id=\"<operationId>\"> \r\n                                ${variablesSelect}\r\n                            </select>\r\n                        </div> \r\n                        <div class=\"col-1 my-auto\">\r\n                            <label for=\"operation<operationId>AssignVariableSelect\" style=\"margin-bottom: 0px !important\" tabindex=\"0\" title=\"Recebe\">recebe</label>\r\n                        </div>\r\n                        <div class=\"col\">\r\n                            <div class=\"row\" id=\"operation<operationId>OperatorsDiv\"></div>\r\n                        </div>\r\n                        <div class=\"col-1 my-auto\" style=\"text-align: end;\">\r\n                            <div class=\"row justify-content-end\">\r\n                                <div class=\"col-1\" style=\"margin-right: 4px;\">\r\n                                    <a id=\"operation<operationId>Resume\" href=\"javascript:void(0)\" class=\"text-info\" operation-id=\"<operationId>\">\r\n                                        <i class=\"fas fa-eye\"></i>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"col-1\">\r\n                                    <a id=\"operation<operationId>Delete\" href=\"javascript:void(0)\" class=\"text-danger\" operation-id=\"<operationId>\" title=\"Excluir\">X</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>     \r\n                    </div>\r\n                </form>\r\n            </li>`;\r\n}\r\n\r\n// *********************************************************************************\r\n// Variable select html schemes\r\n// *********************************************************************************\r\n\r\nexport function htmlVariablesSelectScheme () {\r\n    let variablesSelect = variables.length === 0 ? `<option>N/A</option>` : ``;\r\n\r\n    for (let i = 0; i < variables.length; i++) {\r\n        variablesSelect += `<option value=\"${variables[i].hash}\">${variables[i].name}</option>`\r\n    }\r\n\r\n    return variablesSelect;\r\n}\r\n\r\n// *********************************************************************************\r\n\r\n// *********************************************************************************\r\n// Operator variable select\r\n// *********************************************************************************\r\n\r\nexport function htmlOperatorVariablesSelectScheme (operation, operator) {\r\n    let variablesSelect = variables.length === 0 ? `<option>N/A</option>` : ``;\r\n\r\n    for (let i = 0; i < variables.length; i++) {\r\n        variablesSelect += `<option value=\"${variables[i].hash}\">${variables[i].name}</option>`\r\n    }\r\n\r\n    return `<div class=\"col-2\">\r\n                <select id=\"operation${operation.hash}Operator${operator.hash}VariableSelect\" class=\"form-control\" name=\"variableSelect\" title=\"Selecione a varivel\" operation-id=\"${operation.hash}\" operator-id=\"${operator.hash}\">\r\n                    ${variablesSelect}\r\n                </select>\r\n            </div>`;\r\n}\r\n\r\n// *********************************************************************************\r\n// Operator value input\r\n// *********************************************************************************\r\n\r\nexport function htmlOperatorValueInputScheme (operation, operator) {\r\n    return `<div class=\"col-2\">\r\n                <input type=\"number\" id=\"operation${operation.hash}Operator${operator.hash}ValueInput\" class=\"form-control\" name=\"\" title=\"Insira um valor\" operation-id=\"${operation.hash}\" operator-id=\"${operator.hash}\">\r\n            </div>`;\r\n}\r\n\r\n// *********************************************************************************\r\n// Operation type select\r\n// *********************************************************************************\r\n\r\nexport function htmlOperationTypeSelect (operation, operator) {\r\n    let operationTypesSelect = ``;\r\n\r\n    for (let i = 0; i < OperationType.length; i++) {\r\n        operationTypesSelect += `<option value=\"${OperationType[i].value}\" title=\"${OperationType[i].friendlyName}\">${OperationType[i].name}</option>`;\r\n    }\r\n\r\n    return `<div class=\"col-2\">\r\n                <select id=\"operation${operation.hash}Operator${operator.hash}OperationTypeSelect\" class=\"form-control\" title=\"selecione o tipo da operao\" operation-id=\"${operation.hash}\" operator-id=\"${operator.hash}\">\r\n                    ${operationTypesSelect}\r\n                </select>\r\n            </div>`;\r\n}\r\n\r\n// *********************************************************************************\r\n// Print operation\r\n// *********************************************************************************\r\n\r\nexport function printOperationScheme (operation) {\r\n    let variablesSelect = variables.length === 0 ? `<option>N/A</option>` : ``;\r\n\r\n    for (let i = 0; i < variables.length; i++) {\r\n        variablesSelect += `<option value=\"${variables[i].hash}\">${variables[i].name}</option>`\r\n    }\r\n\r\n    return `<li id=\"operation${operation.hash}Li\">\r\n                <form id=\"operation${operation.hash}Form\">\r\n                    <div class=\"row p-2 w-100 variable-item\" style=\"background-color: aliceblue;\">\r\n                        <div class=\"col-1 my-auto\">\r\n                            <label id=\"operation${operation.hash}VariableSelectLabel\" for=\"operation${operation.hash}VariableSelect\" style=\"margin-bottom: 0px !important\" tabindex=\"0\" title=\"Escreva\">Escreva</label>\r\n                        </div>\r\n                        <div class=\"col-10\">\r\n                            <select id=\"operation${operation.hash}VariableSelect\" class=\"form-control\" name=\"variableSelect\" title=\"Selecione a varivel\" operation-id=\"${operation.hash}\">\r\n                                ${variablesSelect}\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-1 my-auto\" style=\"text-align: end;\">\r\n                            <div class=\"row justify-content-end\">\r\n                                <div class=\"col-1\" style=\"margin-right: 4px;\">\r\n                                    <a id=\"operation${operation.hash}Resume\" href=\"javascript:void(0)\" class=\"text-info\" operation-id=\"${operation.hash}\">\r\n                                        <i class=\"fas fa-eye\"></i>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"col-1\">\r\n                                    <a id=\"operation${operation.hash}Delete\" href=\"javascript:void(0)\" class=\"text-danger\" operation-id=\"${operation.hash}\" title=\"Excluir\">X</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n            </li>`;\r\n}\r\n\r\n// *********************************************************************************\r\n// Util\r\n// *********************************************************************************\r\n\r\nexport function getOperatorTypeByValue (value) {\r\n    for (let i = 0; i < OperatorType.length; i++) {\r\n        if (OperatorType[i].value === value)\r\n            return OperatorType[i];\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// *********************************************************************************\r\n\r\nexport function getOperationTypeByValue (value) {\r\n    for (let i = 0; i < OperationType.length; i++) {\r\n        if (OperationType[i].value === value)\r\n            return OperationType[i];\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// *********************************************************************************\r\n\r\nexport function getOperatorByHash (operation, operatorHash) {\r\n    for (let i = 0; i < operation.operators.length; i++) {\r\n        if (operation.operators[i].hash === operatorHash)\r\n            return operation.operators[i];\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// *********************************************************************************","// Imports\r\nimport {generateUUID, htmlOlCommandsOperations} from './../../main';\r\nimport {\r\n    getOperationTypeByValue, getOperatorByHash,\r\n    getOperatorTypeByValue,\r\n    htmlAssignVariableScheme,\r\n    htmlOperationKindScheme, htmlOperationTypeSelect, htmlOperatorValueInputScheme,\r\n    htmlOperatorVariablesSelectScheme,\r\n    operationScheme, Operators, operatorScheme, printOperationScheme\r\n} from \"./operations-schemes\";\r\nimport {getVariableByHash, variables} from \"../variables/variables\";\r\n// Imports\r\n\r\nexport const operations = [];\r\n\r\n// Creating operation\r\nexport function createOperation () {\r\n    let operation = Object.assign({}, operationScheme);\r\n\r\n    operation.hash = generateUUID().replaceAll('-', '');\r\n    // TODO: Fix\r\n    operation.assignedVariable = variables[0];\r\n    operation.operators = [];\r\n\r\n    operations.push(operation);\r\n\r\n    let htmlOperation = htmlAssignVariableScheme();\r\n\r\n    htmlOperation = htmlOperation.replaceAll('<operationId>', operation.hash);\r\n\r\n    htmlOlCommandsOperations.insertAdjacentHTML('beforeend', htmlOperation);\r\n\r\n    document.getElementById(`operation${operation.hash}AssignVariableSelect`).addEventListener('change', ev => {\r\n        updateOperationAssignValue(ev.target.getAttribute('operation-id'), ev.target.value);\r\n    });\r\n\r\n    document.getElementById(`operation${operation.hash}Delete`).addEventListener('click', ev => {\r\n        deleteOperation(ev.target.getAttribute('operation-id'));\r\n    });\r\n\r\n    addOperatorKind(operation.hash);\r\n    updateResume(operation.hash);\r\n\r\n    // Changing focus to the variable type after creation for screen readers\r\n    document.getElementById(`operation${operation.hash}AssignVariableSelect`).focus();\r\n}\r\n\r\n// Add operator kind to the operation\r\nexport function addOperatorKind (hash) {\r\n    let operation = getOperationByHash(hash);\r\n\r\n    console.log(operation);\r\n\r\n    let htmlOperationKind = htmlOperationKindScheme(operation);\r\n\r\n    document.getElementById(`operation${operation.hash}OperatorsDiv`).insertAdjacentHTML('beforeend', htmlOperationKind);\r\n\r\n    document.getElementById(`operation${operation.hash}KindSelect`).addEventListener('change', ev => {\r\n        selectedOperationKind(ev.target.getAttribute('operation-id'));\r\n    });\r\n}\r\n\r\n// Function to be trigger when the operator kind is selected\r\nexport function selectedOperationKind (operationHash) {\r\n    let operation = getOperationByHash(operationHash);\r\n\r\n    console.log(operation);\r\n\r\n    let kindSelect = document.getElementById(`operation${operation.hash}KindSelect`);\r\n\r\n    // TODO: think into an way to make this dynamic\r\n    if (kindSelect.value === 'VARIABLE') {\r\n        insertVariableAfterOperationKind(kindSelect, operation);\r\n    } else if (kindSelect.value === 'VALUE') {\r\n        insertValueAfterOperationKind(kindSelect, operation);\r\n    }\r\n}\r\n\r\n// Insert variable after operator kind select\r\nexport function insertVariableAfterOperationKind (kindSelect, operation) {\r\n    let operator = Object.assign({}, operatorScheme);\r\n\r\n    operator.hash = generateUUID().replaceAll('-', '');\r\n    // TODO: Fix ?\r\n    operator.variable = variables[0];\r\n    operator.type = getOperatorTypeByValue('VARIABLE');\r\n\r\n    let operatorVariableSelect = htmlOperatorVariablesSelectScheme(operation, operator);\r\n\r\n    operation.operators.push(operator);\r\n\r\n    kindSelect.parentElement.parentElement.insertAdjacentHTML('beforeend', operatorVariableSelect);\r\n    kindSelect.parentElement.remove();\r\n\r\n    insertOperationTypeAtEndOfOperation(operation, operator);\r\n\r\n    document.getElementById(`operation${operation.hash}Operator${operator.hash}VariableSelect`).addEventListener('change', ev => {\r\n        updateOperationOperator(ev.target.getAttribute('operation-id'), ev.target.getAttribute('operator-id'), ev.target.value)\r\n    });\r\n\r\n    updateResume(operation.hash);\r\n\r\n    // Changing focus to the variable select after select for screen readers\r\n    document.getElementById(`operation${operation.hash}Operator${operator.hash}VariableSelect`).focus();\r\n}\r\n\r\n// Insert value after operator kind select\r\nexport function insertValueAfterOperationKind (kindSelect, operation) {\r\n    let operator = Object.assign({}, operatorScheme);\r\n\r\n    operator.hash = generateUUID().replaceAll('-', '');\r\n    operator.type = getOperatorTypeByValue('VALUE');\r\n\r\n    let operatorValueInput = htmlOperatorValueInputScheme(operation, operator);\r\n\r\n    operation.operators.push(operator);\r\n\r\n    kindSelect.parentElement.parentElement.insertAdjacentHTML('beforeend', operatorValueInput);\r\n    kindSelect.parentElement.remove();\r\n\r\n    insertOperationTypeAtEndOfOperation(operation, operator);\r\n\r\n    document.getElementById(`operation${operation.hash}Operator${operator.hash}ValueInput`).addEventListener('change', ev => {\r\n        updateOperationOperator(ev.target.getAttribute('operation-id'), ev.target.getAttribute('operator-id'), ev.target.value)\r\n    });\r\n\r\n    updateResume(operation.hash);\r\n\r\n    // Changing focus to the input value after select for screen readers\r\n    document.getElementById(`operation${operation.hash}Operator${operator.hash}ValueInput`).focus();\r\n}\r\n\r\n// Add final operation type end of the operation\r\nexport function insertOperationTypeAtEndOfOperation (operation, afterOperator) {\r\n    let operator = Object.assign({}, operatorScheme);\r\n\r\n    operator.hash = generateUUID().replaceAll('-', '');\r\n    operator.type = getOperatorTypeByValue('OPERATOR');\r\n    operator.operator = getOperationTypeByValue('SEMICOLON');\r\n\r\n    let operationTypeInput = htmlOperationTypeSelect(operation, operator);\r\n\r\n    operationTypeInput.replaceAll('<operatorId>', operator.hash);\r\n    operation.operators.push(operator);\r\n\r\n    if (afterOperator.type.value === 'VARIABLE') {\r\n        document.querySelector(`select[operator-id='${afterOperator.hash}']`).parentElement.insertAdjacentHTML('afterend', operationTypeInput);\r\n    } else if (afterOperator.type.value === 'VALUE') {\r\n        document.querySelector(`input[operator-id='${afterOperator.hash}']`).parentElement.insertAdjacentHTML('afterend', operationTypeInput);\r\n    }\r\n\r\n    document.getElementById(`operation${operation.hash}Operator${operator.hash}OperationTypeSelect`).addEventListener('change', ev => {\r\n        updateOperationOperator(ev.target.getAttribute('operation-id'), ev.target.getAttribute('operator-id'), ev.target.value)\r\n    });\r\n}\r\n\r\n// ***********************************************************************\r\n// Listeners\r\n// ***********************************************************************\r\n\r\nexport function updateOperationAssignValue (operationHash, newVariable) {\r\n    let operation = getOperationByHash(operationHash);\r\n    let variable = getVariableByHash(newVariable);\r\n\r\n    operation.assignedVariable = variable;\r\n\r\n    updateResume(operation.hash);\r\n}\r\n\r\nexport function updateOperationOperator (operationHash, operatorHash, newValue) {\r\n    let operation = getOperationByHash(operationHash);\r\n    let operator = getOperatorByHash(operation, operatorHash);\r\n\r\n    switch (operator.type.value) {\r\n        case 'VARIABLE':\r\n            let variable = getVariableByHash(newValue);\r\n            operator.variable = variable;\r\n            break;\r\n        case 'VALUE':\r\n            operator.value = newValue;\r\n            break;\r\n        case 'OPERATOR':\r\n            operator.operator = getOperationTypeByValue(newValue);\r\n            const operationTypeSelect = document.getElementById(`operation${operation.hash}Operator${operator.hash}OperationTypeSelect`);\r\n\r\n            // If the operator isn't a semicolumn, it is the last item on the operator list and teh next elemtn is equal to null, \r\n            // we need to add a new operator select\r\n            if (operator.operator.name !== ';' \r\n                && (operation.operators.indexOf(operator) === (operation.operators.length - 1))\r\n                && operationTypeSelect.parentElement.nextElementSibling == null)\r\n                addOperatorKind(operation.hash);\r\n            else if (operator.operator.name === ';' \r\n                && (operation.operators.indexOf(operator) === (operation.operators.length - 1))\r\n                && operationTypeSelect.parentElement.nextElementSibling != null)\r\n                operationTypeSelect.parentElement.nextElementSibling.remove();\r\n            else if (operator.operator.name === ';' \r\n                && (operation.operators.indexOf(operator) !== (operation.operators.length - 1))\r\n                && operationTypeSelect.parentElement.nextElementSibling != null) {\r\n                    let indexOfOperator = operation.operators.indexOf(operator) + 1;\r\n                    operation.operators.splice(indexOfOperator);\r\n\r\n                    let elementSibling = operationTypeSelect.parentElement.nextElementSibling;\r\n                    let nextElementSibling = operationTypeSelect.parentElement.nextElementSibling;\r\n                    while(nextElementSibling != null) {\r\n                        nextElementSibling = elementSibling.nextElementSibling;\r\n                        elementSibling.remove();\r\n                        elementSibling = nextElementSibling;\r\n                    }\r\n                }\r\n            break;\r\n    }\r\n\r\n    updateResume(operation.hash);\r\n}\r\n\r\n// Here we remove all operation that include the variable received as parameter\r\nexport function deleteOperationByVariable (variable) {\r\n    const operationsToRemove = [];\r\n\r\n    for (const i in operations) {\r\n\r\n        console.log(operations[i]);\r\n\r\n        if (operations[i].assignedVariable.hash === variable.hash) {\r\n            document.getElementById(`operation${operations[i].hash}Li`).remove();\r\n            operationsToRemove.push(operations[i]);\r\n            continue;\r\n        }\r\n\r\n        for (const j in operations[i].operators) {\r\n            console.log(j);\r\n            console.log(operations[i].operators[j]);\r\n            if (operations[i].operators[j].type.value === Operators.VARIABLE) {\r\n                if (operations[i].operators[j].variable.hash === variable.hash) {\r\n                    document.getElementById(`operation${operations[i].hash}Li`).remove();\r\n                    operationsToRemove.push(operations[i]);\r\n                    // if (operation.operators.length > 2) {\r\n                    //\r\n                    // } else {\r\n                    //\r\n                    // }\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    for (const i in operationsToRemove) {\r\n        operations.splice(operations.indexOf(operationsToRemove[i]), 1);\r\n    }\r\n}\r\n\r\n// Here we remove all operation that include the variable received as parameter\r\nexport function deleteOperation (hash) {\r\n    const operation = getOperationByHash(hash);\r\n\r\n    document.getElementById(`operation${hash}Li`).remove();\r\n\r\n    operations.splice(operations.indexOf(operation), 1);\r\n}\r\n\r\n// Here we remove all operation\r\nexport function deleteAllOperation () {\r\n    for (let i = 0; i < operations.length; i++) {\r\n        document.getElementById(`operation${operations[i].hash}Li`).remove();\r\n    }\r\n\r\n    operations.length = 0;\r\n}\r\n\r\n// ***********************************************************************\r\n// Updating variable resume\r\n// ***********************************************************************\r\n\r\nfunction updateResume (hash) {\r\n    document.getElementById(`operation${hash}Resume`).setAttribute('title', generateResume(hash));\r\n}\r\n\r\nfunction generateResume (hash) {\r\n    const operation = getOperationByHash(hash);\r\n\r\n    let resume;\r\n    switch (operation.type) {\r\n        case 'ASSIGN':\r\n            resume = `${operation.assignedVariable.name}, recebe: `;\r\n\r\n            for (const i in operation.operators) {\r\n                console.log(operation.operators[i]);\r\n                switch (operation.operators[i].type.value) {\r\n                    case Operators.OPERATOR:\r\n                        resume += `${operation.operators[i].operator.friendlyName} `;\r\n                        break;\r\n                    case Operators.VALUE:\r\n                        resume += `${operation.operators[i].value} `;\r\n                        break;\r\n                    case Operators.VARIABLE:\r\n                        resume += `${operation.operators[i].variable.name} `;\r\n                        break;\r\n                }\r\n            }\r\n            break;\r\n        case 'PRINT':\r\n            resume = `Escreva a varivel: ${operation.assignedVariable.name}`\r\n    }\r\n\r\n    return resume;\r\n}\r\n\r\n// ***********************************************************************\r\n// Print\r\n// ***********************************************************************\r\n\r\nexport function createPrintOperation () {\r\n    const operation = Object.assign({}, operationScheme);\r\n    operation.hash = generateUUID().replaceAll('-', '');\r\n    operation.assignedVariable = variables.length > 0 ? variables[0] : null;\r\n    operation.type = 'PRINT';\r\n\r\n    operations.push(operation);\r\n\r\n    const printOperation = printOperationScheme(operation);\r\n    htmlOlCommandsOperations.insertAdjacentHTML('beforeend', printOperation);\r\n\r\n    updateResume(operation.hash);\r\n\r\n    // Changing focus to the variable type after creation for screen readers\r\n    document.getElementById(`operation${operation.hash}VariableSelectLabel`).focus();\r\n\r\n    document.getElementById(`operation${operation.hash}VariableSelect`).addEventListener('change', ev => {\r\n        updatePrintOperation(ev.target.getAttribute('operation-id'), ev.target.value);\r\n    });\r\n\r\n    document.getElementById(`operation${operation.hash}Delete`).addEventListener('click', ev => {\r\n        deleteOperation(ev.target.getAttribute('operation-id'));\r\n    });\r\n}\r\n\r\n// TODO: \r\n// terminal => basico\r\nfunction updatePrintOperation (hash, newValue) {\r\n    const operation = getOperationByHash(hash);\r\n    const  variable = getVariableByHash(newValue);\r\n\r\n    operation.assignedVariable = variable;\r\n    updateResume(operation.hash);\r\n}\r\n\r\n\r\n// ***********************************************************************\r\n// Util\r\n// ***********************************************************************\r\n\r\nexport function getOperationByHash (hash) {\r\n    for (let i = 0; i < operations.length; i++) {\r\n        if (operations[i].hash === hash)\r\n            return operations[i];\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// ***********************************************************************","// *********************************************************************************\r\n// Scheme for the variables list\r\n// *********************************************************************************\r\n\r\nimport {variables} from \"./variables\";\r\n\r\nexport const variableScheme = {\r\n    hash: 'UUID for the variable',\r\n    name: 'Variable name',\r\n    type: 'Varaible type',\r\n    value: 'Variable value'\r\n};\r\n\r\n// *********************************************************************************\r\n// Variable types\r\n// *********************************************************************************\r\n\r\nexport const VariableType = [\r\n    {\r\n        name: 'inteiro',\r\n        value: 'INTEGER',\r\n        defaultValue: 0,\r\n        htmlType: 'number',\r\n        barrier: ''\r\n    },\r\n    {\r\n        name: 'real',\r\n        value: 'DOUBLE',\r\n        defaultValue: 0.0,\r\n        htmlType: 'number',\r\n        barrier: ''\r\n    },\r\n    {\r\n        name: 'cadeia',\r\n        value: 'STRING',\r\n        defaultValue: '',\r\n        htmlType: 'text',\r\n        barrier: '\"'\r\n    },\r\n    {\r\n        name: 'lgico',\r\n        value: 'BOOLEAN',\r\n        vales: [\r\n            {\r\n                name: 'verdadeiro',\r\n                value: true\r\n            },\r\n            {\r\n                name: 'falso',\r\n                value: false\r\n            }\r\n        ],\r\n        defaultValue: true,\r\n        htmlType: 'select',\r\n        barrier: ''\r\n    }\r\n];\r\n\r\nexport function getVariableTypeByValue (value) {\r\n    for (let i = 0; i < VariableType.length; i++) {\r\n        if (VariableType[i].value === value)\r\n            return VariableType[i];\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// *********************************************************************************\r\n// Html Schemes\r\n// *********************************************************************************\r\n\r\nexport function htmlVariableScheme () {\r\n    let variableTypesHtml = '';\r\n\r\n    for (let i = 0; i < VariableType.length; i++) {\r\n        variableTypesHtml += `<option value=\"${VariableType[i].value}\">${VariableType[i].name}</option>\\n`;\r\n    }\r\n\r\n    return `<li id=\"variable<variableId>Li\">\r\n                <form id=\"variable<variableId>Form\">\r\n                    <div class=\"row p-2 w-100 variable-item\" style=\"background-color: antiquewhite;\">\r\n                        <!-- <div class=\"col-1 text-center my-auto\">\r\n                           <h5>${variables.length}</h5>\r\n                        </div> -->\r\n                        <div class=\"col-2\">\r\n                            <select name=\"tipo\" class=\"form-control\" title=\"Tipo da varivel\" id=\"variable<variableId>Type\" variable-id=\"<variableId>\">\r\n                                ${variableTypesHtml}\r\n                            </select>\r\n                        </div>\r\n                        <div class=\"col-2\">\r\n                            <input type=\"text\" class=\"form-control\" title=\"nome da varivel\" id=\"variable<variableId>Name\" value=\"<variableName>\" variable-id=\"<variableId>\">\r\n                        </div>\r\n                        <div class=\"col-1 text-center my-auto\" style=\"margin-bottom: 0px !important\">\r\n                            <label for=\"variable<variableId>Value\" tabindex=\"0\" title=\"Recebe\">recebe</label>\r\n                        </div>\r\n                        <div class=\"col-2\">\r\n                            <input type=\"${VariableType[0].htmlType}\" class=\"form-control\" id =\"variable<variableId>Value\" title=\"Valor da varivel\" value=\"0\" variable-id=\"<variableId>\">\r\n                        </div>\r\n                        <div class=\"col my-auto\" style=\"text-align: end;\">\r\n                            <div class=\"row justify-content-end\">\r\n                                <div class=\"col-1\">\r\n                                    <a id=\"variable<variableId>Resume\" href=\"javascript:void(0)\" class=\"text-info\" variable-id=\"<variableId>\">\r\n                                        <i class=\"fas fa-eye\"></i>\r\n                                    </a>\r\n                                </div>\r\n                                <div class=\"col-1\">\r\n                                    <a id=\"variable<variableId>Delete\" href=\"javascript:void(0)\" class=\"text-danger\" variable-id=\"<variableId>\" title=\"Excluir\">X</a>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </form> \r\n          </li>`;\r\n}\r\n\r\n// *********************************************************************************","// Imports\r\nimport {htmlOlCommandsVariables, generateUUID} from './../../main';\r\nimport {\r\n    getVariableTypeByValue,\r\n    htmlVariableScheme,\r\n    variableScheme,\r\n    VariableType\r\n} from \"./variables-schemes\";\r\nimport {deleteOperationByVariable} from \"../operations/operations\";\r\n// Imports\r\n\r\nexport const variables = [];\r\nlet variablesIndex = 0;\r\n\r\n// Creating variable\r\nexport function createVariable () {\r\n    const variable = Object.assign({}, variableScheme);\r\n\r\n    variable.hash = generateUUID().replaceAll('-', '');\r\n    variable.name = 'var' + variablesIndex;\r\n    variable.type = VariableType[0];\r\n    variable.value = variable.type.defaultValue;\r\n\r\n    variables.push(variable);\r\n\r\n    variablesIndex++;\r\n\r\n    let htmlVariable = htmlVariableScheme();\r\n\r\n    htmlVariable = htmlVariable.replaceAll('<variableId>', variable.hash);\r\n    htmlVariable = htmlVariable.replaceAll('<variableName>', variable.name);\r\n\r\n    htmlOlCommandsVariables.insertAdjacentHTML('beforeend', htmlVariable);\r\n\r\n    document.getElementById(`variable${variable.hash}Type`).addEventListener('change', ev => {\r\n        const variableHash = ev.target.getAttribute('variable-id');\r\n\r\n        updateVariable(variableHash);\r\n    });\r\n\r\n    document.getElementById(`variable${variable.hash}Name`).addEventListener('change', ev => {\r\n        const variableHash = ev.target.getAttribute('variable-id');\r\n\r\n        updateVariable(variableHash);\r\n    });\r\n\r\n    document.getElementById(`variable${variable.hash}Value`).addEventListener('change', ev => {\r\n        const variableHash = ev.target.getAttribute('variable-id');\r\n\r\n        updateVariable(variableHash);\r\n    });\r\n\r\n    document.getElementById(`variable${variable.hash}Delete`).addEventListener('click', ev => {\r\n        const variableHash = ev.target.getAttribute('variable-id');\r\n\r\n        deleteVariable(variableHash);\r\n    });\r\n\r\n    updateResume(variable.hash);\r\n    updateAllVariableSelect();\r\n\r\n    // Changing focus to the variable type after creation for screen readers\r\n    document.getElementById(`variable${variable.hash}Type`).focus();\r\n}\r\n\r\n// *********************************************************************************\r\n// Updating variable\r\n// *********************************************************************************\r\n\r\nlet variableName;\r\nlet variableType;\r\nlet variableValue;\r\n\r\nfunction updateVariable (hash) {\r\n    const variable = getVariableByHash(hash);\r\n\r\n    variableName = document.getElementById(`variable${hash}Name`).value;\r\n    if (variable.name !== variableName) {\r\n        variable.name = variableName;\r\n    }\r\n\r\n    variableType = getVariableTypeByValue(document.getElementById(`variable${hash}Type`).value);\r\n    if (variable.type !== variableType) {\r\n        variable.type = variableType;\r\n\r\n        document.getElementById(`variable${hash}Value`).type = variable.type.htmlType;\r\n        document.getElementById(`variable${hash}Value`).value = variable.type.defaultValue;\r\n    }\r\n\r\n    variableValue = document.getElementById(`variable${hash}Value`).value;\r\n    if (variable.value !== variableValue) {\r\n        variable.value = variableValue;\r\n    }\r\n\r\n    updateResume(hash);\r\n}\r\n\r\n// *********************************************************************************\r\n\r\n// Deleting variable\r\nexport function deleteVariable (hash) {\r\n    const variable = getVariableByHash(hash);\r\n\r\n    document.getElementById(`variable${hash}Li`).remove();\r\n\r\n    deleteOperationByVariable(variable);\r\n    variables.splice(variables.indexOf(variable), 1);\r\n\r\n    updateAllVariableSelect();\r\n}\r\n\r\n// Deleting all variable\r\nexport function deleteAllVariable () {\r\n    for (let i = 0; i < variables.length; i++) {\r\n        document.getElementById(`variable${variables[i].hash}Li`).remove();\r\n    }\r\n\r\n    variables.length = 0\r\n}\r\n\r\n// ***********************************************************************\r\n// Updating variable resume\r\n// ***********************************************************************\r\n\r\nfunction updateResume (hash) {\r\n    document.getElementById(`variable${hash}Resume`).setAttribute('title', generateResume(hash));\r\n}\r\n\r\nfunction generateResume (hash) {\r\n    const variable = getVariableByHash(hash);\r\n\r\n    return `${variable.type.name} ${variable.name}, recebe ${variable.value}`;\r\n}\r\n\r\n// ***********************************************************************\r\n// Update all variable select\r\n// **********************************************************************\r\n\r\nfunction updateAllVariableSelect () {\r\n    const variableSelects = document.getElementsByName('variableSelect');\r\n\r\n    let variablesSelect = variables.length === 0 ? `<option>N/A</option>` : ``;\r\n\r\n    for (let i = 0; i < variables.length; i++) {\r\n        variablesSelect += `<option value=\"${variables[i].hash}\">${variables[i].name}</option>`\r\n    }\r\n\r\n    for (let i = 0; i < variableSelects.length; i++) {\r\n        const selectedOption = variableSelects[i].value;\r\n        variableSelects[i].innerHTML = variablesSelect;\r\n        variableSelects[i].value = selectedOption;\r\n    }\r\n}\r\n\r\n// *********************************************************************************\r\n// Util\r\n// *********************************************************************************\r\n\r\nexport function getVariableByHash (hash) {\r\n    for (let i = 0; i < variables.length; i++) {\r\n        if (variables[i].hash === hash)\r\n            return variables[i];\r\n    }\r\n\r\n    return null;\r\n}\r\n\r\n// *********************************************************************************","import line_i18n from 'line-i18n'\r\nimport { IVProgProcessor } from \"./../processor/ivprogProcessor\";\r\nimport { DOMConsole} from \"./../io/domConsole\";\r\nimport * as LocalizedStringsService from \"../services/localizedStringsService\";\r\nimport { OutputMatching } from './output_matching/output_matching';\r\nimport { Config } from '../util/config';\r\n\r\n\r\nconst LocalizedStrings = LocalizedStringsService.getInstance();\r\n\r\nconst StringTypes = line_i18n.StringTypes;\r\n\r\nconst AssessmentConfig = {\r\n  max_instruction_count: 350250,\r\n  suspend_threshold: 200\r\n}\r\n\r\nexport class IVProgAssessment {\r\n\r\n  constructor (ast_code, testCases, domConsole) {\r\n    this.ast_code = ast_code;\r\n    this.testCases = testCases;\r\n    this.domConsole = domConsole;\r\n    this.old_config = JSON.parse(JSON.stringify(Config));\r\n    Config.setConfig(AssessmentConfig);\r\n  }\r\n\r\n  runTest () {\r\n    try {\r\n      // loop test cases and show messages through domconsole\r\n      const partialTests = this.testCases.map( (t, name) => {\r\n        return new OutputMatching(new IVProgProcessor(this.ast_code), t.input, t.output, name);\r\n      });\r\n      const testResult = partialTests.map(om => om.eval());\r\n      return Promise.all(testResult).then(results => {\r\n        let grade = 0;\r\n        for(let i = 0; i < results.length; i += 1) {\r\n          const result = results[i];\r\n          grade += result.grade;\r\n          if(result.grade == 1) {\r\n            this.writeToConsole(DOMConsole.INFO, StringTypes.MESSAGE,'test_case_success',\r\n              result.name + 1, result.generateOutput());\r\n          } else if (result.status == 1) {\r\n            this.writeToConsole(DOMConsole.ERR, StringTypes.ERROR,'test_case_failed_exception',\r\n              result.name + 1, result.error_msg, result.generateOutput());\r\n          } else {\r\n            this.writeToConsole(DOMConsole.ERR, StringTypes.ERROR,'test_case_failed',\r\n              result.name + 1, result.generateOutput());\r\n          }\r\n        }\r\n        grade /= results.length;\r\n        const channel = grade == 1 ? DOMConsole.INFO : DOMConsole.ERR;\r\n        this.writeToConsole(channel, StringTypes.MESSAGE, \"test_suite_grade\", (grade * 100).toFixed(2));\r\n        return grade;\r\n      });\r\n      // return testResult.then(function (total) {\r\n      //   const grade = total / this.testCases.length;\r\n      //   const channel = grade == 1 ? DOMConsole.INFO : DOMConsole.ERR;\r\n      //   this.writeToConsole(channel, StringTypes.MESSAGE, \"test_suite_grade\", (grade * 100).toFixed(2));\r\n      //   return Promise.resolve(grade)\r\n      // }).catch(err => {\r\n      //   this.domConsole.err(\"Erro inesperado durante o clculo da nota.\");// try and show error messages through domconsole\r\n      //   this.domConsole.err(err.message);\r\n      //   return Promise.resolve(0);\r\n      // });\r\n    } catch (error) {\r\n      this.showErrorMessage(DOMConsole.ERR, StringTypes.MESSAGE, \"unexpected_execution_error\");\r\n      this.domConsole.err(error.message);\r\n      return Promise.resolve(0);\r\n    } finally {\r\n      Config.setConfig(this.old_config);\r\n    }\r\n  }\r\n\r\n  showErrorMessage (errorID, ...args) {\r\n    this.domConsole.err(LocalizedStrings.getError(errorID, args));\r\n  }\r\n\r\n  showInfoMessage (msgID, ...args) {\r\n    this.domConsole.info(LocalizedStrings.getMessage(msgID, args));\r\n  }\r\n\r\n  writeToConsole (channel, msgType, msgID, ...args) {\r\n    let msg = LocalizedStrings.getString(msgID, msgType);\r\n    msg = LocalizedStrings.processString(msg, args);\r\n    this.domConsole.writeRawHTML(msg, channel);\r\n  }\r\n}\r\n","import StringDiff from \"./../../util/string_diff\";\r\nimport { LocalizedStrings } from './../../services/localizedStringsService'\r\n\r\nexport class OutputAssessmentResult {\r\n\r\n  static get PAGE_TEMPLATE () {\r\n    return `<!DOCTYPE html>\r\n    <html>\r\n      <head>\r\n        <meta http-equiv='content-type' content='text/html; charset=UTF-8'>\r\n        <link rel='stylesheet' href='css/ivprog-assessment.css' type='text/css'/>\r\n      </head>\r\n    <body>\r\n      :assessment-result:\r\n    </body>\r\n    </html>`;\r\n  }\r\n\r\n  static get DETAIL_TEMPLATE () {\r\n    return `<div class='details-body'>\r\n        <div class='details-header'>\r\n          <h2>:test-name:</h2>\r\n          <p>:time-label:: <span>:time:ms</span></p>\r\n          <p>:grade-label:: <span>:grade:%</span></p>\r\n        </div>\r\n        <div>\r\n          <h3>:input-label:</h3>\r\n          <ul>\r\n            <li>:input-list:</li>\r\n          </ul>\r\n        </div>\r\n        <div>\r\n          <h3>:output-label:</h3>\r\n          :output-result:\r\n        </div>\r\n      </div>`;\r\n  }\r\n\r\n  static get OUPUT_TABLE_TEMPLATE () {\r\n    return `<div class='detaisl-div-table'>\r\n        <table class='assessment-output-table'>\r\n          <tr>\r\n            <th>:expected-label:</th>\r\n            <th>:generated-label:</th>\r\n            <th>:result-label:</th>\r\n          </tr>\r\n          :results:\r\n        </table>\r\n      </div>`;\r\n  }\r\n\r\n  static get OUTPUT_TEMPLATE () {\r\n    return `<tr><td class=':class-expected:'>$0</td>\r\n            <td class=':class-generated:'>$1</td>\r\n            <td class=':class-result:'>$2</td></tr>`;\r\n  }\r\n\r\n  static get EMPTY_OUTPUT_TEMPLATE () {\r\n    return `<div class='assessment-popup'><img class='assessment-empty-output' src='img/empty.svg'>\r\n      <span class='assessment-popuptext'>$0</span></div>`;\r\n  }\r\n\r\n  static get FAILED_TEMPLATE () {\r\n    return `<p class='assessment-failed-execution'><span class='assessment-failed-case'></span>$0</p>`;\r\n  }\r\n\r\n  static get INPUT_INFO_TEMPLATE () {\r\n    return `<span class='$0'>$1</span>`;\r\n  }\r\n\r\n  // Status code - it is not grade related!\r\n  // 0 - Succesful execution\r\n  // 1 - failed execution\r\n  constructor (name, status, inputs, result, store, time, error_msg = '') {\r\n    this.name = name;\r\n    this.status = status;\r\n    this.inputs = inputs;\r\n    this.results = result;\r\n    this.store = store;\r\n    this.time = time;\r\n    this.error_msg = error_msg;\r\n  }\r\n\r\n  get grade () {\r\n    if(this.results == null) {\r\n      return 0;\r\n    }\r\n    return this.results.reduce((prev, val) => prev + val.grade, 0) / this.results.length;\r\n  }\r\n\r\n  prepareResults () {\r\n    let template = OutputAssessmentResult.DETAIL_TEMPLATE;\r\n    const grade = (this.grade * 100).toFixed(2);\r\n    const time = this.time || \"-\";\r\n    template = template.replace(':test-name:', LocalizedStrings.getUI('assessment-detail-title', [this.name + 1]));\r\n    template = template.replace(':time-label:', LocalizedStrings.getUI('assessment-detail-time-label'));\r\n    template = template.replace(':time:', time);\r\n    template = template.replace(':grade-label:', LocalizedStrings.getUI('assessment-detail-grade-label'));\r\n    template = template.replace(':grade:', grade);\r\n    const input_spans = this.prepareInputList(this.inputs);\r\n    template = template.replace(':input-label:', LocalizedStrings.getUI('assessment-detail-input-label'));\r\n    template = template.replace(':input-list:', input_spans);\r\n    template = template.replace(':output-label:', LocalizedStrings.getUI('assessment-detail-output-label'));\r\n    if(this.status == 0) {\r\n      const output_rows = this.results.map(result => {\r\n        if(result.type == \"string\") {\r\n          return this.formatString(result);\r\n        } else if (result.type == \"number\") {\r\n          return this.formatNumber(result);\r\n        } else {\r\n          return this.formatBool(result);\r\n        }\r\n      }, this);\r\n      template = template.replace(':output-result:', this.prepareOutputTable(output_rows));\r\n    } else {\r\n      let failed_text =  OutputAssessmentResult.FAILED_TEMPLATE;\r\n      failed_text = failed_text.replace(\"$0\", this.error_msg);\r\n      template = template.replace(\":output-result:\", failed_text);\r\n    }\r\n    return template;\r\n  }\r\n\r\n  prepareInputList (input_list) {\r\n    const list = input_list.map(input => {\r\n      let template = OutputAssessmentResult.INPUT_INFO_TEMPLATE;\r\n      template = template.replace(\"$1\", input.value);\r\n      if(input.read) {\r\n        template = template.replace(\"$0\", \"assessment-input-read\");\r\n      } else {\r\n        template = template.replace(\"$0\", \"assessment-input-unread\");\r\n      }\r\n      return template;\r\n    }, this);\r\n    return list.join(LocalizedStrings.getUI('text_join_assessment_outputs'));\r\n  }\r\n\r\n  prepareOutputTable (output_rows) {\r\n    let template = OutputAssessmentResult.OUPUT_TABLE_TEMPLATE;\r\n    template = template.replace(':expected-label:', LocalizedStrings.getUI('assessment-detail-expected-label'));\r\n    template = template.replace(':generated-label:', LocalizedStrings.getUI('assessment-detail-generated-label'));\r\n    template = template.replace(':result-label:', LocalizedStrings.getUI('assessment-detail-result-label'));\r\n    template = template.replace(':results:', output_rows.join(''));\r\n    return template;\r\n  }\r\n\r\n  generateOutput () {\r\n    const assessment_result =  this.prepareResults();\r\n    let page = OutputAssessmentResult.PAGE_TEMPLATE;\r\n    page = page.replace(':assessment-result:', assessment_result);\r\n    page = page.replace(/(\\r|\\n|\\t)/gm,'').replace(/> *</g, '><');\r\n    return page;\r\n  }\r\n\r\n  formatNumber (result) {\r\n    const result_class = result.grade == 1 ? 'assessment-number-result' : 'assessment-number-result-failed';\r\n    let template = this.formatOutput('assessment-number-expected',\r\n      'assessment-number-generated', result_class, result);\r\n    return template\r\n  }\r\n\r\n  formatBool (result) {\r\n    const result_class = result.grade == 1 ? 'assessment-bool-result' : 'assessment-bool-result-failed';\r\n    let template = this.formatOutput('assessment-bool-expected',\r\n      'assessment-bool-generated', result_class, result);\r\n    return template\r\n  }\r\n\r\n  formatOutput (expected_class, generated_class, result_class, result) {\r\n    let template = OutputAssessmentResult.OUTPUT_TEMPLATE;\r\n    template = template.replace(\":class-expected:\", expected_class);\r\n    template = template.replace(\":class-generated:\", generated_class);\r\n    template = template.replace(\":class-result:\", result_class);\r\n    let expected_tmpl = result.expected;\r\n    let generated_tmpl = result.generated;\r\n    if(expected_tmpl == null) {\r\n      expected_tmpl = OutputAssessmentResult.EMPTY_OUTPUT_TEMPLATE.replace('$0',\r\n        LocalizedStrings.getMessage('assessment-empty-expected-tooltip'));\r\n    } else if(generated_tmpl == null) {\r\n      generated_tmpl = OutputAssessmentResult.EMPTY_OUTPUT_TEMPLATE.replace('$0',\r\n        LocalizedStrings.getMessage('assessment-empty-generated-tooltip'));\r\n    }\r\n    template = template.replace(\"$0\", expected_tmpl);\r\n    template = template.replace(\"$1\", generated_tmpl);\r\n    const final_result = result.grade == 1 ? \"\" : \"\"\r\n    template = template.replace(\"$2\", final_result);\r\n    return template\r\n  }\r\n\r\n  formatString (result) {\r\n    const expected_class = 'assessment-string-expected';\r\n    const generated_class = 'assessment-string-generated';\r\n    //const result_class = 'assessment-string-result';\r\n\r\n    let template = OutputAssessmentResult.OUTPUT_TEMPLATE;\r\n    template = template.replace(\":class-expected:\", expected_class);\r\n    template = template.replace(\":class-generated:\", generated_class);\r\n    //template = template.replace(\":class-result:\", result_class);\r\n\r\n    const g_string = result.generated || \"\";\r\n    const e_string = result.expected || \"\";\r\n    // console.log(\"generated: \", g_string,\"expected: \", e_string);\r\n    let g_string_tmpl = g_string;\r\n    let e_string_tmpl = e_string;\r\n    if(result.generated == null) {\r\n      g_string_tmpl = OutputAssessmentResult.EMPTY_OUTPUT_TEMPLATE.replace('$0',\r\n        LocalizedStrings.getMessage('assessment-empty-generated-tooltip'));\r\n    } else if (result.expected == null) {\r\n     e_string_tmpl = OutputAssessmentResult.EMPTY_OUTPUT_TEMPLATE.replace('$0',\r\n        LocalizedStrings.getMessage('assessment-empty-expected-tooltip'));\r\n    }\r\n    template = template.replace(\"$0\", e_string_tmpl);\r\n    template = template.replace(\"$1\", g_string_tmpl);\r\n    if(result.grade == 1) {\r\n      template = template.replace(\"$2\", \"\");\r\n      template = template.replace(\":class-result:\", 'assessment-string-result');\r\n    } else {\r\n      const diff = StringDiff(g_string, e_string);\r\n      // console.log(diff);\r\n      const diff_vec = diff.map(part => this.getDiffStringStyle(part[1], part[0]), this);\r\n      const diff_string = diff_vec.reduce((prev, actual) => prev + actual, \"\");\r\n      template = template.replace(\"$2\", \"<span class='assessment-failed-case'></span>\" + diff_string);\r\n      template = template.replace(\":class-result:\", \"assessment-string-diff\");\r\n    }\r\n    return template;\r\n  }\r\n\r\n  getDiffStringStyle (text, action) {\r\n    const template = \"<span class='$0'>$1</span>\"\r\n    // Fix missing whitespace when its a single element\r\n    text = text.replace(/\\s/g,\"&#160;\");\r\n    switch(action) {\r\n      case StringDiff.INSERT:\r\n        return template.replace(\"$0\", \"stringdiff-insert\").replace(\"$1\", text);\r\n      case StringDiff.DELETE:\r\n        return template.replace(\"$0\", \"stringdiff-delete\").replace(\"$1\", text);\r\n      case StringDiff.EQUAL:\r\n        return template.replace(\"$0\", \"stringdiff-equal\").replace(\"$1\", text);\r\n    }\r\n  }\r\n}\r\n","import { Decimal } from 'decimal.js';\r\nimport { InputAssessment } from \"../../util/input_assessment\";\r\nimport { OutputTest } from \"../../util/outputTest\";\r\nimport { Config } from \"../../util/config\";\r\nimport { levenshteinDistance } from \"../../util/utils\";\r\nimport { OutputAssessmentResult } from './assessment_result';\r\nimport * as TypeParser from \"./../../typeSystem/parsers\";\r\nimport * as LocalizedStringsService from \"../../services/localizedStringsService\";\r\nimport * as OutputResult from \"./output_result\";\r\n\r\nconst LocalizedStrings = LocalizedStringsService.getInstance();\r\n\r\nexport class OutputMatching {\r\n\r\n  static get NUM_REGEX () {\r\n    return /^[+-]?([0-9]+([.][0-9]*)?(e[+-]?[0-9]+)?)$/;\r\n  }\r\n\r\n  static get NUM_IN_STRING_REGEX () {\r\n    return /[+-]?([0-9]+([.][0-9]*)?(e[+-]?[0-9]+)?)/g;\r\n  }\r\n\r\n  static get BOOLEAN_REGEX () {\r\n    const str = `^(${LocalizedStrings.getUI(\"logic_value_true\")}|${LocalizedStrings.getUI(\"logic_value_false\")})$`;\r\n    return new RegExp(str);\r\n  }\r\n\r\n  static get BOOLEAN_IN_STRING_REGEX () {\r\n    const str = `(${LocalizedStrings.getUI(\"logic_value_true\")}|${LocalizedStrings.getUI(\"logic_value_false\")})`;\r\n    return new RegExp(str, 'g');\r\n  }\r\n\r\n  constructor (program, input_list, expected_output, test_name) {\r\n    this.program = program;\r\n    this.name = test_name;\r\n    this.input_list = input_list;\r\n    this.expected_output = expected_output;\r\n  }\r\n\r\n  eval () {\r\n    const refThis = this;\r\n    const input = new InputAssessment(this.input_list);\r\n    const gen_output = new OutputTest();\r\n    this.program.registerInput(input);\r\n    this.program.registerOutput(gen_output);\r\n    const start_time = Date.now();\r\n    return this.program.interpretAST().then( sto => {\r\n      const final_time = Date.now() - start_time;\r\n      if(input.isInputAvailable()) {\r\n        return new OutputAssessmentResult(this.name, 1, input.input_list,\r\n          null, sto, final_time, refThis.getErrorMessage('test_case_few_reads', this.name+1))\r\n      }\r\n      const result = gen_output.list.map((g_out, i) => {\r\n        if(i >= this.expected_output.length) {\r\n          return new OutputResult.OutputMatchResult(null, g_out, 0, this.getPotentialOutputType(g_out));\r\n        }\r\n        return this.outputMatch(g_out, this.expected_output[i]);\r\n      }, this);\r\n      if(this.expected_output.length > gen_output.list.length) {\r\n        console.log(\"Sada insuficientes!\",this.expected_output.length,gen_output.list.length);\r\n        for(let i = gen_output.list.length; i < this.expected_output.length; ++i) {\r\n          const e_out = this.expected_output[i];\r\n          result.push(new OutputResult.OutputMatchResult(e_out, null, 0, this.getPotentialOutputType(e_out)));\r\n        }\r\n      } else if (this.expected_output.length == 0 && this.expected_output.length == gen_output.list.length) {\r\n        // no output expected....\r\n        result.push(new OutputResult.OutputMatchResult(\"\", \"\", 1, \"string\"));\r\n      }\r\n      return new OutputAssessmentResult(this.name, 0,  input.input_list, result, sto, final_time);\r\n    }).catch(error => {\r\n      return new OutputAssessmentResult(this.name, 1,  input.input_list, null, null,\r\n        null, refThis.getErrorMessage('test_case_exception', this.name + 1, error.message))\r\n    });\r\n  }\r\n\r\n  getPotentialOutputType (output) {\r\n    if(OutputMatching.NUM_REGEX.test(output)) {\r\n      return \"number\";\r\n    } else if (OutputMatching.BOOLEAN_REGEX.test(output)) {\r\n      return \"bool\";\r\n    } else {\r\n      return \"string\";\r\n    }\r\n  }\r\n\r\n  outputMatch (g_output, e_output) {\r\n    if(OutputMatching.NUM_REGEX.test(e_output)) {\r\n      if(!OutputMatching.NUM_REGEX.test(g_output)) {\r\n        return this.checkStrings(g_output, e_output);\r\n      }\r\n      const g_num = new Decimal(g_output);\r\n      const e_num = new Decimal(e_output);\r\n      return this.checkNumbers(g_num, e_num);\r\n    } else if (OutputMatching.BOOLEAN_REGEX.test(e_output)) {\r\n      if (!OutputMatching.BOOLEAN_REGEX.test(g_output)) {\r\n        return this.checkStrings(g_output, e_output)\r\n      }\r\n      const g_bool = TypeParser.toBool(g_output);\r\n      const e_bool = TypeParser.toBool(e_output);\r\n      return this.checkBoolean(g_bool, e_bool);\r\n    } else {\r\n      return this.checkStrings(g_output, e_output);\r\n    }\r\n  }\r\n\r\n  checkNumbers (g_num, e_num) {\r\n    const decimalPlaces = Math.min(e_num.dp(), Config.decimalPlaces);\r\n    g_num = new Decimal(g_num.toFixed(decimalPlaces, Decimal.ROUND_FLOOR));\r\n    e_num = new Decimal(e_num.toFixed(decimalPlaces, Decimal.ROUND_FLOOR));\r\n    const result = g_num.eq(e_num);\r\n    const grade = result ? 1 : 0;\r\n    return OutputResult.createNumberResult(e_num.toNumber(), g_num.toNumber(), grade);\r\n  }\r\n\r\n  checkBoolean (g_bool, e_bool) {\r\n    const grade = g_bool == e_bool ? 1 : 0;\r\n    const g_bool_text = TypeParser.convertBoolToString(g_bool);\r\n    const e_bool_text = TypeParser.convertBoolToString(e_bool);\r\n    return OutputResult.createBoolResult(e_bool_text, g_bool_text, grade);\r\n  }\r\n\r\n  checkStrings (g_output, e_ouput) {\r\n    const assessmentList = []\r\n    let e_output_clean = e_ouput.trim();\r\n    let g_output_clean = g_output.trim();\r\n    if (OutputMatching.NUM_IN_STRING_REGEX.test(e_ouput)) {\r\n      const expected_numbers = e_ouput.match(OutputMatching.NUM_IN_STRING_REGEX);\r\n      const generated_numbers = g_output.match(OutputMatching.NUM_IN_STRING_REGEX) || [];\r\n      const result = generated_numbers.map((val, i) => {\r\n        if(i >= expected_numbers.length) {\r\n          return OutputResult.createNumberResult(null, val, 0);\r\n        }\r\n        const g_val = new Decimal(val)\r\n        const e_val = new Decimal(expected_numbers[i]);\r\n        return this.checkNumbers(g_val, e_val);\r\n      }, this);\r\n      if(expected_numbers.length > generated_numbers.length) {\r\n        for(let i = generated_numbers.length; i < expected_numbers.length; ++i) {\r\n          result.push(OutputResult.createNumberResult(expected_numbers[i], null, 0));\r\n        }\r\n      }\r\n      e_output_clean = e_output_clean.replace(OutputMatching.NUM_IN_STRING_REGEX, '');\r\n      g_output_clean = g_output_clean.replace(OutputMatching.NUM_IN_STRING_REGEX, '');\r\n      const numberGrade = result.reduce((prev, r) => prev + r.grade, 0) / result.length;\r\n      assessmentList.push(numberGrade);\r\n    }\r\n    if(OutputMatching.BOOLEAN_IN_STRING_REGEX.test(e_ouput)) {\r\n      const expected_bools = e_ouput.match(OutputMatching.BOOLEAN_IN_STRING_REGEX);\r\n      const generated_bools = g_output.match(OutputMatching.BOOLEAN_IN_STRING_REGEX) || [];\r\n      const result = generated_bools.map((val, i) => {\r\n        if(i >= expected_bools.length) {\r\n          return OutputResult.createBoolResult(null, val, 0);\r\n        }\r\n        const g_bool = TypeParser.toBool(val);\r\n        const e_bool = TypeParser.toBool(expected_bools[i]);\r\n        return this.checkBoolean(g_bool, e_bool );\r\n      }, this);\r\n      if(expected_bools.length > generated_bools.length) {\r\n        for(let i = generated_bools.length; i < expected_bools.length; ++i) {\r\n          result.push(OutputResult.createBoolResult(expected_bools[i], null, 0));\r\n        }\r\n      }\r\n      e_output_clean = e_output_clean.replace(OutputMatching.BOOLEAN_IN_STRING_REGEX, '');\r\n      g_output_clean = g_output_clean.replace(OutputMatching.BOOLEAN_IN_STRING_REGEX, '');\r\n      const boolGrade = result.reduce((prev, r) => prev + r.grade, 0) / result.length;\r\n      assessmentList.push(boolGrade);\r\n    }\r\n    const dist = levenshteinDistance(g_output_clean, e_output_clean);\r\n    let gradeDiff = Math.max(0, e_output_clean.length - dist)/e_output_clean.length;\r\n    gradeDiff = Number.isNaN(gradeDiff) ? 0 : gradeDiff;\r\n    const assessment_size = assessmentList.length + 1;\r\n    const gradeAcc = assessmentList.reduce((prev, val) => prev + val/assessment_size, 0);\r\n    const finalGrade = 1 * (gradeDiff/assessment_size + gradeAcc);\r\n    return OutputResult.createStringResult(e_ouput, g_output, finalGrade);\r\n  }\r\n\r\n  getErrorMessage (errorID, ...args) {\r\n    return LocalizedStrings.getError(errorID, args);\r\n  }\r\n}\r\n\r\n","\r\nexport function createNumberResult (expected, generated, grade) {\r\n  return new OutputMatchResult(expected, generated, grade, \"number\");\r\n}\r\n\r\nexport function createBoolResult (expected, generated, grade) {\r\n  return new OutputMatchResult(expected, generated, grade, \"bool\");\r\n}\r\n\r\nexport function createStringResult (expected, generated, grade) {\r\n  return new OutputMatchResult(expected, generated, grade, \"string\");\r\n}\r\n\r\nexport class OutputMatchResult {\r\n\r\n  constructor (expected, generated, grade, type) {\r\n    this.expected = expected;\r\n    this.generated = generated;\r\n    this.grade = grade;\r\n    this.type = type;\r\n  }\r\n}","import { SyntaxErrorFactory } from \"./error/syntaxErrorFactory\";\r\n\r\nexport function recover (_) {\r\n    const start = this._tokenStartCharIndex;\r\n    const stop = this._input.index;\r\n    let text = this._input.getText(start, stop);\r\n    text = this.getErrorDisplay(text);\r\n    const line = this._tokenStartLine;\r\n    const column = this._tokenStartColumn;\r\n    throw SyntaxErrorFactory.invalid_character(text, line, column);\r\n}\r\n","import { Assign } from './assign';\r\n\r\nexport class ArrayIndexAssign extends Assign {\r\n\r\n  constructor (id, lineExpression, columnExpression, expression) {\r\n    super(id, expression);\r\n    this.line = lineExpression;\r\n    this.column = columnExpression;\r\n  }\r\n}\r\n","import { Declaration } from './declaration';\r\n\r\nexport class ArrayDeclaration extends Declaration {\r\n\r\n  constructor (id, type, lines, columns, initial, isConst)   {\r\n    super(id, type, initial, isConst);\r\n    this.lines = lines;\r\n    this.columns = columns;\r\n  }\r\n\r\n  get isVector () {\r\n    return this.columns == null;\r\n  }\r\n}","import { Command } from './command';\r\n\r\nexport class Assign extends Command {\r\n  \r\n  constructor (id, expression) {\r\n    super();\r\n    this.id = id;\r\n    this.expression = expression;\r\n  }\r\n}","import { Command } from './command';\r\n\r\nexport class Break extends Command {\r\n\r\n  constructor () {\r\n    super();\r\n  }\r\n}\r\n","import { Command } from './command';\r\n\r\nexport class Case extends Command {\r\n\r\n  constructor (expression) {\r\n    super();\r\n    this.expression = expression;\r\n    /**\r\n     * @type {Command[]}\r\n     */\r\n    this.commands = [];\r\n  }\r\n\r\n  /**\r\n   * \r\n   * @param {Command[]} commands \r\n   */\r\n  setCommands (commands) {\r\n    this.commands = commands;\r\n  }\r\n\r\n  get isDefault () {\r\n    return this.expression === null;\r\n  }\r\n}","export class Command {\r\n\r\n  constructor () {\r\n    this._sourceInfo = null;\r\n  }\r\n\r\n  set sourceInfo (sourceInfo) {\r\n    this._sourceInfo = sourceInfo;\r\n  }\r\n\r\n  get sourceInfo () {\r\n    return this._sourceInfo;\r\n  }\r\n}\r\n","export class CommandBlock {\r\n\t\r\n\tconstructor(variables, commands) {\r\n\t\tthis.variables = variables;\r\n\t\tthis.commands = commands;\r\n\t\tthis._sourceInfo = null;\r\n\t}\r\n\r\n\tset sourceInfo (sourceInfo) {\r\n\t\tthis._sourceInfo = sourceInfo;\r\n\t}\r\n\r\n\tget sourceInfo () {\r\n\t\treturn this._sourceInfo;\r\n\t}\r\n}","import { Command } from './command';\r\n\r\nexport class Declaration extends Command {\r\n  \r\n  constructor (id, type, initial, isConst) {\r\n    super();\r\n    this.id = id;\r\n    this.type = type;\r\n    this.initial = initial;\r\n    this.isConst = isConst;\r\n  }\r\n}\r\n","import { Command } from './command';\r\n\r\nexport class For extends Command {\r\n\r\n  constructor (for_id, for_from, for_to, for_pass, commandBlock) {\r\n    super();\r\n    this.for_id = for_id;\r\n    this.for_from = for_from;\r\n    this.for_to = for_to;\r\n    this.for_pass = for_pass;\r\n    this.commandBlock = commandBlock;\r\n  }\r\n\r\n  get commands () {\r\n    return this.commandBlock.commands;\r\n  }\r\n}","export class FormalParameter {\r\n\r\n  constructor (type, id, byRef = false, variadic = false) {\r\n    this.type = type;\r\n    this.id = id;\r\n    this.byRef = byRef;\r\n    this.variadic = variadic;\r\n    this._sourceInfo = null;\r\n  }\r\n\r\n  set sourceInfo (sourceInfo) {\r\n\t\tthis._sourceInfo = sourceInfo;\r\n\t}\r\n\r\n\tget sourceInfo () {\r\n\t\treturn this._sourceInfo;\r\n\t}\r\n}","import { Types } from './../../typeSystem/types';\r\n\r\nexport class Function {\r\n\r\n  /**\r\n   * \r\n   * @param {string} name \r\n   * @param {import('./../../typeSystem/itype').IType} returnType \r\n   * @param {import('./formalParameter').FormalParameter[]} formalParameters \r\n   * @param {import('./commandBlock').CommandBlock} commandBlock \r\n   */\r\n  constructor(name, returnType, formalParameters, commandBlock) {\r\n    this.name = name;\r\n    this.returnType = returnType;\r\n    this.formalParameters = formalParameters;\r\n    this.commandBlock = commandBlock;\r\n    this._sourceInfo = null;\r\n  }\r\n\r\n  get isMain () {\r\n    return this.name === null && this.returnType.isCompatible(Types.VOID);\r\n  }\r\n\r\n  get commands () {\r\n    return this.commandBlock.commands;\r\n  }\r\n\r\n  get variablesDeclarations () {\r\n    return this.commandBlock.variables;\r\n  }\r\n\r\n  set sourceInfo (sourceInfo) {\r\n\t\tthis._sourceInfo = sourceInfo;\r\n\t}\r\n\r\n\tget sourceInfo () {\r\n\t\treturn this._sourceInfo;\r\n  }\r\n  \r\n  hasVariadic () {\r\n    return this.formalParameters.some( p => p.variadic);\r\n  }\r\n}","import { Command } from './command';\r\n\r\nexport class IfThenElse extends Command {\r\n\r\n  constructor (condition, ifTrue, ifFalse) {\r\n    super();\r\n    this.condition = condition;\r\n    this.ifTrue = ifTrue;\r\n    this.ifFalse = ifFalse;\r\n  }\r\n}","import { Break } from './break';\r\nimport { Return } from './return';\r\nimport { Assign } from './assign';\r\nimport { ArrayIndexAssign } from './arrayAssign';\r\nimport { Declaration } from './declaration';\r\nimport { ArrayDeclaration } from './arrayDeclaration';\r\nimport { While } from './while';\r\nimport { For } from './for';\r\nimport { Function } from './function';\r\nimport { IfThenElse } from './ifThenElse';\r\nimport { CommandBlock } from './commandBlock';\r\nimport { RepeatUntil } from './repeatUntil';\r\nimport { Switch } from './switch';\r\nimport { Case } from './case';\r\nimport { SysCall } from './sysCall';\r\nimport { FormalParameter } from './formalParameter';\r\nimport { FunctionCall } from './../expressions/functionCall'; //Proxy to expression since they do exatcly the same thing\r\n\r\nexport {\r\n  Break,\r\n  Return,\r\n  Assign,\r\n  ArrayIndexAssign,\r\n  Declaration,\r\n  ArrayDeclaration,\r\n  While,\r\n  For,\r\n  Function,\r\n  IfThenElse,\r\n  CommandBlock,\r\n  RepeatUntil,\r\n  Switch,\r\n  Case,\r\n  SysCall,\r\n  FormalParameter,\r\n  FunctionCall\r\n};","import { While } from './while';\r\n\r\nexport class RepeatUntil extends While {\r\n\r\n  constructor(condition, commandBlock) {\r\n    super(condition, commandBlock);\r\n  }\r\n\r\n  get testFirst () {\r\n    return false;\r\n  }\r\n  \r\n}","import { Command } from './command';\r\n\r\nexport class Return extends Command {\r\n\r\n  constructor(expression) {\r\n    super();\r\n    this.expression = expression;\r\n  }\r\n  \r\n}","import { Command } from './command';\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Expression } from '../expressions/expression';\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Case } from '.';\r\n\r\nexport class Switch extends Command {\r\n  \r\n  /**\r\n   * \r\n   * @param {Expression} expression \r\n   * @param {Case[]} cases \r\n   */\r\n  constructor (expression, cases) {\r\n    super();\r\n    this.expression = expression;\r\n    this.cases = cases;\r\n  }\r\n}","/**\r\n * This class represents all the language defined functions.\r\n * The language processor uses the id provided here to properly execute the desired function.\r\n * The function is actually implemented inside the language processor.\r\n * All the functions can be found at: js/processor/definedFunctions.js\r\n */\r\nexport class SysCall {\r\n\r\n  constructor (langFunc) {\r\n    this.langFunc = langFunc;\r\n  }\r\n}","import { Command } from './command';\r\n\r\nexport class While extends Command {\r\n\r\n  constructor (expression, commandBlock) {\r\n    super();\r\n    this.expression = expression;\r\n    this.commandBlock = commandBlock;\r\n  }\r\n\r\n  get commands () {\r\n    return this.commandBlock.commands;\r\n  }\r\n\r\n  get testFirst () {\r\n  \treturn true;\r\n  }\r\n}","export class SyntaxError extends Error {\r\n  constructor (msg, id) {\r\n    super(...msg);\r\n    this.id = id;\r\n    this._context = {};\r\n    if (Error.captureStackTrace) Error.captureStackTrace(this, SyntaxError);\r\n  }\r\n\r\n  get context () {\r\n    return this._context;\r\n  }\r\n\r\n  set context (contextObj) {\r\n    this._context = contextObj;\r\n  }\r\n}\r\n","import * as LocalizedStringsService from \"./../../services/localizedStringsService\";\r\nimport { SyntaxError } from \"./syntaxError\";\r\n\r\nconst LocalizedStrings = LocalizedStringsService.getInstance();\r\n\r\nfunction createError (message_id, context = []) {\r\n  return new SyntaxError(\r\n    LocalizedStrings.getError(message_id, context),\r\n    message_id\r\n  );\r\n}\r\n\r\nexport const SyntaxErrorFactory = Object.freeze({\r\n  extra_lines: () => new SyntaxError(LocalizedStrings.getError(\"extra_lines\")),\r\n  token_missing_one: (expected, token) => {\r\n    const context = [expected, token.text, token.line, token.column];\r\n    const error = createError(\"token_missing_one\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  token_missing_list: (expectedList, token) => {\r\n    const line = expectedList.join(LocalizedStrings.getOR());\r\n    const error = SyntaxErrorFactory.token_missing_one(line, token);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  id_missing: (token) => {\r\n    const context = [token.text, token.line, token.column];\r\n    const error = createError(\"id_missing\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  eos_missing: (token) => {\r\n    const context = [token.line, token.column];\r\n    const error = createError(\"eos_missing\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_array_dimension: (typeName, token) => {\r\n    const context = [token.line, token.column, typeName];\r\n    const error = createError(\"invalid_array_dimension\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_array_size: (token) => {\r\n    const context = [token.line];\r\n    const error = createError(\"invalid_array_size\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_main_return: (name, typeName, token) => {\r\n    const context = [name, typeName, token.line];\r\n    const error = createError(\"invalid_main_return\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_var_declaration: (token) => {\r\n    const context = [token.line];\r\n    const error = createError(\"invalid_var_declaration\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_break_command: (cmdName, token) => {\r\n    const context = [token.line, cmdName];\r\n    const error = createError(\"invalid_break_command\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_terminal: (token) => {\r\n    const context = [token.text, token.line, token.column];\r\n    const error = createError(\"invalid_terminal\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_type: (list, token) => {\r\n    const line = list.join(LocalizedStrings.getOR());\r\n    const context = [token.text, token.line, token.column, line];\r\n    const error = createError(\"invalid_type\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  const_not_init: (token) => {\r\n    const context = [token.line, token.column];\r\n    const error = createError(\"const_not_init\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_id_format: (token) => {\r\n    const context = [token.text, token.line, token.column];\r\n    const error = createError(\"invalid_id_format\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  duplicate_function: (token) => {\r\n    const context = [token.text, token.line, token.column];\r\n    const error = createError(\"duplicate_function\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  main_parameters: () => {\r\n    return createError(\"main_parameters\");\r\n  },\r\n  duplicate_variable: (token) => {\r\n    const context = [token.text, token.line, token.column];\r\n    const error = createError(\"duplicate_variable\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_character: (text, line, column) => {\r\n    const context = [text, line];\r\n    const error = createError(\"invalid_character\", context);\r\n    error.context = { line: line, column: column };\r\n    return error;\r\n  },\r\n  annonymous_array_literal: (token) => {\r\n    const context = [token.line];\r\n    const error = createError(\"annonymous_array_literal\", context);\r\n    error.context = { line: token.line, column: token.column };\r\n    return error;\r\n  },\r\n  invalid_matrix_literal_line: (exp, sourceInfo) => {\r\n    const context = [exp, sourceInfo.line];\r\n    const error = createError(\"invalid_matrix_literal_line\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  cannot_infer_matrix_line: (name, sourceInfo) => {\r\n    const context = [name, sourceInfo.line];\r\n    const error = createError(\"cannot_infer_matrix_line\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  cannot_infer_matrix_column: (name, sourceInfo) => {\r\n    const context = [name, sourceInfo.line];\r\n    const error = createError(\"cannot_infer_matrix_column\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  cannot_infer_vector_size: (name, sourceInfo) => {\r\n    const context = [name, sourceInfo.line];\r\n    const error = createError(\"cannot_infer_vector_size\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  matrix_to_vector_literal_attr: (name, exp, sourceInfo) => {\r\n    const context = [sourceInfo.line, exp, name];\r\n    const error = createError(\"matrix_to_vector_literal_attr\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  vector_to_matrix_literal_attr: (name, exp, sourceInfo) => {\r\n    const context = [sourceInfo.line, exp, name];\r\n    const error = createError(\"vector_to_matrix_literal_attr\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  array_init_not_literal: (sourceInfo) => {\r\n    const context = [sourceInfo.line];\r\n    const error = createError(\"array_init_not_literal\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  array_exceeds_2d: (sourceInfo) => {\r\n    const context = [sourceInfo.line];\r\n    const error = createError(\"array_exceeds_2d\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  invalid_matrix_id_dimension: (sourceInfo) => {\r\n    const context = [sourceInfo.line];\r\n    const error = createError(\"invalid_matrix_id_dimension\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  invalid_vector_init: (sourceInfo) => {\r\n    const context = [sourceInfo.line];\r\n    const error = createError(\"invalid_vector_init\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  invalid_matrix_init: (sourceInfo) => {\r\n    const context = [sourceInfo.line];\r\n    const error = createError(\"invalid_matrix_init\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n});\r\n","import { Expression } from './expression';\r\n\r\nexport class ArrayAccess extends Expression {\r\n\t\r\n\tconstructor (id, line, column) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.line = line;\r\n\t\tthis.column = column;\r\n\t}\r\n\r\n\ttoString () {\r\n\t\tconst strLine = this.line.toString();\r\n\t\tlet strColumn = null;\r\n\t\tif(this.column) {\r\n\t\t\tstrColumn = this.column.toString();\r\n\t\t}\r\n\t\tlet text = null;\r\n\t\tif(strColumn) {\r\n\t\t\ttext = `${this.id}[${strLine}][${strColumn}]`;\r\n\t\t} else {\r\n\t\t\ttext = `${this.id}[${strLine}]`;\r\n\t\t}\r\n\t\tif(this.parenthesis ){\r\n\t\t\treturn `(${text})`\r\n\t\t} else {\r\n\t\t\treturn text;\r\n\t\t}\r\n\t}\r\n}","import { Literal } from './literal';\r\n\r\nexport class ArrayLiteral extends Literal {\r\n  \r\n  /**\r\n   * \r\n   * @param {import('../../typeSystem/itype').IType} type \r\n   * @param {import('./expression').Expression[]} value \r\n   */\r\n  constructor(type, value) {\r\n    super(type);\r\n    this.value = value;\r\n  }\r\n\r\n  get subtype () {\r\n    const element = this.value[0];\r\n    if (element instanceof ArrayLiteral) {\r\n      return element.value[0].type;\r\n    } else {\r\n      return element.type;\r\n    }\r\n  }\r\n\r\n  get lines () {\r\n    return this.value.length;\r\n  }\r\n\r\n  get columns () {\r\n    const element = this.value[0];\r\n    if (!(element instanceof ArrayLiteral)){\r\n      return null;\r\n    } else {\r\n      return element.value.length;\r\n    }\r\n  }\r\n\r\n  get isVector () {\r\n    return this.columns === null;\r\n  }\r\n\r\n  get isValid () {\r\n    return this.validateSize() && this.validateType();\r\n  }\r\n\r\n  validateType () {\r\n    const valid = true;\r\n    // const subtype = this.subtype;\r\n    // if(this.columns !== null) {\r\n    //   const len = this.lines;\r\n    //   const len2 = this.columns;\r\n    //   for (let i = len - 1; i >= 0 && valid; --i) {\r\n    //     for (let j = len2 - 1; j >= 0 && valid; --j) {\r\n    //       if(!this.value[i].value[j].type.isCompatilbe(subtype)) {\r\n    //         valid = false;\r\n    //         break;\r\n    //       }\r\n    //     }\r\n    //   }\r\n    // } else {\r\n    //   const len = this.lines;\r\n    //   for (var i = len - 1; i >= 0 && valid; i--) {\r\n    //     if(!this.value[i].type.isCompatilbe(subtype)) {\r\n    //       valid = false;\r\n    //       break;\r\n    //     }\r\n    //   }\r\n    // }\r\n    // Cannot validate type since no information on variables literals are available\r\n    return valid;\r\n  }\r\n\r\n  validateSize () {\r\n    const valid = true;\r\n    // if(this.columns !== null) {\r\n    //   const equalityTest = this.value.map(v => v.value.length)\r\n    //     .reduce((old, next) => {\r\n    //       console.log(next);\r\n    //       if (old == null) {\r\n    //         return next;\r\n    //       } else if (old === next) {\r\n    //         return old\r\n    //       } else {\r\n    //         return -1;\r\n    //       }\r\n    //     }, null);\r\n    //   valid = equalityTest !== -1;\r\n    // }\r\n    // check is now made inside IVProgParser.parseVectorList(...)\r\n    return valid;\r\n  }\r\n\r\n  toString () {\r\n    const strList = this.value.map(arrayLiteral => arrayLiteral.toString());\r\n    const text = \"{\" + strList.join(',') + \"}\";\r\n    if(this.parenthesis) {\r\n      return `(${text})`;\r\n    } else {\r\n      return text;\r\n    }\r\n  }\r\n}\r\n","import { Literal } from './literal';\r\nimport { Types } from './../../typeSystem/types';\r\nimport { convertBoolToString } from \"./../../typeSystem/parsers\";\r\n\r\nexport class BoolLiteral extends Literal {\r\n  \r\n  constructor(value) {\r\n    super(Types.BOOLEAN);\r\n    this.value = value;\r\n  }\r\n\r\n  toString () {\r\n    const text = convertBoolToString(this.value);\r\n    if(this.parenthesis) {\r\n      return `(${text})`\r\n    } else {\r\n      return text;\r\n    }\r\n  }\r\n}","import { Literal } from './literal';\r\nimport { Types } from './../../typeSystem/types';\r\n\r\nexport class CharLiteral extends Literal {\r\n  \r\n  constructor(value) {\r\n    super(Types.CHAR);\r\n    this.value = value;\r\n  }\r\n\r\n  toString () {\r\n    const text = `'${this.value}'`;\r\n    if(this.parenthesis) {\r\n      return `(${text})`\r\n    } else {\r\n      return text;\r\n    }\r\n  }\r\n}","export class Expression {\r\n\r\n  constructor () {\r\n\t\tthis._sourceInfo = null;\r\n\t\tthis._parenthesis = false;\r\n  }\r\n\r\n  set sourceInfo (sourceInfo) {\r\n\t\tthis._sourceInfo = sourceInfo;\r\n\t}\r\n\r\n\tget sourceInfo () {\r\n\t\treturn this._sourceInfo;\r\n\t}\r\n\r\n\tset parenthesis (flag) {\r\n\t\tthis._parenthesis = flag;\r\n\t}\r\n\r\n\tget parenthesis () {\r\n\t\treturn this._parenthesis;\r\n\t}\r\n}","import { Expression } from './expression';\r\nimport { LanguageDefinedFunction } from '../../processor/definedFunctions';\r\n\r\nexport class FunctionCall extends Expression {\r\n\r\n\t/**\r\n\t * \r\n\t * @param {string} id \r\n\t * @param {Expression[]} actualParameters \r\n\t */\r\n\tconstructor (id, actualParameters) {\r\n\t\tsuper();\r\n\t\tthis.id = id;\r\n\t\tthis.actualParameters = actualParameters;\r\n\t}\r\n\r\n\tget isMainCall () {\r\n\t\treturn this.id === null;\r\n\t}\r\n\r\n\tget parametersSize () {\r\n\t\treturn this.actualParameters.length;\r\n\t}\r\n\r\n\ttoString () {\r\n\t\tlet name = null;\r\n\t\tif(this.isMainCall) {\r\n\t\t\tname = LanguageDefinedFunction.getMainFunctionName();\r\n\t\t} else {\r\n\t\t\tname = LanguageDefinedFunction.getLocalName(this.id);\r\n\t\t}\r\n\t\tlet params = null;\r\n\t\tif(this.actualParameters.length == 0) {\r\n\t\t\tparams = \"()\";\r\n\t\t} else {\r\n\t\t\tconst strParams = this.actualParameters.map(v => v.toString());\r\n\t\t\tparams = \"(\" + strParams.join(\",\") + \")\";\r\n\t\t}\r\n\t\tif(this.parenthesis) {\r\n\t\t\treturn `(${name + params})`;\r\n\t\t} else {\r\n\t\t\treturn name + params;\r\n\t\t}\r\n\t}\r\n}","import { ArrayAccess } from './arrayAccess';\r\nimport { FunctionCall } from './functionCall';\r\nimport { IntLiteral } from './intLiteral';\r\nimport { RealLiteral } from './realLiteral';\r\nimport { BoolLiteral } from './boolLiteral';\r\nimport { CharLiteral } from './charLiteral'\r\nimport { StringLiteral } from './stringLiteral';\r\nimport { ArrayLiteral } from './arrayLiteral';\r\nimport { VariableLiteral } from './variableLiteral';\r\nimport { InfixApp } from './infixApp';\r\nimport { UnaryApp } from './unaryApp';\r\n\r\nexport {\r\n\tArrayAccess,\r\n\tFunctionCall,\r\n  IntLiteral,\r\n  RealLiteral,\r\n  BoolLiteral,\r\n  CharLiteral,\r\n  StringLiteral,\r\n  ArrayLiteral,\r\n  VariableLiteral,\r\n  InfixApp,\r\n  UnaryApp\r\n};","import { Expression } from './expression';\r\n\r\nexport class InfixApp extends Expression {\r\n\r\n  constructor(op, left, right) {\r\n    super();\r\n    this.op = op;\r\n    this.left = left;\r\n    this.right = right;\r\n  }\r\n\r\n  toString () {\r\n    const l = this.left.toString();\r\n    const op = this.op.value;\r\n    const r = this.right.toString();\r\n    if(this.parenthesis) {\r\n      return  `(${l + op + r})`;\r\n    } else {\r\n      return l + op + r;\r\n    }\r\n  }\r\n}","import { Literal } from './literal';\r\nimport { Types } from './../../typeSystem/types';\r\nimport { convertToString } from './../../typeSystem/parsers';\r\n\r\nexport class IntLiteral extends Literal {\r\n  \r\n  constructor(value) {\r\n    super(Types.INTEGER);\r\n    this.value = value;\r\n  }\r\n\r\n  toString() {\r\n    const text = convertToString(this.value, this.type);\r\n    if(this.parenthesis) {\r\n      return `(${text})`;\r\n    } else {\r\n      return text;\r\n    }\r\n  }\r\n}","import { Expression } from './expression';\r\n\r\nexport class Literal extends Expression {\r\n  \r\n  constructor (type) {\r\n    super();\r\n    this.type = type;\r\n  }\r\n}","import { Literal } from './literal';\r\nimport { Types } from './../../typeSystem/types';\r\nimport { convertToString } from './../../typeSystem/parsers';\r\n\r\nexport class RealLiteral extends Literal {\r\n  \r\n  constructor(value) {\r\n    super(Types.REAL);\r\n    this.value = value;\r\n  }\r\n\r\n  toString() {\r\n    const text = convertToString(this.value, this.type);\r\n    if (this.parenthesis) {\r\n      return `(${text})`;\r\n    } else {\r\n      return text;\r\n    }\r\n  }\r\n}","import { Literal } from './literal';\r\nimport { Types } from './../../typeSystem/types';\r\n\r\nexport class StringLiteral extends Literal {\r\n  \r\n  constructor(value) {\r\n    super(Types.STRING);\r\n    this.value = value;\r\n  }\r\n\r\n  toString() {\r\n    const text = '\"' + this.value + '\"';\r\n    if(this.parenthesis) {\r\n      return `(${text})`;\r\n    } else {\r\n      return text;\r\n    }\r\n  }\r\n}","import {InfixApp} from './infixApp';\r\n\r\nexport class UnaryApp extends InfixApp {\r\n  \r\n  constructor (op, left) {\r\n    super(op, left, null);\r\n  }\r\n\r\n  toString () {\r\n    const l = this.left.toString();\r\n    const op = this.op.value;\r\n    if(this.parenthesis) {\r\n      return `(${op + l})`;\r\n    } else {\r\n      return op + l;\r\n    }\r\n  }\r\n}","import { Literal } from './literal';\r\nimport { Types } from './../../typeSystem/types';\r\n\r\nexport class VariableLiteral extends Literal {\r\n  \r\n  constructor(id) {\r\n    super(Types.UNDEFINED);\r\n    this.id = id;\r\n  }\r\n\r\n  toString () {\r\n    if(this.parenthesis) {\r\n      return `(${this.id})`;\r\n    } else {\r\n      return this.id;\r\n    }\r\n  }\r\n}","import { CommonTokenStream, InputStream } from \"antlr4/index\";\r\nimport * as Expressions from \"./expressions\";\r\nimport * as Commands from \"./commands\";\r\nimport * as AstHelpers from \"./ast_helpers\";\r\nimport * as Parsers from \"../typeSystem/parsers\";\r\nimport { Types } from \"../typeSystem/types\";\r\nimport { ArrayType } from \"../typeSystem/array_type\";\r\nimport { SourceInfo } from \"./sourceInfo\";\r\nimport { convertFromString } from \"./operators\";\r\nimport { SyntaxErrorFactory } from \"./error/syntaxErrorFactory\";\r\nimport { LanguageDefinedFunction } from \"../processor/definedFunctions\";\r\nimport { LanguageService } from \"../services/languageService\";\r\n\r\nexport class IVProgParser {\r\n  static createParser (input) {\r\n    const lexerClass = LanguageService.getCurrentLexer();\r\n    return new IVProgParser(input, lexerClass);\r\n  }\r\n\r\n  // <BEGIN scope consts>\r\n  static get BASE () {\r\n    return 0;\r\n  }\r\n  static get FUNCTION () {\r\n    return 1;\r\n  }\r\n  static get COMMAND () {\r\n    return 2;\r\n  }\r\n  static get BREAKABLE () {\r\n    return 4;\r\n  }\r\n  // </ END scope consts>\r\n\r\n  constructor (input, lexerClass) {\r\n    this.lexerClass = lexerClass;\r\n    this.inputStream = new InputStream(input);\r\n    this.lexer = new lexerClass(this.inputStream);\r\n    this.lexer.recover = AstHelpers.recover.bind(this.lexer);\r\n    this.tokenStream = new CommonTokenStream(this.lexer);\r\n    this.tokenStream.fill();\r\n    this.pos = 1;\r\n    this.variableTypes = [\r\n      this.lexerClass.RK_INTEGER,\r\n      this.lexerClass.RK_REAL,\r\n      this.lexerClass.RK_BOOLEAN,\r\n      this.lexerClass.RK_STRING,\r\n      this.lexerClass.RK_CHARACTER,\r\n    ];\r\n    this.functionTypes = this.variableTypes.concat(this.lexerClass.RK_VOID);\r\n    this.parsingArrayDimension = 0;\r\n    this.scope = [];\r\n    this.langFuncs = LanguageService.getCurrentLangFuncs();\r\n    this.definedFuncsNameList = [];\r\n    this.definedVariablesStack = [];\r\n  }\r\n\r\n  parseTree () {\r\n    return this.parseProgram();\r\n  }\r\n\r\n  getToken (index = this.pos) {\r\n    // if(index === null)\r\n    //   index = this.pos;\r\n    return this.tokenStream.LT(index);\r\n  }\r\n\r\n  insideScope (scope) {\r\n    if (this.scope.length <= 0) {\r\n      return IVProgParser.BASE === scope;\r\n    } else {\r\n      return this.scope[this.scope.length - 1] === scope;\r\n    }\r\n  }\r\n\r\n  pushScope (scope) {\r\n    this.scope.push(scope);\r\n  }\r\n\r\n  pushVariableStack () {\r\n    this.definedVariablesStack.push([]);\r\n  }\r\n\r\n  popScope () {\r\n    return this.scope.pop();\r\n  }\r\n\r\n  popVariableStack () {\r\n    return this.definedVariablesStack.pop();\r\n  }\r\n\r\n  getCurrentVariableStack () {\r\n    return this.definedVariablesStack[this.definedVariablesStack.length - 1];\r\n  }\r\n\r\n  isEOF () {\r\n    this.getToken(this.pos);\r\n    return this.tokenStream.fetchedEOF;\r\n  }\r\n\r\n  parseProgram () {\r\n    this.consumeNewLines();\r\n    const token = this.getToken();\r\n    let globalVars = [];\r\n    let functions = [];\r\n\r\n    if (this.lexerClass.RK_PROGRAM === token.type) {\r\n      this.pos++;\r\n      this.consumeNewLines();\r\n      this.checkOpenCurly();\r\n      this.pos++;\r\n      this.pushVariableStack();\r\n      for (;;) {\r\n        this.consumeNewLines();\r\n        const token = this.getToken();\r\n        if (\r\n          token.type === this.lexerClass.RK_CONST ||\r\n          this.isVariableType(token)\r\n        ) {\r\n          globalVars = globalVars.concat(this.parseGlobalVariables());\r\n        } else if (token.type === this.lexerClass.RK_FUNCTION) {\r\n          this.pushVariableStack();\r\n          functions = functions.concat(this.parseFunction());\r\n          this.popVariableStack();\r\n        } else {\r\n          break;\r\n        }\r\n      }\r\n      this.consumeNewLines();\r\n      this.checkCloseCurly();\r\n      this.pos++;\r\n      this.consumeNewLines();\r\n      if (!this.isEOF()) {\r\n        throw SyntaxErrorFactory.extra_lines();\r\n      }\r\n      this.popVariableStack();\r\n      return { global: globalVars, functions: functions };\r\n    } else {\r\n      throw SyntaxErrorFactory.token_missing_one(\r\n        this.lexer.literalNames[this.lexerClass.RK_PROGRAM],\r\n        token\r\n      );\r\n    }\r\n  }\r\n\r\n  checkOpenCurly (attempt = false) {\r\n    const token = this.getToken();\r\n    if (this.lexerClass.OPEN_CURLY !== token.type) {\r\n      if (!attempt) throw SyntaxErrorFactory.token_missing_one(\"{\", token);\r\n      else return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  checkCloseCurly (attempt = false) {\r\n    const token = this.getToken();\r\n    if (this.lexerClass.CLOSE_CURLY !== token.type) {\r\n      if (!attempt) throw SyntaxErrorFactory.token_missing_one(\"}\", token);\r\n      else return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  /* It checks if the current token at position pos is a ']'.\r\n   * As a check function it doesn't increment pos.\r\n   *\r\n   * @params bool:attempt, indicates that the token is optional. Defaults: false\r\n   *\r\n   * @returns true if the attempt is true and current token is '[',\r\n   *   false is attempt is true and current token is not '['\r\n   **/\r\n  checkOpenBrace (attempt = false) {\r\n    const token = this.getToken();\r\n    if (this.lexerClass.OPEN_BRACE !== token.type) {\r\n      if (!attempt) {\r\n        throw SyntaxErrorFactory.token_missing_one(\"[\", token);\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  checkCloseBrace (attempt = false) {\r\n    const token = this.getToken();\r\n    if (this.lexerClass.CLOSE_BRACE !== token.type) {\r\n      if (!attempt) {\r\n        throw SyntaxErrorFactory.token_missing_one(\"]\", token);\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  checkOpenParenthesis (attempt = false) {\r\n    const token = this.getToken();\r\n    if (this.lexerClass.OPEN_PARENTHESIS !== token.type) {\r\n      if (!attempt) {\r\n        throw SyntaxErrorFactory.token_missing_one(\"(\", token);\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  checkCloseParenthesis (attempt = false) {\r\n    const token = this.getToken();\r\n    if (this.lexerClass.CLOSE_PARENTHESIS !== token.type) {\r\n      if (!attempt) {\r\n        throw SyntaxErrorFactory.token_missing_one(\")\", token);\r\n      } else {\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  checkEOS (attempt = false) {\r\n    const eosToken = this.getToken();\r\n    if (eosToken.type !== this.lexerClass.EOS) {\r\n      if (!attempt) throw SyntaxErrorFactory.eos_missing(eosToken);\r\n      else return false;\r\n    }\r\n    return true;\r\n  }\r\n\r\n  checkFunctionDuplicate (functionID, funcIDToken) {\r\n    const id = functionID === null ? \"$main\" : functionID;\r\n    const index = this.definedFuncsNameList.indexOf(id);\r\n    if (index !== -1) {\r\n      throw SyntaxErrorFactory.duplicate_function(funcIDToken);\r\n    }\r\n    this.definedFuncsNameList.push(id);\r\n  }\r\n\r\n  checkVariableDuplicate (variableID, sourceInfo) {\r\n    const index = this.getCurrentVariableStack().indexOf(variableID);\r\n    if (index !== -1) {\r\n      throw SyntaxErrorFactory.duplicate_variable(sourceInfo);\r\n    }\r\n    this.getCurrentVariableStack().push(variableID);\r\n  }\r\n\r\n  consumeForSemiColon () {\r\n    const eosToken = this.getToken();\r\n    if (eosToken.type === this.lexerClass.EOS && eosToken.text.match(\";\")) {\r\n      this.pos++;\r\n      return;\r\n    }\r\n    throw SyntaxErrorFactory.token_missing_one(\";\", eosToken);\r\n  }\r\n\r\n  parseGlobalVariables () {\r\n    const decl = this.parseMaybeConst();\r\n    this.checkEOS();\r\n    this.pos++;\r\n    return decl;\r\n  }\r\n\r\n  /*\r\n   * Checks if the next token is PR_CONST. It's only available\r\n   * at global variables declaration level\r\n   * @returns Declararion(const, type, id, initVal?)\r\n   **/\r\n  parseMaybeConst () {\r\n    const constToken = this.getToken();\r\n    if (constToken.type === this.lexerClass.RK_CONST) {\r\n      this.pos++;\r\n      const typeString = this.parseType();\r\n      return this.parseDeclaration(typeString, true);\r\n    } else if (this.isVariableType(constToken)) {\r\n      const typeString = this.parseType();\r\n      return this.parseDeclaration(typeString);\r\n    } else {\r\n      throw SyntaxErrorFactory.token_missing_list(\r\n        [this.lexer.literalNames[this.lexerClass.RK_CONST]].concat(\r\n          this.getTypeArray()\r\n        ),\r\n        constToken\r\n      );\r\n    }\r\n  }\r\n\r\n  /*\r\n   * Parses a declarion of the form: type --- id --- (= --- EAnd)?\r\n   * @returns a list of Declararion(const, type, id, initVal?)\r\n   **/\r\n  parseDeclaration (typeString, isConst = false) {\r\n    let initial = null;\r\n    let dim1 = null;\r\n    let dim2 = null;\r\n    let dimensions = 0;\r\n    const sourceInfo = SourceInfo.createSourceInfo(this.getToken());\r\n    const idString = this.parseID();\r\n    this.checkVariableDuplicate(idString, sourceInfo);\r\n    // Check for array or vector\r\n    // ID[int/IDi?][int/IDj?]\r\n    if (this.checkOpenBrace(true)) {\r\n      this.pos += 1;\r\n      this.consumeNewLines();\r\n      dim1 = this.parseArrayDimension();\r\n      this.consumeNewLines();\r\n      this.checkCloseBrace();\r\n      this.pos += 1;\r\n      dimensions += 1;\r\n      if (this.checkOpenBrace(true)) {\r\n        this.pos += 1;\r\n        this.consumeNewLines();\r\n        dim2 = this.parseArrayDimension();\r\n        this.consumeNewLines();\r\n        this.checkCloseBrace();\r\n        this.pos += 1;\r\n        dimensions += 1;\r\n      }\r\n      return this.parseArrayDeclaration(\r\n        typeString,\r\n        isConst,\r\n        idString,\r\n        sourceInfo,\r\n        dimensions,\r\n        dim1,\r\n        dim2\r\n      );\r\n    } else {\r\n      const equalsToken = this.getToken();\r\n      if (isConst && equalsToken.type !== this.lexerClass.EQUAL) {\r\n        throw SyntaxErrorFactory.const_not_init(sourceInfo);\r\n      }\r\n      if (equalsToken.type === this.lexerClass.EQUAL) {\r\n        this.pos++;\r\n        initial = this.parseExpressionOR();\r\n      }\r\n      const declaration = new Commands.Declaration(\r\n        idString,\r\n        typeString,\r\n        initial,\r\n        isConst\r\n      );\r\n      declaration.sourceInfo = sourceInfo;\r\n      const commaToken = this.getToken();\r\n      if (commaToken.type === this.lexerClass.COMMA) {\r\n        this.pos++;\r\n        this.consumeNewLines();\r\n        return [declaration].concat(this.parseDeclaration(typeString, isConst));\r\n      } else {\r\n        return [declaration];\r\n      }\r\n    }\r\n  }\r\n\r\n  parseArrayDeclaration (\r\n    typeString,\r\n    isConst,\r\n    idString,\r\n    sourceInfo,\r\n    dimensions,\r\n    dim1,\r\n    dim2\r\n  ) {\r\n    const equalsToken = this.getToken();\r\n    let n_lines = dim1;\r\n    let n_columns = dim2;\r\n    let initial = null;\r\n    let dim_is_id = false;\r\n    if (\r\n      dim1 instanceof Expressions.VariableLiteral ||\r\n      dim2 instanceof Expressions.VariableLiteral\r\n    ) {\r\n      dim_is_id = true;\r\n      if (dimensions > 1 && (dim1 == null || dim2 == null)) {\r\n        throw SyntaxErrorFactory.invalid_matrix_id_dimension(\r\n          SourceInfo.createSourceInfo(equalsToken)\r\n        );\r\n      }\r\n    }\r\n    if (isConst && equalsToken.type !== this.lexerClass.EQUAL) {\r\n      throw SyntaxErrorFactory.const_not_init(sourceInfo);\r\n    }\r\n    if (equalsToken.type === this.lexerClass.EQUAL) {\r\n      if (dim_is_id) {\r\n        if (dimensions == 1) {\r\n          throw SyntaxErrorFactory.invalid_vector_init(\r\n            SourceInfo.createSourceInfo(equalsToken)\r\n          );\r\n        } else {\r\n          throw SyntaxErrorFactory.invalid_matrix_init(\r\n            SourceInfo.createSourceInfo(equalsToken)\r\n          );\r\n        }\r\n      }\r\n      this.pos += 1;\r\n      initial = this.parseArrayLiteral(typeString);\r\n    }\r\n    if (initial == null && dim1 == null) {\r\n      if (dimensions > 1) {\r\n        throw SyntaxErrorFactory.cannot_infer_matrix_line(idString, sourceInfo);\r\n      }\r\n      throw SyntaxErrorFactory.cannot_infer_vector_size(idString, sourceInfo);\r\n    }\r\n    if (dimensions > 1) {\r\n      if (initial == null && dim2 == null) {\r\n        throw SyntaxErrorFactory.cannot_infer_matrix_column(\r\n          idString,\r\n          sourceInfo\r\n        );\r\n      }\r\n    }\r\n\r\n    if (dimensions === 1 && initial != null && !initial.isVector) {\r\n      const expString = initial.toString();\r\n      throw SyntaxErrorFactory.matrix_to_vector_literal_attr(\r\n        idString,\r\n        expString,\r\n        initial.sourceInfo\r\n      );\r\n    } else if (dimensions > 1 && initial != null && initial.isVector) {\r\n      const expString = initial.toString();\r\n      throw SyntaxErrorFactory.vector_to_matrix_literal_attr(\r\n        idString,\r\n        expString,\r\n        initial.sourceInfo\r\n      );\r\n    }\r\n\r\n    if (dim1 == null) {\r\n      n_lines = new Expressions.IntLiteral(Parsers.toInt(initial.lines));\r\n      n_lines.sourceInfo = sourceInfo;\r\n    }\r\n\r\n    if (dimensions > 1) {\r\n      if (dim2 == null) {\r\n        n_columns = new Expressions.IntLiteral(Parsers.toInt(initial.columns));\r\n        n_columns.sourceInfo = sourceInfo;\r\n      }\r\n    }\r\n    const declaration = new Commands.ArrayDeclaration(\r\n      idString,\r\n      new ArrayType(typeString, dimensions),\r\n      n_lines,\r\n      n_columns,\r\n      initial,\r\n      isConst\r\n    );\r\n    declaration.sourceInfo = sourceInfo;\r\n    const commaToken = this.getToken();\r\n    if (commaToken.type === this.lexerClass.COMMA) {\r\n      this.pos++;\r\n      this.consumeNewLines();\r\n      return [declaration].concat(this.parseDeclaration(typeString, isConst));\r\n    } else {\r\n      return [declaration];\r\n    }\r\n  }\r\n\r\n  consumeNewLines () {\r\n    let token = this.getToken();\r\n    while (token.type === this.lexerClass.EOS && token.text.match(\"[\\r\\n]+\")) {\r\n      this.pos++;\r\n      token = this.getToken();\r\n    }\r\n  }\r\n\r\n  isVariableType (token) {\r\n    return this.variableTypes.find((v) => v === token.type);\r\n  }\r\n\r\n  /*\r\n   * Reads the next token of the stream to check if it is a Integer or an ID.\r\n   * @returns Integer | ID\r\n   **/\r\n  parseArrayDimension () {\r\n    const dimToken = this.getToken();\r\n    if (dimToken.type === this.lexerClass.INTEGER) {\r\n      //parse as int literal\r\n      this.pos++;\r\n      return this.getIntLiteral(dimToken);\r\n    } else if (dimToken.type === this.lexerClass.ID) {\r\n      //parse as variable\r\n      this.pos++;\r\n      return this.parseVariable(dimToken);\r\n    } else if (dimToken.type === this.lexerClass.CLOSE_BRACE) {\r\n      return null;\r\n    } else {\r\n      throw SyntaxErrorFactory.invalid_array_dimension(\r\n        this.lexer.literalNames[this.lexerClass.RK_INTEGER],\r\n        dimToken\r\n      );\r\n    }\r\n  }\r\n\r\n  /*\r\n   * Returns an object {type: 'int', value: value}.\r\n   * It checks for binary and hexadecimal integers.\r\n   * @returns object with fields type and value\r\n   **/\r\n  getIntLiteral (token) {\r\n    const text = token.text;\r\n    const sourceInfo = SourceInfo.createSourceInfo(token);\r\n    const exp = new Expressions.IntLiteral(Parsers.toInt(text));\r\n    exp.sourceInfo = sourceInfo;\r\n    return exp;\r\n  }\r\n\r\n  getRealLiteral (token) {\r\n    const sourceInfo = SourceInfo.createSourceInfo(token);\r\n    const exp = new Expressions.RealLiteral(Parsers.toReal(token.text));\r\n    exp.sourceInfo = sourceInfo;\r\n    return exp;\r\n  }\r\n\r\n  getStringLiteral (token) {\r\n    const text = token.text;\r\n    const sourceInfo = SourceInfo.createSourceInfo(token);\r\n    const exp = new Expressions.StringLiteral(Parsers.toString(text));\r\n    exp.sourceInfo = sourceInfo;\r\n    return exp;\r\n  }\r\n\r\n  getCharLiteral (token) {\r\n    const text = token.text;\r\n    const exp = new Expressions.CharLiteral(Parsers.toChar(text));\r\n    exp.sourceInfo = SourceInfo.createSourceInfo(token);\r\n    return exp;\r\n  }\r\n\r\n  getBoolLiteral (token) {\r\n    const val = Parsers.toBool(token.text);\r\n    const exp = new Expressions.BoolLiteral(val);\r\n    exp.sourceInfo = SourceInfo.createSourceInfo(token);\r\n    return exp;\r\n  }\r\n\r\n  parseArrayLiteral (typeString) {\r\n    const openCurly = this.checkOpenCurly(true);\r\n    if (!openCurly) {\r\n      const invalid_token = this.getToken();\r\n      throw SyntaxErrorFactory.array_init_not_literal(\r\n        SourceInfo.createSourceInfo(invalid_token)\r\n      );\r\n    }\r\n    const beginArray = this.getToken();\r\n    if (this.parsingArrayDimension >= 2) {\r\n      throw SyntaxErrorFactory.array_exceeds_2d(\r\n        SourceInfo.createSourceInfo(beginArray)\r\n      );\r\n    }\r\n    this.pos += 1;\r\n    this.parsingArrayDimension += 1;\r\n    this.consumeNewLines();\r\n    let data = null;\r\n    const maybeCurlyOpen = this.checkOpenCurly(true);\r\n    if (maybeCurlyOpen) {\r\n      // This is potentially a list of vectors\r\n      data = this.parseVectorList(typeString);\r\n    } else {\r\n      data = this.parseExpressionList();\r\n    }\r\n    this.consumeNewLines();\r\n    this.checkCloseCurly();\r\n    const endArray = this.getToken();\r\n    this.pos += 1;\r\n    this.parsingArrayDimension -= 1;\r\n    const sourceInfo = SourceInfo.createSourceInfoFromList(\r\n      beginArray,\r\n      endArray\r\n    );\r\n    let dataDim = 1;\r\n    if (data[0] instanceof Expressions.ArrayLiteral) {\r\n      dataDim += 1;\r\n    } else if (data.length == 1) {\r\n      console.log(\"Talvez uma varivel seja uma melhor opo\");\r\n    }\r\n    const type = new ArrayType(typeString, dataDim);\r\n    const exp = new Expressions.ArrayLiteral(type, data);\r\n    exp.sourceInfo = sourceInfo;\r\n    return exp;\r\n  }\r\n\r\n  /**\r\n   * Returns a list of ArrayLiterals. Helper function for parsing matrices\r\n   */\r\n  parseVectorList (typeString) {\r\n    const list = [];\r\n    let lastSize = null;\r\n    for (;;) {\r\n      this.checkOpenCurly();\r\n      const beginArray = this.getToken();\r\n      if (this.parsingArrayDimension >= 2) {\r\n        throw SyntaxErrorFactory.array_exceeds_2d(\r\n          SourceInfo.createSourceInfo(beginArray)\r\n        );\r\n      }\r\n      this.pos += 1;\r\n      this.parsingArrayDimension += 1;\r\n      this.consumeNewLines();\r\n      const data = this.parseExpressionList();\r\n      this.consumeNewLines();\r\n      this.checkCloseCurly();\r\n      const endArray = this.getToken();\r\n      this.pos += 1;\r\n      this.parsingArrayDimension -= 1;\r\n      const sourceInfo = SourceInfo.createSourceInfoFromList(\r\n        beginArray,\r\n        endArray\r\n      );\r\n      if (lastSize == null) {\r\n        lastSize = data.length;\r\n      } else if (lastSize !== data.length) {\r\n        const expString = this.inputStream.getText(\r\n          beginArray.start,\r\n          endArray.stop\r\n        );\r\n        throw SyntaxErrorFactory.invalid_matrix_literal_line(\r\n          expString,\r\n          sourceInfo\r\n        );\r\n      }\r\n      const type = new ArrayType(typeString, 1);\r\n      const exp = new Expressions.ArrayLiteral(type, data);\r\n      exp.sourceInfo = sourceInfo;\r\n      list.push(exp);\r\n      const commaToken = this.getToken();\r\n      if (commaToken.type !== this.lexerClass.COMMA) {\r\n        break;\r\n      }\r\n      this.pos += 1;\r\n      this.consumeNewLines();\r\n    }\r\n    if (list.length == 1) {\r\n      console.log(\"Talvez um vetor seja uma melhor opo\");\r\n    }\r\n    return list;\r\n  }\r\n\r\n  /*\r\n   * Returns an object {type: 'variable', value: value}.\r\n   * @returns object with fields type and value\r\n   **/\r\n  parseVariable (token) {\r\n    const sourceInfo = SourceInfo.createSourceInfo(token);\r\n    const exp = new Expressions.VariableLiteral(token.text);\r\n    exp.sourceInfo = sourceInfo;\r\n    return exp;\r\n  }\r\n\r\n  /*\r\n   * Returns an object representing a function. It has\r\n   * four attributes: returnType, id, formalParams and block.\r\n   * The block object has two attributes: declarations and commands\r\n   **/\r\n  parseFunction () {\r\n    this.pushScope(IVProgParser.FUNCTION);\r\n    let formalParams = [];\r\n    const token = this.getToken();\r\n    if (token.type !== this.lexerClass.RK_FUNCTION) {\r\n      //throw SyntaxError.createError(this.lexer.literalNames[this.lexerClass.PR_FUNCAO], token);\r\n      return null;\r\n    }\r\n    this.pos++;\r\n    const funType = this.parseType();\r\n    let dimensions = 0;\r\n    if (this.checkOpenBrace(true)) {\r\n      this.pos++;\r\n      this.checkCloseBrace();\r\n      this.pos++;\r\n      dimensions++;\r\n      if (this.checkOpenBrace(true)) {\r\n        this.pos++;\r\n        this.checkCloseBrace();\r\n        this.pos++;\r\n        dimensions++;\r\n      }\r\n    }\r\n    const funcIDToken = this.getToken();\r\n    const functionID = this.parseID();\r\n    this.checkFunctionDuplicate(functionID, funcIDToken);\r\n    this.checkOpenParenthesis();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    if (!this.checkCloseParenthesis(true)) {\r\n      formalParams = this.parseFormalParameters(); // formal parameters\r\n      this.consumeNewLines();\r\n      this.checkCloseParenthesis();\r\n      this.pos++;\r\n    } else {\r\n      this.pos++;\r\n    }\r\n    this.consumeNewLines();\r\n    const commandsBlock = this.parseCommandBlock();\r\n    let returnType = funType;\r\n    if (dimensions > 0) {\r\n      returnType = new ArrayType(funType, dimensions);\r\n    }\r\n    const func = new Commands.Function(\r\n      functionID,\r\n      returnType,\r\n      formalParams,\r\n      commandsBlock\r\n    );\r\n    if (functionID === null && !func.isMain) {\r\n      throw SyntaxErrorFactory.invalid_main_return(\r\n        LanguageDefinedFunction.getMainFunctionName(),\r\n        this.lexer.literalNames[this.lexerClass.RK_VOID],\r\n        token.line\r\n      );\r\n    } else if (func.isMain && formalParams.length !== 0) {\r\n      throw SyntaxErrorFactory.main_parameters();\r\n    }\r\n    this.popScope();\r\n    return func;\r\n  }\r\n\r\n  /*\r\n   * Parse the formal parameters of a function.\r\n   * @returns a list of objects with the following attributes: type, id and dimensions.\r\n   **/\r\n  parseFormalParameters () {\r\n    const list = [];\r\n    for (;;) {\r\n      let dimensions = 0;\r\n      let reference = false;\r\n      const typeString = this.parseType();\r\n      let maybeIDToken = this.getToken();\r\n      if (maybeIDToken.type === this.lexerClass.RK_REFERENCE) {\r\n        reference = true;\r\n        this.pos += 1;\r\n        maybeIDToken = this.getToken();\r\n      }\r\n      const idString = this.parseID();\r\n      this.checkVariableDuplicate(idString, maybeIDToken);\r\n      if (this.checkOpenBrace(true)) {\r\n        this.pos += 1;\r\n        dimensions += 1;\r\n        this.checkCloseBrace();\r\n        this.pos += 1;\r\n        if (this.checkOpenBrace(true)) {\r\n          this.pos += 1;\r\n          dimensions += 1;\r\n          this.checkCloseBrace();\r\n          this.pos += 1;\r\n        }\r\n      }\r\n      let type = null;\r\n      if (dimensions > 0) {\r\n        type = new ArrayType(typeString, dimensions);\r\n      } else {\r\n        type = typeString;\r\n      }\r\n      const parameter = new Commands.FormalParameter(type, idString, reference);\r\n      parameter.sourceInfo = SourceInfo.createSourceInfo(maybeIDToken);\r\n      list.push(parameter);\r\n      const commaToken = this.getToken();\r\n      if (commaToken.type !== this.lexerClass.COMMA) break;\r\n      this.pos++;\r\n      this.consumeNewLines();\r\n    }\r\n    return list;\r\n  }\r\n\r\n  parseID () {\r\n    const token = this.getToken();\r\n    if (token.type !== this.lexerClass.ID) {\r\n      throw SyntaxErrorFactory.id_missing(token);\r\n    }\r\n    this.pos++;\r\n    if (this.insideScope(IVProgParser.FUNCTION)) {\r\n      if (token.text === LanguageDefinedFunction.getMainFunctionName()) {\r\n        return null;\r\n      }\r\n    }\r\n    return token.text;\r\n  }\r\n\r\n  parseMaybeLibID () {\r\n    const token = this.getToken();\r\n    if (\r\n      token.type !== this.lexerClass.ID &&\r\n      token.type !== this.lexerClass.LIB_ID\r\n    ) {\r\n      throw SyntaxErrorFactory.id_missing(token);\r\n    }\r\n    this.pos++;\r\n    return token.text;\r\n  }\r\n\r\n  parseType () {\r\n    const token = this.getToken();\r\n    if (\r\n      token.type === this.lexerClass.ID &&\r\n      this.insideScope(IVProgParser.FUNCTION)\r\n    ) {\r\n      return Types.VOID;\r\n    } else if (\r\n      token.type === this.lexerClass.RK_VOID &&\r\n      this.insideScope(IVProgParser.FUNCTION)\r\n    ) {\r\n      this.pos++;\r\n      return Types.VOID;\r\n    } else if (this.isVariableType(token)) {\r\n      this.pos++;\r\n      switch (token.type) {\r\n        case this.lexerClass.RK_INTEGER:\r\n          return Types.INTEGER;\r\n        case this.lexerClass.RK_BOOLEAN:\r\n          return Types.BOOLEAN;\r\n        case this.lexerClass.RK_REAL:\r\n          return Types.REAL;\r\n        case this.lexerClass.RK_STRING:\r\n          return Types.STRING;\r\n        case this.lexerClass.RK_CHARACTER:\r\n          return Types.CHAR;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n\r\n    throw SyntaxErrorFactory.invalid_type(this.getTypeArray(), token);\r\n  }\r\n\r\n  parseCommandBlock (optionalCurly = false) {\r\n    let variablesDecl = [];\r\n    const commands = [];\r\n    let hasOpen = false;\r\n    if (this.checkOpenCurly(optionalCurly)) {\r\n      this.pos++;\r\n      hasOpen = true;\r\n    }\r\n    this.consumeNewLines();\r\n    let parsedCommand = false;\r\n    for (;;) {\r\n      const cmd = this.parseCommand();\r\n      if (cmd === null) break;\r\n      if (cmd !== -1) {\r\n        if (cmd instanceof Array) {\r\n          if (parsedCommand) {\r\n            const lastToken = this.getToken(this.pos - 1);\r\n            throw SyntaxErrorFactory.invalid_var_declaration(lastToken);\r\n          }\r\n          variablesDecl = variablesDecl.concat(cmd);\r\n        } else {\r\n          parsedCommand = true;\r\n          commands.push(cmd);\r\n        }\r\n      }\r\n    }\r\n    this.consumeNewLines();\r\n    if (hasOpen) {\r\n      this.checkCloseCurly();\r\n      this.pos++;\r\n      this.consumeNewLines();\r\n    }\r\n    return new Commands.CommandBlock(variablesDecl, commands);\r\n  }\r\n\r\n  parseCommand () {\r\n    const token = this.getToken();\r\n    if (this.isVariableType(token)) {\r\n      if (!this.insideScope(IVProgParser.FUNCTION)) {\r\n        throw SyntaxErrorFactory.invalid_var_declaration(token);\r\n      }\r\n      this.pushScope(IVProgParser.BASE);\r\n      const varType = this.parseType();\r\n      this.popScope();\r\n      const cmd = this.parseDeclaration(varType);\r\n      this.checkEOS();\r\n      this.pos++;\r\n      return cmd;\r\n    } else if (token.type === this.lexerClass.ID) {\r\n      return this.parseIDCommand();\r\n    } else if (token.type === this.lexerClass.LIB_ID) {\r\n      return this.parseIDCommand();\r\n    } else if (token.type === this.lexerClass.RK_RETURN) {\r\n      return this.parseReturn();\r\n    } else if (\r\n      token.type === this.lexerClass.RK_WHILE ||\r\n      token.type === this.lexerClass.RK_WHILE_ALT\r\n    ) {\r\n      return this.parseWhile();\r\n    } else if (\r\n      token.type === this.lexerClass.RK_FOR ||\r\n      token.type === this.lexerClass.RK_FOR_ALT\r\n    ) {\r\n      return this.parseFor();\r\n    } else if (token.type === this.lexerClass.RK_BREAK) {\r\n      if (!this.insideScope(IVProgParser.BREAKABLE)) {\r\n        throw SyntaxErrorFactory.invalid_break_command(\r\n          this.lexer.literalNames[this.lexerClass.RK_BREAK],\r\n          token\r\n        );\r\n      }\r\n      return this.parseBreak();\r\n    } else if (token.type === this.lexerClass.RK_SWITCH) {\r\n      return this.parseSwitchCase();\r\n    } else if (token.type === this.lexerClass.RK_DO) {\r\n      return this.parseRepeatUntil();\r\n    } else if (token.type === this.lexerClass.RK_IF) {\r\n      return this.parseIfThenElse();\r\n    } else if (this.checkEOS(true)) {\r\n      this.pos++;\r\n      return -1;\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  parseSwitchCase () {\r\n    this.pushScope(IVProgParser.BREAKABLE);\r\n    this.pos++;\r\n    this.checkOpenParenthesis();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    const exp = this.parseExpressionOR();\r\n    this.consumeNewLines();\r\n    this.checkCloseParenthesis();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    this.checkOpenCurly();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    const casesList = this.parseCases();\r\n    this.consumeNewLines();\r\n    this.checkCloseCurly();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n\r\n    this.popScope();\r\n    return new Commands.Switch(exp, casesList);\r\n  }\r\n\r\n  parseRepeatUntil () {\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    this.pushScope(IVProgParser.BREAKABLE);\r\n    const commandsBlock = this.parseCommandBlock();\r\n    this.consumeNewLines(); //Maybe not...\r\n    const whileToken = this.getToken();\r\n    if (whileToken.type !== this.lexerClass.RK_DO_UNTIL) {\r\n      throw SyntaxErrorFactory.token_missing_one(\r\n        this.lexer.literalNames[this.lexerClass.RK_DO_UNTIL],\r\n        whileToken\r\n      );\r\n    }\r\n    this.pos++;\r\n    this.checkOpenParenthesis();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    const condition = this.parseExpressionOR();\r\n    this.consumeNewLines();\r\n    this.checkCloseParenthesis();\r\n    this.pos++;\r\n    this.checkEOS();\r\n    this.popScope();\r\n    return new Commands.RepeatUntil(condition, commandsBlock);\r\n  }\r\n\r\n  parseIfThenElse () {\r\n    if (this.insideScope(IVProgParser.BREAKABLE)) {\r\n      this.pushScope(IVProgParser.BREAKABLE);\r\n    } else {\r\n      this.pushScope(IVProgParser.COMMAND);\r\n    }\r\n    const token = this.getToken();\r\n    this.pos++;\r\n    this.checkOpenParenthesis();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    const logicalExpression = this.parseExpressionOR();\r\n    this.consumeNewLines();\r\n    this.checkCloseParenthesis();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    const cmdBlocks = this.parseCommandBlock();\r\n\r\n    const maybeElse = this.getToken();\r\n    if (maybeElse.type === this.lexerClass.RK_ELSE) {\r\n      this.pos++;\r\n      this.consumeNewLines();\r\n      const maybeIf = this.getToken();\r\n      let elseBlock = null;\r\n      if (this.checkOpenCurly(true)) {\r\n        elseBlock = this.parseCommandBlock();\r\n      } else if (maybeIf.type === this.lexerClass.RK_IF) {\r\n        elseBlock = this.parseIfThenElse();\r\n      } else {\r\n        throw SyntaxErrorFactory.token_missing_list(\r\n          [this.lexer.literalNames[this.lexerClass.RK_IF], \"{\"],\r\n          maybeIf\r\n        );\r\n      }\r\n      this.popScope();\r\n      const cmd = new Commands.IfThenElse(\r\n        logicalExpression,\r\n        cmdBlocks,\r\n        elseBlock\r\n      );\r\n      cmd.sourceInfo = SourceInfo.createSourceInfo(token);\r\n      return cmd;\r\n    }\r\n    this.popScope();\r\n\r\n    const cmd = new Commands.IfThenElse(logicalExpression, cmdBlocks, null);\r\n    cmd.sourceInfo = SourceInfo.createSourceInfo(token);\r\n    return cmd;\r\n  }\r\n\r\n  parseFor () {\r\n    this.pushScope(IVProgParser.BREAKABLE);\r\n    const for_token = this.getToken();\r\n    this.pos += 1;\r\n    // parse ID\r\n    const id_token = this.getToken();\r\n    const id = this.parseID();\r\n    const for_id = new Expressions.VariableLiteral(id);\r\n    for_id.sourceInfo = SourceInfo.createSourceInfo(id_token);\r\n    // END parse ID\r\n    const for_from = this.parseForParameters(this.lexerClass.RK_FOR_FROM);\r\n    const for_to = this.parseForParameters(this.lexerClass.RK_FOR_TO);\r\n    const maybePass = this.parseForParameters(this.lexerClass.RK_FOR_PASS);\r\n    this.consumeNewLines();\r\n    const commandsBlock = this.parseCommandBlock();\r\n    this.popScope();\r\n    const cmd = new Commands.For(\r\n      for_id,\r\n      for_from,\r\n      for_to,\r\n      maybePass,\r\n      commandsBlock\r\n    );\r\n    cmd.sourceInfo = SourceInfo.createSourceInfo(for_token);\r\n    return cmd;\r\n  }\r\n\r\n  parseWhile () {\r\n    this.pushScope(IVProgParser.BREAKABLE);\r\n    const token = this.getToken();\r\n    this.pos++;\r\n    this.checkOpenParenthesis();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    const logicalExpression = this.parseExpressionOR();\r\n    this.consumeNewLines();\r\n    this.checkCloseParenthesis();\r\n    this.pos++;\r\n    this.consumeNewLines();\r\n    const cmdBlocks = this.parseCommandBlock();\r\n    this.popScope();\r\n    const cmd = new Commands.While(logicalExpression, cmdBlocks);\r\n    cmd.sourceInfo = SourceInfo.createSourceInfo(token);\r\n    return cmd;\r\n  }\r\n\r\n  parseBreak () {\r\n    const token = this.getToken();\r\n    this.pos++;\r\n    this.checkEOS();\r\n    this.pos++;\r\n    const command = new Commands.Break();\r\n    command.sourceInfo = SourceInfo.createSourceInfo(token);\r\n    return command;\r\n  }\r\n\r\n  parseReturn () {\r\n    this.pos++;\r\n    let exp = null;\r\n    if (!this.checkEOS(true)) {\r\n      exp = this.parseExpressionOR();\r\n      this.checkEOS();\r\n    }\r\n    this.pos++;\r\n    return new Commands.Return(exp);\r\n  }\r\n\r\n  parseIDCommand () {\r\n    const refToken = this.getToken();\r\n    const isID = refToken.type === this.lexerClass.ID;\r\n    const id = this.parseMaybeLibID();\r\n    if (this.checkOpenBrace(true)) {\r\n      this.pos++;\r\n      let lineExpression = null;\r\n      let columnExpression = null;\r\n      this.consumeNewLines();\r\n      lineExpression = this.parseExpression();\r\n      this.consumeNewLines();\r\n      this.checkCloseBrace();\r\n      this.pos++;\r\n      if (this.checkOpenBrace(true)) {\r\n        this.pos++;\r\n        this.consumeNewLines();\r\n        columnExpression = this.parseExpression();\r\n        this.consumeNewLines();\r\n        this.checkCloseBrace();\r\n        this.pos++;\r\n      }\r\n      const equalToken = this.getToken();\r\n      if (equalToken.type !== this.lexerClass.EQUAL) {\r\n        throw SyntaxErrorFactory.token_missing_one(\"=\", equalToken);\r\n      }\r\n      this.pos++;\r\n      const exp = this.parseExpressionOR();\r\n      this.checkEOS();\r\n      this.pos++;\r\n      const cmd = new Commands.ArrayIndexAssign(\r\n        id,\r\n        lineExpression,\r\n        columnExpression,\r\n        exp\r\n      );\r\n      cmd.sourceInfo = SourceInfo.createSourceInfo(equalToken);\r\n      return cmd;\r\n    }\r\n    const equalOrParenthesis = this.getToken();\r\n    if (isID && equalOrParenthesis.type === this.lexerClass.EQUAL) {\r\n      this.pos++;\r\n      const exp = this.parseExpressionOR();\r\n      this.checkEOS();\r\n      this.pos++;\r\n      const cmd = new Commands.Assign(id, exp);\r\n      cmd.sourceInfo = SourceInfo.createSourceInfo(equalOrParenthesis);\r\n      return cmd;\r\n    } else if (equalOrParenthesis.type === this.lexerClass.OPEN_PARENTHESIS) {\r\n      const funcCall = this.parseFunctionCallCommand(id);\r\n      this.checkEOS();\r\n      this.pos++;\r\n      return funcCall;\r\n    } else if (isID) {\r\n      throw SyntaxErrorFactory.token_missing_list(\r\n        [\"=\", \"(\"],\r\n        equalOrParenthesis\r\n      );\r\n    } else {\r\n      throw SyntaxErrorFactory.invalid_id_format(refToken);\r\n    }\r\n  }\r\n\r\n  parseForParameters (keyword_code) {\r\n    if (keyword_code === this.lexerClass.RK_FOR_PASS) {\r\n      if (this.checkOpenCurly(true)) {\r\n        return null;\r\n      }\r\n    }\r\n    const from_token = this.getToken();\r\n    if (from_token.type !== keyword_code) {\r\n      // TODO better error message\r\n      const keyword = this.lexer.literalNames[keyword_code];\r\n      throw new Error(\r\n        \"Error de sintaxe no comando repita_para: esperava-se \" +\r\n          keyword +\r\n          \" mas encontrou \" +\r\n          from_token.text\r\n      );\r\n    }\r\n    this.pos += 1;\r\n    let int_or_id = this.getToken();\r\n    let is_unary_op = false;\r\n    let op = null;\r\n    if (int_or_id.type === this.lexerClass.SUM_OP) {\r\n      is_unary_op = true;\r\n      op = int_or_id.text;\r\n      this.pos += 1;\r\n      int_or_id = this.getToken();\r\n    }\r\n    let for_from = null;\r\n    if (int_or_id.type === this.lexerClass.ID) {\r\n      for_from = new Expressions.VariableLiteral(this.parseID());\r\n      for_from.sourceInfo = SourceInfo.createSourceInfo(int_or_id);\r\n    } else if (int_or_id.type === this.lexerClass.INTEGER) {\r\n      this.pos += 1;\r\n      for_from = this.getIntLiteral(int_or_id);\r\n    }\r\n    if (for_from == null) {\r\n      // TODO better error message\r\n      const keyword = this.lexer.literalNames[keyword_code];\r\n      throw new Error(\r\n        \"Error de sintaxe no comando repeita_para: \" +\r\n          int_or_id.text +\r\n          \" no  compativel com o esperado para o paramentro \" +\r\n          keyword +\r\n          \". O valor deve ser um inteiro ou varivel.\"\r\n      );\r\n    }\r\n    if (is_unary_op) {\r\n      for_from = new Expressions.UnaryApp(convertFromString(op), for_from);\r\n    }\r\n    return for_from;\r\n  }\r\n\r\n  parseCases () {\r\n    const token = this.getToken();\r\n    if (token.type !== this.lexerClass.RK_CASE) {\r\n      throw SyntaxErrorFactory.token_missing_one(\r\n        this.lexer.literalNames[this.lexerClass.RK_CASE],\r\n        token\r\n      );\r\n    }\r\n    this.pos++;\r\n    const nextToken = this.getToken();\r\n    if (nextToken.type === this.lexerClass.RK_DEFAULT) {\r\n      this.pos++;\r\n      const colonToken = this.getToken();\r\n      if (colonToken.type !== this.lexerClass.COLON) {\r\n        throw SyntaxErrorFactory.token_missing_one(\":\", colonToken);\r\n      }\r\n      this.pos++;\r\n      this.consumeNewLines();\r\n      const block = this.parseCommandBlock(true);\r\n      const defaultCase = new Commands.Case(null);\r\n      defaultCase.setCommands(block.commands);\r\n      return [defaultCase];\r\n    } else {\r\n      const exp = this.parseExpressionOR();\r\n      const colonToken = this.getToken();\r\n      if (colonToken.type !== this.lexerClass.COLON) {\r\n        throw SyntaxErrorFactory.token_missing_one(\":\", colonToken);\r\n      }\r\n      this.pos++;\r\n      this.consumeNewLines();\r\n      const block = this.parseCommandBlock(true);\r\n      const aCase = new Commands.Case(exp);\r\n      aCase.setCommands(block.commands);\r\n      const caseToken = this.getToken();\r\n      if (caseToken.type === this.lexerClass.RK_CASE) {\r\n        return [aCase].concat(this.parseCases());\r\n      } else {\r\n        return [aCase];\r\n      }\r\n    }\r\n  }\r\n\r\n  /*\r\n   * Parses an Expression following the structure:\r\n   *\r\n   * EOR  => EAnd ( 'or' EOR)? #expression and\r\n   *\r\n   * EOR   => ENot ('and' EOR)? #expression or\r\n   *\r\n   * ENot  => 'not'? ER #expression not\r\n   *\r\n   * ER    => E ((>=, <=, ==, >, <) E)? #expression relational\r\n   *\r\n   * E     => factor ((+, -) E)? #expression\r\n   *\r\n   * factor=> term ((*, /, %) factor)?\r\n   *\r\n   * term  => literal || arrayAccess || FuncCall || ID || '('EAnd')'\r\n   **/\r\n  parseExpressionOR () {\r\n    let exp1 = this.parseExpressionAND();\r\n    while (this.getToken().type === this.lexerClass.OR_OPERATOR) {\r\n      const opToken = this.getToken();\r\n      this.pos++;\r\n      const or = convertFromString(\"or\");\r\n      this.consumeNewLines();\r\n      const exp2 = this.parseExpressionAND();\r\n      const finalExp = new Expressions.InfixApp(or, exp1, exp2);\r\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(opToken);\r\n      exp1 = finalExp;\r\n    }\r\n    return exp1;\r\n  }\r\n\r\n  parseExpressionAND () {\r\n    let exp1 = this.parseExpressionNot();\r\n    while (this.getToken().type === this.lexerClass.AND_OPERATOR) {\r\n      const opToken = this.getToken();\r\n      this.pos++;\r\n      const and = convertFromString(\"and\");\r\n      this.consumeNewLines();\r\n      const exp2 = this.parseExpressionNot();\r\n      const finalExp = new Expressions.InfixApp(and, exp1, exp2);\r\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(opToken);\r\n      exp1 = finalExp;\r\n    }\r\n    return exp1;\r\n  }\r\n\r\n  parseExpressionNot () {\r\n    const maybeNotToken = this.getToken();\r\n    if (maybeNotToken.type === this.lexerClass.NOT_OPERATOR) {\r\n      const opToken = this.getToken();\r\n      this.pos++;\r\n      const not = convertFromString(\"not\");\r\n      const exp1 = this.parseExpressionRel();\r\n      const finalExp = new Expressions.UnaryApp(not, exp1);\r\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(opToken);\r\n      return finalExp;\r\n    } else {\r\n      return this.parseExpressionRel();\r\n    }\r\n  }\r\n\r\n  parseExpressionRel () {\r\n    let exp1 = this.parseExpression();\r\n    while (this.getToken().type === this.lexerClass.RELATIONAL_OPERATOR) {\r\n      const relToken = this.getToken();\r\n      this.pos++;\r\n      const rel = convertFromString(relToken.text);\r\n      const exp2 = this.parseExpression();\r\n      const finalExp = new Expressions.InfixApp(rel, exp1, exp2);\r\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(relToken);\r\n      exp1 = finalExp;\r\n    }\r\n    return exp1;\r\n  }\r\n\r\n  parseExpression () {\r\n    let factor = this.parseFactor();\r\n    while (this.getToken().type === this.lexerClass.SUM_OP) {\r\n      const sumOpToken = this.getToken();\r\n      this.pos++;\r\n      const op = convertFromString(sumOpToken.text);\r\n      const factor2 = this.parseFactor();\r\n      const finalExp = new Expressions.InfixApp(op, factor, factor2);\r\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(sumOpToken);\r\n      factor = finalExp;\r\n    }\r\n    return factor;\r\n  }\r\n\r\n  parseFactor () {\r\n    let term = this.parseTerm();\r\n    while (this.getToken().type === this.lexerClass.MULTI_OP) {\r\n      const multOpToken = this.getToken();\r\n      this.pos++;\r\n      const op = convertFromString(multOpToken.text);\r\n      const term2 = this.parseTerm();\r\n      const finalExp = new Expressions.InfixApp(op, term, term2);\r\n      finalExp.sourceInfo = SourceInfo.createSourceInfo(multOpToken);\r\n      term = finalExp;\r\n    }\r\n    return term;\r\n  }\r\n\r\n  parseTerm () {\r\n    const token = this.getToken();\r\n    let sourceInfo = null;\r\n    let exp = null;\r\n    switch (token.type) {\r\n      case this.lexerClass.SUM_OP:\r\n        this.pos++;\r\n        sourceInfo = SourceInfo.createSourceInfo(token);\r\n        exp = new Expressions.UnaryApp(\r\n          convertFromString(token.text),\r\n          this.parseTerm()\r\n        );\r\n        exp.sourceInfo = sourceInfo;\r\n        return exp;\r\n      case this.lexerClass.INTEGER:\r\n        this.pos++;\r\n        return this.getIntLiteral(token);\r\n      case this.lexerClass.REAL:\r\n        this.pos++;\r\n        return this.getRealLiteral(token);\r\n      case this.lexerClass.STRING:\r\n        this.pos++;\r\n        return this.getStringLiteral(token);\r\n      case this.lexerClass.CHARACTER:\r\n        this.pos++;\r\n        return this.getCharLiteral(token);\r\n      case this.lexerClass.RK_TRUE:\r\n      case this.lexerClass.RK_FALSE:\r\n        this.pos++;\r\n        return this.getBoolLiteral(token);\r\n      case this.lexerClass.OPEN_CURLY:\r\n        // No more annonymous array\r\n        // return this.parseArrayLiteral();\r\n        throw SyntaxErrorFactory.annonymous_array_literal(token);\r\n      case this.lexerClass.ID:\r\n      case this.lexerClass.LIB_ID:\r\n        return this.parseIDTerm();\r\n      case this.lexerClass.OPEN_PARENTHESIS:\r\n        return this.parseParenthesisExp();\r\n      default:\r\n        throw SyntaxErrorFactory.invalid_terminal(token);\r\n    }\r\n  }\r\n\r\n  parseIDTerm () {\r\n    const tokenA = this.getToken();\r\n    const id = this.parseMaybeLibID();\r\n    const isID = tokenA.type === this.lexerClass.ID;\r\n    if (isID && this.checkOpenBrace(true)) {\r\n      let tokenB = null;\r\n      this.pos++;\r\n      const firstIndex = this.parseExpression();\r\n      let secondIndex = null;\r\n      this.consumeNewLines();\r\n      this.checkCloseBrace();\r\n      tokenB = this.getToken();\r\n      this.pos++;\r\n      if (this.checkOpenBrace(true)) {\r\n        this.pos++;\r\n        secondIndex = this.parseExpression();\r\n        this.consumeNewLines();\r\n        this.checkCloseBrace();\r\n        tokenB = this.getToken();\r\n        this.pos++;\r\n      }\r\n      const sourceInfo = SourceInfo.createSourceInfoFromList(tokenA, tokenB);\r\n      const exp = new Expressions.ArrayAccess(id, firstIndex, secondIndex);\r\n      exp.sourceInfo = sourceInfo;\r\n      return exp;\r\n    } else if (this.checkOpenParenthesis(true)) {\r\n      return this.parseFunctionCallExpression(id);\r\n    } else if (isID) {\r\n      const sourceInfo = SourceInfo.createSourceInfo(tokenA);\r\n      const exp = new Expressions.VariableLiteral(id);\r\n      exp.sourceInfo = sourceInfo;\r\n      return exp;\r\n    } else {\r\n      throw SyntaxErrorFactory.invalid_id_format(tokenA);\r\n    }\r\n  }\r\n\r\n  getFunctionName (id) {\r\n    const name = LanguageDefinedFunction.getInternalName(id);\r\n    if (name === null) {\r\n      if (id === LanguageDefinedFunction.getMainFunctionName()) {\r\n        return null;\r\n      }\r\n      return id;\r\n    } else {\r\n      return name;\r\n    }\r\n  }\r\n\r\n  parseFunctionCallExpression (id) {\r\n    const tokenA = this.getToken(this.pos - 1);\r\n    const actualParameters = this.parseActualParameters();\r\n    const tokenB = this.getToken(this.pos - 1);\r\n    const funcName = this.getFunctionName(id);\r\n    const sourceInfo = SourceInfo.createSourceInfoFromList(tokenA, tokenB);\r\n    const cmd = new Expressions.FunctionCall(funcName, actualParameters);\r\n    cmd.sourceInfo = sourceInfo;\r\n    return cmd;\r\n  }\r\n\r\n  parseFunctionCallCommand (id) {\r\n    return this.parseFunctionCallExpression(id);\r\n  }\r\n\r\n  parseParenthesisExp () {\r\n    this.checkOpenParenthesis();\r\n    const tokenA = this.getToken();\r\n    this.pos += 1;\r\n    this.consumeNewLines();\r\n    const exp = this.parseExpressionOR();\r\n    this.consumeNewLines();\r\n    this.checkCloseParenthesis();\r\n    const tokenB = this.getToken();\r\n    this.pos += 1;\r\n    exp.sourceInfo = SourceInfo.createSourceInfoFromList(tokenA, tokenB);\r\n    exp.parenthesis = true;\r\n    return exp;\r\n  }\r\n\r\n  parseActualParameters () {\r\n    this.checkOpenParenthesis();\r\n    this.pos++;\r\n    if (this.checkCloseParenthesis(true)) {\r\n      this.pos++;\r\n      return [];\r\n    }\r\n    this.consumeNewLines();\r\n    const list = this.parseExpressionList();\r\n    this.consumeNewLines();\r\n    this.checkCloseParenthesis();\r\n    this.pos++;\r\n    return list;\r\n  }\r\n\r\n  parseExpressionList () {\r\n    const list = [];\r\n    for (;;) {\r\n      const exp = this.parseExpressionOR();\r\n      list.push(exp);\r\n      const maybeToken = this.getToken();\r\n      if (maybeToken.type !== this.lexerClass.COMMA) {\r\n        break;\r\n      } else {\r\n        this.pos++;\r\n        this.consumeNewLines();\r\n      }\r\n    }\r\n    return list;\r\n  }\r\n\r\n  getTypeArray () {\r\n    const types = this.insideScope(IVProgParser.FUNCTION)\r\n      ? this.functionTypes\r\n      : this.variableTypes;\r\n    return types.map((x) => this.lexer.literalNames[x]);\r\n  }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.convertFromString = exports.Operators = void 0;\r\nexports.Operators = Object.freeze({\r\n    ADD: { ord: 0, value: \"+\" },\r\n    SUB: { ord: 1, value: \"-\" },\r\n    MULT: { ord: 2, value: '*' },\r\n    DIV: { ord: 3, value: '/' },\r\n    MOD: { ord: 4, value: '%' },\r\n    GT: { ord: 5, value: '>' },\r\n    GE: { ord: 6, value: '>=' },\r\n    LT: { ord: 7, value: '<' },\r\n    LE: { ord: 8, value: '<=' },\r\n    EQ: { ord: 9, value: '==' },\r\n    NEQ: { ord: 10, value: '!=' },\r\n    AND: { ord: 11, value: 'and' },\r\n    OR: { ord: 12, value: 'or' },\r\n    NOT: { ord: 13, value: 'not' }\r\n});\r\nfunction convertFromString(op) {\r\n    switch (op) {\r\n        case '+': return exports.Operators.ADD;\r\n        case '-': return exports.Operators.SUB;\r\n        case '*': return exports.Operators.MULT;\r\n        case '/': return exports.Operators.DIV;\r\n        case '%': return exports.Operators.MOD;\r\n        case '>': return exports.Operators.GT;\r\n        case '>=': return exports.Operators.GE;\r\n        case '<': return exports.Operators.LT;\r\n        case '<=': return exports.Operators.LE;\r\n        case '==': return exports.Operators.EQ;\r\n        case '!=': return exports.Operators.NEQ;\r\n        case 'and': return exports.Operators.AND;\r\n        case 'or': return exports.Operators.OR;\r\n        case 'not': return exports.Operators.NOT;\r\n    }\r\n    return null;\r\n}\r\nexports.convertFromString = convertFromString;\r\n","export class SourceInfo {\r\n\r\n  static createSourceInfo (token) {\r\n    return new SourceInfo(token.line, token.column, token.text, token.text.length);\r\n  }\r\n\r\n  static createSourceInfoFromList (tokenA, tokenB) {\r\n    const line = tokenA.line;\r\n    const column = tokenA.column;\r\n    // adapted from https://github.com/UNIVALI-LITE/Portugol-Studio/blob/master/core/src/main/java/br/univali/portugol/nucleo/analise/sintatica/Portugol.g\r\n    // No idea why...\r\n    const size = tokenB.tokenIndex + 1 - tokenA.tokenIndex\r\n    return new SourceInfo(line, column, \"\", size);\r\n  }\r\n\r\n  constructor (line, column, text, size) {\r\n    this.line = line;\r\n    this.column = column;\r\n    this.text = text;\r\n    this.size = size;\r\n  }\r\n\r\n}","import { LocalizedStrings } from \"./../services/localizedStringsService\";\r\nimport * as Utils from \"./../util/utils\";\r\nimport { Config } from \"./../util/config\";\r\n\r\nexport class DOMConsole {\r\n  static get BASH_TEMPLATE () {\r\n    return `\r\n    <div class=\"bash-title\">\r\n      <i id=\"ivprog-console-clearbtn\" class=\"icon eraser\" style=\"float:left;padding-left: 5px\"></i>\r\n      <span id=\"ivprog-console-title-span\" tabindex=\"0\">Terminal</span>\r\n      <i id=\"ivprog-console-showbtn\" class=\"icon window maximize outline\" style=\"float:right\"></i>\r\n      <i id=\"ivprog-console-hidebtn\" class=\"icon window minimize outline\" style=\"float:right\"></i>\r\n    </div>\r\n    <div id='ivprog-term' class=\"bash-body\"></div>`;\r\n  }\r\n\r\n  static get INPUT_CARET_TEMPLATE () {\r\n    return `\r\n    <div id=\"cmd\">\r\n      <span></span>\r\n      <div id=\"cursor\"></div>\r\n    </div>`;\r\n  }\r\n\r\n  static get USER () {\r\n    return 0;\r\n  }\r\n\r\n  static get INFO () {\r\n    return 1;\r\n  }\r\n\r\n  static get ERR () {\r\n    return 2;\r\n  }\r\n\r\n  static get INPUT () {\r\n    return 3;\r\n  }\r\n\r\n  constructor (elementID, disableMarginTop = false) {\r\n    this.disableMarginTop = disableMarginTop;\r\n    this.input = null;\r\n    this.cursorInterval = null;\r\n    this.idleInterval = null;\r\n    this.inputDiv = null;\r\n    this.inputCMD = null;\r\n    this.inputSpan = null;\r\n    this.cursorRef = null;\r\n    this.needInput = false;\r\n    this.clearBtn = null;\r\n    this.hideBtn = null;\r\n    this.showBtn = null;\r\n    this.termDiv = null;\r\n    this.anyKey = false;\r\n    let actualID = elementID;\r\n    if (elementID[0] === \"#\") {\r\n      actualID = elementID.substring(1);\r\n    }\r\n    this.parent = document.getElementById(actualID);\r\n    this.setup();\r\n    this.inputListeners = [];\r\n    this.hideInput();\r\n    this.pending_writes = [];\r\n    this.last_clear = -1;\r\n  }\r\n\r\n  setup () {\r\n    this._setupDom();\r\n    this._setupEvents();\r\n  }\r\n\r\n  _setupEvents () {\r\n    this.input.addEventListener(\"keydown\", this.registerInput.bind(this));\r\n    this.clearBtn.addEventListener(\"click\", this.clearBtnClick.bind(this));\r\n    this.hideBtn.addEventListener(\"click\", this.hideBtnClick.bind(this));\r\n    this.showBtn.addEventListener(\"click\", this.showBtnClick.bind(this));\r\n  }\r\n\r\n  registerInput (event) {\r\n    if (!this.needInput) {\r\n      return;\r\n    }\r\n    const keyCode = event.which;\r\n    if (keyCode === 13 || this.anyKey) {\r\n      if (this.idleInterval != null) {\r\n        clearInterval(this.idleInterval);\r\n        this.idleInterval = null;\r\n      }\r\n      let text = this.input.value;\r\n      text = text.replace(\"[\\n\\r]+\", \"\");\r\n      this.notifyListeners(text);\r\n      this._appendUserInput(text);\r\n      this.input.value = \"\";\r\n      this.inputSpan.innerHTML = \"\";\r\n      this.currentLine = null;\r\n    }\r\n  }\r\n\r\n  _setupDom () {\r\n    const bashNode = document.createElement(\"div\");\r\n    bashNode.classList.add(\"bash\");\r\n    bashNode.innerHTML = DOMConsole.BASH_TEMPLATE;\r\n    this.termDiv = bashNode.querySelector(\"#ivprog-term\");\r\n    this.termDiv.classList.add(\"ivprog-term-div\");\r\n    this.inputDiv = document.createElement(\"div\");\r\n    this.inputDiv.id = \"ivprog-terminal-inputdiv\";\r\n    this.inputDiv.innerHTML = DOMConsole.INPUT_CARET_TEMPLATE;\r\n    this.input = document.createElement(\"input\");\r\n    this.input.setAttribute(\"name\", \"command\");\r\n    this.input.setAttribute(\"value\", \"\");\r\n    this.input.setAttribute(\"type\", \"text\");\r\n    this.input.setAttribute(\"autocomplete\", \"off\");\r\n    this.inputDiv.append(this.input);\r\n    this.termDiv.append(this.inputDiv);\r\n    bashNode.append(this.termDiv);\r\n    this.parent.append(bashNode);\r\n    this.inputCMD = this.inputDiv.querySelector(\"#cmd\");\r\n    this.cursorRef = this.inputCMD.querySelector(\"#cursor\");\r\n    this.inputSpan = this.inputCMD.querySelector(\"span\");\r\n    this.clearBtn = bashNode.querySelector(\"#ivprog-console-clearbtn\");\r\n    this.hideBtn = bashNode.querySelector(\"#ivprog-console-hidebtn\");\r\n    this.showBtn = bashNode.querySelector(\"#ivprog-console-showbtn\");\r\n    this._setupCursor();\r\n    //Jquery tooltips....\r\n    window\r\n      .$(this.clearBtn)\r\n      .popup({ content: LocalizedStrings.getUI(\"tooltip_terminal_clear\") });\r\n    window\r\n      .$(this.showBtn)\r\n      .popup({ content: LocalizedStrings.getUI(\"tooltip_terminal_show\") });\r\n    window\r\n      .$(this.hideBtn)\r\n      .popup({ content: LocalizedStrings.getUI(\"tooltip_terminal_hide\") });\r\n  }\r\n\r\n  _setupCursor () {\r\n    this.inputCMD.addEventListener(\"click\", this.blinkCaretAndFocus.bind(this));\r\n    //this.inputCMD.click();\r\n\r\n    this.input.addEventListener(\"keyup\", this.updateSpanText.bind(this));\r\n    this.input.addEventListener(\"blur\", this.stopBlinkCaret.bind(this));\r\n  }\r\n\r\n  blinkCaretAndFocus () {\r\n    if (this.cursorInterval != null) {\r\n      return;\r\n    }\r\n    this.input.focus();\r\n    this.cursorInterval = window.setInterval(() => {\r\n      if (this.cursorRef.style.visibility === \"visible\") {\r\n        this.cursorRef.style.visibility = \"hidden\";\r\n      } else {\r\n        this.cursorRef.style.visibility = \"visible\";\r\n      }\r\n    }, 500);\r\n  }\r\n\r\n  updateSpanText () {\r\n    this.inputSpan.innerHTML = this.input.value;\r\n    if (this.idleInterval != null) window.clearInterval(this.idleInterval);\r\n    this.scheduleNotify();\r\n  }\r\n\r\n  stopBlinkCaret () {\r\n    clearInterval(this.cursorInterval);\r\n    this.cursorInterval = null;\r\n    this.cursorRef.style.visibility = \"visible\";\r\n  }\r\n\r\n  notifyListeners (text) {\r\n    this.inputListeners.forEach((resolve) => resolve(text));\r\n    this.inputListeners.splice(0, this.inputListeners.length);\r\n    this.hideInput();\r\n    this.anyKey = false;\r\n  }\r\n\r\n  writeRawHTML (text, channel) {\r\n    this._appendTextLn(text, channel, false);\r\n  }\r\n\r\n  write (text, newLine = false) {\r\n    this._appendText(text, DOMConsole.USER, newLine);\r\n  }\r\n\r\n  info (text) {\r\n    this._appendTextLn(text, DOMConsole.INFO);\r\n  }\r\n\r\n  err (text) {\r\n    this._appendTextLn(text, DOMConsole.ERR);\r\n  }\r\n\r\n  async _appendText (text, type, newLine = false) {\r\n    // console.debug(\"Caling appendText\");\r\n    const write_time = Date.now();\r\n    this.pending_writes.push(0);\r\n    await Utils.sleep(5);\r\n    this.pending_writes.pop();\r\n    if (this.last_clear >= write_time) {\r\n      return;\r\n    }\r\n\r\n    if (this.currentLine == null) {\r\n      const divClass = this.getClassForType(type);\r\n      const textDiv = document.createElement(\"div\");\r\n      textDiv.classList.add(divClass);\r\n      this.termDiv.insertBefore(textDiv, this.inputDiv);\r\n      this.currentLine = textDiv;\r\n    }\r\n    this.currentLine.innerHTML += this.getOutputText(text);\r\n    if (newLine) {\r\n      // console.debug(\"append newline\");\r\n      this.currentLine = null;\r\n    }\r\n    this.scrollTerm();\r\n  }\r\n\r\n  async _appendTextLn (text, type, filter = true) {\r\n    const write_time = Date.now();\r\n    this.pending_writes.push(0);\r\n    await Utils.sleep(5);\r\n    this.pending_writes.pop();\r\n    if (this.last_clear >= write_time) {\r\n      return;\r\n    }\r\n    const divClass = this.getClassForType(type);\r\n    const textDiv = document.createElement(\"div\");\r\n    textDiv.classList.add(divClass);\r\n    if (filter) textDiv.innerHTML = this.getOutputText(text);\r\n    else textDiv.innerHTML = `<span>${text}</span>`;\r\n    if (this.currentLine != null && this.currentLine.innerHTML.length === 0) {\r\n      this.termDiv.removeChild(this.currentLine);\r\n    }\r\n    this.termDiv.insertBefore(textDiv, this.inputDiv);\r\n    this.currentLine = null;\r\n    this.scrollTerm();\r\n  }\r\n\r\n  async _appendUserInput (text) {\r\n    const write_time = Date.now();\r\n    this.pending_writes.push(0);\r\n    await Utils.sleep(5);\r\n    this.pending_writes.pop();\r\n    if (this.last_clear >= write_time) {\r\n      return;\r\n    }\r\n    const divClass = this.getClassForType(DOMConsole.INPUT);\r\n    const textDiv = document.createElement(\"div\");\r\n    textDiv.innerHTML = this.getUserInputText(text);\r\n    textDiv.classList.add(divClass);\r\n    this.termDiv.insertBefore(textDiv, this.inputDiv);\r\n    this.currentLine = null;\r\n    this.scrollTerm();\r\n  }\r\n\r\n  getOutputText (text) {\r\n    text = text.replace(/\\s/g, \"&#160;\");\r\n    return `<span tabindex=\"0\">${text}</span>`;\r\n  }\r\n\r\n  getUserInputText (text) {\r\n    if (text.trim().length == 0) {\r\n      text = \"&nbsp;\";\r\n    }\r\n    return `<i class=\"icon keyboard outline\" style=\"float:left\"></i><span>${text}</span>`;\r\n  }\r\n\r\n  scrollTerm () {\r\n    //scrollIt(this.inputDiv.previousSibling,200);\r\n    this.termDiv.scrollTop = this.termDiv.scrollHeight;\r\n  }\r\n\r\n  focus () {\r\n    this.termDiv.style.display = \"block\";\r\n    // Is in draggable mode?\r\n    if (!this.disableMarginTop && this.parent.style.top.length == 0) {\r\n      this.parent.style.marginTop = \"-160px\";\r\n    }\r\n    if (this.needInput) {\r\n      this.showInput();\r\n      this.scheduleNotify();\r\n    }\r\n    if (!Utils.isElementInViewport(this.termDiv))\r\n      this.termDiv.scrollIntoView(false);\r\n    this.scrollTerm();\r\n  }\r\n\r\n  hide () {\r\n    if (this.needInput) {\r\n      clearInterval(this.idleInterval);\r\n      this.hideInput();\r\n      this.needInput = true;\r\n    }\r\n    // Is in draggable mode?\r\n    if (!this.disableMarginTop && this.parent.style.top.length == 0) {\r\n      this.parent.style.marginTop = \"0\";\r\n    }\r\n    this.termDiv.style.display = \"none\";\r\n  }\r\n\r\n  getClassForType (type) {\r\n    switch (type) {\r\n      case DOMConsole.INPUT:\r\n        return \"ivprog-term-userInput\";\r\n      case DOMConsole.USER:\r\n        return \"ivprog-term-userText\";\r\n      case DOMConsole.INFO:\r\n        return \"ivprog-term-info\";\r\n      case DOMConsole.ERR:\r\n        return \"ivprog-term-error\";\r\n    }\r\n  }\r\n\r\n  dispose () {\r\n    this.input.removeEventListener(\"keyup\", this.updateSpanText.bind(this));\r\n    this.input.removeEventListener(\"blur\", this.stopBlinkCaret.bind(this));\r\n    this.input.removeEventListener(\"keydown\", this.registerInput.bind(this));\r\n    this.inputCMD.removeEventListener(\r\n      \"click\",\r\n      this.blinkCaretAndFocus.bind(this)\r\n    );\r\n    this.clearBtn.removeEventListener(\"click\", this.clearBtnClick.bind(this));\r\n    this.hideBtn.removeEventListener(\"click\", this.hideBtnClick.bind(this));\r\n    this.showBtn.removeEventListener(\"click\", this.showBtnClick.bind(this));\r\n    this.input = null;\r\n    this.inputCMD = null;\r\n    this.inputDiv = null;\r\n    this.termDiv = null;\r\n    this.inputSpan = null;\r\n    this.cursorRef = null;\r\n    this.clearBtn = null;\r\n    this.hideBtn = null;\r\n    this.showBtn = null;\r\n    this.currentLine = null;\r\n    const cNode = this.parent.cloneNode(false);\r\n    this.parent.parentNode.replaceChild(cNode, this.parent);\r\n    if (this.cursorInterval != null) {\r\n      clearInterval(this.cursorInterval);\r\n    }\r\n    if (this.idleInterval != null) {\r\n      clearInterval(this.idleInterval);\r\n    }\r\n  }\r\n\r\n  showInput () {\r\n    this.needInput = true;\r\n    this.inputDiv.style.display = \"block\";\r\n    this.inputCMD.click();\r\n    //this.inputCMD.scrollIntoView();\r\n    this.scrollTerm();\r\n  }\r\n\r\n  hideInput () {\r\n    this.needInput = false;\r\n    this.inputDiv.style.display = \" none\";\r\n    clearInterval(this.cursorInterval);\r\n    this.cursorInterval = null;\r\n  }\r\n\r\n  requestInput (anyKey = false) {\r\n    const promise = new Promise((resolve, _) => {\r\n      this.inputListeners.push(resolve);\r\n      this.anyKey = anyKey;\r\n      if (this.idleInterval == null) this.scheduleNotify();\r\n      this.showInput();\r\n    });\r\n    return promise;\r\n  }\r\n\r\n  sendOutput (text) {\r\n    //console.debug(text);\r\n    let output = \"\" + text;\r\n    if (output.indexOf(\"\\n\") !== -1) {\r\n      //console.debug(\"newline\");\r\n      const outputList = output.split(\"\\n\");\r\n      let i = 0;\r\n      for (; i < outputList.length - 1; i += 1) {\r\n        //console.debug(\"newline write\");\r\n        let t = outputList[i];\r\n        t = t.replace(/\\t/g, \"&#x0020;&#x0020;\");\r\n        t = t.replace(/\\s/g, \"&#x0020;\");\r\n        if (t.length !== 0) {\r\n          this.write(t);\r\n        }\r\n        this.write(\"\", true);\r\n      }\r\n      let t = outputList[i];\r\n      t = t.replace(/\\t/g, \"&#x0020;&#x0020;\");\r\n      t = t.replace(/\\s/g, \"&#x0020;\");\r\n      if (t.length != 0) this.write(t);\r\n    } else {\r\n      // console.debug(\"no newline\");\r\n      output = output.replace(/\\t/g, \"&#x0020;&#x0020;\");\r\n      output = output.replace(/\\s/g, \"&#x0020;\");\r\n      if (output.length != 0) this.write(output);\r\n    }\r\n  }\r\n\r\n  clearPendingWrites () {\r\n    this.last_clear = Date.now();\r\n  }\r\n\r\n  clear () {\r\n    this.clearPendingWrites();\r\n    while (this.inputDiv.parentElement.childNodes.length > 1) {\r\n      this.inputDiv.parentElement.removeChild(\r\n        this.inputDiv.parentElement.firstChild\r\n      );\r\n    }\r\n    this.input.value = \"\";\r\n    this.inputSpan.innerHTML = \"\";\r\n    this.currentLine = null;\r\n  }\r\n\r\n  clearBtnClick () {\r\n    this.clear();\r\n  }\r\n\r\n  showBtnClick () {\r\n    this.focus();\r\n  }\r\n\r\n  hideBtnClick () {\r\n    this.hide();\r\n  }\r\n\r\n  notifyIdle () {\r\n    this.info(LocalizedStrings.getMessage(\"awaiting_input_message\"));\r\n    this.inputCMD.click();\r\n  }\r\n\r\n  scheduleNotify () {\r\n    this.idleInterval = window.setInterval(\r\n      this.notifyIdle.bind(this),\r\n      Config.idle_input_interval\r\n    );\r\n  }\r\n\r\n  cancelPendingInputRequests () {\r\n    this.inputListeners.forEach((resolve) => resolve(\"\"));\r\n    this.inputListeners.splice(0, this.inputListeners.length);\r\n    if (this.idleInterval != null) {\r\n      clearInterval(this.idleInterval);\r\n      this.idleInterval = null;\r\n    }\r\n    this.input.value = \"\";\r\n    this.inputSpan.innerHTML = \"\";\r\n    this.currentLine = null;\r\n    this.hideInput();\r\n    this.anyKey = false;\r\n  }\r\n}\r\n","export class Input {\r\n\r\n  requestInput () {\r\n    throw new Error(\"Must be implemented\");\r\n  }\r\n\r\n  cancelPendingInputRequests () {\r\n    throw new Error(\"Must be implemented\");\r\n  }\r\n}","export class Output {\r\n\r\n  sendOutput (text) {\r\n    throw new Error(\"Must be implemented\");\r\n  }\r\n}","import {runner} from \"./runner\";\r\nimport {\r\n  initVisualUI,\r\n  addFunctionChangeListener,\r\n  addGlobalChangeListener,\r\n  removeFunctionListener,\r\n  removeGlobalListener,\r\n  getTestCases,\r\n} from \"./visualUI/functions\";\r\nimport {initAccessibleUI} from './accessibleUI/main';\r\nimport * as LocalizedStringsService from \"./services/localizedStringsService\";\r\nimport {i18nHelper} from \"./services/i18nHelper\";\r\nimport {\r\n  ActionTypes,\r\n  getLogs,\r\n  getLogsAsString,\r\n  registerClick,\r\n  registerUserEvent,\r\n  parseLogs,\r\n} from \"./services/userLog\";\r\nimport {\r\n  prepareActivityToStudentHelper,\r\n  autoEval,\r\n} from \"./util/iassignHelpers\";\r\nimport { openAssessmentDetail } from \"./util/utils\";\r\nimport { Config } from \"./util/config\";\r\nimport { parseExpression } from \"./util/parseFromVisual\";\r\nimport * as CodeEditorAll from \"./visualUI/text_editor\";\r\nimport {autoGenerateTestCaseOutput} from \"./util/auto_gen_output\";\r\n\r\nconst CodeEditor = {\r\n  initTextEditor: CodeEditorAll.initTextEditor,\r\n  setCode: CodeEditorAll.setCode,\r\n  getCode: CodeEditorAll.getCode,\r\n  updateEditor: CodeEditorAll.updateEditor,\r\n  disable: CodeEditorAll.disable,\r\n};\r\n\r\nconst i18n = i18nHelper.i18n;\r\nconst LocalizedStrings = LocalizedStringsService.getInstance();\r\n\r\nexport {\r\n  runner,\r\n  initVisualUI,\r\n  addFunctionChangeListener,\r\n  addGlobalChangeListener,\r\n  removeFunctionListener,\r\n  removeGlobalListener,\r\n  getTestCases,\r\n  autoEval,\r\n  prepareActivityToStudentHelper,\r\n  LocalizedStrings,\r\n  i18n,\r\n  getLogs,\r\n  getLogsAsString,\r\n  registerClick,\r\n  registerUserEvent,\r\n  parseLogs,\r\n  ActionTypes,\r\n  CodeEditor,\r\n  openAssessmentDetail,\r\n  autoGenerateTestCaseOutput,\r\n  Config,\r\n  initAccessibleUI,\r\n  parseExpression,\r\n};\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Address = void 0;\r\nclass Address {\r\n    /**\r\n     *\r\n     * @param {Number} id the address id\r\n     * @param {never} value the value stored at this address\r\n     */\r\n    constructor(id, value) {\r\n        this.id = id;\r\n        this.value = value;\r\n    }\r\n}\r\nexports.Address = Address;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Location = void 0;\r\nconst address_1 = require(\"./address\");\r\nclass LocationHolder {\r\n    constructor() {\r\n        this.data = [];\r\n        this.address_id = 0;\r\n    }\r\n    /**\r\n     *\r\n     * @param {never} value the value to be allocated\r\n     * @returns {number} - the address id\r\n     */\r\n    allocate(value) {\r\n        const id = this.address_id;\r\n        // console.log(\"Allocation address \"+ id);\r\n        const address = new address_1.Address(id, value);\r\n        this.data.push(address);\r\n        this.address_id += 1;\r\n        return id;\r\n    }\r\n    /**\r\n     *\r\n     * @param {number} id\r\n     */\r\n    deallocate(id) {\r\n        const index = this.findIndex(id);\r\n        // console.log(\"Deallocation address \"+ id);\r\n        if (index !== -1) {\r\n            this.data.splice(index, 1);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n    /**\r\n     *\r\n     * @param {number} id\r\n     * @returns {Address} the address identified by id\r\n     */\r\n    find(id) {\r\n        let beg = 0;\r\n        let end = this.data.length;\r\n        // console.log(\"Finding address \"+id);\r\n        while (beg < end) {\r\n            const med = Math.floor((beg + end) / 2);\r\n            const address = this.getAddressAt(med);\r\n            if (address.id === id) {\r\n                return address;\r\n            }\r\n            else if (id > address.id) {\r\n                beg = med;\r\n            }\r\n            else {\r\n                end = med;\r\n            }\r\n        }\r\n        return undefined;\r\n    }\r\n    getAddressAt(pos) {\r\n        return this.data[pos];\r\n    }\r\n    /**\r\n     *\r\n     * @param {number} id address id\r\n     * @returns {number} the index of the address identified by id\r\n     */\r\n    findIndex(id) {\r\n        let beg = 0;\r\n        let end = this.data.length;\r\n        while (beg < end) {\r\n            const med = Math.floor((beg + end) / 2);\r\n            const address = this.getAddressAt(med);\r\n            if (address.id === id) {\r\n                return med;\r\n            }\r\n            else if (id > address.id) {\r\n                beg = med;\r\n            }\r\n            else {\r\n                end = med;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    updateAddress(id, value) {\r\n        const index = this.findIndex(id);\r\n        if (index === -1) {\r\n            throw new Error(\"Invalid address...\" + id);\r\n        }\r\n        this.data[index].value = value;\r\n    }\r\n    clear() {\r\n        for (let i = 0; i < this.data.length; i += 1) {\r\n            delete this.data[i];\r\n        }\r\n        this.data = [];\r\n        this.address_id = 0;\r\n    }\r\n}\r\nconst inner_ref = new LocationHolder();\r\nexports.Location = Object.freeze({\r\n    allocate: inner_ref.allocate.bind(inner_ref),\r\n    deallocate: inner_ref.deallocate.bind(inner_ref),\r\n    find: inner_ref.find.bind(inner_ref),\r\n    updateAddress: inner_ref.updateAddress.bind(inner_ref),\r\n    clear: inner_ref.clear.bind(inner_ref),\r\n    size: () => inner_ref.data.length\r\n});\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.resultTypeAfterUnaryOp = exports.resultTypeAfterInfixOp = void 0;\r\nconst types_1 = require(\"../typeSystem/types\");\r\nconst operators_1 = require(\"../ast/operators\");\r\nconst multiType_1 = require(\"../typeSystem/multiType\");\r\nconst config_1 = require(\"../util/config\");\r\nfunction buildInfixAddTable() {\r\n    const table = [[], [], [], [], []];\r\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.INTEGER;\r\n    table[types_1.Types.INTEGER.ord][types_1.Types.REAL.ord] = types_1.Types.REAL;\r\n    table[types_1.Types.INTEGER.ord][types_1.Types.STRING.ord] = types_1.Types.STRING;\r\n    table[types_1.Types.REAL.ord][types_1.Types.INTEGER.ord] = types_1.Types.REAL;\r\n    table[types_1.Types.REAL.ord][types_1.Types.REAL.ord] = types_1.Types.REAL;\r\n    table[types_1.Types.REAL.ord][types_1.Types.STRING.ord] = types_1.Types.STRING;\r\n    table[types_1.Types.STRING.ord][types_1.Types.INTEGER.ord] = types_1.Types.STRING;\r\n    table[types_1.Types.STRING.ord][types_1.Types.REAL.ord] = types_1.Types.STRING;\r\n    table[types_1.Types.STRING.ord][types_1.Types.STRING.ord] = types_1.Types.STRING;\r\n    table[types_1.Types.STRING.ord][types_1.Types.BOOLEAN.ord] = types_1.Types.STRING;\r\n    table[types_1.Types.STRING.ord][types_1.Types.CHAR.ord] = types_1.Types.STRING;\r\n    table[types_1.Types.CHAR.ord][types_1.Types.CHAR.ord] = types_1.Types.STRING;\r\n    table[types_1.Types.CHAR.ord][types_1.Types.STRING.ord] = types_1.Types.STRING;\r\n    return table;\r\n}\r\nfunction buildInfixMultiDivSubTable() {\r\n    const table = [[], []];\r\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.INTEGER;\r\n    table[types_1.Types.INTEGER.ord][types_1.Types.REAL.ord] = types_1.Types.REAL;\r\n    table[types_1.Types.REAL.ord][types_1.Types.INTEGER.ord] = types_1.Types.REAL;\r\n    table[types_1.Types.REAL.ord][types_1.Types.REAL.ord] = types_1.Types.REAL;\r\n    return table;\r\n}\r\nfunction buildInfixEqualityInequalityTable() {\r\n    const table = [[], [], [], [], []];\r\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.BOOLEAN;\r\n    table[types_1.Types.REAL.ord][types_1.Types.REAL.ord] = types_1.Types.BOOLEAN;\r\n    table[types_1.Types.BOOLEAN.ord][types_1.Types.BOOLEAN.ord] = types_1.Types.BOOLEAN;\r\n    table[types_1.Types.STRING.ord][types_1.Types.STRING.ord] = types_1.Types.BOOLEAN;\r\n    table[types_1.Types.CHAR.ord][types_1.Types.CHAR.ord] = types_1.Types.BOOLEAN;\r\n    return table;\r\n}\r\nfunction buildInfixRelationalTable() {\r\n    const table = [[], [], [], [], []];\r\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.BOOLEAN;\r\n    table[types_1.Types.REAL.ord][types_1.Types.REAL.ord] = types_1.Types.BOOLEAN;\r\n    table[types_1.Types.STRING.ord][types_1.Types.STRING.ord] = types_1.Types.BOOLEAN;\r\n    table[types_1.Types.CHAR.ord][types_1.Types.CHAR.ord] = types_1.Types.BOOLEAN;\r\n    return table;\r\n}\r\nfunction buildInfixAndOrTable() {\r\n    const table = [[], [], [], []];\r\n    table[types_1.Types.BOOLEAN.ord][types_1.Types.BOOLEAN.ord] = types_1.Types.BOOLEAN;\r\n    return table;\r\n}\r\nfunction buildInfixModTable() {\r\n    const table = [[]];\r\n    table[types_1.Types.INTEGER.ord][types_1.Types.INTEGER.ord] = types_1.Types.INTEGER;\r\n    return table;\r\n}\r\nfunction buildUnarySumSubList() {\r\n    const list = [];\r\n    list[types_1.Types.INTEGER.ord] = types_1.Types.INTEGER;\r\n    list[types_1.Types.REAL.ord] = types_1.Types.REAL;\r\n    return list;\r\n}\r\nfunction buildUnaryNegList() {\r\n    const list = [];\r\n    list[types_1.Types.BOOLEAN.ord] = types_1.Types.BOOLEAN;\r\n    return list;\r\n}\r\nfunction buildInfixCompatibilityTable() {\r\n    const compatibilityMap = new WeakMap();\r\n    compatibilityMap.set(operators_1.Operators.ADD, buildInfixAddTable());\r\n    compatibilityMap.set(operators_1.Operators.SUB, buildInfixMultiDivSubTable());\r\n    compatibilityMap.set(operators_1.Operators.MULT, buildInfixMultiDivSubTable());\r\n    compatibilityMap.set(operators_1.Operators.DIV, buildInfixMultiDivSubTable());\r\n    compatibilityMap.set(operators_1.Operators.EQ, buildInfixEqualityInequalityTable());\r\n    compatibilityMap.set(operators_1.Operators.NEQ, buildInfixEqualityInequalityTable());\r\n    compatibilityMap.set(operators_1.Operators.GE, buildInfixRelationalTable());\r\n    compatibilityMap.set(operators_1.Operators.GT, buildInfixRelationalTable());\r\n    compatibilityMap.set(operators_1.Operators.LE, buildInfixRelationalTable());\r\n    compatibilityMap.set(operators_1.Operators.LT, buildInfixRelationalTable());\r\n    compatibilityMap.set(operators_1.Operators.OR, buildInfixAndOrTable());\r\n    compatibilityMap.set(operators_1.Operators.AND, buildInfixAndOrTable());\r\n    compatibilityMap.set(operators_1.Operators.MOD, buildInfixModTable());\r\n    return compatibilityMap;\r\n}\r\nfunction buildUnaryCompatibilityTable() {\r\n    const compatibilityMap = new WeakMap();\r\n    compatibilityMap.set(operators_1.Operators.ADD, buildUnarySumSubList());\r\n    compatibilityMap.set(operators_1.Operators.SUB, buildUnarySumSubList());\r\n    compatibilityMap.set(operators_1.Operators.NOT, buildUnaryNegList());\r\n    return compatibilityMap;\r\n}\r\nconst infixMap = buildInfixCompatibilityTable();\r\nconst unaryMap = buildUnaryCompatibilityTable();\r\nfunction resultTypeAfterInfixOp(operator, leftExpressionType, rightExpressionType) {\r\n    try {\r\n        if (leftExpressionType instanceof multiType_1.MultiType && rightExpressionType instanceof multiType_1.MultiType) {\r\n            let newMulti = [];\r\n            for (let i = 0; i < leftExpressionType.types.length; ++i) {\r\n                const typeA = leftExpressionType.types[i];\r\n                for (let j = 0; j < rightExpressionType.types.length; ++i) {\r\n                    const typeB = rightExpressionType.types[j];\r\n                    newMulti.push(resultTypeAfterInfixOp(operator, typeA, typeB));\r\n                }\r\n            }\r\n            newMulti = newMulti.filter(x => !x.isCompatible(types_1.Types.UNDEFINED));\r\n            if (newMulti.length <= 0) {\r\n                if (config_1.Config.enable_type_casting) {\r\n                    if (leftExpressionType.isCompatible(types_1.Types.INTEGER) || leftExpressionType.isCompatible(types_1.Types.REAL)) {\r\n                        if (rightExpressionType.isCompatible(types_1.Types.INTEGER) || rightExpressionType.isCompatible(types_1.Types.REAL)) {\r\n                            return new multiType_1.MultiType([types_1.Types.INTEGER, types_1.Types.REAL]);\r\n                        }\r\n                    }\r\n                }\r\n                return types_1.Types.UNDEFINED;\r\n            }\r\n            else {\r\n                return new multiType_1.MultiType(newMulti);\r\n            }\r\n        }\r\n        else if (leftExpressionType instanceof multiType_1.MultiType) {\r\n            if (leftExpressionType.isCompatible(rightExpressionType)) {\r\n                return resultTypeAfterInfixOp(operator, rightExpressionType, rightExpressionType);\r\n            }\r\n            else {\r\n                if (config_1.Config.enable_type_casting) {\r\n                    if (leftExpressionType.isCompatible(types_1.Types.INTEGER) || leftExpressionType.isCompatible(types_1.Types.REAL)) {\r\n                        if (rightExpressionType.isCompatible(types_1.Types.INTEGER) || rightExpressionType.isCompatible(types_1.Types.REAL)) {\r\n                            return rightExpressionType;\r\n                        }\r\n                    }\r\n                }\r\n                return types_1.Types.UNDEFINED;\r\n            }\r\n        }\r\n        else if (rightExpressionType instanceof multiType_1.MultiType) {\r\n            if (rightExpressionType.isCompatible(leftExpressionType)) {\r\n                return resultTypeAfterInfixOp(operator, leftExpressionType, leftExpressionType);\r\n            }\r\n            else {\r\n                if (config_1.Config.enable_type_casting) {\r\n                    if (leftExpressionType.isCompatible(types_1.Types.INTEGER) || leftExpressionType.isCompatible(types_1.Types.REAL)) {\r\n                        if (rightExpressionType.isCompatible(types_1.Types.INTEGER) || rightExpressionType.isCompatible(types_1.Types.REAL)) {\r\n                            return leftExpressionType;\r\n                        }\r\n                    }\r\n                }\r\n                return types_1.Types.UNDEFINED;\r\n            }\r\n        }\r\n        const resultTable = infixMap.get(operator) || [];\r\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n        const resultType = resultTable[leftExpressionType.ord][rightExpressionType.ord];\r\n        if (resultType === null || resultType === undefined) {\r\n            if (config_1.Config.enable_type_casting) {\r\n                if (leftExpressionType.isCompatible(types_1.Types.INTEGER) || leftExpressionType.isCompatible(types_1.Types.REAL)) {\r\n                    if (rightExpressionType.isCompatible(types_1.Types.INTEGER) || rightExpressionType.isCompatible(types_1.Types.REAL)) {\r\n                        if (operator === operators_1.Operators.MOD) {\r\n                            return types_1.Types.INTEGER;\r\n                        }\r\n                        else if (operator.ord >= 5 && operator.ord <= 10) {\r\n                            return types_1.Types.BOOLEAN;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            return types_1.Types.UNDEFINED;\r\n        }\r\n        return resultType;\r\n    }\r\n    catch (e) {\r\n        if (e instanceof TypeError) {\r\n            return types_1.Types.UNDEFINED;\r\n        }\r\n        else {\r\n            throw e;\r\n        }\r\n    }\r\n}\r\nexports.resultTypeAfterInfixOp = resultTypeAfterInfixOp;\r\nfunction resultTypeAfterUnaryOp(operator, leftExpressionType) {\r\n    try {\r\n        if (leftExpressionType instanceof multiType_1.MultiType) {\r\n            let newMulti = [];\r\n            for (let i = 0; i < leftExpressionType.types.length; ++i) {\r\n                const type = leftExpressionType.types[i];\r\n                newMulti.push(resultTypeAfterUnaryOp(operator, type));\r\n            }\r\n            newMulti = newMulti.filter(x => !x.isCompatible(types_1.Types.UNDEFINED));\r\n            if (newMulti.length <= 0) {\r\n                return types_1.Types.UNDEFINED;\r\n            }\r\n            return new multiType_1.MultiType(newMulti);\r\n        }\r\n        const resultTable = unaryMap.get(operator) || [];\r\n        // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\r\n        const resultType = resultTable[leftExpressionType.ord];\r\n        if (resultType == null) {\r\n            return types_1.Types.UNDEFINED;\r\n        }\r\n        return resultType;\r\n    }\r\n    catch (e) {\r\n        if (e instanceof TypeError) {\r\n            return types_1.Types.UNDEFINED;\r\n        }\r\n        else {\r\n            throw e;\r\n        }\r\n    }\r\n}\r\nexports.resultTypeAfterUnaryOp = resultTypeAfterUnaryOp;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Context = void 0;\r\nexports.Context = Object.freeze({\r\n    BASE: Symbol('context:base'),\r\n    BREAKABLE: Symbol('context:breakable'),\r\n    FUNCTION: Symbol('context:function')\r\n});\r\n","import { LanguageService } from '../services/languageService';\r\nimport {createInputFun, createOutputFun} from './lib/io';\r\nimport {createLengthFun, createLowercaseFun,\r\n  createrCharAtFun, createSubstringFun,\r\n  createUppercaseFun} from './lib/strings';\r\nimport {createMatrixColumnsFun, createMatrixLinesFun,\r\n  createNumElementsFun} from './lib/arrays';\r\nimport {createCastBoolFun, createCastIntFun,\r\n  createCastRealFun, createCastStringFun,\r\n  createIsBoolFun, createIsIntFun,\r\n  createIsRealFun, createCastCharFun} from './lib/lang';\r\nimport {createAbsFun, createCosFun,\r\n  createInvertFun, createLogFun,\r\n  createMaxFun, createMinFun,\r\n  createNegateFun, createPowFun,\r\n  createSinFun, createSqrtFun,\r\n  createTanFun, createRandFun} from './lib/math';\r\n\r\nfunction valueToKey (value, object) {\r\n  for (const key in object) {\r\n    if(Object.prototype.hasOwnProperty.call(object, key)){\r\n      if (object[key] === value) {\r\n        return key;\r\n      }\r\n    }\r\n  }\r\n  return null;\r\n}\r\n\r\nfunction concatObjects (...objs) {\r\n  const result = {};\r\n  for (let i = 0; i < objs.length; i++) {\r\n    const obj = objs[i];\r\n    for(const key in obj) {\r\n      if(Object.prototype.hasOwnProperty.call(obj, key)) {\r\n        result[key] = obj[key];\r\n      }\r\n    }\r\n  }\r\n  return result;\r\n}\r\n\r\nconst libsObject = {\r\n  $mathLib: {\r\n    $sin: createSinFun(),\r\n    $cos: createCosFun(),\r\n    $tan: createTanFun(),\r\n    $sqrt: createSqrtFun(),\r\n    $pow: createPowFun(),\r\n    $log: createLogFun(),\r\n    $abs: createAbsFun(),\r\n    $negate: createNegateFun(),\r\n    $invert: createInvertFun(),\r\n    $max: createMaxFun(),\r\n    $min: createMinFun(),\r\n    $rand: createRandFun()\r\n  },\r\n  $ioLib: {\r\n    $read: createInputFun(),\r\n    $write: createOutputFun()\r\n  },\r\n  $strLib: {\r\n    $substring: createSubstringFun(),\r\n    $length: createLengthFun(),\r\n    $uppercase: createUppercaseFun(),\r\n    $lowercase: createLowercaseFun(),\r\n    $charAt: createrCharAtFun(),\r\n  },\r\n  $arrayLib: {\r\n    $numElements: createNumElementsFun(),\r\n    $matrixLines: createMatrixLinesFun(),\r\n    $matrixColumns: createMatrixColumnsFun()\r\n  },\r\n  $langLib: {\r\n    $isReal: createIsRealFun(),\r\n    $isInt: createIsIntFun(),\r\n    $isBool: createIsBoolFun(),\r\n    $castReal: createCastRealFun(),\r\n    $castInt: createCastIntFun(),\r\n    $castBool: createCastBoolFun(),\r\n    $castString: createCastStringFun(),\r\n    $castChar: createCastCharFun()\r\n  }\r\n}\r\n\r\nconst funcsObject = concatObjects(libsObject.$ioLib, libsObject.$langLib,\r\n  libsObject.$strLib, libsObject.$arrayLib);\r\n\r\nexport const LanguageDefinedFunction = Object.freeze({\r\n  getMainFunctionName: () => LanguageService.getCurrentLangFuncs().main_function,\r\n  getInternalName: (localName) => {\r\n    if (localName.indexOf(\".\") !== -1) {\r\n      const names = localName.split(\".\");\r\n      const lib = valueToKey(names[0], LanguageService.getCurrentLangLibs());\r\n      const internalName = valueToKey(names[1], LanguageService.getCurrentLangFuncs());\r\n      if (lib === null || internalName === null) {\r\n        return null;\r\n      }\r\n      return lib + \".\" + internalName;\r\n    }\r\n    const funcName = valueToKey(localName, LanguageService.getCurrentLangFuncs());\r\n    if(funcName !== null) {\r\n      if(funcsObject[funcName]) {\r\n        return funcName;\r\n      }\r\n    }\r\n    return null;\r\n  },\r\n  getFunction: (internalName) => {\r\n    if (internalName.indexOf(\".\") !== -1) {\r\n      const names = internalName.split(\".\");\r\n      const libName = names[0];\r\n      const funName = names[1];\r\n      return libsObject[libName][funName];\r\n    }\r\n    return funcsObject[internalName];\r\n  },\r\n  getLocalName: (internalName) => {\r\n    if (internalName.indexOf(\".\") !== -1) {\r\n      const names = internalName.split(\".\");\r\n      const libName = LanguageService.getCurrentLangLibs()[names[0]];\r\n      const funName = LanguageService.getCurrentLangFuncs()[names[1]];\r\n      return `${libName}.${funName}`;\r\n    } else if (LanguageService.getCurrentLangFuncs()[internalName]) {\r\n      return LanguageService.getCurrentLangFuncs()[internalName];\r\n    } else { \r\n      return internalName\r\n    }\r\n  }\r\n});","import { RuntimeError } from \"./runtimeError\";\r\nimport { SemanticError } from \"./semanticError\";\r\nimport * as LocalizedStringsService from \"./../../services/localizedStringsService\";\r\nimport { LanguageDefinedFunction } from \"../definedFunctions\";\r\n\r\nconst LocalizedStrings = LocalizedStringsService.getInstance();\r\n\r\nfunction createRuntimeError (i18n_id, context = []) {\r\n  return new RuntimeError(LocalizedStrings.getError(i18n_id, context), i18n_id);\r\n}\r\n\r\nfunction createSemanticError (i18n_id, context = []) {\r\n  return new SemanticError(\r\n    LocalizedStrings.getError(i18n_id, context),\r\n    i18n_id\r\n  );\r\n}\r\n\r\nexport const ProcessorErrorFactory = Object.freeze({\r\n  symbol_not_found_full: (id, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [id, sourceInfo.line, sourceInfo.column];\r\n      const error = createSemanticError(\"symbol_not_found_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.symbol_not_found(id);\r\n    }\r\n  },\r\n  symbol_not_found: (id) => {\r\n    const context = [id];\r\n    return createSemanticError(\"symbol_not_found\", context);\r\n  },\r\n  function_missing_full: (id, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [id, sourceInfo.line, sourceInfo.column];\r\n      const error = createSemanticError(\"function_missing_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.function_missing(id);\r\n    }\r\n  },\r\n  function_missing: (id) => {\r\n    const context = [id];\r\n    return createSemanticError(\"function_missing\", context);\r\n  },\r\n  main_missing: () => {\r\n    return createSemanticError(\"main_missing\");\r\n  },\r\n  array_dimension_not_int_full: (sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line];\r\n      const error = createSemanticError(\r\n        \"array_dimension_not_int_full\",\r\n        context\r\n      );\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.array_dimension_not_int();\r\n    }\r\n  },\r\n  array_dimension_not_int: () => {\r\n    return createSemanticError(\"array_dimension_not_int\");\r\n  },\r\n  unknown_command_full: (sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line];\r\n      const error = createRuntimeError(\"unknown_command_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.unknown_command();\r\n    }\r\n  },\r\n  unknown_command: () => {\r\n    return createRuntimeError(\"unknown_command\");\r\n  },\r\n  incompatible_types_full: (\r\n    left_type,\r\n    left_dim,\r\n    right_type,\r\n    right_dim,\r\n    exp,\r\n    source_info\r\n  ) => {\r\n    if (source_info) {\r\n      const context = [\r\n        LocalizedStrings.translateType(left_type, left_dim),\r\n        exp,\r\n        source_info.line,\r\n        LocalizedStrings.translateType(right_type, right_dim),\r\n      ];\r\n      const error = createSemanticError(\"incompatible_types_full\", context);\r\n      error.context = { line: source_info.line, column: source_info.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.incompatible_types(\r\n        left_type,\r\n        left_dim,\r\n        right_type,\r\n        right_dim,\r\n        exp\r\n      );\r\n    }\r\n  },\r\n  incompatible_types: (left_type, left_dim, right_type, right_dim, exp) => {\r\n    const context = [\r\n      LocalizedStrings.translateType(left_type, left_dim),\r\n      exp,\r\n      LocalizedStrings.translateType(right_type, right_dim),\r\n    ];\r\n    return createSemanticError(\"incompatible_types\", context);\r\n  },\r\n  incompatible_types_array_full: (exp, type, dim, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [\r\n        exp,\r\n        LocalizedStrings.translateType(type, dim),\r\n        sourceInfo.line,\r\n        sourceInfo.column,\r\n      ];\r\n      const error = createSemanticError(\r\n        \"incompatible_types_array_full\",\r\n        context\r\n      );\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.incompatible_types_array(exp, type, dim);\r\n    }\r\n  },\r\n  incompatible_types_array: (exp, type, dim) => {\r\n    const context = [exp, LocalizedStrings.translateType(type, dim)];\r\n    return createSemanticError(\"incompatible_types_array\", context);\r\n  },\r\n  loop_condition_type_full: (exp, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, sourceInfo.column, exp];\r\n      const error = createSemanticError(\"loop_condition_type_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.loop_condition_type(exp);\r\n    }\r\n  },\r\n  loop_condition_type: (exp) => {\r\n    const context = [exp];\r\n    return createSemanticError(\"loop_condition_type\", context);\r\n  },\r\n  /**\r\n   * @deprecated 01/10/2019\r\n   */\r\n  endless_loop_full: (sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line];\r\n      const error = createSemanticError(\"endless_loop_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.endless_loop();\r\n    }\r\n  },\r\n  endless_loop: () => {\r\n    return createSemanticError(\"endless_loop\");\r\n  },\r\n  if_condition_type_full: (exp, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, sourceInfo.column, exp];\r\n      const error = createSemanticError(\"if_condition_type_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.if_condition_type(exp);\r\n    }\r\n  },\r\n  if_condition_type: (exp) => {\r\n    const context = [exp];\r\n    return createSemanticError(\"if_condition_type\", context);\r\n  },\r\n  invalid_global_var: () => {\r\n    return createRuntimeError(\"invalid_global_var\");\r\n  },\r\n  not_implemented: (id) => {\r\n    const context = [id];\r\n    return createRuntimeError(\"not_implemented\", context);\r\n  },\r\n  invalid_case_type_full: (exp, type, dim, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [\r\n        exp,\r\n        LocalizedStrings.translateType(type, dim),\r\n        sourceInfo.line,\r\n        sourceInfo.column,\r\n      ];\r\n      const error = createSemanticError(\"invalid_case_type_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_case_type(exp, type, dim);\r\n    }\r\n  },\r\n  invalid_case_type: (exp, type, dim) => {\r\n    const context = [exp, LocalizedStrings.translateType(type, dim)];\r\n    return createSemanticError(\"invalid_case_type\", context);\r\n  },\r\n  void_in_expression_full: (id, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, sourceInfo.column, id];\r\n      const error = createSemanticError(\"void_in_expression_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.void_in_expression(id);\r\n    }\r\n  },\r\n  void_in_expression: (id) => {\r\n    const context = [id];\r\n    return createSemanticError(\"void_in_expression\", context);\r\n  },\r\n  invalid_array_access_full: (id, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [id, sourceInfo.line, sourceInfo.column];\r\n      const error = createSemanticError(\"invalid_array_access_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_array_access(id);\r\n    }\r\n  },\r\n  invalid_array_access: (id) => {\r\n    const context = [id];\r\n    return createSemanticError(\"invalid_array_access\", context);\r\n  },\r\n  invalid_matrix_access_full: (id, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [id, sourceInfo.line, sourceInfo.column];\r\n      const error = createSemanticError(\"invalid_matrix_access_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_matrix_access(id);\r\n    }\r\n  },\r\n  invalid_matrix_access: (id) => {\r\n    const context = [id];\r\n    return createSemanticError(\"invalid_matrix_access\", context);\r\n  },\r\n  matrix_column_outbounds_full: (id, value, columns, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, value, id, columns];\r\n      const error = createRuntimeError(\"matrix_column_outbounds_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.matrix_column_outbounds(id, value, columns);\r\n    }\r\n  },\r\n  matrix_column_outbounds: (id, value, columns) => {\r\n    const context = [value, id, columns];\r\n    return createRuntimeError(\"matrix_column_outbounds\", context);\r\n  },\r\n  matrix_line_outbounds_full: (id, value, lines, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, value, id, lines];\r\n      const error = createRuntimeError(\"matrix_line_outbounds_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.matrix_line_outbounds(id, value, lines);\r\n    }\r\n  },\r\n  matrix_line_outbounds: (id, value, lines) => {\r\n    const context = [value, id, lines];\r\n    return createRuntimeError(\"matrix_line_outbounds\", context);\r\n  },\r\n  vector_line_outbounds_full: (id, value, lines, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, value, id, lines];\r\n      const error = createRuntimeError(\"vector_line_outbounds_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.vector_line_outbounds(id, value, lines);\r\n    }\r\n  },\r\n  vector_line_outbounds: (id, value, lines) => {\r\n    const context = [value, id, lines];\r\n    return createRuntimeError(\"vector_line_outbounds\", context);\r\n  },\r\n  vector_not_matrix_full: (id, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, id];\r\n      const error = createRuntimeError(\"vector_not_matrix_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.vector_not_matrix(id);\r\n    }\r\n  },\r\n  vector_not_matrix: (id) => {\r\n    const context = [id];\r\n    return createRuntimeError(\"vector_not_matrix\", context);\r\n  },\r\n  function_no_return: (id) => {\r\n    const context = [id];\r\n    return createSemanticError(\"function_no_return\", context);\r\n  },\r\n  invalid_void_return_full: (id, type, dim, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [\r\n        sourceInfo.line,\r\n        id,\r\n        LocalizedStrings.translateType(type, dim),\r\n      ];\r\n      const error = createSemanticError(\"invalid_void_return_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_void_return(id, type, dim);\r\n    }\r\n  },\r\n  invalid_void_return: (id, type, dim) => {\r\n    const context = [id, LocalizedStrings.translateType(type, dim)];\r\n    return createSemanticError(\"invalid_void_return_full\", context);\r\n  },\r\n  invalid_return_type_full: (id, type, dim, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [\r\n        sourceInfo.line,\r\n        id,\r\n        LocalizedStrings.translateType(type, dim),\r\n      ];\r\n      const error = createSemanticError(\"invalid_return_type_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_return_type(id, type, dim);\r\n    }\r\n  },\r\n  invalid_return_type: (id, type, dim) => {\r\n    const context = [id, LocalizedStrings.translateType(type, dim)];\r\n    return createSemanticError(\"invalid_return_type\", context);\r\n  },\r\n  invalid_parameters_size_full: (id, expected, actual, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, id, expected, actual];\r\n      const error = createSemanticError(\r\n        \"invalid_parameters_size_full\",\r\n        context\r\n      );\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_parameters_size(\r\n        id,\r\n        expected,\r\n        actual\r\n      );\r\n    }\r\n  },\r\n  invalid_parameters_size: (id, expected, actual) => {\r\n    const context = [id, expected, actual];\r\n    return createSemanticError(\"invalid_parameters_size\", context);\r\n  },\r\n  invalid_parameter_type_full: (fun_name, exp, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [\r\n        exp,\r\n        LanguageDefinedFunction.getLocalName(fun_name),\r\n        sourceInfo.line,\r\n      ];\r\n      const error = createSemanticError(\"invalid_parameter_type_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_parameter_type(fun_name, exp);\r\n    }\r\n  },\r\n  invalid_parameter_type: (fun_name, exp) => {\r\n    const context = [exp, LanguageDefinedFunction.getLocalName(fun_name)];\r\n    return createSemanticError(\"invalid_parameter_type_full\", context);\r\n  },\r\n  invalid_ref_full: (id, exp, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [exp, id, sourceInfo.line];\r\n      const error = createSemanticError(\"invalid_ref_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_ref(id, exp);\r\n    }\r\n  },\r\n  invalid_ref: (id, exp) => {\r\n    const context = [exp, id];\r\n    return createSemanticError(\"invalid_ref\", context);\r\n  },\r\n  unexpected_break_command_full: (sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line];\r\n      const error = createRuntimeError(\r\n        \"unexpected_break_command_full\",\r\n        context\r\n      );\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.unexpected_break_command();\r\n    }\r\n  },\r\n  unexpected_break_command: () => {\r\n    return createRuntimeError(\"unexpected_break_command\");\r\n  },\r\n  invalid_array_literal_type_full: (exp, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, exp];\r\n      const error = createRuntimeError(\r\n        \"invalid_array_literal_type_full\",\r\n        context\r\n      );\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_array_literal_type(exp);\r\n    }\r\n  },\r\n  invalid_array_literal_type: (exp) => {\r\n    const context = [exp];\r\n    return createRuntimeError(\"invalid_array_literal_type\", context);\r\n  },\r\n  invalid_array_literal_line_full: (expected, actual, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, expected, actual];\r\n      const error = createRuntimeError(\r\n        \"invalid_array_literal_line_full\",\r\n        context\r\n      );\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_array_literal_type(expected, actual);\r\n    }\r\n  },\r\n  invalid_array_literal_line: (expected, actual) => {\r\n    const context = [expected, actual];\r\n    return createRuntimeError(\"invalid_array_literal_line\", context);\r\n  },\r\n  invalid_array_literal_column_full: (expected, actual, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line, expected, actual];\r\n      const error = createRuntimeError(\r\n        \"invalid_array_literal_column_full\",\r\n        context\r\n      );\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_array_literal_column(\r\n        expected,\r\n        actual\r\n      );\r\n    }\r\n  },\r\n  invalid_array_literal_column: (expected, actual) => {\r\n    const context = [expected, actual];\r\n    return createRuntimeError(\"invalid_array_literal_column\", context);\r\n  },\r\n  invalid_unary_op_full: (expString, opName, type, dim, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [\r\n        sourceInfo.line,\r\n        expString,\r\n        LocalizedStrings.translateOp(opName),\r\n        LocalizedStrings.translateType(type, dim),\r\n      ];\r\n      const error = createRuntimeError(\"invalid_unary_op_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_unary_op(opName, type, dim);\r\n    }\r\n  },\r\n  invalid_unary_op: (expString, opName, type, dim) => {\r\n    const context = [\r\n      expString,\r\n      LocalizedStrings.translateOp(opName),\r\n      LocalizedStrings.translateType(type, dim),\r\n    ];\r\n    return createRuntimeError(\"invalid_unary_op\", context);\r\n  },\r\n  invalid_infix_op_full: (\r\n    expString,\r\n    opName,\r\n    typeLeft,\r\n    dimLeft,\r\n    typeRight,\r\n    dimRight,\r\n    sourceInfo\r\n  ) => {\r\n    if (sourceInfo) {\r\n      const context = [\r\n        sourceInfo.line,\r\n        expString,\r\n        LocalizedStrings.translateOp(opName),\r\n        LocalizedStrings.translateType(typeLeft, dimLeft),\r\n        LocalizedStrings.translateType(typeRight, dimRight),\r\n      ];\r\n      const error = createRuntimeError(\"invalid_infix_op_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_infix_op(\r\n        opName,\r\n        typeLeft,\r\n        dimLeft,\r\n        typeRight,\r\n        dimRight\r\n      );\r\n    }\r\n  },\r\n  invalid_infix_op: (\r\n    expString,\r\n    opName,\r\n    typeLeft,\r\n    dimLeft,\r\n    typeRight,\r\n    dimRight\r\n  ) => {\r\n    const context = [\r\n      expString,\r\n      LocalizedStrings.translateOp(opName),\r\n      LocalizedStrings.translateType(typeLeft, dimLeft),\r\n      LocalizedStrings.translateType(typeRight, dimRight),\r\n    ];\r\n    return createRuntimeError(\"invalid_infix_op\", context);\r\n  },\r\n  array_dimension_not_positive_full: (sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [sourceInfo.line];\r\n      const error = createSemanticError(\r\n        \"array_dimension_not_positive_full\",\r\n        context\r\n      );\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.array_dimension_not_positive();\r\n    }\r\n  },\r\n  array_dimension_not_positive: () => {\r\n    return createSemanticError(\"array_dimension_not_positive\");\r\n  },\r\n  invalid_type_conversion: (value, type, dim) => {\r\n    const context = [value, LocalizedStrings.translateType(type, dim)];\r\n    return createRuntimeError(\"invalid_type_conversion\", context);\r\n  },\r\n  invalid_read_type: (exp, type, dim, name, source_info) => {\r\n    const context = [\r\n      source_info.line,\r\n      exp,\r\n      LocalizedStrings.translateType(type, dim),\r\n      name,\r\n    ];\r\n    const error = createRuntimeError(\"invalid_read_type\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  invalid_read_type_array: (\r\n    exp,\r\n    typePos,\r\n    dimPos,\r\n    name,\r\n    typeArray,\r\n    dimArray,\r\n    sourceInfo\r\n  ) => {\r\n    const context = [\r\n      sourceInfo.line,\r\n      exp,\r\n      LocalizedStrings.translateType(typePos, dimPos),\r\n      name,\r\n      LocalizedStrings.translateType(typeArray, dimArray),\r\n    ];\r\n    const error = createRuntimeError(\"invalid_read_type_array\", context);\r\n    error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n    return error;\r\n  },\r\n  invalid_const_ref_full: (fun_name, exp, sourceInfo) => {\r\n    if (sourceInfo) {\r\n      const context = [\r\n        exp,\r\n        LanguageDefinedFunction.getLocalName(fun_name),\r\n        sourceInfo.line,\r\n      ];\r\n      const error = createSemanticError(\"invalid_const_ref_full\", context);\r\n      error.context = { line: sourceInfo.line, column: sourceInfo.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_const_ref(fun_name, exp);\r\n    }\r\n  },\r\n  invalid_const_ref: (fun_name, exp) => {\r\n    const context = [exp, LanguageDefinedFunction.getLocalName(fun_name)];\r\n    const error = createSemanticError(\"invalid_const_ref\", context);\r\n    return error;\r\n  },\r\n  invalid_const_assignment_full: (var_id, source_info) => {\r\n    if (source_info) {\r\n      const context = [source_info.line, var_id];\r\n      const error = createSemanticError(\r\n        \"invalid_const_assignment_full\",\r\n        context\r\n      );\r\n      error.context = { line: source_info.line, column: source_info.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_const_assignment(var_id);\r\n    }\r\n  },\r\n  invalid_const_assignment: (var_id) => {\r\n    const context = [var_id];\r\n    return createSemanticError(\"invalid_const_assignment\", context);\r\n  },\r\n  invalid_vector_assignment_full: (\r\n    left_id,\r\n    left_size,\r\n    right_id,\r\n    right_size,\r\n    source_info\r\n  ) => {\r\n    if (source_info) {\r\n      const context = [\r\n        source_info.line,\r\n        left_id,\r\n        left_size,\r\n        right_id,\r\n        right_size,\r\n      ];\r\n      const error = createRuntimeError(\r\n        \"invalid_vector_assignment_full\",\r\n        context\r\n      );\r\n      error.context = { line: source_info.line, column: source_info.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_vector_assignment(\r\n        left_id,\r\n        left_size,\r\n        right_id,\r\n        right_size\r\n      );\r\n    }\r\n  },\r\n  invalid_vector_assignment: (left_id, left_size, right_id, right_size) => {\r\n    const context = [left_id, left_size, right_id, right_size];\r\n    return createRuntimeError(\"invalid_vector_assignment\", context);\r\n  },\r\n  invalid_matrix_assignment_full: (\r\n    left_id,\r\n    left_line,\r\n    left_column,\r\n    right_id,\r\n    right_line,\r\n    right_column,\r\n    source_info\r\n  ) => {\r\n    if (source_info) {\r\n      const context = [\r\n        source_info.line,\r\n        left_id,\r\n        left_line,\r\n        left_column,\r\n        right_id,\r\n        right_line,\r\n        right_column,\r\n      ];\r\n      const error = createRuntimeError(\r\n        \"invalid_matrix_assignment_full\",\r\n        context\r\n      );\r\n      error.context = { line: source_info.line, column: source_info.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_matrix_assignment(\r\n        left_id,\r\n        left_line,\r\n        left_column,\r\n        right_id,\r\n        right_line,\r\n        right_column\r\n      );\r\n    }\r\n  },\r\n  invalid_matrix_assignment: (\r\n    left_id,\r\n    left_line,\r\n    left_column,\r\n    right_id,\r\n    right_line,\r\n    right_column\r\n  ) => {\r\n    const context = [\r\n      left_id,\r\n      left_line,\r\n      left_column,\r\n      right_id,\r\n      right_line,\r\n      right_column,\r\n    ];\r\n    return createRuntimeError(\"invalid_matrix_assignment\", context);\r\n  },\r\n  matrix_to_vector_attr: (left_id, right_id, source_info) => {\r\n    // SourceInfo have to be valid...\r\n    const context = [source_info.line, right_id, left_id];\r\n    const error = createSemanticError(\"matrix_to_vector_attr\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  vector_to_matrix_attr: (left_id, right_id, source_info) => {\r\n    // SourceInfo have to be valid...\r\n    const context = [source_info.line, right_id, left_id];\r\n    const error = createSemanticError(\"vector_to_matrix_attr\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  invalid_matrix_index_assign_full: (\r\n    mat_id,\r\n    mat_line,\r\n    mat_size,\r\n    exp,\r\n    exp_size,\r\n    source_info\r\n  ) => {\r\n    if (source_info) {\r\n      const context = [\r\n        source_info.line,\r\n        mat_line,\r\n        mat_id,\r\n        mat_size,\r\n        exp,\r\n        exp_size,\r\n      ];\r\n      const error = createRuntimeError(\r\n        \"invalid_matrix_index_assign_full\",\r\n        context\r\n      );\r\n      error.context = { line: source_info.line, column: source_info.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.invalid_matrix_index_assign(\r\n        mat_id,\r\n        mat_line,\r\n        mat_size,\r\n        exp,\r\n        exp_size\r\n      );\r\n    }\r\n  },\r\n  invalid_matrix_index_assign: (mat_id, mat_line, mat_size, exp, exp_size) => {\r\n    const context = [mat_line, mat_id, mat_size, exp, exp_size];\r\n    return createRuntimeError(\"invalid_matrix_index_assign\", context);\r\n  },\r\n  invalid_number_elements_vector: (\r\n    expected_num,\r\n    exp,\r\n    actual_num,\r\n    source_info\r\n  ) => {\r\n    // SourceInfo have to be valid...\r\n    const context = [expected_num, source_info.line, exp, actual_num];\r\n    const error = createRuntimeError(\"invalid_number_elements_vector\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  invalid_number_lines_matrix: (expected_num, exp, actual_num, source_info) => {\r\n    // SourceInfo have to be valid...\r\n    const context = [expected_num, source_info.line, exp, actual_num];\r\n    const error = createRuntimeError(\"invalid_number_lines_matrix\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  divsion_by_zero_full: (exp, source_info) => {\r\n    if (source_info) {\r\n      const context = [source_info.line, exp];\r\n      const error = createRuntimeError(\"divsion_by_zero_full\", context);\r\n      error.context = { line: source_info.line, column: source_info.column };\r\n      return error;\r\n    } else {\r\n      return ProcessorErrorFactory.divsion_by_zero(exp);\r\n    }\r\n  },\r\n  divsion_by_zero: (exp) => {\r\n    const context = [exp];\r\n    return createRuntimeError(\"divsion_by_zero\", context);\r\n  },\r\n  undefined_tanget_value: (value, source_info) => {\r\n    const context = [source_info.line, value];\r\n    const error = createRuntimeError(\"undefined_tanget_value\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  negative_log_value: (source_info) => {\r\n    const error = createRuntimeError(\"negative_log_value\", [source_info.line]);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  invalid_string_index: (index, str, source_info) => {\r\n    const local_fun_name = LanguageDefinedFunction.getLocalName(\"$charAt\");\r\n    const context = [\r\n      source_info.line,\r\n      local_fun_name,\r\n      index,\r\n      str,\r\n      str.length - 1,\r\n    ];\r\n    const error = createRuntimeError(\"invalid_string_index\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  negative_sqrt_value: (source_info) => {\r\n    const error = createRuntimeError(\"negative_sqrt_value\", [source_info.line]);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  /**\r\n   * @deprecated 01/10/2019\r\n   */\r\n  exceeded_recursive_calls: (source_info) => {\r\n    const context = [source_info.line];\r\n    const error = createRuntimeError(\"exceeded_recursive_calls\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  invalid_for_variable: (id, source_info) => {\r\n    const context = [source_info.line, id];\r\n    const error = createSemanticError(\"invalid_for_variable\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  invalid_for_from: (exp, source_info) => {\r\n    const context = [source_info.line, exp];\r\n    const error = createSemanticError(\"invalid_for_from\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  invalid_for_to: (exp, source_info) => {\r\n    const context = [source_info.line, exp];\r\n    const error = createSemanticError(\"invalid_for_to\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  invalid_for_pass: (exp, source_info) => {\r\n    const context = [source_info.line, exp];\r\n    const error = createSemanticError(\"invalid_for_pass\", context);\r\n    error.context = { line: source_info.line, column: source_info.column };\r\n    return error;\r\n  },\r\n  exceed_max_instructions: () => {\r\n    return createRuntimeError(\"exceed_max_instructions\");\r\n  },\r\n});\r\n\r\n","export class RuntimeError extends Error {\r\n  constructor (msg, id) {\r\n    super(...msg);\r\n    this.id = id;\r\n    if (Error.captureStackTrace) Error.captureStackTrace(this, RuntimeError);\r\n  }\r\n\r\n  get context () {\r\n    return this._context;\r\n  }\r\n\r\n  set context (contextObj) {\r\n    this._context = contextObj;\r\n  }\r\n}\r\n\r\n","export class SemanticError extends Error {\r\n  constructor (msg, id) {\r\n    super(...msg);\r\n    this.id = id;\r\n    if (Error.captureStackTrace) Error.captureStackTrace(this, SemanticError);\r\n  }\r\n\r\n  get context () {\r\n    return this._context;\r\n  }\r\n\r\n  set context (contextObj) {\r\n    this._context = contextObj;\r\n  }\r\n}\r\n\r\n","import { Store } from \"./store/store\";\r\nimport { Modes } from \"./modes\";\r\nimport { Context } from \"./context\";\r\nimport { Types } from \"./../typeSystem/types\";\r\nimport { Operators } from \"./../ast/operators\";\r\nimport { LanguageDefinedFunction } from \"./definedFunctions\";\r\nimport {\r\n  resultTypeAfterInfixOp,\r\n  resultTypeAfterUnaryOp,\r\n} from \"./compatibilityTable\";\r\nimport * as Commands from \"./../ast/commands/\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Command } from \"./../ast/commands/command\";\r\nimport * as Expressions from \"./../ast/expressions/\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Expression } from \"./../ast/expressions/expression\";\r\nimport * as Utils from \"./../util/utils\";\r\nimport { ArrayType } from \"./../typeSystem/array_type\";\r\nimport { convertToString, toInt } from \"../typeSystem/parsers\";\r\nimport { Config } from \"../util/config\";\r\nimport { ProcessorErrorFactory } from \"./error/processorErrorFactory\";\r\nimport { RuntimeError } from \"./error/runtimeError\";\r\nimport { Location } from \"../memory/location\";\r\nimport { StoreValue } from \"./store/value/store_value\";\r\nimport { StoreValueRef } from \"./store/value/store_value_ref\";\r\nimport { ArrayStoreValue } from \"./store/value/array_store_value\";\r\nimport { ArrayStoreValueRef } from \"./store/value/array_store_value_ref\";\r\nimport { StoreValueAddress } from \"./store/value/store_value_address\";\r\nimport { LocalizedStrings } from \"../services/localizedStringsService\";\r\n\r\nexport class IVProgProcessor {\r\n  static get MAIN_INTERNAL_ID () {\r\n    return \"$main\";\r\n  }\r\n\r\n  constructor (ast) {\r\n    this.ast = ast;\r\n    this.globalStore = new Store(\"$global\");\r\n    this.stores = [this.globalStore];\r\n    this.context = [Context.BASE];\r\n    this.input = null;\r\n    this.forceKill = false;\r\n    this.output = null;\r\n    this.mode = Modes.RUN;\r\n    /**\r\n     * Stores the sourceInfo of every function call, command or expression\r\n     */\r\n    this.function_call_stack = [];\r\n    this.instruction_count = 0;\r\n    this.function_call_count = 0;\r\n  }\r\n\r\n  registerInput (input) {\r\n    if (this.input !== null) this.input = null;\r\n    this.input = input;\r\n  }\r\n\r\n  registerOutput (output) {\r\n    if (this.output !== null) this.output = null;\r\n    this.output = output;\r\n  }\r\n\r\n  checkContext (context) {\r\n    return this.context[this.context.length - 1] === context;\r\n  }\r\n\r\n  ignoreSwitchCases (store) {\r\n    if (store.mode === Modes.RETURN) {\r\n      return true;\r\n    } else if (store.mode === Modes.BREAK) {\r\n      return true;\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  prepareState () {\r\n    if (this.stores !== null) {\r\n      for (let i = 0; i < this.stores.length; i++) {\r\n        delete this.stores[i];\r\n      }\r\n      this.stores = null;\r\n    }\r\n    if (this.globalStore !== null) this.globalStore = null;\r\n    this.globalStore = new Store(\"$global\");\r\n    this.stores = [this.globalStore];\r\n    this.context = [Context.BASE];\r\n    this.instruction_count = 0;\r\n    this.mode = Modes.RUN;\r\n  }\r\n\r\n  async interpretAST () {\r\n    this.prepareState();\r\n    Location.clear();\r\n    await this.initGlobal();\r\n    const mainFunc = this.findMainFunction();\r\n    if (mainFunc === null) {\r\n      throw ProcessorErrorFactory.main_missing();\r\n    }\r\n    return this.runFunction(mainFunc, [], this.globalStore);\r\n  }\r\n\r\n  async initGlobal () {\r\n    if (!this.checkContext(Context.BASE)) {\r\n      return ProcessorErrorFactory.invalid_global_var();\r\n    }\r\n    return this.executeCommands(this.globalStore, this.ast.global);\r\n  }\r\n\r\n  findMainFunction () {\r\n    return this.ast.functions.find((v) => v.isMain);\r\n  }\r\n\r\n  findFunction (name) {\r\n    if (name.match(/^\\$.+$/)) {\r\n      if (name === IVProgProcessor.MAIN_INTERNAL_ID) {\r\n        return this.findMainFunction();\r\n      }\r\n      const fun = LanguageDefinedFunction.getFunction(name);\r\n      if (!fun) {\r\n        throw ProcessorErrorFactory.not_implemented(name);\r\n      }\r\n      return fun;\r\n    } else {\r\n      const val = this.ast.functions.find((v) => v.name === name);\r\n      if (!val) {\r\n        throw ProcessorErrorFactory.function_missing(name);\r\n      }\r\n      return val;\r\n    }\r\n  }\r\n\r\n  async runFunction (func, actualParameters, store) {\r\n    const funcName = func.isMain ? IVProgProcessor.MAIN_INTERNAL_ID : func.name;\r\n    const funcStore = new Store(funcName);\r\n    funcStore.extendStore(this.globalStore);\r\n    await this.associateParameters(\r\n      func.formalParameters,\r\n      actualParameters,\r\n      store,\r\n      funcStore\r\n    );\r\n    this.context.push(Context.FUNCTION);\r\n    this.stores.push(funcStore);\r\n    const stoWithVars = await this.executeCommands(\r\n      funcStore,\r\n      func.variablesDeclarations\r\n    );\r\n    const finalSto = await this.executeCommands(stoWithVars, func.commands);\r\n    this.stores.pop();\r\n    this.context.pop();\r\n    return finalSto;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {import('./../ast/commands/formalParameter').FormalParameter[]} formal_params\r\n   * @param {Expression[]} effective_params\r\n   * @param {Store} caller_store\r\n   * @param {Store} callee_store\r\n   */\r\n  async associateParameters (\r\n    formal_params,\r\n    effective_params,\r\n    caller_store,\r\n    callee_store\r\n  ) {\r\n    const funcName =\r\n      callee_store.name === IVProgProcessor.MAIN_INTERNAL_ID\r\n        ? LanguageDefinedFunction.getMainFunctionName()\r\n        : callee_store.name;\r\n\r\n    const hasVariadic = formal_params.some((p) => p.variadic);\r\n\r\n    if (\r\n      (formal_params.length != effective_params.length && !hasVariadic) ||\r\n      formal_params.length > effective_params.length\r\n    ) {\r\n      throw ProcessorErrorFactory.invalid_parameters_size(\r\n        funcName,\r\n        formal_params.length,\r\n        effective_params.length\r\n      );\r\n    }\r\n    for (\r\n      let i = 0, j = 0;\r\n      i < formal_params.length && j < effective_params.length;\r\n      i += 1, j += 1\r\n    ) {\r\n      const formalParameter = formal_params[i];\r\n      if (formalParameter.variadic) {\r\n        [j, callee_store] = await this.associateVariadicParameter(\r\n          funcName,\r\n          formalParameter,\r\n          j,\r\n          effective_params,\r\n          caller_store,\r\n          callee_store\r\n        );\r\n      } else {\r\n        const actualParam = effective_params[i];\r\n        callee_store = await this.associateParameter(\r\n          funcName,\r\n          formalParameter,\r\n          actualParam,\r\n          caller_store,\r\n          callee_store\r\n        );\r\n      }\r\n    }\r\n    return callee_store;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} funcName\r\n   * @param {import('./../ast/commands/formalParameter').FormalParameter} formalParameter\r\n   * @param {number} index\r\n   * @param {Expression[]} effective_params\r\n   * @param {Store} caller_store\r\n   * @param {Store} callee_store\r\n   */\r\n  async associateVariadicParameter (\r\n    funcName,\r\n    formalParameter,\r\n    index,\r\n    effective_params,\r\n    caller_store,\r\n    callee_store\r\n  ) {\r\n    let i;\r\n    let count = 1;\r\n    for (i = index; i < effective_params.length; i += 1) {\r\n      const actualParam = effective_params[i];\r\n      callee_store = await this.associateParameter(\r\n        funcName,\r\n        formalParameter,\r\n        actualParam,\r\n        caller_store,\r\n        callee_store,\r\n        count\r\n      );\r\n      count += 1;\r\n    }\r\n    const variadicCount = new StoreValue(Types.INTEGER, count, undefined, true);\r\n    callee_store.insertStore(`${formalParameter.id}.0`, variadicCount);\r\n    return [i - 1, callee_store];\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {string} funcName\r\n   * @param {import('./../ast/commands/formalParameter').FormalParameter} formalParameter\r\n   * @param {Expression} actualParameter\r\n   * @param {Store} callerStore\r\n   * @param {Store} calleeStore\r\n   * @param {number} variadicCount The number of the current value being assigned to the variadic parameter, default 0\r\n   */\r\n  async associateParameter (\r\n    funcName,\r\n    formalParameter,\r\n    actualParameter,\r\n    callerStore,\r\n    calleeStore,\r\n    variadicCount = 0\r\n  ) {\r\n    const actualValue = await this.evaluateExpression(\r\n      callerStore,\r\n      actualParameter\r\n    );\r\n\r\n    let shouldTypeCast = false;\r\n\r\n    if (!formalParameter.type.isCompatible(actualValue.type)) {\r\n      if (\r\n        Config.enable_type_casting &&\r\n        !formalParameter.byRef &&\r\n        Store.canImplicitTypeCast(formalParameter.type, actualValue.type)\r\n      ) {\r\n        shouldTypeCast = true;\r\n      } else {\r\n        throw ProcessorErrorFactory.invalid_parameter_type(\r\n          funcName,\r\n          actualParameter.toString()\r\n        );\r\n      }\r\n    }\r\n\r\n    if (formalParameter.byRef && !actualValue.inStore()) {\r\n      throw ProcessorErrorFactory.invalid_ref(\r\n        funcName,\r\n        actualParameter.toString()\r\n      );\r\n    }\r\n\r\n    if (formalParameter.byRef) {\r\n      const realObj = callerStore.getStoreObject(actualValue.id);\r\n      let ref = null;\r\n      if (actualValue instanceof ArrayStoreValue) {\r\n        // it's a vector or matrix...\r\n        const values = actualValue.get();\r\n        const array_type = actualValue.type;\r\n        const addresses = values.map((v) =>\r\n          realObj.getLocAddressOf(v.line, v.column)\r\n        );\r\n        const columns = actualValue.isVector() ? 0 : actualValue.columns;\r\n        ref = new ArrayStoreValueRef(\r\n          array_type,\r\n          values,\r\n          addresses,\r\n          actualValue.lines,\r\n          columns,\r\n          realObj.id\r\n        );\r\n      } else {\r\n        if (actualValue instanceof StoreValueAddress) {\r\n          const line = actualValue.line;\r\n          const column = actualValue.column;\r\n          ref = new StoreValueRef(\r\n            actualValue.type,\r\n            actualValue.get(),\r\n            realObj.getLocAddressOf(line, column),\r\n            realObj.id\r\n          );\r\n          ref.setReferenceDimension(realObj.type.dimensions);\r\n        } else {\r\n          ref = new StoreValueRef(\r\n            actualValue.type,\r\n            actualValue.get(),\r\n            realObj.locAddress,\r\n            realObj.id\r\n          );\r\n        }\r\n      }\r\n      let varID = formalParameter.id;\r\n      if (formalParameter.variadic) varID = `${varID}.${variadicCount}`;\r\n      calleeStore.insertStore(varID, ref);\r\n    } else {\r\n      let realValue = actualValue;\r\n      if (shouldTypeCast) {\r\n        realValue = Store.doImplicitCasting(formalParameter.type, realValue);\r\n      }\r\n      let varID = formalParameter.id;\r\n      if (formalParameter.variadic) varID = `${varID}.${variadicCount}`;\r\n      calleeStore.insertStore(varID, realValue);\r\n    }\r\n    return calleeStore;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Command[]} cmds\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeCommands (store, cmds) {\r\n    // helper to partially apply a function, in this case executeCommand\r\n    let sto = store;\r\n    for (let i = 0; i < cmds.length; i += 1) {\r\n      sto = await this.executeCommand(sto, cmds[i]);\r\n    }\r\n    return sto;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Command} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeCommand (store, cmd) {\r\n    this.instruction_count += 1;\r\n    if (this.instruction_count % Config.suspend_threshold == 0) {\r\n      //every Config.suspend_threshold instruction should briefly delay its execution in order to allow the browser to process other things\r\n      await Utils.sleep(5);\r\n    }\r\n\r\n    // Checks if it must interrupt the execution for some reason\r\n    if (this.instruction_count >= Config.max_instruction_count) {\r\n      throw ProcessorErrorFactory.exceed_max_instructions();\r\n    } else if (this.forceKill) {\r\n      throw \"FORCED_KILL!\";\r\n    } else if (store.mode === Modes.PAUSE) {\r\n      return this.executeCommand(store, cmd);\r\n    } else if (store.mode === Modes.RETURN) {\r\n      return store;\r\n    } else if (\r\n      this.checkContext(Context.BREAKABLE) &&\r\n      store.mode === Modes.BREAK\r\n    ) {\r\n      return store;\r\n    } else if (this.mode === Modes.ABORT) {\r\n      throw LocalizedStrings.getMessage(\"aborted_execution\");\r\n    }\r\n\r\n    if (cmd instanceof Commands.Declaration) {\r\n      return this.executeDeclaration(store, cmd);\r\n    } else if (cmd instanceof Commands.ArrayIndexAssign) {\r\n      return this.executeArrayIndexAssign(store, cmd);\r\n    } else if (cmd instanceof Commands.Assign) {\r\n      return this.executeAssign(store, cmd);\r\n    } else if (cmd instanceof Commands.Break) {\r\n      return this.executeBreak(store, cmd);\r\n    } else if (cmd instanceof Commands.Return) {\r\n      return this.executeReturn(store, cmd);\r\n    } else if (cmd instanceof Commands.IfThenElse) {\r\n      return this.executeIfThenElse(store, cmd);\r\n    } else if (cmd instanceof Commands.RepeatUntil) {\r\n      return this.executeRepeatUntil(store, cmd);\r\n    } else if (cmd instanceof Commands.While) {\r\n      return this.executeWhile(store, cmd);\r\n    } else if (cmd instanceof Commands.For) {\r\n      return this.executeFor(store, cmd);\r\n    } else if (cmd instanceof Commands.Switch) {\r\n      return this.executeSwitch(store, cmd);\r\n    } else if (cmd instanceof Expressions.FunctionCall) {\r\n      return this.executeFunctionCall(store, cmd);\r\n    } else if (cmd instanceof Commands.SysCall) {\r\n      return this.executeSysCall(store, cmd);\r\n    } else {\r\n      throw ProcessorErrorFactory.unknown_command(cmd.sourceInfo);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.SysCall} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeSysCall (store, cmd) {\r\n    const func = cmd.langFunc.bind(this);\r\n    return func(store, cmd);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.FunctionCall} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeFunctionCall (store, cmd) {\r\n    let func = null;\r\n    if (cmd.isMainCall) {\r\n      func = this.findMainFunction();\r\n    } else {\r\n      func = this.findFunction(cmd.id);\r\n    }\r\n    this.function_call_stack.push(cmd.sourceInfo);\r\n    const sto = await this.runFunction(func, cmd.actualParameters, store);\r\n    sto.destroy();\r\n    if (\r\n      !Types.VOID.isCompatible(func.returnType) &&\r\n      sto.mode !== Modes.RETURN\r\n    ) {\r\n      const funcName =\r\n        func.name === IVProgProcessor.MAIN_INTERNAL_ID\r\n          ? LanguageDefinedFunction.getMainFunctionName()\r\n          : func.name;\r\n      throw ProcessorErrorFactory.function_no_return(funcName);\r\n    } else {\r\n      this.function_call_stack.pop();\r\n      return store;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.Switch} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeSwitch (store, cmd) {\r\n    this.context.push(Context.BREAKABLE);\r\n    const switchCases = cmd.cases;\r\n    let lastStore = store;\r\n    let lastCaseCheckResult = false;\r\n    for (\r\n      let i = 0;\r\n      i < switchCases.length && !this.ignoreSwitchCases(lastStore);\r\n      i += 1\r\n    ) {\r\n      const switchCase = switchCases[i];\r\n      if (lastCaseCheckResult || switchCase.isDefault) {\r\n        lastStore = await this.executeCommands(lastStore, switchCase.commands);\r\n      } else {\r\n        const equalityInfixApp = new Expressions.InfixApp(\r\n          Operators.EQ,\r\n          cmd.expression,\r\n          switchCase.expression\r\n        );\r\n        equalityInfixApp.sourceInfo = switchCase.sourceInfo;\r\n        const result = await this.evaluateExpression(\r\n          lastStore,\r\n          equalityInfixApp\r\n        );\r\n        if (result.get()) {\r\n          lastStore = await this.executeCommands(\r\n            lastStore,\r\n            switchCase.commands\r\n          );\r\n        }\r\n        lastCaseCheckResult = result.get();\r\n      }\r\n    }\r\n    this.context.pop();\r\n    if (lastStore.mode === Modes.BREAK) {\r\n      lastStore.mode = Modes.RUN;\r\n    }\r\n    return lastStore;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.For} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeFor (store, cmd) {\r\n    //BEGIN for -> while rewrite\r\n    const initCmd = new Commands.Assign(cmd.for_id.id, cmd.for_from);\r\n    initCmd.sourceInfo = cmd.sourceInfo;\r\n    // Assume for is iterating forward and that pass is not missing\r\n    let passValue = cmd.for_pass;\r\n    let condition = new Expressions.InfixApp(\r\n      Operators.LT,\r\n      cmd.for_id,\r\n      cmd.for_to\r\n    );\r\n\r\n    if (cmd.for_pass == null) {\r\n      passValue = new Expressions.IntLiteral(toInt(1));\r\n      const checkEndGTBegin = await this.evaluateExpression(\r\n        store,\r\n        new Expressions.InfixApp(Operators.GE, cmd.for_to, cmd.for_from)\r\n      );\r\n      if (!checkEndGTBegin.get()) {\r\n        passValue = new Expressions.IntLiteral(toInt(-1));\r\n        condition = new Expressions.InfixApp(\r\n          Operators.GT,\r\n          cmd.for_id,\r\n          cmd.for_to\r\n        );\r\n      }\r\n    } else {\r\n      const isForward = await this.evaluateExpression(\r\n        store,\r\n        new Expressions.InfixApp(\r\n          Operators.GE,\r\n          cmd.for_pass,\r\n          new Expressions.IntLiteral(toInt(0))\r\n        )\r\n      );\r\n      if (!isForward.get()) {\r\n        condition = new Expressions.InfixApp(\r\n          Operators.GT,\r\n          cmd.for_id,\r\n          cmd.for_to\r\n        );\r\n      }\r\n    }\r\n\r\n    condition.sourceInfo = cmd.sourceInfo;\r\n    const increment = new Commands.Assign(\r\n      cmd.for_id.id,\r\n      new Expressions.InfixApp(Operators.ADD, cmd.for_id, passValue)\r\n    );\r\n    increment.sourceInfo = cmd.sourceInfo;\r\n    const whileBlock = new Commands.CommandBlock(\r\n      [],\r\n      cmd.commands.concat(increment)\r\n    );\r\n    const forAsWhile = new Commands.While(condition, whileBlock);\r\n    forAsWhile.sourceInfo = cmd.sourceInfo;\r\n    //END for -> while rewrite\r\n    const newCmdList = [initCmd, forAsWhile];\r\n    return this.executeCommands(store, newCmdList);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.RepeatUntil} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeRepeatUntil (store, cmd) {\r\n    this.context.push(Context.BREAKABLE);\r\n    const sto = await this.executeCommands(store, cmd.commands);\r\n    if (sto.mode === Modes.BREAK) {\r\n      this.context.pop();\r\n      sto.mode = Modes.RUN;\r\n      return sto;\r\n    }\r\n    const checkCondition = await this.evaluateExpression(sto, cmd.expression);\r\n    if (!checkCondition.type.isCompatible(Types.BOOLEAN)) {\r\n      throw ProcessorErrorFactory.loop_condition_type_full(cmd.sourceInfo);\r\n    }\r\n    this.context.pop();\r\n    if (checkCondition.get()) {\r\n      return sto;\r\n    } else {\r\n      return this.executeCommand(sto, cmd);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.While} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeWhile (store, cmd) {\r\n    this.context.push(Context.BREAKABLE);\r\n    const checkCondition = await this.evaluateExpression(store, cmd.expression);\r\n    if (!checkCondition.type.isCompatible(Types.BOOLEAN)) {\r\n      throw ProcessorErrorFactory.loop_condition_type_full(\r\n        cmd.expression.toString(),\r\n        cmd.sourceInfo\r\n      );\r\n    }\r\n    if (checkCondition.get()) {\r\n      const sto = await this.executeCommands(store, cmd.commands);\r\n      this.context.pop();\r\n      if (sto.mode === Modes.BREAK) {\r\n        sto.mode = Modes.RUN;\r\n        return sto;\r\n      }\r\n      return this.executeCommand(sto, cmd);\r\n    } else {\r\n      this.context.pop();\r\n      return store;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.IfThenElse} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeIfThenElse (store, cmd) {\r\n    const isTrue = await this.evaluateExpression(store, cmd.condition);\r\n    if (!isTrue.type.isCompatible(Types.BOOLEAN)) {\r\n      throw ProcessorErrorFactory.if_condition_type_full(\r\n        cmd.condition.toString(),\r\n        cmd.sourceInfo\r\n      );\r\n    }\r\n    if (isTrue.get()) {\r\n      return this.executeCommands(store, cmd.ifTrue.commands);\r\n    } else if (cmd.ifFalse !== null) {\r\n      if (cmd.ifFalse instanceof Commands.IfThenElse) {\r\n        return this.executeCommand(store, cmd.ifFalse);\r\n      } else {\r\n        return this.executeCommands(store, cmd.ifFalse.commands);\r\n      }\r\n    } else {\r\n      return store;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.Return} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeReturn (store, cmd) {\r\n    const funcName =\r\n      store.name === IVProgProcessor.MAIN_INTERNAL_ID\r\n        ? LanguageDefinedFunction.getMainFunctionName()\r\n        : store.name;\r\n    // console.log(funcName,  store.name === IVProgProcessor.MAIN_INTERNAL_ID);\r\n    const func = this.findFunction(store.name);\r\n    const funcType = func.returnType;\r\n    const value = await this.evaluateExpression(store, cmd.expression);\r\n    if (value === null && funcType.isCompatible(Types.VOID)) {\r\n      store.mode = Modes.RETURN;\r\n      return store;\r\n    }\r\n\r\n    let real_value = value;\r\n    if (value === null || !funcType.isCompatible(value.type)) {\r\n      if (\r\n        !Config.enable_type_casting ||\r\n        !Store.canImplicitTypeCast(funcType, value.type)\r\n      ) {\r\n        const stringInfo = funcType.stringInfo();\r\n        const info = stringInfo[0];\r\n        throw ProcessorErrorFactory.invalid_return_type_full(\r\n          funcName,\r\n          info.type,\r\n          info.dim,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      real_value = Store.doImplicitCasting(funcType, value);\r\n    }\r\n\r\n    store.insertStore(\"$\", real_value);\r\n    store.mode = Modes.RETURN;\r\n    return store;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.Break} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeBreak (store, cmd) {\r\n    if (this.checkContext(Context.BREAKABLE)) {\r\n      store.mode = Modes.BREAK;\r\n      return store;\r\n    } else {\r\n      throw ProcessorErrorFactory.unexpected_break_command_full(cmd.sourceInfo);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.Assign} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeAssign (store, cmd) {\r\n    const inStore = store.applyStore(cmd.id);\r\n    if (inStore.isConst) {\r\n      throw ProcessorErrorFactory.invalid_const_assignment_full(\r\n        cmd.id,\r\n        cmd.sourceInfo\r\n      );\r\n    }\r\n    const value = await this.evaluateExpression(store, cmd.expression);\r\n    let realValue = value;\r\n    if (!inStore.type.isCompatible(realValue.type)) {\r\n      if (\r\n        Config.enable_type_casting &&\r\n        Store.canImplicitTypeCast(inStore.type, value.type)\r\n      ) {\r\n        realValue = Store.doImplicitCasting(inStore.type, realValue);\r\n      } else {\r\n        const stringInfo = inStore.type.stringInfo();\r\n        const info = stringInfo[0];\r\n        const exp_type_string_info = value.type.stringInfo();\r\n        const exp_type_info = exp_type_string_info[0];\r\n        const exp = cmd.expression.toString();\r\n        throw ProcessorErrorFactory.incompatible_types_full(\r\n          info.type,\r\n          info.dim,\r\n          exp_type_info.type,\r\n          exp_type_info.dim,\r\n          exp,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n    }\r\n\r\n    if (inStore instanceof ArrayStoreValue) {\r\n      const columns = realValue.columns == null ? 0 : realValue.columns;\r\n      if (inStore.lines !== realValue.lines || inStore.columns !== columns) {\r\n        const exp = cmd.expression.toString();\r\n        if (inStore.isVector()) {\r\n          throw ProcessorErrorFactory.invalid_vector_assignment_full(\r\n            cmd.id,\r\n            inStore.lines,\r\n            exp,\r\n            realValue.lines,\r\n            cmd.sourceInfo\r\n          );\r\n        } else {\r\n          throw ProcessorErrorFactory.invalid_matrix_assignment_full(\r\n            cmd.id,\r\n            inStore.lines,\r\n            inStore.columns,\r\n            exp,\r\n            realValue.lines,\r\n            realValue.columns,\r\n            cmd.sourceInfo\r\n          );\r\n        }\r\n      }\r\n    }\r\n\r\n    store.updateStore(cmd.id, realValue);\r\n    return store;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.ArrayIndexAssign} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeArrayIndexAssign (store, cmd) {\r\n    const mustBeArray = store.applyStore(cmd.id);\r\n    let used_dims = 0;\r\n    if (mustBeArray.isConst) {\r\n      throw ProcessorErrorFactory.invalid_const_assignment_full(\r\n        cmd.id,\r\n        cmd.sourceInfo\r\n      );\r\n    }\r\n    if (!(mustBeArray.type instanceof ArrayType)) {\r\n      throw ProcessorErrorFactory.invalid_array_access_full(\r\n        cmd.id,\r\n        cmd.sourceInfo\r\n      );\r\n    }\r\n    const lineSV = await this.evaluateExpression(store, cmd.line);\r\n    if (!Types.INTEGER.isCompatible(lineSV.type)) {\r\n      throw ProcessorErrorFactory.array_dimension_not_int_full(cmd.sourceInfo);\r\n    }\r\n    used_dims += 1;\r\n    const line = lineSV.get().toNumber();\r\n    const columnSV = await this.evaluateExpression(store, cmd.column);\r\n    let column = null;\r\n    if (columnSV != null) {\r\n      if (!Types.INTEGER.isCompatible(columnSV.type)) {\r\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      column = columnSV.get().toNumber();\r\n      used_dims += 1;\r\n    }\r\n    const value = await this.evaluateExpression(store, cmd.expression);\r\n    let actualValue = value;\r\n    if (line >= mustBeArray.lines) {\r\n      if (mustBeArray.isVector) {\r\n        throw ProcessorErrorFactory.vector_line_outbounds_full(\r\n          cmd.id,\r\n          line,\r\n          mustBeArray.lines,\r\n          cmd.sourceInfo\r\n        );\r\n      } else {\r\n        throw ProcessorErrorFactory.matrix_line_outbounds_full(\r\n          cmd.id,\r\n          line,\r\n          mustBeArray.lines,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n    } else if (line < 0) {\r\n      throw ProcessorErrorFactory.array_dimension_not_positive_full(\r\n        cmd.sourceInfo\r\n      );\r\n    }\r\n    if (column != null && mustBeArray.columns === 0) {\r\n      throw ProcessorErrorFactory.vector_not_matrix_full(\r\n        cmd.id,\r\n        cmd.sourceInfo\r\n      );\r\n    }\r\n    if (column != null) {\r\n      if (column >= mustBeArray.columns) {\r\n        throw ProcessorErrorFactory.matrix_column_outbounds_full(\r\n          cmd.id,\r\n          column,\r\n          mustBeArray.columns,\r\n          cmd.sourceInfo\r\n        );\r\n      } else if (column < 0) {\r\n        throw ProcessorErrorFactory.array_dimension_not_positive_full(\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n    }\r\n\r\n    if (!mustBeArray.type.canAccept(value.type, used_dims)) {\r\n      if (\r\n        !Config.enable_type_casting ||\r\n        !Store.canImplicitTypeCast(mustBeArray.type.innerType, value.type)\r\n      ) {\r\n        const type = mustBeArray.type.innerType;\r\n        const stringInfo = type.stringInfo();\r\n        const info = stringInfo[0];\r\n        const exp_type_string_info = value.type.stringInfo();\r\n        const exp_type_info = exp_type_string_info[0];\r\n        const exp = cmd.expression.toString();\r\n        throw ProcessorErrorFactory.incompatible_types_full(\r\n          info.type,\r\n          info.dim,\r\n          exp_type_info.type,\r\n          exp_type_info.dim,\r\n          exp,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      actualValue = Store.doImplicitCasting(mustBeArray.type.innerType, value);\r\n    }\r\n\r\n    const current_value = mustBeArray.getAt(line, column);\r\n    if (current_value instanceof ArrayStoreValue) {\r\n      if (\r\n        current_value.lines !== actualValue.lines ||\r\n        current_value.columns !== actualValue.columns\r\n      ) {\r\n        const exp = cmd.expression.toString();\r\n        throw ProcessorErrorFactory.invalid_matrix_index_assign_full(\r\n          cmd.id,\r\n          line,\r\n          current_value.lines,\r\n          exp,\r\n          actualValue.lines,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n    }\r\n\r\n    return store.updateStoreArray(cmd.id, actualValue, line, column);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.Declaration} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeDeclaration (store, cmd) {\r\n    if (cmd instanceof Commands.ArrayDeclaration) {\r\n      return this.executeArrayDeclaration(store, cmd);\r\n    } else {\r\n      let temp = new StoreValue(cmd.type, null, null, cmd.isConst);\r\n      if (cmd.initial !== null) {\r\n        const value = await this.evaluateExpression(store, cmd.initial);\r\n        let realValue = value;\r\n        if (!value.type.isCompatible(cmd.type)) {\r\n          if (\r\n            Config.enable_type_casting &&\r\n            Store.canImplicitTypeCast(cmd.type, value.type)\r\n          ) {\r\n            realValue = Store.doImplicitCasting(cmd.type, realValue);\r\n          } else {\r\n            const stringInfo = value.type.stringInfo();\r\n            const info = stringInfo[0];\r\n            const exp_type_string_info = value.type.stringInfo();\r\n            const exp_type_info = exp_type_string_info[0];\r\n            const exp = cmd.expression.toString();\r\n            throw ProcessorErrorFactory.incompatible_types_full(\r\n              info.type,\r\n              info.dim,\r\n              exp_type_info.type,\r\n              exp_type_info.dim,\r\n              exp,\r\n              cmd.sourceInfo\r\n            );\r\n          }\r\n        }\r\n        temp = new StoreValue(cmd.type, realValue.get(), null, cmd.isConst);\r\n      }\r\n      store.insertStore(cmd.id, temp);\r\n      return store;\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Commands.ArrayDeclaration} cmd\r\n   *\r\n   * @returns {Promise<Store>}\r\n   */\r\n  async executeArrayDeclaration (store, cmd) {\r\n    const linesSV = await this.evaluateExpression(store, cmd.lines);\r\n    if (!Types.INTEGER.isCompatible(linesSV.type)) {\r\n      throw ProcessorErrorFactory.array_dimension_not_int_full(cmd.sourceInfo);\r\n    }\r\n    const line = linesSV.get().toNumber();\r\n    const columnsSV = await this.evaluateExpression(store, cmd.columns);\r\n    let column = null;\r\n    if (columnsSV !== null) {\r\n      if (!Types.INTEGER.isCompatible(columnsSV.type)) {\r\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      column = columnsSV.get().toNumber();\r\n      if (column < 0) {\r\n        throw ProcessorErrorFactory.array_dimension_not_positive_full(\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n    }\r\n    let temp = new ArrayStoreValue(\r\n      cmd.type,\r\n      [],\r\n      line,\r\n      column,\r\n      null,\r\n      cmd.isConst\r\n    );\r\n    if (cmd.initial !== null) {\r\n      // array can only be initialized by a literal....\r\n      const valueList = await this.evaluateArrayLiteral(\r\n        store,\r\n        cmd.initial,\r\n        cmd.type,\r\n        line,\r\n        column\r\n      );\r\n      temp = new ArrayStoreValue(\r\n        cmd.type,\r\n        valueList,\r\n        line,\r\n        column,\r\n        null,\r\n        cmd.isConst\r\n      );\r\n    }\r\n    store.insertStore(cmd.id, temp);\r\n    return store;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Expression} exp\r\n   *\r\n   * @returns {Promise<import('./store/value/istore_value').IStoreValue>}\r\n   */\r\n  async evaluateExpression (store, exp) {\r\n    this.instruction_count += 1;\r\n    if (this.instruction_count % Config.suspend_threshold == 0) {\r\n      //every Config.suspend_threshold instruction should briefly delay its execution in order to allow the browser to process other things\r\n      await Utils.sleep(5);\r\n    }\r\n    if (this.mode === Modes.ABORT) {\r\n      throw LocalizedStrings.getMessage(\"aborted_execution\");\r\n    }\r\n    if (this.instruction_count >= Config.max_instruction_count) {\r\n      throw new Error(\r\n        \"Nmero de instrues excedeu o limite definido. Verifique se seu cdigo no possui laos infinitos ou muitas chamadas de funes recursivas.\"\r\n      );\r\n    }\r\n    if (exp instanceof Expressions.UnaryApp) {\r\n      return this.evaluateUnaryApp(store, exp);\r\n    } else if (exp instanceof Expressions.InfixApp) {\r\n      return this.evaluateInfixApp(store, exp);\r\n    } else if (exp instanceof Expressions.ArrayAccess) {\r\n      return this.evaluateArrayAccess(store, exp);\r\n    } else if (exp instanceof Expressions.VariableLiteral) {\r\n      return this.evaluateVariableLiteral(store, exp);\r\n    } else if (exp instanceof Expressions.IntLiteral) {\r\n      return this.evaluateLiteral(store, exp);\r\n    } else if (exp instanceof Expressions.RealLiteral) {\r\n      return this.evaluateLiteral(store, exp);\r\n    } else if (exp instanceof Expressions.BoolLiteral) {\r\n      return this.evaluateLiteral(store, exp);\r\n    } else if (exp instanceof Expressions.StringLiteral) {\r\n      return this.evaluateLiteral(store, exp);\r\n    } else if (exp instanceof Expressions.CharLiteral) {\r\n      return this.evaluateLiteral(store, exp);\r\n    } else if (exp instanceof Expressions.ArrayLiteral) {\r\n      throw new Error(\r\n        \"Internal Error: The system should not eval an array literal.\"\r\n      );\r\n    } else if (exp instanceof Expressions.FunctionCall) {\r\n      return this.evaluateFunctionCall(store, exp);\r\n    }\r\n    return null;\r\n  }\r\n\r\n  async evaluateFunctionCall (store, exp) {\r\n    if (exp.isMainCall) {\r\n      throw ProcessorErrorFactory.void_in_expression_full(\r\n        LanguageDefinedFunction.getMainFunctionName(),\r\n        exp.sourceInfo\r\n      );\r\n    }\r\n    const func = this.findFunction(exp.id);\r\n    if (Types.VOID.isCompatible(func.returnType)) {\r\n      throw ProcessorErrorFactory.void_in_expression_full(\r\n        exp.id,\r\n        exp.sourceInfo\r\n      );\r\n    }\r\n    if (this.function_call_stack.length >= Config.max_call_stack) {\r\n      throw ProcessorErrorFactory.exceeded_recursive_calls(exp.sourceInfo);\r\n    }\r\n    this.function_call_stack.push(exp.sourceInfo);\r\n    const sto = await this.runFunction(func, exp.actualParameters, store);\r\n    if (sto.mode !== Modes.RETURN) {\r\n      throw new Error(\r\n        \"!!!Internal error: the function that was called did not have a return command or did not set the store mode properly -> \" +\r\n          exp.id\r\n      );\r\n    }\r\n    const val = sto.applyStore(\"$\");\r\n    sto.destroy();\r\n    this.function_call_stack.pop();\r\n    return val;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Expressions.ArrayLiteral} exp\r\n   * @param {ArrayType} type\r\n   *\r\n   * @returns {Promise<StoreValue[]>}\r\n   */\r\n  async evaluateArrayLiteral (store, exp, type, lines, columns) {\r\n    if (!exp.isVector) {\r\n      if (columns == null) {\r\n        throw new Error(\r\n          \"This should never happen: Vector cannot be initialized by a matrix\"\r\n        );\r\n      }\r\n      const storeValueMatrix = await this.evaluateMatrix(\r\n        store,\r\n        exp,\r\n        type,\r\n        lines,\r\n        columns\r\n      );\r\n      return storeValueMatrix.reduce((prev, next) => prev.concat(next), []);\r\n    } else {\r\n      if (columns != null) {\r\n        throw new Error(\r\n          \"This should never happen: Matrix cannot be initialized by a vector\"\r\n        );\r\n      }\r\n      return this.evaluateVector(store, exp, type, lines);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Evalautes a list of literals and expression composing the vector\r\n   * @param {Store} store\r\n   * @param {Expressions.ArrayLiteral} exps\r\n   * @param {ArrayType} type\r\n   * @param {number} n_elements\r\n   *\r\n   * @returns {Promise<StoreValue[]>} store object list\r\n   */\r\n  async evaluateVector (store, exps, type, n_elements) {\r\n    const values = exps.value;\r\n    if (n_elements !== values.length) {\r\n      throw ProcessorErrorFactory.invalid_number_elements_vector(\r\n        n_elements,\r\n        exps.toString(),\r\n        values.length,\r\n        exps.sourceInfo\r\n      );\r\n    }\r\n    const actualValues = await Promise.all(\r\n      values.map((exp) => this.evaluateExpression(store, exp))\r\n    );\r\n    return actualValues.map((v, index) => {\r\n      if (!type.canAccept(v.type, 1)) {\r\n        if (\r\n          !Config.enable_type_casting ||\r\n          !Store.canImplicitTypeCast(type.innerType, v.type)\r\n        ) {\r\n          // const stringInfo = v.type.stringInfo();\r\n          // const info = stringInfo[0];\r\n          const exp_str = values[index].toString();\r\n          // TODO - fix error message\r\n          throw ProcessorErrorFactory.invalid_array_literal_type_full(\r\n            exp_str,\r\n            values[index].sourceInfo\r\n          );\r\n        }\r\n        const newValue = Store.doImplicitCasting(type.innerType, v);\r\n        return newValue;\r\n      }\r\n      return v;\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Evaluates a list of array literals composing the matrix\r\n   * @param {Store} store\r\n   * @param {Expressions.ArrayLiteral} exps\r\n   * @param {ArrayType} type\r\n   *\r\n   * @returns {Promise<StoreValue[][]>}\r\n   */\r\n  async evaluateMatrix (store, exps, type, lines, columns) {\r\n    const values = exps.value;\r\n    if (values.length !== lines) {\r\n      throw ProcessorErrorFactory.invalid_number_lines_matrix(\r\n        lines,\r\n        exps.toString(),\r\n        values.length,\r\n        exps.sourceInfo\r\n      );\r\n    }\r\n    const vectors = values.map((vector) => {\r\n      const vec_type = new ArrayType(type.innerType, 1);\r\n      return this.evaluateVector(store, vector, vec_type, columns);\r\n    });\r\n    return await Promise.all(vectors);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} _\r\n   * @param {import('../ast/expressions/literal').Literal} exp\r\n   *\r\n   * @returns {import('./store/value/istore_value').IStoreValue}\r\n   */\r\n  async evaluateLiteral (_, exp) {\r\n    return new StoreValue(exp.type, exp.value);\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Expressions.VariableLiteral} exp\r\n   *\r\n   * @returns {import('./store/value/istore_value').IStoreValue}\r\n   */\r\n  async evaluateVariableLiteral (store, exp) {\r\n    const val = store.applyStore(exp.id);\r\n    return val;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Expressions.ArrayAccess} exp\r\n   *\r\n   * @returns {import('./store/value/istore_value').IStoreValue}\r\n   */\r\n  async evaluateArrayAccess (store, exp) {\r\n    const mustBeArray = store.getStoreObject(exp.id);\r\n    if (!(mustBeArray.type instanceof ArrayType)) {\r\n      throw ProcessorErrorFactory.invalid_array_access_full(\r\n        exp.id,\r\n        exp.sourceInfo\r\n      );\r\n    }\r\n    const lineSV = await this.evaluateExpression(store, exp.line);\r\n    if (!Types.INTEGER.isCompatible(lineSV.type)) {\r\n      throw ProcessorErrorFactory.array_dimension_not_int_full(exp.sourceInfo);\r\n    }\r\n    const line = lineSV.get().toNumber();\r\n    const columnSV = await this.evaluateExpression(store, exp.column);\r\n    let column = null;\r\n    if (columnSV !== null) {\r\n      if (!Types.INTEGER.isCompatible(columnSV.type)) {\r\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n          exp.sourceInfo\r\n        );\r\n      }\r\n      column = columnSV.get().toNumber();\r\n    }\r\n    if (line >= mustBeArray.lines) {\r\n      if (mustBeArray.isVector) {\r\n        throw ProcessorErrorFactory.vector_line_outbounds_full(\r\n          exp.id,\r\n          line,\r\n          mustBeArray.lines,\r\n          exp.sourceInfo\r\n        );\r\n      } else {\r\n        throw ProcessorErrorFactory.matrix_line_outbounds_full(\r\n          exp.id,\r\n          line,\r\n          mustBeArray.lines,\r\n          exp.sourceInfo\r\n        );\r\n      }\r\n    } else if (line < 0) {\r\n      throw ProcessorErrorFactory.array_dimension_not_positive_full(\r\n        exp.sourceInfo\r\n      );\r\n    }\r\n    if (column !== null && mustBeArray.columns === 0) {\r\n      throw ProcessorErrorFactory.vector_not_matrix_full(\r\n        exp.id,\r\n        exp.sourceInfo\r\n      );\r\n    }\r\n    if (column !== null) {\r\n      if (column >= mustBeArray.columns) {\r\n        throw ProcessorErrorFactory.matrix_column_outbounds_full(\r\n          exp.id,\r\n          column,\r\n          mustBeArray.columns,\r\n          exp.sourceInfo\r\n        );\r\n      } else if (column < 0) {\r\n        throw ProcessorErrorFactory.array_dimension_not_positive_full(\r\n          exp.sourceInfo\r\n        );\r\n      }\r\n    }\r\n    const result = mustBeArray.getAt(line, column);\r\n    const type = mustBeArray.type.innerType;\r\n    if (Array.isArray(result)) {\r\n      const values = result.map((val, col) => {\r\n        return new StoreValueAddress(\r\n          type,\r\n          val,\r\n          line,\r\n          col,\r\n          mustBeArray.id,\r\n          mustBeArray.readOnly\r\n        );\r\n      });\r\n      return new ArrayStoreValue(\r\n        new ArrayType(type, 1),\r\n        values,\r\n        mustBeArray.columns,\r\n        null,\r\n        mustBeArray.id,\r\n        mustBeArray.readOnly\r\n      );\r\n    } else {\r\n      return new StoreValueAddress(\r\n        type,\r\n        result,\r\n        line,\r\n        column,\r\n        mustBeArray.id,\r\n        mustBeArray.readOnly\r\n      );\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Expressions.UnaryApp} unaryApp\r\n   *\r\n   * @returns {import('./store/value/istore_value').IStoreValue}\r\n   */\r\n  async evaluateUnaryApp (store, unaryApp) {\r\n    const left = await this.evaluateExpression(store, unaryApp.left);\r\n    const resultType = resultTypeAfterUnaryOp(unaryApp.op, left.type);\r\n    if (Types.UNDEFINED.isCompatible(resultType)) {\r\n      const stringInfo = left.type.stringInfo();\r\n      const info = stringInfo[0];\r\n      throw ProcessorErrorFactory.invalid_unary_op_full(\r\n        unaryApp.op,\r\n        info.type,\r\n        info.dim,\r\n        unaryApp.sourceInfo\r\n      );\r\n    }\r\n    switch (unaryApp.op.ord) {\r\n      case Operators.ADD.ord:\r\n        return new StoreValue(resultType, left.get());\r\n      case Operators.SUB.ord:\r\n        return new StoreValue(resultType, left.get().negated());\r\n      case Operators.NOT.ord:\r\n        return new StoreValue(resultType, !left.get());\r\n      default:\r\n        throw new RuntimeError(\"!!!Critical Invalid UnaryApp \" + unaryApp.op);\r\n    }\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {Store} store\r\n   * @param {Expressions.InfixApp} infixApp\r\n   *\r\n   * @returns {import('./store/value/istore_value').IStoreValue}\r\n   */\r\n  async evaluateInfixApp (store, infixApp) {\r\n    const left = await this.evaluateExpression(store, infixApp.left);\r\n    const right = await this.evaluateExpression(store, infixApp.right);\r\n    let shouldImplicitCast = false;\r\n    let resultType = resultTypeAfterInfixOp(infixApp.op, left.type, right.type);\r\n    if (Types.UNDEFINED.isCompatible(resultType)) {\r\n      if (\r\n        Config.enable_type_casting &&\r\n        Store.canImplicitTypeCast(left.type, right.type)\r\n      ) {\r\n        shouldImplicitCast = true;\r\n      } else {\r\n        const stringInfoLeft = left.type.stringInfo();\r\n        const infoLeft = stringInfoLeft[0];\r\n        const stringInfoRight = right.type.stringInfo();\r\n        const infoRight = stringInfoRight[0];\r\n        throw ProcessorErrorFactory.invalid_infix_op_full(\r\n          infixApp.op,\r\n          infoLeft.type,\r\n          infoLeft.dim,\r\n          infoRight.type,\r\n          infoRight.dim,\r\n          infixApp.sourceInfo\r\n        );\r\n      }\r\n    }\r\n    let result = null;\r\n    switch (infixApp.op.ord) {\r\n      case Operators.ADD.ord: {\r\n        if (Types.STRING.isCompatible(left.type)) {\r\n          const rightStr = convertToString(right.get(), right.type);\r\n          return new StoreValue(resultType, left.get() + rightStr);\r\n        } else if (Types.STRING.isCompatible(right.type)) {\r\n          const leftStr = convertToString(left.get(), left.type);\r\n          return new StoreValue(resultType, leftStr + right.get());\r\n        } else if (Types.CHAR.isCompatible(left.type)) {\r\n          const strLeft = convertToString(left.get(), left.type);\r\n          const strRight = convertToString(right.get(), right.type);\r\n          return new StoreValue(resultType, strLeft + strRight);\r\n        } else {\r\n          return new StoreValue(resultType, left.get().plus(right.get()));\r\n        }\r\n      }\r\n      case Operators.SUB.ord:\r\n        return new StoreValue(resultType, left.get().minus(right.get()));\r\n      case Operators.MULT.ord: {\r\n        result = left.get().times(right.get());\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.DIV.ord: {\r\n        if (right.get() == 0) {\r\n          throw ProcessorErrorFactory.divsion_by_zero_full(\r\n            infixApp.toString(),\r\n            infixApp.sourceInfo\r\n          );\r\n        }\r\n        if (Types.INTEGER.isCompatible(resultType))\r\n          result = left.get().divToInt(right.get());\r\n        else result = left.get().div(right.get());\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.MOD.ord: {\r\n        let leftValue = left.get();\r\n        let rightValue = right.get();\r\n        if (shouldImplicitCast) {\r\n          resultType = Types.INTEGER;\r\n          leftValue = leftValue.trunc();\r\n          rightValue = rightValue.trunc();\r\n        }\r\n        result = leftValue.modulo(rightValue);\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.GT.ord: {\r\n        let leftValue = left.get();\r\n        let rightValue = right.get();\r\n        if (Types.STRING.isCompatible(left.type)) {\r\n          result = leftValue.length > rightValue.length;\r\n        } else if (Types.CHAR.isCompatible(left.type)) {\r\n          result = leftValue.charCodeAt(0) > rightValue.charCodeAt(0);\r\n        } else {\r\n          if (shouldImplicitCast) {\r\n            resultType = Types.BOOLEAN;\r\n            leftValue = leftValue.trunc();\r\n            rightValue = rightValue.trunc();\r\n          }\r\n          result = leftValue.gt(rightValue);\r\n        }\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.GE.ord: {\r\n        let leftValue = left.get();\r\n        let rightValue = right.get();\r\n        if (Types.STRING.isCompatible(left.type)) {\r\n          result = leftValue.length >= rightValue.length;\r\n        } else if (Types.CHAR.isCompatible(left.type)) {\r\n          result = leftValue.charCodeAt(0) >= rightValue.charCodeAt(0);\r\n        } else {\r\n          if (shouldImplicitCast) {\r\n            resultType = Types.BOOLEAN;\r\n            leftValue = leftValue.trunc();\r\n            rightValue = rightValue.trunc();\r\n          }\r\n          result = leftValue.gte(rightValue);\r\n        }\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.LT.ord: {\r\n        let leftValue = left.get();\r\n        let rightValue = right.get();\r\n        if (Types.STRING.isCompatible(left.type)) {\r\n          result = leftValue.length < rightValue.length;\r\n        } else if (Types.CHAR.isCompatible(left.type)) {\r\n          result = leftValue.charCodeAt(0) < rightValue.charCodeAt(0);\r\n        } else {\r\n          if (shouldImplicitCast) {\r\n            resultType = Types.BOOLEAN;\r\n            leftValue = leftValue.trunc();\r\n            rightValue = rightValue.trunc();\r\n          }\r\n          result = leftValue.lt(rightValue);\r\n        }\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.LE.ord: {\r\n        let leftValue = left.get();\r\n        let rightValue = right.get();\r\n        if (Types.STRING.isCompatible(left.type)) {\r\n          result = leftValue.length <= rightValue.length;\r\n        } else if (Types.CHAR.isCompatible(left.type)) {\r\n          result = leftValue.charCodeAt(0) <= rightValue.charCodeAt(0);\r\n        } else {\r\n          if (shouldImplicitCast) {\r\n            resultType = Types.BOOLEAN;\r\n            leftValue = leftValue.trunc();\r\n            rightValue = rightValue.trunc();\r\n          }\r\n          result = leftValue.lte(rightValue);\r\n        }\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.EQ.ord: {\r\n        let leftValue = left.get();\r\n        let rightValue = right.get();\r\n        if (\r\n          Types.INTEGER.isCompatible(left.type) ||\r\n          Types.REAL.isCompatible(left.type)\r\n        ) {\r\n          if (shouldImplicitCast) {\r\n            resultType = Types.BOOLEAN;\r\n            leftValue = leftValue.trunc();\r\n            rightValue = rightValue.trunc();\r\n          }\r\n          result = leftValue.eq(rightValue);\r\n        } else {\r\n          result = leftValue === rightValue;\r\n        }\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.NEQ.ord: {\r\n        let leftValue = left.get();\r\n        let rightValue = right.get();\r\n        if (\r\n          Types.INTEGER.isCompatible(left.type) ||\r\n          Types.REAL.isCompatible(left.type)\r\n        ) {\r\n          if (shouldImplicitCast) {\r\n            resultType = Types.BOOLEAN;\r\n            leftValue = leftValue.trunc();\r\n            rightValue = rightValue.trunc();\r\n          }\r\n          result = !leftValue.eq(rightValue);\r\n        } else {\r\n          result = leftValue !== rightValue;\r\n        }\r\n        return new StoreValue(resultType, result);\r\n      }\r\n      case Operators.AND.ord:\r\n        return new StoreValue(resultType, left.get() && right.get());\r\n      case Operators.OR.ord:\r\n        return new StoreValue(resultType, left.get() || right.get());\r\n      default:\r\n        throw new RuntimeError(\"!!!Critical Invalid InfixApp \" + infixApp.op);\r\n    }\r\n  }\r\n}\r\n","import * as Commands from './../../ast/commands';\r\nimport { Types } from './../../typeSystem/types';\r\nimport { toInt } from \"./../../typeSystem/parsers\";\r\nimport { ArrayType } from '../../typeSystem/array_type';\r\nimport { Modes } from '../modes';\r\nimport { StoreValue } from '../store/value/store_value';\r\n\r\n/**\r\n * num_elements\r\n * matrix_lines\r\n * matrix_columns\r\n */\r\n\r\nexport function createNumElementsFun () {\r\n  const numElementsFun = async (sto, _) => {\r\n    const vector  = sto.applyStore(\"vector\");\r\n    const temp = new StoreValue(Types.INTEGER, toInt(vector.lines));\r\n    sto.mode = Modes.RETURN;\r\n    sto.insertStore(\"$\", temp);\r\n    return sto;\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(numElementsFun)]);\r\n  const func = new Commands.Function('$numElements', Types.INTEGER,\r\n    [new Commands.FormalParameter(new ArrayType(Types.ALL, 1), 'vector', false)],\r\n    block);\r\n  return func;\r\n }\r\n\r\nexport function createMatrixLinesFun () {\r\n  const matrixLinesFun = async (sto, _) => {\r\n    const matrix  = sto.applyStore(\"matrix\");\r\n    const temp = new StoreValue(Types.INTEGER, toInt(matrix.lines));\r\n    sto.mode = Modes.RETURN;\r\n    sto.insertStore(\"$\", temp);\r\n    return sto;\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(matrixLinesFun)]);\r\n  const func = new Commands.Function('$matrixLines', Types.INTEGER,\r\n    [new Commands.FormalParameter(new ArrayType(Types.ALL, 2), 'matrix', false)],\r\n    block);\r\n  return func;\r\n }\r\n\r\nexport function createMatrixColumnsFun () {\r\n  const matrixColumnsFun = async (sto, _) => {\r\n    const matrix  = sto.applyStore(\"matrix\");\r\n    const temp = new StoreValue(Types.INTEGER, toInt(matrix.columns));\r\n    sto.mode = Modes.RETURN;\r\n    sto.insertStore(\"$\", temp);\r\n    return sto;\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(matrixColumnsFun)]);\r\n  const func = new Commands.Function('$matrixColumns', Types.INTEGER,\r\n    [new Commands.FormalParameter(new ArrayType(Types.ALL, 2), 'matrix', false)],\r\n    block);\r\n  return func;\r\n }\r\n ","import * as Commands from \"./../../ast/commands\";\r\nimport { Modes } from \"../modes\";\r\nimport * as Parsers from \"./../../typeSystem/parsers\";\r\nimport { Types } from \"./../../typeSystem/types\";\r\nimport { ProcessorErrorFactory } from \"./../error/processorErrorFactory\";\r\nimport { StoreValue } from \"../store/value/store_value\";\r\n\r\nexport function createOutputFun () {\r\n  const writeFunction = async function (store, _) {\r\n    const totalSV = store.applyStore(\"p1.0\");\r\n    const total = totalSV.get();\r\n    for (let i = 1; i < total; i += 1) {\r\n      const val = store.applyStore(`p1.${i}`);\r\n      this.output.sendOutput(Parsers.convertToString(val.get(), val.type));\r\n    }\r\n    store.mode = Modes.RETURN;\r\n    return store;\r\n  };\r\n  const block = new Commands.CommandBlock(\r\n    [],\r\n    [new Commands.SysCall(writeFunction)]\r\n  );\r\n  const func = new Commands.Function(\r\n    \"$write\",\r\n    Types.VOID,\r\n    [new Commands.FormalParameter(Types.ALL, \"p1\", false, true)],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createInputFun () {\r\n  const readFunction = async function (store, _) {\r\n    const text = await this.input.requestInput();\r\n    const typeToConvert = store.applyStore(\"p1\").type;\r\n    let type = null;\r\n    let result = null;\r\n    try {\r\n      if (typeToConvert.isCompatible(Types.INTEGER)) {\r\n        result = Parsers.toInt(text.trim()).trunc();\r\n        type = Types.INTEGER;\r\n      } else if (typeToConvert.isCompatible(Types.REAL)) {\r\n        result = Parsers.toReal(text.trim());\r\n        type = Types.REAL;\r\n      } else if (typeToConvert.isCompatible(Types.BOOLEAN)) {\r\n        result = Parsers.toBool(text.trim());\r\n        type = Types.BOOLEAN;\r\n      } else if (typeToConvert.isCompatible(Types.STRING)) {\r\n        result = Parsers.toString(text);\r\n        type = Types.STRING;\r\n      } else if (typeToConvert.isCompatible(Types.CHAR)) {\r\n        result = Parsers.toChar(text);\r\n        type = Types.CHAR;\r\n      } else {\r\n        throw new Error(\"!!!!Critical error: Unknown type in readFunction!!!!\");\r\n      }\r\n    } catch (_) {\r\n      if (this.mode == Modes.ABORT) {\r\n        store.mode = Modes.RETURN;\r\n        return store;\r\n      }\r\n      const stringInfo = typeToConvert.stringInfo()[0];\r\n      const realObject = store.getStoreObject(\"p1\");\r\n      if (realObject.getReferenceDimension() > 0) {\r\n        const arrayInfo = realObject.type.stringInfo()[0];\r\n        const dim = realObject.getReferenceDimension();\r\n        throw ProcessorErrorFactory.invalid_read_type_array(\r\n          text,\r\n          stringInfo.type,\r\n          stringInfo.dim,\r\n          realObject.getRefObj(),\r\n          arrayInfo.type,\r\n          dim,\r\n          this.function_call_stack.pop()\r\n        );\r\n      }\r\n      throw ProcessorErrorFactory.invalid_read_type(\r\n        text,\r\n        stringInfo.type,\r\n        stringInfo.dim,\r\n        realObject.getRefObj(),\r\n        this.function_call_stack.pop()\r\n      );\r\n    }\r\n    const stoValue = new StoreValue(type, result);\r\n    store.updateStore(\"p1\", stoValue);\r\n    store.mode = Modes.RETURN;\r\n    return store;\r\n  };\r\n  const block = new Commands.CommandBlock(\r\n    [],\r\n    [new Commands.SysCall(readFunction)]\r\n  );\r\n  const func = new Commands.Function(\r\n    \"$read\",\r\n    Types.VOID,\r\n    [new Commands.FormalParameter(Types.ALL, \"p1\", true)],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n","import * as Commands from './../../ast/commands';\r\nimport { Types } from './../../typeSystem/types';\r\nimport * as Parsers from \"./../../typeSystem/parsers\";\r\nimport { IVProgParser } from '../../ast/ivprogParser';\r\nimport { RealLiteral, IntLiteral, BoolLiteral } from '../../ast/expressions';\r\nimport { Modes } from '../modes';\r\nimport { MultiType } from '../../typeSystem/multiType';\r\nimport { ProcessorErrorFactory } from '../error/processorErrorFactory';\r\nimport { StoreValue } from '../store/value/store_value';\r\n\r\n/**\r\n * \r\n * is_real\r\n * is_int\r\n * is_bool\r\n * cast_real\r\n * cast_int\r\n * cast_bool\r\n * cast_string\r\n * cast_char\r\n */\r\n\r\nexport function createIsRealFun () {\r\n  const isRealFun = async (sto, _) => {\r\n    const str = sto.applyStore(\"str\");\r\n    const parser = IVProgParser.createParser(str.get());\r\n    let result = false;\r\n    try {\r\n      const val = parser.parseTerm();\r\n      if (val instanceof RealLiteral) {\r\n        result = true;\r\n      }\r\n    } catch (error) {\r\n      // ignore\r\n     }\r\n    const temp = new StoreValue(Types.BOOLEAN, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(isRealFun)]);\r\n  const func = new Commands.Function('$isReal', Types.BOOLEAN,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createIsIntFun () {\r\n  const isIntFun = async (sto, _) => {\r\n    const str = sto.applyStore(\"str\");\r\n    const parser = IVProgParser.createParser(str.get());\r\n    let result = false;\r\n    try {\r\n      const val = parser.parseTerm();\r\n      if (val instanceof IntLiteral) {\r\n        result = true;\r\n      }\r\n    } catch { \r\n      // ignore\r\n    }\r\n    const temp = new StoreValue(Types.BOOLEAN, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(isIntFun)]);\r\n  const func = new Commands.Function('$isInt', Types.BOOLEAN,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createIsBoolFun () {\r\n  const isBoolFun = (sto, _) => {\r\n    const str = sto.applyStore(\"str\");\r\n    const parser = IVProgParser.createParser(str.get());\r\n    let result = false;\r\n    try {\r\n      const val = parser.parseTerm();\r\n      if (val instanceof BoolLiteral) {\r\n        result = true;\r\n      }\r\n    } catch (error) { \r\n      // ignore\r\n    }\r\n    const temp = new StoreValue(Types.BOOLEAN, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(isBoolFun)]);\r\n  const func = new Commands.Function('$isBool', Types.BOOLEAN,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createCastRealFun () {\r\n  const castRealFun = async (sto, _) => {\r\n    const val = sto.applyStore(\"val\");\r\n    let value = val.get();\r\n    switch (val.type.ord) {\r\n      case Types.INTEGER.ord: {\r\n        value = value.toNumber();\r\n        const temp = new StoreValue(Types.REAL, Parsers.toReal(value));\r\n        sto.insertStore(\"$\", temp);\r\n        sto.mode = Modes.RETURN;\r\n        return sto;\r\n      }\r\n      case Types.STRING.ord: {\r\n        const parser = IVProgParser.createParser(value);\r\n        try {\r\n          const result = parser.parseTerm();\r\n          if (result instanceof RealLiteral) {\r\n            const temp = new StoreValue(Types.REAL, result.value);\r\n            sto.insertStore(\"$\", temp);\r\n            sto.mode = Modes.RETURN;\r\n            return sto;\r\n          }\r\n        } catch (error) {\r\n          // ignore\r\n         }\r\n      }\r\n    }\r\n    const typeStringInfoArray = Types.REAL.stringInfo();\r\n    const typeInfo = typeStringInfoArray[0];\r\n    throw ProcessorErrorFactory.invalid_type_conversion(value, typeInfo.type, typeInfo.dim);\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(castRealFun)]);\r\n  const func = new Commands.Function('$castReal', Types.REAL,\r\n    [new Commands.FormalParameter(new MultiType([Types.INTEGER, Types.STRING]), 'val', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createCastIntFun () {\r\n  const castIntFun = async (sto, _) => {\r\n    const val = sto.applyStore(\"val\");\r\n    let value = val.get();\r\n    switch (val.type.ord) {\r\n      case Types.REAL.ord: {\r\n        value = value.toNumber();\r\n        const temp = new StoreValue(Types.INTEGER, Math.floor(value));\r\n        sto.insertStore(\"$\", temp);\r\n        sto.mode = Modes.RETURN;\r\n        return sto;\r\n      }\r\n      case Types.CHAR.ord: {\r\n        const temp = new StoreValue(Types.INTEGER, value.charCodeAt(0));\r\n        sto.insertStore(\"$\", temp);\r\n        sto.mode = Modes.RETURN;\r\n        return sto;\r\n      }\r\n      case Types.STRING.ord: {\r\n        const parser = IVProgParser.createParser(value);\r\n        try {\r\n          const result = parser.parseTerm();\r\n          if (result instanceof IntLiteral) {\r\n            const temp = new StoreValue(Types.INTEGER, result.value);\r\n            sto.insertStore(\"$\", temp);\r\n            sto.mode = Modes.RETURN;\r\n            return sto;\r\n          }\r\n        } catch (error) { \r\n          // ignore\r\n        }\r\n      }\r\n    }\r\n    const typeStringInfoArray = Types.INTEGER.stringInfo();\r\n    const typeInfo = typeStringInfoArray[0];\r\n    throw ProcessorErrorFactory.invalid_type_conversion(value, typeInfo.type, typeInfo.dim);\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(castIntFun)]);\r\n  const func = new Commands.Function('$castInt', Types.INTEGER,\r\n    [new Commands.FormalParameter(new MultiType([Types.REAL, Types.STRING]), 'val', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createCastBoolFun () {\r\n  const castBoolFun = async (sto, _) => {\r\n    const str = sto.applyStore(\"str\");\r\n    const value = str.get(); \r\n    const parser = IVProgParser.createParser(value);\r\n    try {\r\n      const val = parser.parseTerm();\r\n      if (val instanceof BoolLiteral) {\r\n        const temp = new StoreValue(Types.BOOLEAN, val.value);\r\n        sto.insertStore(\"$\", temp);\r\n        sto.mode = Modes.RETURN;\r\n        return sto;\r\n      }\r\n    } catch (error) { \r\n      // ignore\r\n    }\r\n    const typeStringInfoArray = Types.BOOLEAN.stringInfo();\r\n    const typeInfo = typeStringInfoArray[0];\r\n    throw ProcessorErrorFactory.invalid_type_conversion(value, typeInfo.type, typeInfo.dim);\r\n  }\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(castBoolFun)]);\r\n  const func = new Commands.Function('$castBool', Types.BOOLEAN,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createCastStringFun () {\r\n  const castStringFun = async function (store, _) {\r\n    const val = store.applyStore('str');\r\n    const result = Parsers.convertToString(val.get(), val.type);\r\n    const temp = new StoreValue(Types.STRING, result);\r\n    store.insertStore(\"$\", temp);\r\n    store.mode = Modes.RETURN;\r\n    return store;\r\n  }\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(castStringFun)]);\r\n  const func = new Commands.Function('$castString', Types.STRING,\r\n    [new Commands.FormalParameter(Types.ALL, 'str', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createCastCharFun () {\r\n  const castCharFun = (store, _) => {\r\n    const valSV = store.applyStore('charCode');\r\n    // Force the int value to the range [0, 255]\r\n    const value = valSV.get().toNumber() & 0xFF;\r\n    const result = String.fromCharCode(value);\r\n    const temp = new StoreValue(Types.CHAR, result);\r\n    store.insertStore(\"$\", temp);\r\n    store.mode = Modes.RETURN;\r\n    return store;\r\n  }\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(castCharFun)]);\r\n  const func = new Commands.Function('$castChar', Types.CHAR,\r\n    [new Commands.FormalParameter(Types.INTEGER, 'charCode', false)],\r\n    block);\r\n  return func;\r\n}","import * as Commands from './../../ast/commands';\r\nimport { Types } from './../../typeSystem/types';\r\nimport * as Parsers from \"./../../typeSystem/parsers\";\r\nimport { Decimal } from 'decimal.js';\r\nimport { MultiType } from '../../typeSystem/multiType';\r\nimport { ArrayType } from '../../typeSystem/array_type';\r\nimport { Modes } from '../modes';\r\nimport { StoreValue } from '../store/value/store_value';\r\nimport { ProcessorErrorFactory } from '../error/processorErrorFactory';\r\n\r\n/**\r\n * sin\r\n * cos\r\n * tan\r\n * sqrt\r\n * pow\r\n * log\r\n * abs\r\n * negate\r\n * invert\r\n * max\r\n * min\r\n */\r\n\r\nfunction convertToRadians(degrees) {\r\n  return degrees.times(Decimal.acos(-1)).div(180);\r\n}\r\n\r\nexport function createSinFun () {\r\n   const sinFun = async (sto, _) => {\r\n     const x = sto.applyStore('x');\r\n     const angle = x.get().mod(360);\r\n     let result = null;\r\n     if(angle.eq(90)) {\r\n       result = new Decimal(1);\r\n     } else if (angle.eq(180)) {\r\n      result = new Decimal(0);\r\n     } else if (angle.eq(270)) {\r\n       result = new Decimal(-1);\r\n     } else {\r\n       result = Decimal.sin(convertToRadians(angle));\r\n     }\r\n     const temp = new StoreValue(Types.REAL, result);\r\n     sto.insertStore(\"$\", temp);\r\n     sto.mode = Modes.RETURN;\r\n     return sto;\r\n   };\r\n\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(sinFun)]);\r\n  const func = new Commands.Function(\r\n    \"$sin\",\r\n    Types.REAL,\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createCosFun () {\r\n  const cosFun = async (sto, _) => {\r\n    const x = sto.applyStore('x');\r\n    const angle = x.get().mod(360);\r\n    let result = null;\r\n    if (angle.eq(90)) {\r\n      result = new Decimal(0);\r\n    } else if (angle.eq(180)) {\r\n      result = new Decimal(-1);\r\n    } else if (angle.eq(270)) {\r\n      result = new Decimal(0);\r\n    }\r\n    result = Decimal.cos(convertToRadians(angle));\r\n    const temp = new StoreValue(Types.REAL, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(cosFun)]);\r\n  const func = new Commands.Function(\r\n    \"$cos\",\r\n    Types.REAL,\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createTanFun () {\r\n  const tanFun = async function (sto, _) {\r\n    const x = sto.applyStore('x');\r\n    const angle = x.get().mod(360);\r\n    if(angle.eq(90) || angle.eq(270)) {\r\n      throw ProcessorErrorFactory.undefined_tanget_value(x.get().toNumber(),\r\n        this.function_call_stack.pop());\r\n    }\r\n    const result = Decimal.tan(convertToRadians(angle));\r\n    const temp = new StoreValue(Types.REAL, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(tanFun)]);\r\n  const func = new Commands.Function(\r\n    \"$tan\",\r\n    Types.REAL,\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createSqrtFun () {\r\n  const sqrtFun = async function (sto, _) {\r\n    const x = sto.applyStore('x');\r\n    if(x.get().isNeg()) {\r\n      return Promise.reject(ProcessorErrorFactory.negative_sqrt_value(this.function_call_stack.pop()));\r\n    }\r\n    const result = x.get().sqrt();\r\n    const temp = new StoreValue(Types.REAL, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(sqrtFun)]);\r\n  const func = new Commands.Function(\r\n    \"$sqrt\",\r\n    Types.REAL,\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createPowFun () {\r\n  const powFun = async (sto, _) => {\r\n    const x = sto.applyStore('x');\r\n    const y = sto.applyStore('y');\r\n    const result = x.get().pow(y.get());\r\n    const temp = new StoreValue(Types.REAL, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(powFun)]);\r\n  const func = new Commands.Function(\r\n    \"$pow\",\r\n    Types.REAL,\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      ),\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"y\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createLogFun () {\r\n  const logFun = async function (sto, _) {\r\n    const x = sto.applyStore('x');\r\n    if (x.get().isNegative()) {\r\n      return Promise.reject(\r\n        ProcessorErrorFactory.negative_log_value(this.function_call_stack.pop())\r\n      );\r\n    }\r\n    const result = Decimal.log10(x.get());\r\n    const temp = new StoreValue(Types.REAL, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(logFun)]);\r\n  const func = new Commands.Function(\r\n    \"$log\",\r\n    Types.REAL,\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createAbsFun () {\r\n  const absFun = async (sto, _) => {\r\n    const x = sto.applyStore('x');\r\n    const result = x.get().abs();\r\n    const temp = new StoreValue(x.type, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(absFun)]);\r\n  const func = new Commands.Function(\r\n    \"$abs\",\r\n    new MultiType([Types.INTEGER, Types.REAL]),\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createNegateFun () {\r\n  const negateFun = async (sto, _) => {\r\n    const x = sto.applyStore('x');\r\n    const result = x.get().negated();\r\n    const temp = new StoreValue(x.type, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock(\r\n    [],\r\n    [new Commands.SysCall(negateFun)]\r\n  );\r\n  const func = new Commands.Function(\r\n    \"$negate\",\r\n    new MultiType([Types.INTEGER, Types.REAL]),\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createInvertFun() {\r\n  const invertFun = async (sto, _) => {\r\n    const x = sto.applyStore('x');\r\n    const result = Parsers.toReal(1).dividedBy(x.get());\r\n    const temp = new StoreValue(Types.REAL, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock(\r\n    [],\r\n    [new Commands.SysCall(invertFun)]\r\n  );\r\n  const func = new Commands.Function(\r\n    \"$invert\",\r\n    Types.REAL,\r\n    [\r\n      new Commands.FormalParameter(\r\n        new MultiType([Types.INTEGER, Types.REAL]),\r\n        \"x\",\r\n        false\r\n      )\r\n    ],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createMaxFun () {\r\n  const maxFun = async (sto, _) => {\r\n    const x = sto.applyStore('x');\r\n    const numbers = x.get().map(sto_addrs => sto_addrs.get());\r\n    const result = Decimal.max(...numbers);\r\n    const temp = new StoreValue(x.type.innerType, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n  const paramType = new ArrayType(\r\n    new MultiType([Types.INTEGER, Types.REAL]),\r\n    1\r\n  );\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(maxFun)]);\r\n  const func = new Commands.Function(\r\n    \"$max\",\r\n    new MultiType([Types.INTEGER, Types.REAL]),\r\n    [new Commands.FormalParameter(paramType, \"x\", false)],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nexport function createMinFun () {\r\n  const minFun = async (sto, _) => {\r\n    const x = sto.applyStore('x');\r\n    const numbers = x.get().map(sto_addrs => sto_addrs.get());\r\n    const result = Decimal.min(...numbers);\r\n    const temp = new StoreValue(x.type.innerType, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n  const paramType = new ArrayType(\r\n    new MultiType([Types.INTEGER, Types.REAL]),\r\n    1\r\n  );\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(minFun)]);\r\n  const func = new Commands.Function(\r\n    \"$min\",\r\n    new MultiType([Types.INTEGER, Types.REAL]),\r\n    [new Commands.FormalParameter(paramType, \"x\", false)],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n\r\nlet seed = Date.now();\r\nexport function createRandFun() {\r\n  const a = 16807;\r\n  const m = 2147483647;\r\n  const c = 12345;\r\n  const randFun = async (sto, _) => {\r\n    seed = (a * seed + c) % m;\r\n    const val = seed / (m - 1);\r\n    const temp = new StoreValue(Types.REAL, new Decimal(val));\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n  const block = new Commands.CommandBlock([], [new Commands.SysCall(randFun)]);\r\n  const func = new Commands.Function(\"$rand\", Types.REAL, [], block);\r\n  return func;\r\n}\r\n\r\nexport function createSetSeedFun() {\r\n  const setSeedFun = async (sto, _) => {\r\n    const value = sto.applyStore(\"x\");\r\n    seed = value.get().toNumber();\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n  const block = new Commands.CommandBlock(\r\n    [],\r\n    [new Commands.SysCall(setSeedFun)]\r\n  );\r\n  const func = new Commands.Function(\r\n    \"$setSeed\",\r\n    Types.VOID,\r\n    [new Commands.FormalParameter(Types.INTEGER, \"x\", false)],\r\n    block\r\n  );\r\n  return func;\r\n}\r\n","import * as Commands from './../../ast/commands';\r\nimport { Types } from './../../typeSystem/types';\r\nimport { toInt } from \"./../../typeSystem/parsers\";\r\nimport { Modes } from '../modes';\r\nimport { StoreValue } from '../store/value/store_value';\r\nimport { ProcessorErrorFactory } from '../error/processorErrorFactory';\r\n\r\n/*\r\n*  substring\r\n*  length\r\n*  uppercase\r\n*  lowercase\r\n*  charAt\r\n**/\r\n\r\nexport function createSubstringFun () {\r\n  const substringFun = async (sto, _) => {\r\n    const str = sto.applyStore(\"str\");\r\n    const start = sto.applyStore(\"start\");\r\n    const end = sto.applyStore(\"end\");\r\n    const result = str.get().substring(start.get(), end.get());\r\n    const temp = new StoreValue(Types.STRING, result);\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  };\r\n\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(substringFun)]);\r\n  const func = new Commands.Function('$substring', Types.STRING,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false),\r\n    new Commands.FormalParameter(Types.INTEGER, 'start', false),\r\n    new Commands.FormalParameter(Types.INTEGER, 'end', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createLengthFun () {\r\n  const lengthFun = async (sto, _) => {\r\n    const str = sto.applyStore(\"str\");\r\n    const temp = new StoreValue(Types.INTEGER, toInt(str.value.length));\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  }\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(lengthFun)]);\r\n  const func = new Commands.Function('$length', Types.INTEGER,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createUppercaseFun () {\r\n  const uppercaseFun = async (sto, _) => {\r\n    const str = sto.applyStore(\"str\");\r\n    const temp = new StoreValue(Types.STRING, str.get().toUpperCase());\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  }\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(uppercaseFun)]);\r\n  const func = new Commands.Function('$uppercase', Types.STRING,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createLowercaseFun () {\r\n  const lowercaseFun = async (sto, _) => {\r\n    const str = sto.applyStore(\"str\");\r\n    const temp = new StoreValue(Types.STRING, str.get().toLowerCase());\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  }\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(lowercaseFun)]);\r\n  const func = new Commands.Function('$lowercase', Types.STRING,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false)],\r\n    block);\r\n  return func;\r\n}\r\n\r\nexport function createrCharAtFun () {\r\n  const charAtFun = async function (sto, _) {\r\n    const str = sto.applyStore(\"str\");\r\n    const idx = sto.applyStore(\"index\");\r\n    if (idx.get().toNumber() < 0 || idx.get().toNumber() >= str.get().length) {\r\n      throw ProcessorErrorFactory.invalid_string_index(idx.get().toNumber(), str.get(),\r\n        this.function_call_stack.pop());\r\n    }\r\n    const temp = new StoreValue(Types.CHAR, str.get().charAt(idx.get().toNumber()));\r\n    sto.insertStore(\"$\", temp);\r\n    sto.mode = Modes.RETURN;\r\n    return sto;\r\n  }\r\n  const block = new Commands.CommandBlock([],  [new Commands.SysCall(charAtFun)]);\r\n  const func = new Commands.Function('$charAt', Types.CHAR,\r\n    [new Commands.FormalParameter(Types.STRING, 'str', false),\r\n    new Commands.FormalParameter(Types.INTEGER, 'index', false)],\r\n    block);\r\n  return func;\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Modes = void 0;\r\nexports.Modes = Object.freeze({\r\n    RETURN: Symbol('mode:return'),\r\n    BREAK: Symbol('mode:break'),\r\n    PAUSE: Symbol('mode:pause'),\r\n    RUN: Symbol('mode:run'),\r\n    ABORT: Symbol('mode:abort')\r\n});\r\n","import { ProcessorErrorFactory } from \"./../error/processorErrorFactory\";\r\nimport { LanguageDefinedFunction } from \"./../definedFunctions\";\r\nimport { LanguageService } from \"./../../services/languageService\";\r\nimport {\r\n  ArrayDeclaration,\r\n  While,\r\n  For,\r\n  Switch,\r\n  Assign,\r\n  Break,\r\n  IfThenElse,\r\n  Return,\r\n  ArrayIndexAssign,\r\n} from \"../../ast/commands\";\r\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\r\nimport { Expression } from \"./../../ast/expressions/expression\";\r\nimport {\r\n  InfixApp,\r\n  UnaryApp,\r\n  FunctionCall,\r\n  IntLiteral,\r\n  RealLiteral,\r\n  StringLiteral,\r\n  BoolLiteral,\r\n  VariableLiteral,\r\n  ArrayAccess,\r\n  CharLiteral,\r\n} from \"../../ast/expressions\";\r\nimport { Literal } from \"../../ast/expressions/literal\";\r\nimport {\r\n  resultTypeAfterInfixOp,\r\n  resultTypeAfterUnaryOp,\r\n} from \"../compatibilityTable\";\r\nimport { Types } from \"../../typeSystem/types\";\r\nimport { ArrayType } from \"../../typeSystem/array_type\";\r\nimport { MultiType } from \"../../typeSystem/multiType\";\r\nimport { Config } from \"../../util/config\";\r\nimport { Store } from \"../store/store\";\r\nimport { IVProgParser } from \"../../ast/ivprogParser\";\r\n\r\nexport class SemanticAnalyser {\r\n  static analyseFromSource (stringCode) {\r\n    const parser = IVProgParser.createParser(stringCode);\r\n    const semantic = new SemanticAnalyser(parser.parseTree());\r\n    return semantic.analyseTree();\r\n  }\r\n\r\n  constructor (ast) {\r\n    this.ast = ast;\r\n    this.lexerClass = LanguageService.getCurrentLexer();\r\n    const lexer = new this.lexerClass(null);\r\n    this.literalNames = lexer.literalNames;\r\n    this.symbolMap = null;\r\n    this.currentFunction = null;\r\n  }\r\n\r\n  pushMap () {\r\n    if (this.symbolMap === null) {\r\n      this.symbolMap = { map: {}, next: null };\r\n    } else {\r\n      const n = { map: {}, next: this.symbolMap };\r\n      this.symbolMap = n;\r\n    }\r\n  }\r\n\r\n  popMap () {\r\n    if (this.symbolMap !== null) {\r\n      this.symbolMap = this.symbolMap.next;\r\n    }\r\n  }\r\n\r\n  insertSymbol (id, typeInfo) {\r\n    this.symbolMap.map[id] = typeInfo;\r\n  }\r\n\r\n  findSymbol (id, symbol_map) {\r\n    if (!symbol_map.map[id]) {\r\n      if (symbol_map.next) {\r\n        return this.findSymbol(id, symbol_map.next);\r\n      }\r\n      return null;\r\n    } else {\r\n      return symbol_map.map[id];\r\n    }\r\n  }\r\n\r\n  getMainFunction () {\r\n    return this.ast.functions.find((v) => v.isMain);\r\n  }\r\n\r\n  findFunction (name) {\r\n    if (name.match(/^\\$.+$/)) {\r\n      const fun = LanguageDefinedFunction.getFunction(name);\r\n      if (!fun) {\r\n        throw ProcessorErrorFactory.not_implemented(name);\r\n      }\r\n      return fun;\r\n    } else {\r\n      const val = this.ast.functions.find((v) => v.name === name);\r\n      if (!val) {\r\n        return null;\r\n      }\r\n      return val;\r\n    }\r\n  }\r\n\r\n  analyseTree () {\r\n    const globalVars = this.ast.global;\r\n    this.pushMap();\r\n    this.assertDeclarations(globalVars);\r\n    const functions = this.ast.functions;\r\n    const mainFunc = functions.filter((f) => f.name === null);\r\n    if (mainFunc.length <= 0) {\r\n      throw ProcessorErrorFactory.main_missing();\r\n    }\r\n    for (let i = 0; i < functions.length; i++) {\r\n      const fun = functions[i];\r\n      this.assertFunction(fun);\r\n    }\r\n    return this.ast;\r\n  }\r\n\r\n  assertDeclarations (list) {\r\n    for (let i = 0; i < list.length; i++) {\r\n      this.assertDeclaration(list[i]);\r\n    }\r\n  }\r\n\r\n  assertDeclaration (declaration) {\r\n    if (declaration instanceof ArrayDeclaration) {\r\n      this.assertArrayDeclaration(declaration);\r\n      this.insertSymbol(declaration.id, {\r\n        id: declaration.id,\r\n        lines: declaration.lines,\r\n        columns: declaration.columns,\r\n        type: declaration.type,\r\n        isConst: declaration.isConst,\r\n      });\r\n    } else {\r\n      if (declaration.initial === null) {\r\n        this.insertSymbol(declaration.id, {\r\n          id: declaration.id,\r\n          type: declaration.type,\r\n          isConst: declaration.isConst,\r\n        });\r\n        return;\r\n      }\r\n      const resultType = this.evaluateExpressionType(declaration.initial);\r\n      if (resultType instanceof MultiType) {\r\n        if (!resultType.isCompatible(declaration.type)) {\r\n          const stringInfo = declaration.type.stringInfo();\r\n          const info = stringInfo[0];\r\n          const result_string_info = resultType.stringInfo();\r\n          const result_info = result_string_info[0];\r\n          const exp = declaration.initial;\r\n          throw ProcessorErrorFactory.incompatible_types_full(\r\n            info.type,\r\n            info.dim,\r\n            result_info.type,\r\n            result_info.dim,\r\n            exp.toString(),\r\n            declaration.sourceInfo\r\n          );\r\n        }\r\n        this.insertSymbol(declaration.id, {\r\n          id: declaration.id,\r\n          type: declaration.type,\r\n          isConst: declaration.isConst,\r\n        });\r\n      } else if (\r\n        (!declaration.type.isCompatible(resultType) &&\r\n          !Config.enable_type_casting) ||\r\n        (!declaration.type.isCompatible(resultType) &&\r\n          Config.enable_type_casting &&\r\n          !Store.canImplicitTypeCast(declaration.type, resultType))\r\n      ) {\r\n        const stringInfo = declaration.type.stringInfo();\r\n        const info = stringInfo[0];\r\n        const result_string_info = resultType.stringInfo();\r\n        const result_info = result_string_info[0];\r\n        const exp = declaration.initial;\r\n        throw ProcessorErrorFactory.incompatible_types_full(\r\n          info.type,\r\n          info.dim,\r\n          result_info.type,\r\n          result_info.dim,\r\n          exp.toString(),\r\n          declaration.sourceInfo\r\n        );\r\n      } else {\r\n        this.insertSymbol(declaration.id, {\r\n          id: declaration.id,\r\n          type: declaration.type,\r\n          isConst: declaration.isConst,\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  assertArrayDeclaration (declaration) {\r\n    if (declaration.initial === null) {\r\n      const lineType = this.evaluateExpressionType(declaration.lines);\r\n      if (!lineType.isCompatible(Types.INTEGER)) {\r\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n          declaration.sourceInfo\r\n        );\r\n      }\r\n      if (declaration.columns !== null) {\r\n        const columnType = this.evaluateExpressionType(declaration.columns);\r\n        if (!columnType.isCompatible(Types.INTEGER)) {\r\n          throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n            declaration.sourceInfo\r\n          );\r\n        }\r\n      }\r\n    } else {\r\n      this.evaluateArrayLiteral(declaration);\r\n    }\r\n    this.insertSymbol(declaration.id, {\r\n      id: declaration.id,\r\n      lines: declaration.lines,\r\n      columns: declaration.columns,\r\n      type: declaration.type,\r\n    });\r\n    return;\r\n  }\r\n\r\n  evaluateExpressionType (expression) {\r\n    // TODO: Throw operator error in case type == UNDEFINED\r\n    if (expression instanceof UnaryApp) {\r\n      const op = expression.op;\r\n      const resultType = this.evaluateExpressionType(expression.left);\r\n      const finalResult = resultTypeAfterUnaryOp(op, resultType);\r\n      if (Types.UNDEFINED.isCompatible(finalResult)) {\r\n        const stringInfo = resultType.stringInfo();\r\n        const info = stringInfo[0];\r\n        const expString = expression.toString();\r\n        throw ProcessorErrorFactory.invalid_unary_op_full(\r\n          expString,\r\n          op,\r\n          info.type,\r\n          info.dim,\r\n          expression.sourceInfo\r\n        );\r\n      }\r\n      return finalResult;\r\n    } else if (expression instanceof InfixApp) {\r\n      const op = expression.op;\r\n      const resultTypeLeft = this.evaluateExpressionType(expression.left);\r\n      const resultTypeRight = this.evaluateExpressionType(expression.right);\r\n      const finalResult = resultTypeAfterInfixOp(\r\n        op,\r\n        resultTypeLeft,\r\n        resultTypeRight\r\n      );\r\n      if (Types.UNDEFINED.isCompatible(finalResult)) {\r\n        const stringInfoLeft = resultTypeLeft.stringInfo();\r\n        const infoLeft = stringInfoLeft[0];\r\n        const stringInfoRight = resultTypeRight.stringInfo();\r\n        const infoRight = stringInfoRight[0];\r\n        const expString = expression.toString();\r\n        throw ProcessorErrorFactory.invalid_infix_op_full(\r\n          expString,\r\n          op,\r\n          infoLeft.type,\r\n          infoLeft.dim,\r\n          infoRight.type,\r\n          infoRight.dim,\r\n          expression.sourceInfo\r\n        );\r\n      }\r\n      return finalResult;\r\n    } else if (expression instanceof Literal) {\r\n      return this.evaluateLiteralType(expression);\r\n    } else if (expression instanceof FunctionCall) {\r\n      if (expression.isMainCall) {\r\n        throw ProcessorErrorFactory.void_in_expression_full(\r\n          LanguageDefinedFunction.getMainFunctionName(),\r\n          expression.sourceInfo\r\n        );\r\n      }\r\n      const fun = this.findFunction(expression.id);\r\n      if (fun === null) {\r\n        throw ProcessorErrorFactory.function_missing_full(\r\n          expression.id,\r\n          expression.sourceInfo\r\n        );\r\n      }\r\n      if (fun.returnType.isCompatible(Types.VOID)) {\r\n        throw ProcessorErrorFactory.void_in_expression_full(\r\n          expression.id,\r\n          expression.sourceInfo\r\n        );\r\n      }\r\n      this.assertParameters(fun, expression.actualParameters);\r\n      return fun.returnType;\r\n    } else if (expression instanceof ArrayAccess) {\r\n      const arrayTypeInfo = this.findSymbol(expression.id, this.symbolMap);\r\n      if (arrayTypeInfo === null) {\r\n        throw ProcessorErrorFactory.symbol_not_found_full(\r\n          expression.id,\r\n          expression.sourceInfo\r\n        );\r\n      }\r\n      if (!(arrayTypeInfo.type instanceof ArrayType)) {\r\n        throw ProcessorErrorFactory.invalid_array_access_full(\r\n          expression.id,\r\n          expression.sourceInfo\r\n        );\r\n      }\r\n      const lineType = this.evaluateExpressionType(expression.line);\r\n      if (!lineType.isCompatible(Types.INTEGER)) {\r\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n          expression.sourceInfo\r\n        );\r\n      }\r\n      if (expression.column !== null) {\r\n        if (arrayTypeInfo.columns === null) {\r\n          throw ProcessorErrorFactory.invalid_matrix_access_full(\r\n            expression.id,\r\n            expression.sourceInfo\r\n          );\r\n        }\r\n        const columnType = this.evaluateExpressionType(expression.column);\r\n        if (!columnType.isCompatible(Types.INTEGER)) {\r\n          throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n            expression.sourceInfo\r\n          );\r\n        }\r\n      }\r\n      const arrType = arrayTypeInfo.type;\r\n      if (expression.column !== null) {\r\n        // indexing matrix\r\n        return arrType.innerType;\r\n      } else {\r\n        if (arrayTypeInfo.columns === null) {\r\n          return arrType.innerType;\r\n        }\r\n        return new ArrayType(arrType.innerType, 1);\r\n      }\r\n    }\r\n  }\r\n\r\n  evaluateLiteralType (literal) {\r\n    if (literal instanceof IntLiteral) {\r\n      return literal.type;\r\n    } else if (literal instanceof RealLiteral) {\r\n      return literal.type;\r\n    } else if (literal instanceof StringLiteral) {\r\n      return literal.type;\r\n    } else if (literal instanceof BoolLiteral) {\r\n      return literal.type;\r\n    } else if (literal instanceof CharLiteral) {\r\n      return literal.type;\r\n    } else if (literal instanceof VariableLiteral) {\r\n      const typeInfo = this.findSymbol(literal.id, this.symbolMap);\r\n      if (typeInfo === null) {\r\n        throw ProcessorErrorFactory.symbol_not_found_full(\r\n          literal.id,\r\n          literal.sourceInfo\r\n        );\r\n      }\r\n      if (typeInfo.type instanceof ArrayType) {\r\n        return typeInfo.type;\r\n      }\r\n      return typeInfo.type;\r\n    } else {\r\n      // console.warn(\"Evaluating type only for an array literal...\");\r\n      let last = null;\r\n      if (literal.value.length === 1) {\r\n        last = this.evaluateExpressionType(literal.value[0]);\r\n      } else {\r\n        for (let i = 0; i < literal.value.length; i++) {\r\n          const e = this.evaluateExpressionType(literal.value[i]);\r\n          if (last === null) {\r\n            last = e;\r\n          } else if (!last.isCompatible(e)) {\r\n            const strInfo = last.stringInfo();\r\n            const info = strInfo[0];\r\n            const strExp = literal.toString();\r\n            throw ProcessorErrorFactory.incompatible_types_array_full(\r\n              strExp,\r\n              info.type,\r\n              info.dim,\r\n              literal.sourceInfo\r\n            );\r\n          }\r\n        }\r\n      }\r\n      if (last instanceof ArrayType) {\r\n        return new ArrayType(last.innerType, last.dimensions + 1);\r\n      }\r\n      return new ArrayType(last, 1);\r\n    }\r\n  }\r\n\r\n  evaluateArrayLiteral (arrayDeclaration) {\r\n    const type = arrayDeclaration.type;\r\n    const literal = arrayDeclaration.initial;\r\n    // console.log(arrayDeclaration);\r\n    if (arrayDeclaration.isVector) {\r\n      this.evaluateVectorLiteralType(literal, type);\r\n    } else {\r\n      // TODO matrix type check\r\n      for (let i = 0; i < literal.lines; ++i) {\r\n        const line_literal = literal.value[i];\r\n        this.evaluateVectorLiteralType(\r\n          line_literal,\r\n          new ArrayType(type.innerType, 1)\r\n        );\r\n      }\r\n    }\r\n    return true;\r\n  }\r\n\r\n  assertFunction (fun) {\r\n    this.pushMap();\r\n    this.currentFunction = fun;\r\n    fun.formalParameters.forEach((formalParam) => {\r\n      if (formalParam.type instanceof ArrayType) {\r\n        if (formalParam.type.dimensions > 1) {\r\n          this.insertSymbol(formalParam.id, {\r\n            id: formalParam.id,\r\n            lines: -1,\r\n            columns: -1,\r\n            type: formalParam.type,\r\n          });\r\n        } else {\r\n          this.insertSymbol(formalParam.id, {\r\n            id: formalParam.id,\r\n            lines: -1,\r\n            columns: null,\r\n            type: formalParam.type,\r\n          });\r\n        }\r\n      } else {\r\n        this.insertSymbol(formalParam.id, {\r\n          id: formalParam.id,\r\n          type: formalParam.type,\r\n        });\r\n      }\r\n    });\r\n    this.assertDeclarations(fun.variablesDeclarations);\r\n    const optional = fun.returnType.isCompatible(Types.VOID);\r\n    const valid = this.assertReturn(fun, optional);\r\n    if (!valid) {\r\n      throw ProcessorErrorFactory.function_no_return(fun.name);\r\n    }\r\n    this.popMap();\r\n  }\r\n\r\n  assertReturn (fun, optional) {\r\n    return fun.commands.reduce(\r\n      (last, next) => this.checkCommand(fun.returnType, next, optional) || last,\r\n      optional\r\n    );\r\n  }\r\n\r\n  checkCommand (type, cmd, optional) {\r\n    if (cmd instanceof While) {\r\n      const resultType = this.evaluateExpressionType(cmd.expression);\r\n      if (!resultType.isCompatible(Types.BOOLEAN)) {\r\n        throw ProcessorErrorFactory.loop_condition_type_full(\r\n          cmd.expression.toString(),\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      this.checkCommands(type, cmd.commands, optional);\r\n      return false;\r\n    } else if (cmd instanceof For) {\r\n      const var_type = this.evaluateExpressionType(cmd.for_id);\r\n      if (!var_type.isCompatible(Types.INTEGER)) {\r\n        throw ProcessorErrorFactory.invalid_for_variable(\r\n          cmd.for_id,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      const from_type = this.evaluateExpressionType(cmd.for_from);\r\n      if (!from_type.isCompatible(Types.INTEGER)) {\r\n        throw ProcessorErrorFactory.invalid_for_from(\r\n          cmd.for_from,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      const to_type = this.evaluateExpressionType(cmd.for_to);\r\n      if (!to_type.isCompatible(Types.INTEGER)) {\r\n        throw ProcessorErrorFactory.invalid_for_to(cmd.for_to, cmd.sourceInfo);\r\n      }\r\n      if (cmd.for_pass != null) {\r\n        const pass_type = this.evaluateExpressionType(cmd.for_pass);\r\n        if (!pass_type.isCompatible(Types.INTEGER)) {\r\n          throw ProcessorErrorFactory.invalid_for_pass(\r\n            cmd.for_pass,\r\n            cmd.sourceInfo\r\n          );\r\n        }\r\n      }\r\n      this.checkCommands(type, cmd.commands, optional);\r\n      return false;\r\n    } else if (cmd instanceof Switch) {\r\n      const sType = this.evaluateExpressionType(cmd.expression);\r\n      let result = optional;\r\n      let hasDefault = false;\r\n      for (let i = 0; i < cmd.cases.length; i++) {\r\n        const aCase = cmd.cases[i];\r\n        if (aCase.expression !== null) {\r\n          const caseType = this.evaluateExpressionType(aCase.expression);\r\n          if (!sType.isCompatible(caseType)) {\r\n            const strInfo = sType.stringInfo();\r\n            const info = strInfo[0];\r\n            const strExp = aCase.expression.toString();\r\n            throw ProcessorErrorFactory.invalid_case_type_full(\r\n              strExp,\r\n              info.type,\r\n              info.dim,\r\n              aCase.sourceInfo\r\n            );\r\n          }\r\n        } else {\r\n          hasDefault = true;\r\n        }\r\n        result = result && this.checkCommands(type, aCase.commands, result);\r\n      }\r\n      return result && hasDefault;\r\n    } else if (cmd instanceof ArrayIndexAssign) {\r\n      // TODO - rework!!!!!\r\n      let used_dims = 0;\r\n      const typeInfo = this.findSymbol(cmd.id, this.symbolMap);\r\n      if (typeInfo === null) {\r\n        throw ProcessorErrorFactory.symbol_not_found_full(\r\n          cmd.id,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      if (typeInfo.isConst) {\r\n        throw ProcessorErrorFactory.invalid_const_assignment_full(\r\n          cmd.id,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      if (!(typeInfo.type instanceof ArrayType)) {\r\n        throw ProcessorErrorFactory.invalid_array_access_full(\r\n          cmd.id,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      const exp = cmd.expression;\r\n      const lineExp = cmd.line;\r\n      const lineType = this.evaluateExpressionType(lineExp);\r\n      if (!lineType.isCompatible(Types.INTEGER)) {\r\n        throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      used_dims += 1;\r\n      const columnExp = cmd.column;\r\n      if (typeInfo.columns === null && columnExp !== null) {\r\n        throw ProcessorErrorFactory.invalid_matrix_access_full(\r\n          cmd.id,\r\n          cmd.sourceInfo\r\n        );\r\n      } else if (columnExp !== null) {\r\n        const columnType = this.evaluateExpressionType(columnExp);\r\n        if (!columnType.isCompatible(Types.INTEGER)) {\r\n          throw ProcessorErrorFactory.array_dimension_not_int_full(\r\n            cmd.sourceInfo\r\n          );\r\n        }\r\n        used_dims += 1;\r\n      }\r\n      // exp a single value exp or an array access\r\n      const exp_type = this.evaluateExpressionType(exp);\r\n      const access_type = typeInfo.type;\r\n\r\n      let compatible = false;\r\n      if (exp_type instanceof MultiType) {\r\n        let type = access_type;\r\n        if (access_type.dimensions - used_dims == 0) {\r\n          type = access_type.innerType;\r\n        } else {\r\n          type = new ArrayType(\r\n            access_type.innerType,\r\n            Math.max(0, access_type.dimensions - used_dims)\r\n          );\r\n        }\r\n        compatible = exp_type.isCompatible(type);\r\n      } else {\r\n        compatible = access_type.canAccept(exp_type, used_dims);\r\n      }\r\n      if (!compatible) {\r\n        if (\r\n          !Config.enable_type_casting ||\r\n          !Store.canImplicitTypeCast(access_type, exp_type)\r\n        ) {\r\n          const access_type_string_info = access_type.stringInfo();\r\n          const access_type_info = access_type_string_info[0];\r\n          const exp_type_string_info = exp_type.stringInfo();\r\n          const exp_type_info = exp_type_string_info[0];\r\n          throw ProcessorErrorFactory.incompatible_types_full(\r\n            access_type_info.type,\r\n            access_type_info.dim - used_dims,\r\n            exp_type_info.type,\r\n            exp_type_info.dim,\r\n            exp.toString(),\r\n            cmd.sourceInfo\r\n          );\r\n        }\r\n      }\r\n      return optional;\r\n    } else if (cmd instanceof Assign) {\r\n      // TODO - rework since there is no literal array assignment\r\n      const typeInfo = this.findSymbol(cmd.id, this.symbolMap);\r\n      if (typeInfo === null) {\r\n        throw ProcessorErrorFactory.symbol_not_found_full(\r\n          cmd.id,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      if (typeInfo.isConst) {\r\n        throw ProcessorErrorFactory.invalid_const_assignment_full(\r\n          cmd.id,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      const exp = cmd.expression;\r\n      const exp_type = this.evaluateExpressionType(exp);\r\n      if (exp_type instanceof ArrayType) {\r\n        if (!(typeInfo.type instanceof ArrayType)) {\r\n          // TODO better error message\r\n          throw new Error(\"Cannot assign an array to a non-array variable \");\r\n        }\r\n        // Both are arrays...\r\n        // if both don't have same dimensions and type, cannot perform assignment\r\n        if (!exp_type.isCompatible(typeInfo.type)) {\r\n          if (\r\n            exp_type.dimensions === typeInfo.type.dimensions &&\r\n            !exp_type.innerType.isCompatible(typeInfo.type.innerType)\r\n          ) {\r\n            if (\r\n              !Config.enable_type_casting ||\r\n              !Store.canImplicitTypeCast(\r\n                typeInfo.type.innerType,\r\n                exp_type.innerType\r\n              )\r\n            ) {\r\n              const stringInfo = typeInfo.type.stringInfo();\r\n              const info = stringInfo[0];\r\n              const exp_type_string_info = exp_type.stringInfo();\r\n              const exp_type_info = exp_type_string_info[0];\r\n              throw ProcessorErrorFactory.incompatible_types_full(\r\n                info.type,\r\n                info.dim,\r\n                exp_type_info.type,\r\n                exp_type_info.dim,\r\n                exp.toString(),\r\n                cmd.sourceInfo\r\n              );\r\n            }\r\n          } else {\r\n            switch (exp_type.dimensions) {\r\n              case 1: {\r\n                throw ProcessorErrorFactory.vector_to_matrix_attr(\r\n                  cmd.id,\r\n                  exp.toString(),\r\n                  cmd.sourceInfo\r\n                );\r\n              }\r\n              case 2: {\r\n                throw ProcessorErrorFactory.matrix_to_vector_attr(\r\n                  cmd.id,\r\n                  exp.toString(),\r\n                  cmd.sourceInfo\r\n                );\r\n              }\r\n            }\r\n          }\r\n        }\r\n      } else if (!exp_type.isCompatible(typeInfo.type)) {\r\n        if (\r\n          !Config.enable_type_casting ||\r\n          !Store.canImplicitTypeCast(typeInfo.type, exp_type)\r\n        ) {\r\n          const stringInfo = typeInfo.type.stringInfo();\r\n          const info = stringInfo[0];\r\n          const exp_type_string_info = exp_type.stringInfo();\r\n          const exp_type_info = exp_type_string_info[0];\r\n          throw ProcessorErrorFactory.incompatible_types_full(\r\n            info.type,\r\n            info.dim,\r\n            exp_type_info.type,\r\n            exp_type_info.dim,\r\n            exp.toString(),\r\n            cmd.sourceInfo\r\n          );\r\n        }\r\n      }\r\n      return optional;\r\n    } else if (cmd instanceof Break) {\r\n      return optional;\r\n    } else if (cmd instanceof IfThenElse) {\r\n      const resultType = this.evaluateExpressionType(cmd.condition);\r\n      if (!resultType.isCompatible(Types.BOOLEAN)) {\r\n        throw ProcessorErrorFactory.if_condition_type_full(\r\n          cmd.condition.toString(),\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      if (cmd.ifFalse instanceof IfThenElse) {\r\n        return (\r\n          this.checkCommands(type, cmd.ifTrue.commands, optional) &&\r\n          this.checkCommand(type, cmd.ifFalse, optional)\r\n        );\r\n      } else if (cmd.ifFalse != null) {\r\n        return (\r\n          this.checkCommands(type, cmd.ifTrue.commands, optional) &&\r\n          this.checkCommands(type, cmd.ifFalse.commands, optional)\r\n        );\r\n      } else {\r\n        return this.checkCommands(type, cmd.ifTrue.commands, optional);\r\n      }\r\n    } else if (cmd instanceof FunctionCall) {\r\n      let fun = null;\r\n      if (cmd.isMainCall) {\r\n        fun = this.getMainFunction();\r\n      } else {\r\n        fun = this.findFunction(cmd.id);\r\n      }\r\n      if (fun === null) {\r\n        throw ProcessorErrorFactory.function_missing_full(\r\n          cmd.id,\r\n          cmd.sourceInfo\r\n        );\r\n      }\r\n      this.assertParameters(fun, cmd.actualParameters);\r\n      return optional;\r\n    } else if (cmd instanceof Return) {\r\n      const funcName = this.currentFunction.isMain\r\n        ? LanguageDefinedFunction.getMainFunctionName()\r\n        : this.currentFunction.name;\r\n      if (cmd.expression === null && !type.isCompatible(Types.VOID)) {\r\n        const stringInfo = type.stringInfo();\r\n        const info = stringInfo[0];\r\n        throw ProcessorErrorFactory.invalid_void_return_full(\r\n          funcName,\r\n          info.type,\r\n          info.dim,\r\n          cmd.sourceInfo\r\n        );\r\n      } else if (cmd.expression !== null) {\r\n        const resultType = this.evaluateExpressionType(cmd.expression);\r\n        if (!type.isCompatible(resultType)) {\r\n          if (\r\n            !Config.enable_type_casting ||\r\n            !Store.canImplicitTypeCast(type, resultType)\r\n          ) {\r\n            const stringInfo = type.stringInfo();\r\n            const info = stringInfo[0];\r\n            throw ProcessorErrorFactory.invalid_return_type_full(\r\n              funcName,\r\n              info.type,\r\n              info.dim,\r\n              cmd.sourceInfo\r\n            );\r\n          }\r\n        }\r\n        return true;\r\n      } else {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  checkCommands (type, cmds, optional) {\r\n    return cmds.reduce(\r\n      (last, next) => this.checkCommand(type, next, optional) || last,\r\n      optional\r\n    );\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {import('./../../ast/commands/function').Function} fun\r\n   * @param {Expression[]} actualParametersList\r\n   */\r\n  assertParameters (fun, actualParametersList) {\r\n    const parameterList = fun.formalParameters;\r\n    if (\r\n      parameterList.length > actualParametersList.length ||\r\n      (parameterList.length !== actualParametersList.length &&\r\n        !fun.hasVariadic())\r\n    ) {\r\n      throw ProcessorErrorFactory.invalid_parameters_size_full(\r\n        fun.name,\r\n        actualParametersList.length,\r\n        fun.formalParameters.length,\r\n        null\r\n      );\r\n    }\r\n\r\n    for (\r\n      let i = 0, j = 0;\r\n      i < parameterList.length && j < actualParametersList.length;\r\n      i += 1, j += 1\r\n    ) {\r\n      const formalParam = parameterList[i];\r\n      if (formalParam.variadic && i + 1 !== parameterList.length) {\r\n        throw \"A function variadic parameter must be its last parameter!\";\r\n      }\r\n      if (formalParam.variadic) {\r\n        j = this.assertVariadicParameter(\r\n          fun,\r\n          formalParam,\r\n          j,\r\n          actualParametersList\r\n        );\r\n      } else {\r\n        const param = actualParametersList[j];\r\n        this.assertParameter(fun, formalParam, param);\r\n      }\r\n    }\r\n  }\r\n\r\n  evaluateVectorLiteralType (literal, type) {\r\n    // console.log(literal);\r\n    for (let i = 0; i < literal.value.length; i += 1) {\r\n      const exp = literal.value[i];\r\n      const expType = this.evaluateExpressionType(exp);\r\n      let compatible = false;\r\n      if (expType instanceof MultiType) {\r\n        compatible = expType.isCompatible(type.innerType);\r\n      } else {\r\n        compatible = type.canAccept(expType, 1);\r\n      }\r\n      if (!compatible) {\r\n        if (\r\n          !Config.enable_type_casting ||\r\n          !Store.canImplicitTypeCast(type.innerType, expType)\r\n        ) {\r\n          const stringInfo = type.stringInfo();\r\n          const info = stringInfo[0];\r\n          const result_string_info = expType.stringInfo();\r\n          const result_info = result_string_info[0];\r\n          throw ProcessorErrorFactory.incompatible_types_full(\r\n            info.type,\r\n            0,\r\n            result_info.type,\r\n            result_info.dim,\r\n            exp.toString(),\r\n            literal.sourceInfo\r\n          );\r\n        }\r\n      }\r\n    }\r\n    return type;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {import('./../../ast/commands/function').Function} fun\r\n   * @param {import('./../../ast/commands/formalParameter').FormalParameter} formalParam\r\n   * @param {number} index\r\n   * @param {Expression[]} actualParametersList\r\n   */\r\n  assertVariadicParameter (fun, formalParam, index, actualParametersList) {\r\n    let i;\r\n    for (i = index; i < actualParametersList.length; i += 1) {\r\n      this.assertParameter(fun, formalParam, actualParametersList[i]);\r\n    }\r\n    return i - 1;\r\n  }\r\n\r\n  /**\r\n   *\r\n   * @param {import('./../../ast/commands/function').Function} fun\r\n   * @param {import('./../../ast/commands/formalParameter').FormalParameter} formalParam\r\n   * @param {Expression} actualParameter\r\n   */\r\n  assertParameter (fun, formalParam, actualParameter) {\r\n    // const id = formalParam.id;\r\n    if (formalParam.byRef) {\r\n      if (actualParameter instanceof VariableLiteral) {\r\n        const variable = this.findSymbol(actualParameter.id, this.symbolMap);\r\n        if (variable.isConst) {\r\n          throw ProcessorErrorFactory.invalid_const_ref_full(\r\n            fun.name,\r\n            actualParameter.toString(),\r\n            actualParameter.sourceInfo\r\n          );\r\n        }\r\n      } else if (\r\n        !(\r\n          actualParameter instanceof VariableLiteral ||\r\n          actualParameter instanceof ArrayAccess\r\n        )\r\n      ) {\r\n        throw ProcessorErrorFactory.invalid_parameter_type_full(\r\n          fun.name,\r\n          actualParameter.toString(),\r\n          actualParameter.sourceInfo\r\n        );\r\n      }\r\n    }\r\n    const resultType = this.evaluateExpressionType(actualParameter);\r\n    if (\r\n      resultType instanceof MultiType &&\r\n      formalParam.type instanceof MultiType\r\n    ) {\r\n      let shared = 0;\r\n      for (let j = 0; j < resultType.types.length; ++j) {\r\n        const element = resultType.types[j];\r\n        if (formalParam.type.types.indexOf(element) !== -1) {\r\n          shared += 1;\r\n        }\r\n      }\r\n      if (shared <= 0) {\r\n        if (Config.enable_type_casting && !formalParam.byRef) {\r\n          if (\r\n            (!resultType.isCompatible(Types.INTEGER) &&\r\n              !resultType.isCompatible(Types.REAL)) ||\r\n            formalParam.type.isCompatible(Types.INTEGER) ||\r\n              formalParam.type.isCompatible(Types.REAL)\r\n          ) {\r\n            throw ProcessorErrorFactory.invalid_parameter_type_full(\r\n              fun.name,\r\n              actualParameter.toString(),\r\n              actualParameter.sourceInfo\r\n            );\r\n          }\r\n        }\r\n      }\r\n    } else if (resultType instanceof MultiType) {\r\n      if (!resultType.isCompatible(formalParam.type)) {\r\n        if (Config.enable_type_casting && !formalParam.byRef) {\r\n          if (\r\n            (!resultType.isCompatible(Types.INTEGER) &&\r\n              !resultType.isCompatible(Types.REAL)) ||\r\n            formalParam.type.isCompatible(Types.INTEGER) ||\r\n              formalParam.type.isCompatible(Types.REAL)\r\n          ) {\r\n            throw ProcessorErrorFactory.invalid_parameter_type_full(\r\n              fun.name,\r\n              actualParameter.toString(),\r\n              actualParameter.sourceInfo\r\n            );\r\n          }\r\n        }\r\n      }\r\n    } else if (!formalParam.type.isCompatible(resultType)) {\r\n      if (Config.enable_type_casting && !formalParam.byRef) {\r\n        if (!Store.canImplicitTypeCast(formalParam.type, resultType)) {\r\n          throw ProcessorErrorFactory.invalid_parameter_type_full(\r\n            fun.name,\r\n            actualParameter.toString(),\r\n            actualParameter.sourceInfo\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Store = void 0;\r\n/* eslint-disable @typescript-eslint/no-non-null-assertion */\r\nconst modes_1 = require(\"../modes\");\r\nconst types_1 = require(\"../../typeSystem/types\");\r\nconst storeObject_1 = require(\"./storeObject\");\r\nconst storeObjectRef_1 = require(\"./storeObjectRef\");\r\nconst array_type_1 = require(\"../../typeSystem/array_type\");\r\nconst array_store_value_1 = require(\"./value/array_store_value\");\r\nconst location_1 = require(\"../../memory/location\");\r\nconst storeObjectArray_1 = require(\"./storeObjectArray\");\r\nconst store_value_1 = require(\"./value/store_value\");\r\nconst store_value_address_1 = require(\"./value/store_value_address\");\r\nconst store_value_ref_1 = require(\"./value/store_value_ref\");\r\nconst array_store_value_ref_1 = require(\"./value/array_store_value_ref\");\r\nconst store_object_array_ref_1 = require(\"./store_object_array_ref\");\r\nclass Store {\r\n    constructor(name) {\r\n        this.name = name;\r\n        this.store = new Map();\r\n        this.mode = modes_1.Modes.RUN;\r\n    }\r\n    static canImplicitTypeCast(castType, sourceType) {\r\n        if (castType.isCompatible(types_1.Types.INTEGER) || castType.isCompatible(types_1.Types.REAL)) {\r\n            if (sourceType.isCompatible(types_1.Types.INTEGER) || sourceType.isCompatible(types_1.Types.REAL)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    static doImplicitCasting(castType, stoObj) {\r\n        if (!Store.canImplicitTypeCast(castType, stoObj.type)) {\r\n            throw new Error(\"!!!Critical error: attempted to type cast invalid types\");\r\n        }\r\n        if (castType.isCompatible(types_1.Types.INTEGER)) {\r\n            return new store_value_1.StoreValue(types_1.Types.INTEGER, stoObj.get().trunc());\r\n        }\r\n        else {\r\n            return new store_value_1.StoreValue(types_1.Types.REAL, stoObj.get());\r\n        }\r\n    }\r\n    extendStore(nextStore) {\r\n        this.nextStore = nextStore;\r\n    }\r\n    applyStore(id) {\r\n        if (!this.store.has(id)) {\r\n            if (this.nextStore != null) {\r\n                return this.nextStore.applyStore(id);\r\n            }\r\n            else {\r\n                throw new Error(`Variable ${id} not found.`);\r\n            }\r\n        }\r\n        const val = this.store.get(id);\r\n        let result = null;\r\n        if (val.type instanceof array_type_1.ArrayType) {\r\n            const array = val;\r\n            const array_type = array.type;\r\n            let l = 0, c = 0;\r\n            const values = array.value.map(v => {\r\n                if (array.isVector) {\r\n                    return new store_value_address_1.StoreValueAddress(array_type.innerType, v, l++, undefined, array.id, array.readOnly);\r\n                }\r\n                else {\r\n                    if (c >= array.columns) {\r\n                        c = 0;\r\n                        l += 1;\r\n                    }\r\n                    return new store_value_address_1.StoreValueAddress(array_type.innerType, v, l, c++, array.id, array.readOnly);\r\n                }\r\n            });\r\n            result = new array_store_value_1.ArrayStoreValue(array_type, values, array.lines, array.columns, val.id, val.readOnly);\r\n        }\r\n        else {\r\n            result = new store_value_1.StoreValue(val.type, val.value, val.id, val.readOnly);\r\n        }\r\n        return result;\r\n    }\r\n    updateStore(id, stoValue) {\r\n        if (!this.store.has(id)) {\r\n            if (this.nextStore != null) {\r\n                this.nextStore.updateStore(id, stoValue);\r\n                return this;\r\n            }\r\n            else {\r\n                // TODO: better error message\r\n                throw new Error(`Variable ${id} not found.`);\r\n            }\r\n        }\r\n        else {\r\n            const oldObj = this.store.get(id);\r\n            if (oldObj.readOnly) {\r\n                // TODO: better error message\r\n                throw new Error(\"Cannot change value of a read only variable: \" + id);\r\n            }\r\n            if (oldObj instanceof storeObjectArray_1.StoreObjectArray) {\r\n                const array_value = stoValue;\r\n                if (oldObj.isCompatible(array_value)) {\r\n                    if (oldObj.isVector) {\r\n                        array_value.get().forEach((val, index) => {\r\n                            oldObj.setAt(val, index, undefined);\r\n                        });\r\n                    }\r\n                    else {\r\n                        let line = 0;\r\n                        let column = 0;\r\n                        array_value.get().forEach((val) => {\r\n                            oldObj.setAt(val, line, column);\r\n                            column += 1;\r\n                            if (column >= oldObj.columns) {\r\n                                line += 1;\r\n                                column = 0;\r\n                            }\r\n                        });\r\n                    }\r\n                    return this;\r\n                }\r\n            }\r\n            else if (oldObj.isCompatible(stoValue)) {\r\n                const loc_address = oldObj.locAddress;\r\n                location_1.Location.updateAddress(loc_address, stoValue.get());\r\n                return this;\r\n            }\r\n            const oldType = oldObj.type;\r\n            const stoType = stoValue.type;\r\n            // TODO: better error message\r\n            throw new Error(`${oldType.value} is not compatible with type ${stoType.value} given`);\r\n        }\r\n    }\r\n    /**\r\n     * Method used to update regions of an array (vector or matrix). The should only be used when update an specific\r\n     * possition since it will only update the required addresses.\r\n     * @param {string} id the variable id to be updated\r\n     * @param {IStoreValue} sto_value the value to be used in the update process\r\n     * @param {number} line the line address of the vector/matrix\r\n     * @param {number} column the matrix column, which can be undefined\r\n     */\r\n    updateStoreArray(id, sto_value, line, column) {\r\n        if (!this.store.has(id)) {\r\n            if (this.nextStore != null) {\r\n                this.nextStore.updateStoreArray(id, sto_value, line, column);\r\n                return this;\r\n            }\r\n            else {\r\n                // TODO: better error message\r\n                throw new Error(`Variable ${id} not found.`);\r\n            }\r\n        }\r\n        else {\r\n            const oldObj = this.store.get(id);\r\n            if (oldObj.readOnly) {\r\n                // TODO: better error message\r\n                throw new Error(\"Cannot change value of a read only variable: \" + id);\r\n            }\r\n            if (oldObj instanceof storeObjectArray_1.StoreObjectArray) {\r\n                if (sto_value instanceof array_store_value_1.ArrayStoreValue) {\r\n                    // this must be a vector  or matrix line update\r\n                    const actual_values = sto_value.get();\r\n                    if (oldObj.isVector && sto_value.isVector()) {\r\n                        for (let i = 0; i < sto_value.lines; i += 1) {\r\n                            const val = actual_values[i];\r\n                            oldObj.setAt(val, i, undefined);\r\n                        }\r\n                    }\r\n                    else if (!oldObj.isVector && column == null && sto_value.isVector()) {\r\n                        for (let i = 0; i < oldObj.columns; i += 1) {\r\n                            const val = actual_values[i];\r\n                            oldObj.setAt(val, line, i);\r\n                        }\r\n                    }\r\n                    else {\r\n                        // TODO: better error message\r\n                        throw new Error(`Attempting to assign an invalid value to array ${id}`);\r\n                    }\r\n                }\r\n                else {\r\n                    if (!oldObj.isVector && column == null) {\r\n                        // TODO: better error message\r\n                        throw new Error(`Attempting to assign an invalid value to array ${id}`);\r\n                    }\r\n                    oldObj.setAt(sto_value, line, column);\r\n                }\r\n            }\r\n            else {\r\n                throw new Error(\"Cannot update a non-array variable using updateStoreArray\");\r\n            }\r\n            // const oldType = oldObj.type;\r\n            // const stoType = sto_value.type;\r\n            // // TODO: better error message\r\n            // throw new Error(`${oldType.value} is not compatible with type ${stoType.value} given`);\r\n            return this;\r\n        }\r\n    }\r\n    /**\r\n     * Inserts a new variable into the Store. This method should be used when declaring a new variable,\r\n     * including the special return variable $.\r\n     * @param id variable id\r\n     * @param stoValue the value to be used as the initial value of id\r\n     */\r\n    insertStore(id, stoValue) {\r\n        if (this.store.has(id)) {\r\n            // TODO: better error message\r\n            throw new Error(`${id} is already defined`);\r\n        }\r\n        // TODO check for array....\r\n        let newObj;\r\n        if (stoValue instanceof store_value_ref_1.StoreValueRef) {\r\n            newObj = new storeObjectRef_1.StoreObjectRef(stoValue);\r\n        }\r\n        else if (stoValue instanceof array_store_value_ref_1.ArrayStoreValueRef) {\r\n            newObj = new store_object_array_ref_1.StoreObjectArrayRef(stoValue, stoValue.lines, stoValue.columns);\r\n        }\r\n        else if (stoValue instanceof array_store_value_1.ArrayStoreValue) {\r\n            const columns = stoValue.isVector() ? 0 : stoValue.columns;\r\n            const addresses = [];\r\n            const all_values = stoValue.get();\r\n            if (all_values.length > 0) {\r\n                for (let i = 0; i < stoValue.get().length; i += 1) {\r\n                    const val = all_values[i].get();\r\n                    addresses.push(location_1.Location.allocate(val));\r\n                }\r\n            }\r\n            else {\r\n                let total = stoValue.lines;\r\n                total = stoValue.isVector() ? total : total * columns;\r\n                for (let i = 0; i < total; i += 1) {\r\n                    addresses.push(location_1.Location.allocate(null));\r\n                }\r\n            }\r\n            newObj = new storeObjectArray_1.StoreObjectArray(stoValue.type, stoValue.lines, columns, addresses, stoValue.isConst);\r\n        }\r\n        else {\r\n            const loc_address = location_1.Location.allocate(stoValue.get());\r\n            newObj = new storeObject_1.StoreObject(stoValue.type, loc_address, stoValue.isConst);\r\n        }\r\n        newObj.setID(id);\r\n        this.store.set(id, newObj);\r\n        return this;\r\n    }\r\n    /**\r\n     * Helper function similar to applyStore. But it returns the actual object in the store be it ref or not\r\n     * applyStore will return the refferenced object if the object in the store is a ref\r\n     */\r\n    getStoreObject(id) {\r\n        if (!this.store.has(id)) {\r\n            if (this.nextStore != null) {\r\n                return this.nextStore.getStoreObject(id);\r\n            }\r\n            else {\r\n                throw new Error(`Variable ${id} not found.`);\r\n            }\r\n        }\r\n        return this.store.get(id);\r\n    }\r\n    destroy() {\r\n        this.store.forEach(sto => sto.destroy(), this);\r\n    }\r\n    isDefined(id) {\r\n        if (!this.store.has(id)) {\r\n            if (this.nextStore != null) {\r\n                return this.nextStore.isDefined(id);\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n}\r\nexports.Store = Store;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StoreObject = void 0;\r\nconst location_1 = require(\"../../memory/location\");\r\nclass StoreObject {\r\n    /**\r\n     *\r\n     * @param {Type} type\r\n     * @param {Number} loc_address\r\n     * @param {Boolean} readOnly\r\n     */\r\n    constructor(type, loc_address, readOnly = false) {\r\n        this._loc_address = loc_address;\r\n        this._type = type;\r\n        this._readOnly = readOnly;\r\n        this._id = undefined;\r\n    }\r\n    setID(id) {\r\n        this._id = id;\r\n    }\r\n    get id() {\r\n        return this._id;\r\n    }\r\n    get inStore() {\r\n        return this.id !== null;\r\n    }\r\n    get type() {\r\n        return this._type;\r\n    }\r\n    /**\r\n     * Returns the actual value stored at the loccation address present in this object.\r\n     * The returned value is compatible with @prop{StoreObject.type}\r\n    */\r\n    get value() {\r\n        const address = location_1.Location.find(this._loc_address);\r\n        if (address != null) {\r\n            return address.value;\r\n        }\r\n        else {\r\n            throw new Error(\"!!!Critical Error: variable \" + this.id + \" does not have a valid address. Loc-Address \" + this.locAddress);\r\n        }\r\n    }\r\n    get number() {\r\n        throw new Error(\"DOT NOT USE THIS PROPERTY!\");\r\n    }\r\n    get readOnly() {\r\n        return this._readOnly;\r\n    }\r\n    set readOnly(value) {\r\n        this._readOnly = value;\r\n    }\r\n    isCompatible(another) {\r\n        return this.type.isCompatible(another.type);\r\n    }\r\n    destroy() {\r\n        return location_1.Location.deallocate(this._loc_address);\r\n    }\r\n    get locAddress() {\r\n        return this._loc_address;\r\n    }\r\n}\r\nexports.StoreObject = StoreObject;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StoreObjectArray = void 0;\r\nconst storeObject_1 = require(\"./storeObject\");\r\nconst array_store_value_1 = require(\"./value/array_store_value\");\r\nconst location_1 = require(\"../../memory/location\");\r\nclass StoreObjectArray extends storeObject_1.StoreObject {\r\n    constructor(type, _lines, _columns, loc_addresses, readOnly = false) {\r\n        super(type, -1, readOnly);\r\n        this._lines = _lines;\r\n        this._columns = _columns;\r\n        this.loc_addresses = loc_addresses;\r\n    }\r\n    get lines() {\r\n        return this._lines;\r\n    }\r\n    get columns() {\r\n        return this._columns;\r\n    }\r\n    isCompatible(another) {\r\n        if (another instanceof array_store_value_1.ArrayStoreValue) {\r\n            const cols = another.columns == null ? 0 : another.columns;\r\n            if (this.lines === another.lines && this.columns === cols) {\r\n                return super.isCompatible(another);\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n    get isVector() {\r\n        return this.type.dimensions === 1;\r\n    }\r\n    /**@override\r\n       * Returns the list of values stored by this array.\r\n       * All returned values are compatible with @prop{StoreObject.type}\r\n      */\r\n    get value() {\r\n        const values = [];\r\n        for (let i = 0; i < this.addresses.length; i += 1) {\r\n            const address = location_1.Location.find(this.addresses[i]);\r\n            if (address != null) {\r\n                values.push(address.value);\r\n            }\r\n            else {\r\n                throw new Error(\"!!!Critical Error: variable \" + this.id + \" does not have a valid address. Loc-Address \" + this.locAddress);\r\n            }\r\n        }\r\n        return values;\r\n    }\r\n    destroy() {\r\n        let bool = true;\r\n        for (let i = 0; i < this.addresses.length; i += 1) {\r\n            bool = bool && location_1.Location.deallocate(this.addresses[i]);\r\n        }\r\n        return bool;\r\n    }\r\n    /**\r\n     * @override\r\n     *\r\n     * Returns the address that contains a list of all addresses of the values present in the array\r\n     */\r\n    get locAddress() {\r\n        throw new Error(\"!!!Internal Error: Cannot invoke locAddress on StoreObjectArray\");\r\n    }\r\n    get addresses() {\r\n        return this.loc_addresses;\r\n    }\r\n    getAt(line, column) {\r\n        if (this.isVector) {\r\n            if (column != null) {\r\n                throw new Error(this.id + \" is not a matrix!\");\r\n            }\r\n            column = line;\r\n            line = 0;\r\n        }\r\n        else if (column == null) {\r\n            // this is a whole line...\r\n            const values = [];\r\n            for (let col = 0; col < this.columns; col += 1) {\r\n                const index = this.getIndexOf(line, col);\r\n                const address = location_1.Location.find(this.addresses[index]);\r\n                values.push(address.value);\r\n            }\r\n            return values;\r\n        }\r\n        const index = this.getIndexOf(line, column);\r\n        const address = location_1.Location.find(this.addresses[index]);\r\n        return address.value;\r\n    }\r\n    setAt(value, line, column) {\r\n        let used_dims = 1;\r\n        if (column != null) {\r\n            used_dims += 1;\r\n        }\r\n        if (!this.type.canAccept(value.type, used_dims)) {\r\n            throw new Error(\"!!!Internal Error: Attempting to insert an invalid value inside array \" + this.id);\r\n        }\r\n        if (this.isVector) {\r\n            if (column != null) {\r\n                throw new Error(this.id + \" is not a matrix!\");\r\n            }\r\n            column = line;\r\n            line = 0;\r\n        }\r\n        else if (column == null) {\r\n            throw new Error(\"!!!Internal Error: Attempting to insert a line into matrix \" + this.id);\r\n        }\r\n        const pos = this.getIndexOf(line, column);\r\n        location_1.Location.updateAddress(this.addresses[pos], value.get());\r\n    }\r\n    getIndexOf(line, column) {\r\n        return line * this.columns + column;\r\n    }\r\n    getLocAddressOf(line, column) {\r\n        if (this.isVector) {\r\n            if (column != null) {\r\n                throw new Error(this.id + \" is not a matrix!\");\r\n            }\r\n            column = line;\r\n            line = 0;\r\n        }\r\n        else if (column == null) {\r\n            // this is a whole line...\r\n            const values = [];\r\n            for (let col = 0; col < this.columns; col += 1) {\r\n                const index = this.getIndexOf(line, col);\r\n                values.push(this.addresses[index]);\r\n            }\r\n            return values;\r\n        }\r\n        const index = this.getIndexOf(line, column);\r\n        return this.addresses[index];\r\n    }\r\n}\r\nexports.StoreObjectArray = StoreObjectArray;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StoreObjectRef = void 0;\r\nconst storeObject_1 = require(\"./storeObject\");\r\nclass StoreObjectRef extends storeObject_1.StoreObject {\r\n    /**\r\n     *\r\n     * @param {StoreObject} stoValue\r\n     */\r\n    constructor(stoValue) {\r\n        super(stoValue.type, stoValue.getRefAddress(), false);\r\n        this.refObj = stoValue.id;\r\n        this.reference_dimension = stoValue.getReferenceDimension();\r\n    }\r\n    get isRef() {\r\n        return true;\r\n    }\r\n    getRefObj() {\r\n        return this.refObj;\r\n    }\r\n    getReferenceDimension() {\r\n        return this.reference_dimension;\r\n    }\r\n    destroy() {\r\n        return false;\r\n    }\r\n}\r\nexports.StoreObjectRef = StoreObjectRef;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StoreObjectArrayRef = void 0;\r\nconst storeObjectArray_1 = require(\"./storeObjectArray\");\r\nclass StoreObjectArrayRef extends storeObjectArray_1.StoreObjectArray {\r\n    constructor(stoValue, lines, columns) {\r\n        super(stoValue.type, lines, columns, stoValue.getAddresses(), false);\r\n        this.refObj = stoValue.id;\r\n    }\r\n    get isRef() {\r\n        return true;\r\n    }\r\n    getRefObj() {\r\n        return this.refObj;\r\n    }\r\n    destroy() {\r\n        return false;\r\n    }\r\n}\r\nexports.StoreObjectArrayRef = StoreObjectArrayRef;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ArrayStoreValue = void 0;\r\nconst array_type_1 = require(\"../../../typeSystem/array_type\");\r\nconst store_value_address_1 = require(\"./store_value_address\");\r\nclass ArrayStoreValue {\r\n    constructor(type, values, lines, columns, id, isConst = false) {\r\n        this.type = type;\r\n        this.id = id;\r\n        this.isConst = isConst;\r\n        this.values = values;\r\n        this.lines = lines;\r\n        this.columns = columns;\r\n    }\r\n    get() {\r\n        return this.values;\r\n    }\r\n    /**\r\n     * @deprecated\r\n     * Potential not necessary since array access is occuring directly in the StoreObject\r\n     * @param line\r\n     * @param column\r\n     */\r\n    getAt(line, column) {\r\n        console.log(\"Column \", column);\r\n        if (this.isVector()) {\r\n            if (column != null) {\r\n                throw new Error(this.id + \" is not a matrix!\");\r\n            }\r\n            column = line;\r\n            line = 0;\r\n        }\r\n        else if (column == null) {\r\n            const values = [];\r\n            for (let col = 0; col < this.columns; col += 1) {\r\n                const index = line * this.lines + col;\r\n                values.push(this.values[index]);\r\n            }\r\n            const array_type = this.type;\r\n            const vector_type = new array_type_1.ArrayType(array_type.innerType, array_type.dimensions - 1);\r\n            return new ArrayStoreValue(vector_type, values, this.columns, 0, this.id, this.isConst);\r\n        }\r\n        const index = line * this.lines + column;\r\n        console.log(\"Get at: \", index);\r\n        return this.values[index];\r\n    }\r\n    setAt(value, line, column) {\r\n        let used_dims = 1;\r\n        if (column != null) {\r\n            used_dims += 1;\r\n        }\r\n        let actual_line = line;\r\n        let actual_column = column;\r\n        if (!this.type.canAccept(value.type, used_dims)) {\r\n            throw new Error(\"!!!Internal Error: Attempting to insert an invalid value inside array \" + this.id);\r\n        }\r\n        if (this.isVector()) {\r\n            if (column != null) {\r\n                throw new Error(this.id + \" is not a matrix!\");\r\n            }\r\n            actual_column = actual_line;\r\n            actual_line = 0;\r\n        }\r\n        else if (column == null) {\r\n            if (!(value instanceof ArrayStoreValue)) {\r\n                throw new Error(\"Attempting to insert a single value as a line of matrix \" + this.id);\r\n            }\r\n            const actual_values = value.get();\r\n            for (let i = 0; i < this.columns; i += 1) {\r\n                const pos = actual_line * this.columns + i;\r\n                const val = actual_values[i];\r\n                this.values[pos] = new store_value_address_1.StoreValueAddress(value.type, val.get(), actual_line, i, this.id, this.isConst);\r\n            }\r\n        }\r\n        const columns = this.columns == null ? 0 : this.columns;\r\n        const pos = actual_line * columns + actual_column;\r\n        this.values[pos] = new store_value_address_1.StoreValueAddress(value.type, value.get(), line, column, this.id, this.isConst);\r\n    }\r\n    inStore() {\r\n        return this.id != null;\r\n    }\r\n    isVector() {\r\n        return this.type.dimensions == 1;\r\n    }\r\n}\r\nexports.ArrayStoreValue = ArrayStoreValue;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ArrayStoreValueRef = void 0;\r\nclass ArrayStoreValueRef {\r\n    constructor(type, values, addresses, lines, columns, id) {\r\n        this.type = type;\r\n        this.values = values;\r\n        this.addresses = addresses;\r\n        this.lines = lines;\r\n        this.columns = columns;\r\n        this.id = id;\r\n        this.isConst = false;\r\n    }\r\n    get() {\r\n        return this.values;\r\n    }\r\n    getAddresses() {\r\n        return this.addresses;\r\n    }\r\n    inStore() {\r\n        return this.id != null;\r\n    }\r\n}\r\nexports.ArrayStoreValueRef = ArrayStoreValueRef;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StoreValue = void 0;\r\nclass StoreValue {\r\n    constructor(type, value, id, isConst = false) {\r\n        this.type = type;\r\n        this.id = id;\r\n        this.isConst = isConst;\r\n        this.value = value;\r\n    }\r\n    get() {\r\n        return this.value;\r\n    }\r\n    inStore() {\r\n        return this.id != null;\r\n    }\r\n}\r\nexports.StoreValue = StoreValue;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StoreValueAddress = void 0;\r\nconst store_value_1 = require(\"./store_value\");\r\nclass StoreValueAddress extends store_value_1.StoreValue {\r\n    constructor(type, value, line, column, id, isConst = false) {\r\n        super(type, value, id, isConst);\r\n        this.line = line;\r\n        this.column = column;\r\n    }\r\n}\r\nexports.StoreValueAddress = StoreValueAddress;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.StoreValueRef = void 0;\r\nclass StoreValueRef {\r\n    constructor(type, value, loc_address, id) {\r\n        this.type = type;\r\n        this.value = value;\r\n        this.loc_address = loc_address;\r\n        this.id = id;\r\n        this.isConst = false;\r\n        this.reference_dimesion = 0;\r\n    }\r\n    get() {\r\n        return this.value;\r\n    }\r\n    getRefAddress() {\r\n        return this.loc_address;\r\n    }\r\n    inStore() {\r\n        return this.id != null;\r\n    }\r\n    getReferenceDimension() {\r\n        return this.reference_dimesion;\r\n    }\r\n    setReferenceDimension(dimension) {\r\n        this.reference_dimesion = dimension;\r\n    }\r\n}\r\nexports.StoreValueRef = StoreValueRef;\r\n","import { IVProgParser } from './ast/ivprogParser';\r\nimport { IVProgProcessor } from './processor/ivprogProcessor';\r\nimport {DOMConsole} from './io/domConsole';\r\nimport { LanguageService } from './services/languageService';\r\nimport { SemanticAnalyser } from './processor/semantic/semanticAnalyser';\r\nimport { Location } from \"./memory/location\";\r\n\r\nexport function runner () {\r\nconst ivprogLexer = LanguageService.getCurrentLexer();\r\n\r\n\r\n// const lexer = new ivprogLexer(new InputStream(input));\r\n// const stream = new CommonTokenStream(lexer);\r\n// stream.fill();\r\n// let i = 1;\r\n// let token = null;\r\n// while ((token = stream.LT(i)).type !== ivprogLexer.EOF && token.type !== ivprogLexer.WHITESPACE) {\r\n//     console.log(`${token.type}-${token.text}`);\r\n//     console.log('\\n')\r\n//     i++;\r\n// }\r\n// const anaSin = new IVProgParser(input, ivprogLexer);\r\nconst editor = new window.JsonEditor('#json-renderer', {});\r\nconst domConsole = new DOMConsole(\"#console\", true);\r\ndomConsole.hide();\r\n// proc.interpretAST().then( sto => {\r\n//   console.log(sto.applyStore('a'));\r\n// }).catch(e => console.log(e));\r\ntry {\r\n  window.$('#btn').click( () => {\r\n    const input = window.$('#input').val();\r\n    const analiser = new IVProgParser(input, ivprogLexer);\r\n    try {\r\n      const data = analiser.parseTree();\r\n      const semAna = new SemanticAnalyser(data);\r\n      const proc = new IVProgProcessor(semAna.analyseTree());\r\n      proc.registerInput(domConsole);\r\n      domConsole.clear();\r\n      proc.registerOutput(domConsole);\r\n      proc.interpretAST().then(sto => {\r\n        console.log(sto);\r\n        editor.load(sto.store);\r\n        console.log(Location.size());\r\n      }).catch( e => {\r\n        alert(e);\r\n        console.log(e);\r\n        console.log(Location.size());\r\n      });\r\n    } catch (error) {\r\n      alert(error);\r\n      console.log(error);\r\n      console.log(Location.size());\r\n    }\r\n    \r\n  });\r\n} catch(a) {\r\n  console.log(a);\r\n}\r\n}\r\n","import line_i18n from \"line-i18n\";\r\nimport { LocalizedStrings } from \"./localizedStringsService\";\r\n\r\nconst StringTypes = line_i18n.StringTypes;\r\n\r\nexport const i18nHelper = Object.freeze({\r\n  i18n: (identifier) => {\r\n    var opts = identifier.split(':');\r\n    var type = opts[0].toLowerCase();\r\n    var id = opts[1];\r\n    if (StringTypes.ERROR === type) {\r\n      return LocalizedStrings.getError(id);\r\n    } else if (StringTypes.MESSAGE === type) {\r\n      return LocalizedStrings.getMessage(id); \r\n    } else if (StringTypes.UI === type) {\r\n      return LocalizedStrings.getUI(id);\r\n    } else {\r\n      console.warn(\"A string has been passed to the i18n helper function that was not in the form type:id -> \" + identifier);\r\n      return LocalizedStrings.getString(identifier, type);\r\n    }\r\n  }\r\n});","/* global iLMparameters*/\r\nimport Lexers from \"./../../grammar/\";\r\nimport line_i18n from \"line-i18n\";\r\nimport { Config } from \"./../util/config\";\r\n\r\nclass LanguageServiceExtended extends line_i18n.LanguageServiceNoLS {\r\n  constructor () {\r\n    super(\r\n      typeof iLMparameters === \"undefined\"\r\n        ? Config.default_lang\r\n        : iLMparameters.lang\r\n    );\r\n  }\r\n\r\n  getDefaultLang () {\r\n    return \"en\";\r\n  }\r\n\r\n  getCurrentLexer () {\r\n    const langInfo = Lexers[this.getLang()];\r\n    if (langInfo === null || langInfo === undefined) {\r\n      return Lexers[this.getDefaultLang()].lexer;\r\n    } else {\r\n      return langInfo.lexer;\r\n    }\r\n  }\r\n\r\n  getCurrentLangFuncs () {\r\n    const langInfo = Lexers[this.getLang()];\r\n    if (langInfo === null || langInfo === undefined) {\r\n      return Lexers[this.getDefaultLang()].langFuncs;\r\n    } else {\r\n      return langInfo.langFuncs;\r\n    }\r\n  }\r\n\r\n  getCurrentLangLibs () {\r\n    const langInfo = Lexers[this.getLang()];\r\n    if (langInfo === null || langInfo === undefined) {\r\n      return Lexers[this.getDefaultLang()].langLibs;\r\n    }\r\n    return langInfo.langLibs;\r\n  }\r\n}\r\n\r\nexport const LanguageService = new LanguageServiceExtended();\r\n","import line_i18n from \"line-i18n\";\r\nimport { LanguageService } from \"./languageService\";\r\nimport { LanguageDefinedFunction } from \"./../processor/definedFunctions\";\r\nimport Langs from \"./../../i18n\";\r\nimport { Operators } from \"./../ast/operators\";\r\n\r\nclass IVProgLocalizedStrings extends line_i18n.LocalizedStrings {\r\n  constructor (langService, langsJsons, shouldListenToChange = false) {\r\n    super(langService, langsJsons, shouldListenToChange);\r\n  }\r\n\r\n  translateType (type, dim) {\r\n    const type_string = this.getUI(`type_${type}`);\r\n    switch (dim) {\r\n      case 0:\r\n        return type_string;\r\n      default:\r\n        if (dim > 1) return this.getUI(\"matrix_info_string\", [type_string]);\r\n        else return this.getUI(\"vector_info_string\", [type_string]);\r\n    }\r\n  }\r\n\r\n  translateOp (op) {\r\n    switch (op.ord) {\r\n      case Operators.AND.ord:\r\n      case Operators.OR.ord:\r\n      case Operators.NOT.ord:\r\n        return this.getUI(`logic_operator_${op.value}`);\r\n      default:\r\n        return op.value;\r\n    }\r\n  }\r\n\r\n  translateInternalFunction (name, category = null) {\r\n    if (category == null) {\r\n      return LanguageDefinedFunction.getLocalName(name);\r\n    } else {\r\n      return LanguageDefinedFunction.getLocalName(`${category}.${name}`);\r\n    }\r\n  }\r\n}\r\n\r\nexport const LocalizedStrings = Object.freeze(\r\n  new IVProgLocalizedStrings(LanguageService, Langs, true)\r\n);\r\n\r\nlet _instance = null;\r\n\r\nexport function getInstance () {\r\n  if (_instance == null) {\r\n    _instance = new IVProgLocalizedStrings(LanguageService, Langs);\r\n  }\r\n  return _instance;\r\n}\r\n","let clicks = [];\r\nlet inRebuildMode = false;\r\n\r\nexport const ActionTypes = Object.freeze({\r\n  // registerUserEvent payload:\r\n  // (function_name, insert action)\r\n  INSERT_FUNCTION:\"INSERT_FUNCTION\",\r\n  // (function_name, remove action)\r\n  REMOVE_FUNCTION:\"REMOVE_FUNCTION\",\r\n  // (var_name,insert action, type, dim)\r\n  INSERT_GLOBAL_VAR:\"INSERT_GLOBAL_VAR\",\r\n  // (var name, remove action)\r\n  REMOVE_GLOBAL_VAR:\"REMOVE_GLOBAL_VAR\",\r\n  // (old function name, rename action, new function name)\r\n  RENAME_FUNCTION:\"RENAME_FUNCTION\",\r\n  // (old var name, rename action. new var name)\r\n  RENAME_GLOBAL_VAR:\"RENAME_GLOBAL_VAR\",\r\n  // (var name, set const action)\r\n  SET_GLOBAL_CONST:\"SET_GLOBAL_CONST\",\r\n  // (function name, change return action, type, dim)\r\n  CHANGE_FUNCTION_RETURN:\"CHANGE_FUNCTION_RETURN\",\r\n  // (var name, change type action, type, dim, rows?, columns?)\r\n  CHANGE_GLOBAL_TYPE:\"CHANGE_GLOBAL_TYPE\",\r\n  // (var name, change value action, value)\r\n  CHANGE_GLOBAL_VALUE:\"CHANGE_GLOBAL_VALUE\",\r\n  // (function name, insert param action, param varname, type, dim)\r\n  INSERT_FUNCTION_PARAM:\"INSERT_FUNCTION_PARAM\",\r\n  // (function name, remove param action, param varname)\r\n  REMOVE_FUNCTION_PARAM:\"REMOVE_FUNCTION_PARAM\",\r\n  // (function name, change param type action, type, dim)\r\n  CHANGE_PARAM_TYPE:\"CHANGE_PARAM_TYPE\",\r\n  // (function name, rename param action, old param name, new param name)\r\n  RENAME_FUNCTION_PARAM:\"RENAME_FUNCTION_PARAM\",\r\n  // (function name, insert var action, var name, type, dim)\r\n  INSERT_FUNCTION_VAR:\"INSERT_FUCNTION_VAR\",\r\n  // (function name, remove var action, var name)\r\n  REMOVE_FUNCTION_VAR:\"REMOVE_FUNCTION_VAR\",\r\n  // (function name, rename var action, old var name, new var name)\r\n  RENAME_FUNCTION_VAR:\"RENAME_FUNCTION_VAR\",\r\n  // (function name, change var type action, var name, type, dim, rows?, columns?)\r\n  CHANGE_VAR_TYPE:\"CHANGE_VAR_TYPE\",\r\n  // (function name, change var value action, var name, value)\r\n  CHANGE_VAR_VALUE:\"CHANGE_VAR_VALUE\",\r\n  // (function name, insert command action, command, path)\r\n  INSERT_COMMAND:\"INSERT_COMMAND\",\r\n  // (function name, remove command action, path)\r\n  REMOVE_COMMAND:\"REMOVE_COMMAND\",\r\n  // (function name, change command exp action, path, exp)\r\n  CHANGE_COMMAND_EXP:\"CHANGE_COMMAND_EXP\",\r\n  // (function name, change attrib exp action, path, exp)\r\n  CHANGE_ATTRIB_EXP:\"CHANGE_ATTRIB_EXP\",\r\n  // (function name, change attrib var action, path, var name, row_exp?, column_exp?)\r\n  CHANGE_ATTRIB_VAR:\"CHANGE_ATTRIB_VAR\",\r\n  // (function name, move command action, old path, new path)\r\n  MOVE_COMMAND:\"MOVE_COMMAND\",\r\n  // (function name, enter change name action, var name)\r\n  ENTER_CHANGE_VAR_NAME:'ENTER_CHANGE_VAR_NAME',\r\n  // (function name, enter change value action, var name)\r\n  ENTER_CHANGE_VAR_VALUE:'ENTER_CHANGE_VAR_VALUE',\r\n  // (var name, enter change name action)\r\n  ENTER_CHANGE_GLOBAL_NAME:'ENTER_CHANGE_GLOBAL_NAME',\r\n  // (var name, enter change value action)\r\n  ENTER_CHANGE_GLOBAL_VALUE:'ENTER_CHANGE_GLOBAL_VALUE',\r\n  // (function name, enter change name action, param name)\r\n  ENTER_CHANGE_PARAM_NAME:'ENTER_CHANGE_PARAM_NAME',\r\n});\r\n\r\nexport function registerClick (x, y, details) {\r\n  if (inRebuildMode) {\r\n    return;\r\n  }\r\n  clicks.push([x, y, Date.now(), details]);\r\n}\r\n\r\nexport function registerUserEvent (command, action, ...params) {\r\n  registerEvent('user_event', command, action, params);\r\n}\r\n\r\nexport function registerSystemEvent (command, action, ...params) {\r\n  registerEvent('system_event', command, action, params);\r\n}\r\n\r\nfunction registerEvent (tag, command, action, params) {\r\n  if (inRebuildMode) {\r\n    return;\r\n  }\r\n  const event = {context: command, action: action, params:params};\r\n  clicks.push([tag, Date.now(), event]);\r\n}\r\n\r\nexport function getLogs () {\r\n  return clicks;\r\n}\r\n\r\nexport function setRebuildMode (flag) {\r\n  inRebuildMode = flag;\r\n}\r\n\r\nexport function getLogsAsString () {\r\n  return JSON.stringify(clicks);\r\n}\r\n\r\nexport function parseLogs (logData) {\r\n  clicks = JSON.parse(logData);\r\n}\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.ArrayType = void 0;\r\nclass ArrayType {\r\n    constructor(type, dimensions) {\r\n        this.dimensions = dimensions;\r\n        this.innerType = type;\r\n    }\r\n    get isVector() {\r\n        return this.dimensions == 1;\r\n    }\r\n    isCompatible(another) {\r\n        if (another instanceof ArrayType) {\r\n            if (this.dimensions !== another.dimensions) {\r\n                return false;\r\n            }\r\n            return this.innerType.isCompatible(another.innerType);\r\n        }\r\n        return false;\r\n    }\r\n    stringInfo() {\r\n        const list = this.innerType.stringInfo();\r\n        list.forEach(v => {\r\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\r\n            const tmp = v;\r\n            tmp.dim = this.dimensions;\r\n        });\r\n        return list;\r\n    }\r\n    get value() {\r\n        return undefined;\r\n    }\r\n    get ord() {\r\n        return undefined;\r\n    }\r\n    canAccept(another, used_dims) {\r\n        const free_dims = this.dimensions - used_dims;\r\n        if (another instanceof ArrayType) {\r\n            return free_dims == another.dimensions && this.innerType.isCompatible(another.innerType);\r\n        }\r\n        else {\r\n            return free_dims == 0 && this.innerType.isCompatible(another);\r\n        }\r\n    }\r\n}\r\nexports.ArrayType = ArrayType;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.MultiType = void 0;\r\nclass MultiType {\r\n    constructor(types) {\r\n        this.types = types;\r\n    }\r\n    get value() {\r\n        return undefined;\r\n    }\r\n    get ord() {\r\n        return undefined;\r\n    }\r\n    stringInfo() {\r\n        let list = [];\r\n        for (let i = 0; i < this.types.length; i++) {\r\n            const t = this.types[i];\r\n            list = list.concat(t.stringInfo());\r\n        }\r\n        return list;\r\n    }\r\n    isCompatible(another) {\r\n        for (let i = 0; i < this.types.length; i++) {\r\n            const t = this.types[i];\r\n            if (another.isCompatible(t)) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n}\r\nexports.MultiType = MultiType;\r\n","import { LanguageService } from \"../services/languageService\";\r\nimport { Types } from \"./types\";\r\nimport Decimal from \"decimal.js\";\r\nimport { Config } from \"../util/config\";\r\n\r\nexport function toInt (str) {\r\n  return new Decimal(str);\r\n}\r\n\r\nexport function toString (str) {\r\n  let value = str.replace(/^\"/, \"\");\r\n  value = value.replace(/\"$/, \"\");\r\n  value = value.replace(/\\\\b/g, \"\\b\");\r\n  value = value.replace(/\\\\t/g, \"\\t\");\r\n  value = value.replace(/\\\\n/g, \"\\n\");\r\n  value = value.replace(/\\\\r/g, \"\\r\");\r\n  value = value.replace(/\\\\\"/g, '\"');\r\n  value = value.replace(/\\\\'/g, \"'\");\r\n  value = value.replace(/\\\\\\\\/g, \"\\\\\");\r\n  return value;\r\n}\r\n\r\nexport function toChar (str) {\r\n  console.debug(str, str.length);\r\n  let value = str.replace(/^'/, \"\");\r\n  value = value.replace(/'$/, \"\");\r\n  value = value.replace(/\\\\b/g, \"\\b\");\r\n  value = value.replace(/\\\\t/g, \"\\t\");\r\n  value = value.replace(/\\\\n/g, \"\\n\");\r\n  value = value.replace(/\\\\r/g, \"\\r\");\r\n  value = value.replace(/\\\\\"/g, '\"');\r\n  value = value.replace(/\\\\'/g, \"'\");\r\n  value = value[0];\r\n  return value;\r\n}\r\n\r\nexport function toReal (value) {\r\n  return new Decimal(value);\r\n}\r\n\r\nexport function toBool (str) {\r\n  const val = \"'\" + str + \"'\";\r\n  const lexer = LanguageService.getCurrentLexer();\r\n  const instance = new lexer(null);\r\n  if (instance.literalNames[lexer.RK_TRUE] === val) {\r\n    return true;\r\n  } else if (instance.literalNames[lexer.RK_FALSE] === val) {\r\n    return false;\r\n  } else {\r\n    // TODO: better error message\r\n    throw new Error(str + \"not a valid boolean\");\r\n  }\r\n}\r\n\r\nexport function convertBoolToString (bool) {\r\n  const lexer = LanguageService.getCurrentLexer();\r\n  const instance = new lexer(null);\r\n  let result = null;\r\n  if (bool) {\r\n    result = instance.literalNames[lexer.RK_TRUE];\r\n  } else {\r\n    result = instance.literalNames[lexer.RK_FALSE];\r\n  }\r\n  return result.replace(/'/g, \"\");\r\n}\r\n\r\nexport function convertToString (value, type) {\r\n  switch (type.ord) {\r\n    case Types.INTEGER.ord:\r\n      return value.toString();\r\n    case Types.REAL.ord: {\r\n      if (value.dp() <= 0) {\r\n        return value.toFixed(1);\r\n      } else {\r\n        return value.toFixed(Config.decimalPlaces);\r\n      }\r\n    }\r\n    case Types.BOOLEAN.ord:\r\n      return convertBoolToString(value);\r\n    default:\r\n      return value;\r\n  }\r\n}\r\n\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Type = void 0;\r\nclass Type {\r\n    constructor(value, ord) {\r\n        this.value = value;\r\n        this.ord = ord;\r\n    }\r\n    stringInfo() {\r\n        return [{ type: this.value, dim: 0 }];\r\n    }\r\n    isCompatible(another) {\r\n        return this.value === another.value && this.ord === another.ord;\r\n    }\r\n}\r\nexports.Type = Type;\r\n","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.fromOrdToType = exports.Types = void 0;\r\nconst type_1 = require(\"./type\");\r\nconst multiType_1 = require(\"./multiType\");\r\nconst maybe_1 = require(\"../util/maybe\");\r\nconst INTEGER = new type_1.Type(\"integer\", 0);\r\nconst REAL = new type_1.Type(\"real\", 1);\r\nconst STRING = new type_1.Type(\"text\", 2);\r\nconst BOOLEAN = new type_1.Type(\"boolean\", 3);\r\nconst CHAR = new type_1.Type(\"char\", 4);\r\nconst VOID = new type_1.Type(\"void\", 5);\r\nconst UNDEFINED = new type_1.Type(\"undefined\", 6);\r\nconst ALL = new multiType_1.MultiType([INTEGER, REAL, STRING, CHAR, BOOLEAN]);\r\nexports.Types = Object.freeze({\r\n    INTEGER: INTEGER,\r\n    REAL: REAL,\r\n    STRING: STRING,\r\n    CHAR: CHAR,\r\n    BOOLEAN: BOOLEAN,\r\n    VOID: VOID,\r\n    UNDEFINED: UNDEFINED,\r\n    ALL: ALL\r\n});\r\nfunction fromOrdToType(ord) {\r\n    const typeMap = exports.Types;\r\n    for (const t in typeMap) {\r\n        if (typeMap[t].ord && typeMap[t].ord === ord) {\r\n            return maybe_1.Maybe.some(typeMap[t]);\r\n        }\r\n    }\r\n    return maybe_1.Maybe.none();\r\n}\r\nexports.fromOrdToType = fromOrdToType;\r\n","import {SemanticAnalyser} from './../processor/semantic/semanticAnalyser';\r\nimport {IVProgProcessor} from './../processor/ivprogProcessor';\r\nimport { InputTest } from './inputTest';\r\nimport { OutputTest } from './outputTest';\r\nimport { LocalizedStrings } from './../services/localizedStringsService'\r\n\r\nexport function autoGenerateTestCaseOutput (program_text, testCases) {\r\n  let copyTestCases = testCases.map((test) => Object.assign({}, test));\r\n  try {\r\n    const program = SemanticAnalyser.analyseFromSource(program_text);\r\n    const resultList = testCases.map((test, id) => {\r\n      const input = new InputTest(test.input);\r\n      const output = new OutputTest();\r\n      const exec =  new IVProgProcessor(program);\r\n      exec.registerInput(input);\r\n      exec.registerOutput(output);\r\n      return exec.interpretAST().then(_ => {\r\n        return {id: id, program: exec};\r\n      });\r\n    });\r\n    return Promise.all(resultList).then(result_final => {\r\n      for(let i = 0; i < result_final.length; ++i) {\r\n        const result = result_final[i];\r\n        const output = result.program.output.list;\r\n        const input = result.program.input;\r\n        if(input.index != input.inputList.length) {\r\n          window.showAlert(LocalizedStrings.getMessage(\"testcase_autogen_unused_input\", [result.id+1]));\r\n          return Promise.resolve(false);\r\n        }\r\n        if(output.length == 0) {\r\n          window.showAlert(LocalizedStrings.getMessage(\"testcase_autogen_empty\", [result.id+1]));\r\n        }\r\n        copyTestCases[result.id].output = output;\r\n      }\r\n      window.outputGenerated(copyTestCases);\r\n      return Promise.resolve(true);\r\n    });\r\n  }catch (error) {\r\n    return Promise.reject(error)\r\n  }\r\n}","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Config = void 0;\r\nclass ConfigObject {\r\n    constructor() {\r\n        this.decimalPlaces = 8;\r\n        this.intConvertRoundMode = 2;\r\n        this.default_lang = 'pt';\r\n        this.enable_type_casting = true;\r\n        this.idle_input_interval = 5000;\r\n        this.suspend_threshold = 100;\r\n        // this.max_instruction_count = 350250; - automated evaluation limit\r\n        this.max_instruction_count = Number.MAX_SAFE_INTEGER;\r\n    }\r\n    setConfig(opts) {\r\n        const otherConfig = opts;\r\n        for (const key in otherConfig) {\r\n            if (Object.prototype.hasOwnProperty.call(this, key)) {\r\n                this[key] = otherConfig[key];\r\n            }\r\n        }\r\n    }\r\n}\r\nconst config = new ConfigObject();\r\nexports.Config = config;\r\n","import { getCodeEditorModeConfig } from \"./utils\";\r\n\r\n/**\r\n * Source: https://raw.githubusercontent.com/codemirror/CodeMirror/master/mode/clike/clike.js\r\n * @author arijn Haverbeke and others\r\n * @author Lucas de Souza\r\n * @param {CodeMirror} CodeMirror \r\n */\r\nexport function CodeEditorMode (CodeMirror) {\r\n  \"use strict\";\r\n\r\n  function Context(indented, column, type, info, align, prev) {\r\n    this.indented = indented;\r\n    this.column = column;\r\n    this.type = type;\r\n    this.info = info;\r\n    this.align = align;\r\n    this.prev = prev;\r\n  }\r\n\r\n  function pushContext(state, col, type, info) {\r\n    let indent = state.indented;\r\n    if (state.context && state.context.type == \"statement\" && type != \"statement\")\r\n      indent = state.context.indented;\r\n    return state.context = new Context(indent, col, type, info, null, state.context);\r\n  }\r\n  \r\n  function popContext(state) {\r\n    const t = state.context.type;\r\n    if (t == \")\" || t == \"]\" || t == \"}\")\r\n      state.indented = state.context.indented;\r\n    return state.context = state.context.prev;\r\n  }\r\n\r\n  function typeBefore(stream, state, pos) {\r\n    if (state.prevToken == \"variable\" || state.prevToken == \"type\") return true;\r\n    if (/\\S(?:[^- ]>|[*\\]])\\s*$|\\*$/.test(stream.string.slice(0, pos))) return true;\r\n    if (state.typeAtEndOfLine && stream.column() == stream.indentation()) return true;\r\n  }\r\n\r\n  function isTopScope(context) {\r\n    for (; ;) {\r\n      if (!context || context.type == \"top\") return true;\r\n      if (context.type == \"}\" && context.prev.info != \"namespace\") return false;\r\n      context = context.prev;\r\n    }\r\n  }\r\n\r\n  function contains(words, word) {\r\n    if (typeof words === \"function\") {\r\n      return words(word);\r\n    } else {\r\n      return Object.propertyIsEnumerable.call(words, word);\r\n    }\r\n  }\r\n\r\n  function tokenComment(stream, state) {\r\n    let maybeEnd = false, ch;\r\n    while ((ch = stream.next())) {\r\n      if (ch == \"/\" && maybeEnd) {\r\n        state.tokenize = null;\r\n        break;\r\n      }\r\n      maybeEnd = (ch == \"*\");\r\n    }\r\n    return \"comment\";\r\n  }\r\n\r\n  CodeMirror.defineMode(\"ivprog\", function (config, parserConfig) {\r\n    const indentUnit = config.indentUnit,\r\n      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,\r\n      dontAlignCalls = parserConfig.dontAlignCalls,\r\n      keywords = parserConfig.keywords || {},\r\n      switchKeyword = parserConfig.switchKeyword,\r\n      caseKeyword = parserConfig.caseKeyword,\r\n      defaultKeyword = parserConfig.defaultKeyword,\r\n      caseRegex = new RegExp(`^\\\\s*(?:${caseKeyword} .*?:|${defaultKeyword}:|\\\\{\\\\}?|\\\\})$`),////,\r\n      types = parserConfig.types || {},\r\n      builtin = parserConfig.builtin || {},\r\n      blockKeywords = parserConfig.blockKeywords || {},\r\n      defKeywords = parserConfig.defKeywords || {},\r\n      atoms = parserConfig.atoms || {},\r\n      hooks = parserConfig.hooks || {},\r\n      multiLineStrings = parserConfig.multiLineStrings,\r\n      indentStatements = false,\r\n      namespaceSeparator = null,\r\n      isPunctuationChar = /[[\\]{}(),;:\\n]/,\r\n      numberStart = /[\\d.]/,\r\n      number = /^(?:0x[a-f\\d]+|0b[01]+|(?:\\d+\\.?\\d*|\\.\\d+)(?:e[-+]?\\d+)?)$/i,\r\n      isOperatorChar = /[+\\-*%=<>!/&]/,\r\n      isIdentifierChar = /[a-zA-Z0-9_]/,\r\n      // An optional function that takes a {string} token and returns true if it\r\n      // should be treated as a builtin.\r\n      isReservedIdentifier = parserConfig.isReservedIdentifier || false;\r\n\r\n    let curPunc, isDefKeyword;\r\n    let tokenString = function () { /*SKIP*/};\r\n    function tokenBase(stream, state) {\r\n      const ch = stream.next();\r\n      if (hooks[ch]) {\r\n        const result = hooks[ch](stream, state);\r\n        if (result !== false) return result;\r\n      }\r\n      if (ch == '\"') {\r\n        state.tokenize = tokenString(ch);\r\n        return state.tokenize(stream, state);\r\n      }\r\n      if (isPunctuationChar.test(ch)) {\r\n        curPunc = ch;\r\n        return null;\r\n      }\r\n      if (numberStart.test(ch)) {\r\n        stream.backUp(1)\r\n        if (stream.match(number)) return \"number\"\r\n        stream.next()\r\n      }\r\n      if (ch == \"/\") {\r\n        if (stream.eat(\"*\")) {\r\n          state.tokenize = tokenComment;\r\n          return tokenComment(stream, state);\r\n        }\r\n        if (stream.eat(\"/\")) {\r\n          stream.skipToEnd();\r\n          return \"comment\";\r\n        }\r\n      }\r\n      if (isOperatorChar.test(ch)) {\r\n        while (!stream.match(/^\\/[/*]/, false) && stream.eat(isOperatorChar)) { /* SKIP */}\r\n        return \"operator\";\r\n      }\r\n      stream.eatWhile(isIdentifierChar);\r\n      if (namespaceSeparator) while (stream.match(namespaceSeparator))\r\n        stream.eatWhile(isIdentifierChar);\r\n\r\n      const cur = stream.current();\r\n      if (contains(keywords, cur)) {\r\n        if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\r\n        if (contains(defKeywords, cur)) isDefKeyword = true;\r\n        return \"keyword\";\r\n      }\r\n      if (contains(types, cur)) return \"type\";\r\n      if (contains(builtin, cur)\r\n        || (isReservedIdentifier && isReservedIdentifier(cur))) {\r\n        if (contains(blockKeywords, cur)) curPunc = \"newstatement\";\r\n        return \"builtin\";\r\n      }\r\n      if (contains(atoms, cur)) return \"atom\";\r\n      return \"variable\";\r\n    }\r\n\r\n     tokenString = function (quote) {\r\n      return function (stream, state) {\r\n        let escaped = false, next, end = false;\r\n        while ((next = stream.next()) != null) {\r\n          if (next == quote && !escaped) { end = true; break; }\r\n          escaped = !escaped && next == \"\\\\\";\r\n        }\r\n        if (end || !(escaped || multiLineStrings))\r\n          state.tokenize = null;\r\n        return \"string\";\r\n      };\r\n    }\r\n\r\n    function maybeEOL(stream, state) {\r\n      if (parserConfig.typeFirstDefinitions && stream.eol() && isTopScope(state.context))\r\n        state.typeAtEndOfLine = typeBefore(stream, state, stream.pos)\r\n    }\r\n\r\n    // Interface\r\n\r\n    return {\r\n      startState: function (basecolumn) {\r\n        return {\r\n          tokenize: null,\r\n          context: new Context((basecolumn || 0) - indentUnit, 0, \"top\", null, false),\r\n          indented: 0,\r\n          startOfLine: true,\r\n          prevToken: null\r\n        };\r\n      },\r\n\r\n      token: function (stream, state) {\r\n        let ctx = state.context;\r\n        if (stream.sol()) {\r\n          if (ctx.align == null) ctx.align = false;\r\n          state.indented = stream.indentation();\r\n          state.startOfLine = true;\r\n        }\r\n        if (stream.eatSpace()) { maybeEOL(stream, state); return null; }\r\n        curPunc = isDefKeyword = null;\r\n        let style = (state.tokenize || tokenBase)(stream, state);\r\n        if (style == \"comment\" || style == \"meta\") return style;\r\n        if (ctx.align == null) ctx.align = true;\r\n\r\n        if (curPunc == \";\" || curPunc == \":\" || (curPunc == \",\" && stream.match(/^\\s*(?:\\/\\/.*)?$/, false)))\r\n          while (state.context.type == \"statement\") popContext(state);\r\n        else if (curPunc == \"{\") pushContext(state, stream.column(), \"}\");\r\n        else if (curPunc == \"[\") pushContext(state, stream.column(), \"]\");\r\n        else if (curPunc == \"(\") pushContext(state, stream.column(), \")\");\r\n        else if (curPunc == \"}\") {\r\n          while (ctx.type == \"statement\") ctx = popContext(state);\r\n          if (ctx.type == \"}\") ctx = popContext(state);\r\n          while (ctx.type == \"statement\") ctx = popContext(state);\r\n        }\r\n        else if (curPunc == ctx.type) popContext(state);\r\n        else if (indentStatements &&\r\n          (((ctx.type == \"}\" || ctx.type == \"top\") && curPunc != \";\")  ||\r\n            (ctx.type == \"statement\" && curPunc == \"newstatement\"))) {\r\n          pushContext(state, stream.column(), \"statement\", stream.current());\r\n        }\r\n\r\n        if (style == \"variable\" &&\r\n          ((state.prevToken == \"def\" ||\r\n            (parserConfig.typeFirstDefinitions && typeBefore(stream, state, stream.start) &&\r\n              isTopScope(state.context) && stream.match(/^\\s*\\(/, false)))))\r\n          style = \"def\";\r\n\r\n        if (hooks.token) {\r\n          const result = hooks.token(stream, state, style);\r\n          if (result !== undefined) style = result;\r\n        }\r\n\r\n        if (style == \"def\" && parserConfig.styleDefs === false) style = \"variable\";\r\n\r\n        state.startOfLine = false;\r\n        state.prevToken = isDefKeyword ? \"def\" : style || curPunc;\r\n        maybeEOL(stream, state);\r\n        return style;\r\n      },\r\n\r\n      indent: function (state, textAfter) {\r\n        if (state.tokenize != tokenBase && state.tokenize != null || state.typeAtEndOfLine) return CodeMirror.Pass;\r\n        let ctx = state.context;\r\n        const firstChar = textAfter && textAfter.charAt(0)\r\n        const closing = firstChar == ctx.type;\r\n        if (ctx.type == \"statement\" && firstChar == \"}\") ctx = ctx.prev;\r\n        if (parserConfig.dontIndentStatements)\r\n          while (ctx.type == \"statement\" && parserConfig.dontIndentStatements.test(ctx.info))\r\n            ctx = ctx.prev\r\n        if (hooks.indent) {\r\n          const hook = hooks.indent(state, ctx, textAfter, indentUnit);\r\n          if (typeof hook == \"number\") return hook\r\n        }\r\n        const switchBlock = ctx.prev && ctx.prev.info == switchKeyword;\r\n        if (parserConfig.allmanIndentation && /[{(]/.test(firstChar)) {\r\n          while (ctx.type != \"top\" && ctx.type != \"}\") ctx = ctx.prev\r\n          return ctx.indented\r\n        }\r\n        if (ctx.type == \"statement\")\r\n          return ctx.indented + (firstChar == \"{\" ? 0 : statementIndentUnit);\r\n        if (ctx.align && (!dontAlignCalls || ctx.type != \")\"))\r\n          return ctx.column + (closing ? 0 : 1);\r\n        if (ctx.type == \")\" && !closing)\r\n          return ctx.indented + statementIndentUnit;\r\n        const caseTestRegex = new RegExp(`^(?:${caseKeyword}|${defaultKeyword})\\b`)\r\n        return ctx.indented + (closing ? 0 : indentUnit) +\r\n          (!closing && switchBlock && !caseTestRegex.test(textAfter) ? indentUnit : 0);\r\n      },\r\n\r\n      electricInput: caseRegex,\r\n      blockCommentStart: \"/*\",\r\n      blockCommentEnd: \"*/\",\r\n      blockCommentContinue: \" * \",\r\n      lineComment: \"//\",\r\n      fold: \"brace\"\r\n    };\r\n  });\r\n\r\n  function words(str) {\r\n    const obj = {}, words = str.split(\" \");\r\n    for (let i = 0; i < words.length; ++i) obj[words[i]] = true;\r\n    return obj;\r\n  }\r\n  \r\n  const codeConfig = getCodeEditorModeConfig();\r\n\r\n  const ivprogKeywords =  codeConfig.keywords.join(\" \");\r\n\r\n  const basicTypes = words(codeConfig.types.join(\" \"));\r\n\r\n  function ivprogTypes(identifier) {\r\n    return contains(basicTypes, identifier);\r\n  }\r\n\r\n  const ivprogBlockKeywords = codeConfig.blocks.join(\" \");\r\n  const ivprogDefKeywords = \"funcao const\";\r\n\r\n  function def(mimes, mode) {\r\n    if (typeof mimes == \"string\") mimes = [mimes];\r\n    const words = [];\r\n    function add(obj) {\r\n      if (obj) {\r\n        for (const prop in obj) if (Object.hasOwnProperty.call(obj, prop)) {\r\n          words.push(prop);\r\n        }\r\n      }\r\n    }\r\n    add(mode.keywords);\r\n    add(mode.types);\r\n    add(mode.builtin);\r\n    add(mode.atoms);\r\n    if (words.length) {\r\n      mode.helperType = mimes[0];\r\n      CodeMirror.registerHelper(\"hintWords\", mimes[0], words);\r\n    }\r\n\r\n    for (let i = 0; i < mimes.length; ++i)\r\n      CodeMirror.defineMIME(mimes[i], mode);\r\n  }\r\n  \r\n  def([\"text/x-ivprog\"], {\r\n    name: \"ivprog\",\r\n    keywords: words(ivprogKeywords),\r\n    types: ivprogTypes,\r\n    blockKeywords: words(ivprogBlockKeywords),\r\n    defKeywords: words(ivprogDefKeywords),\r\n    typeFirstDefinitions: true,\r\n    atoms: words(codeConfig.atoms.join(\" \")),\r\n    switchKeyword: codeConfig.switchString,\r\n    caseKeyword: codeConfig.case_default[0],\r\n    defaultKeyword: codeConfig.case_default[1],\r\n    modeProps: { fold: [\"brace\"] }\r\n  });\r\n\r\n}\r\n","import { setTestCases, getTestCases } from \"../visualUI/functions\";\r\nimport { generate } from \"../visualUI/code_generator\";\r\nimport { IVProgAssessment } from \"../assessment/ivprogAssessment\";\r\nimport { TestConsole } from \"./testConsole\";\r\nimport { parseLogs } from \"./../services/userLog\";\r\nimport { SemanticAnalyser } from \"../processor/semantic/semanticAnalyser\";\r\nimport { Maybe } from \"./maybe\";\r\n\r\nfunction parseActivityData (data) {\r\n  let algorithm_in_ilm = null;\r\n  if (data.split(\"\\n::algorithm::\")[1]) {\r\n    algorithm_in_ilm = data.split(\"\\n::algorithm::\")[1].split(\"\\n::logs::\")[0];\r\n    const logs = data.split(\"\\n::algorithm::\")[1].split(\"\\n::logs::\")[1];\r\n    if (logs != null) {\r\n      parseLogs(logs);\r\n    }\r\n  }\r\n  let content;\r\n  try {\r\n    content = JSON.parse(data.split(\"\\n::algorithm::\")[0]);\r\n    content[\"algorithm_in_ilm\"] = algorithm_in_ilm;\r\n  } catch (e) {\r\n    console.error(e);\r\n    return Maybe.none();\r\n  }\r\n  return Maybe.some(content);\r\n}\r\n\r\nexport function prepareActivityToStudentHelper (ilm_cont) {\r\n  const maybe_content = parseActivityData(ilm_cont);\r\n  return maybe_content.map((content) => {\r\n    const testCases = content.testcases;\r\n    setTestCases(testCases);\r\n\r\n    let prog_type = null;\r\n    if (content.settings_programming_type) {\r\n      prog_type = content.settings_programming_type[0].value;\r\n    } else {\r\n      prog_type = \"visual\";\r\n    }\r\n\r\n    return {\r\n      settingsProgrammingType: prog_type,\r\n      settingsDataTypes: content.settings_data_types,\r\n      settingsCommands: content.settings_commands,\r\n      settingsFunctions: content.settings_functions,\r\n      algorithmInIlm: content.algorithm_in_ilm,\r\n      settingsFilter: content.settings_filter,\r\n    };\r\n  });\r\n}\r\n\r\nfunction compareArray (a, b) {\r\n  for (let i = 0; i < a.length; ++i) {\r\n    const elementA = a[i];\r\n    const elementB = b[i];\r\n    if (elementA != elementB) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nfunction compareTestcases (original, student) {\r\n  if (original.length != student.length) {\r\n    return false;\r\n  }\r\n  for (let i = 0; i < original.length; ++i) {\r\n    const elementO = original[i];\r\n    const elementS = student[i];\r\n    if (!compareArray(elementO.input, elementS.input)) {\r\n      return false;\r\n    }\r\n    if (!compareArray(elementO.output, elementS.output)) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\nexport function autoEval (originalData, callback) {\r\n  const code = generate();\r\n  //console.debug(code);\r\n  const original = parseActivityData(originalData).getOrElse(undefined);\r\n  if (original == null) {\r\n    alert(\"iAssign did not provide the original activity data!\");\r\n    return callback(null);\r\n  }\r\n  if (code == null) {\r\n    return callback(-1); // @FeedbackConvention Casos de teste vazios\r\n  } else {\r\n    if (!compareTestcases(original.testcases, getTestCases())) {\r\n      return callback(-2); // @FeedbackConvention Casos de teste alterados pelo aluno\r\n    }\r\n    try {\r\n      const ast_code = SemanticAnalyser.analyseFromSource(code);\r\n      const con = new TestConsole([]);\r\n      const autoAssessment = new IVProgAssessment(\r\n        ast_code,\r\n        original.testcases,\r\n        con\r\n      );\r\n      autoAssessment\r\n        .runTest()\r\n        .then((grade) => callback(grade))\r\n        .catch((err) => {\r\n          console.log(err);\r\n          callback(-5); // @FeedbackConvention Falha na execuo\r\n        });\r\n    } catch (e) {\r\n      console.error(e);\r\n      callback(-5);\r\n    }\r\n  }\r\n}\r\n","import { Input } from './../io/input';\r\nimport { LocalizedStrings } from '../services/localizedStringsService';\r\n\r\nexport class InputTest extends Input {\r\n\r\n  constructor (inputList) {\r\n    super();\r\n    this.index = 0;\r\n    this.inputList = inputList;\r\n  }\r\n\r\n  requestInput () {\r\n    const promise = new Promise( (resolve, reject) => {\r\n      if(this.index < this.inputList.length) {      \r\n        resolve(this.inputList[this.index]);\r\n        this.index++;\r\n      } else {\r\n        reject(new Error(LocalizedStrings.getError(\"exceeded_input_request\")));\r\n      }\r\n    });\r\n    return promise\r\n  }\r\n}","import { Input } from './../io/input';\r\nimport { LocalizedStrings } from '../services/localizedStringsService';\r\n\r\nexport class InputAssessment extends Input {\r\n\r\n  constructor (input_list) {\r\n    super();\r\n    this.index = 0;\r\n    this.input_list = input_list.map((val) => {\r\n      return {\"value\": val, \"read\": false};\r\n    });\r\n  }\r\n\r\n  requestInput () {\r\n    const promise = new Promise( (resolve, reject) => {\r\n      if(this.index < this.input_list.length) {\r\n        const input = this.input_list[this.index];\r\n        input.read = true;\r\n        this.index += 1;\r\n        resolve(input.value);\r\n      } else {\r\n        reject(new Error(LocalizedStrings.getError(\"exceeded_input_request\")));\r\n      }\r\n    });\r\n    return promise\r\n  }\r\n\r\n  isInputAvailable () {\r\n    return this.index < this.input_list.length;\r\n  }\r\n}","\"use strict\";\r\nObject.defineProperty(exports, \"__esModule\", { value: true });\r\nexports.Maybe = void 0;\r\n/**\r\n*\r\n*  Maybe Monad\r\n*  @Source: https://codewithstyle.info/advanced-functional-programming-in-typescript-maybe-monad/\r\n*  @Modified by: @lucascalion - 28/08/2019\r\n*\r\n**/\r\nclass Maybe {\r\n    constructor(value) {\r\n        this.value = value;\r\n    }\r\n    static some(value) {\r\n        if (!value) {\r\n            throw Error(\"Provided value must not be empty\");\r\n        }\r\n        return new Maybe(value);\r\n    }\r\n    static none() {\r\n        return new Maybe(null);\r\n    }\r\n    static fromValue(value) {\r\n        return value ? Maybe.some(value) : Maybe.none();\r\n    }\r\n    getOrElse(defaultValue) {\r\n        return this.value === null ? defaultValue : this.value;\r\n    }\r\n    map(f) {\r\n        if (this.value === null) {\r\n            return Maybe.none();\r\n        }\r\n        else {\r\n            return Maybe.fromValue(f(this.value));\r\n        }\r\n    }\r\n}\r\nexports.Maybe = Maybe;\r\n","import { Output } from \"./../io/output\";\r\n\r\nexport class OutputTest extends Output {\r\n  constructor () {\r\n    super();\r\n    this.list = [];\r\n    this.currentLine = null;\r\n  }\r\n\r\n  write (text, newLine = false) {\r\n    if (this.currentLine == null) {\r\n      this.currentLine = this.list.push(\"\") - 1;\r\n    }\r\n\r\n    this.list[this.currentLine] += text;\r\n    if (newLine) {\r\n      this.currentLine = null;\r\n    }\r\n  }\r\n\r\n  sendOutput (text) {\r\n    const output = \"\" + text;\r\n    if (output.indexOf(\"\\n\") !== -1) {\r\n      const outputList = output.split(\"\\n\");\r\n      const last = outputList.pop();\r\n      outputList.forEach((t) => {\r\n        //t = t.replace(/\\t/g, '&#x0020;&#x0020;');\r\n        //t = t.replace(/\\s/g, \"&#x0020;\");\r\n        if (t.length == 0) this.currentLine = null;\r\n        else this.write(t, true);\r\n      });\r\n      //last = last.replace(/\\t/g, '&#x0020;&#x0020;');\r\n      //last = last.replace(/\\s/g, \"&#x0020;\");\r\n      if (last.length != 0) this.write(last);\r\n    } else {\r\n      //output = output.replace(/\\t/g, '&#x0020;&#x0020;');\r\n      //output = output.replace(/\\s/g, \"&#x0020;\");\r\n      this.write(output);\r\n    }\r\n  }\r\n}\r\n","import { IVProgParser } from \"../ast/ivprogParser\";\r\nimport * as Expressions from \"../ast/expressions\";\r\nimport { Types } from \"../typeSystem/types\";\r\nimport { convertBoolToString } from \"../typeSystem/parsers\";\r\n\r\nconst TYPES = {\r\n  VARIABLE: \"var\",\r\n  CONST: \"const\",\r\n  FUNCTION: \"function\",\r\n  RELATIONAL: \"relational\",\r\n  LOGIC: \"logic\",\r\n  ARITHMETIC: \"arithmetic\",\r\n};\r\n\r\nfunction translateOp (type, op) {\r\n  switch (type) {\r\n    case TYPES.ARITHMETIC:\r\n      return op.value;\r\n    case TYPES.RELATIONAL:\r\n      return op.value;\r\n    case TYPES.LOGIC: {\r\n      if (op.ord === 11) {\r\n        return \"and\";\r\n      } else if (op.ord === 12) {\r\n        return \"or\";\r\n      } else {\r\n        return \"not\";\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction getOpType (op) {\r\n  switch (op.ord) {\r\n    case 0:\r\n    case 1:\r\n    case 2:\r\n    case 3:\r\n    case 4:\r\n      return TYPES.ARITHMETIC;\r\n    case 5:\r\n    case 6:\r\n    case 7:\r\n    case 8:\r\n    case 9:\r\n    case 10:\r\n      return TYPES.RELATIONAL;\r\n    default:\r\n      return TYPES.LOGIC;\r\n  }\r\n}\r\n\r\nfunction expressionWalker (expression) {\r\n  let result;\r\n  if (expression instanceof Expressions.VariableLiteral) {\r\n    result = [\r\n      { instance: \"expression\", type: TYPES.VARIABLE, value: expression.id },\r\n    ];\r\n  } else if (expression instanceof Expressions.FunctionCall) {\r\n    const funcObj = {\r\n      instance: \"expression\",\r\n      type: TYPES.FUNCTION,\r\n      value: expression.id,\r\n    };\r\n    const paramsList = expression.actualParameters.map((e) =>\r\n      expressionWalker(e)\r\n    );\r\n    //const params = Array.prototype.concat.apply([], paramsList);\r\n    funcObj.params = paramsList;\r\n    result = [funcObj];\r\n  } else if (expression instanceof Expressions.UnaryApp) {\r\n    const left = expressionWalker(expression.left);\r\n    const opType = getOpType(expression.op);\r\n    const opValue = translateOp(opType, expression.op);\r\n    result = [{ instance: \"operator\", type: opType, value: opValue }, ...left];\r\n  } else if (expression instanceof Expressions.InfixApp) {\r\n    const left = expressionWalker(expression.left);\r\n    const right = expressionWalker(expression.right);\r\n    const opType = getOpType(expression.op);\r\n    const opValue = translateOp(opType, expression.op);\r\n    result = [\r\n      ...left,\r\n      { instance: \"operator\", type: opType, value: opValue },\r\n      ...right,\r\n    ];\r\n  } else if (expression instanceof Expressions.ArrayAccess) {\r\n    const line = expressionWalker(expression.line);\r\n    let arrayClass = \"vector\";\r\n    let column = null;\r\n    if (expression.column) {\r\n      arrayClass = \"matrix\";\r\n      column = expressionWalker(expression.column);\r\n    }\r\n    result = [\r\n      {\r\n        instance: \"expression\",\r\n        type: TYPES.VARIABLE,\r\n        class: arrayClass,\r\n        column: column,\r\n        line: line,\r\n        value: expression.id,\r\n      },\r\n    ];\r\n  } else if (expression instanceof Expressions.BoolLiteral) {\r\n    const value = expression.value;\r\n    result = [\r\n      {\r\n        instance: \"expression\",\r\n        class: \"simple\",\r\n        type: TYPES.CONST,\r\n        value: convertBoolToString(value),\r\n      },\r\n    ];\r\n  } else {\r\n    let value = expression.value;\r\n    if (expression.value.toNumber) {\r\n      if (\r\n        Types.REAL.isCompatible(expression.type) &&\r\n        expression.value.decimalPlaces() == 0\r\n      ) {\r\n        value = expression.value.toFixed(2);\r\n      } else {\r\n        value = expression.value.toNumber();\r\n      }\r\n    }\r\n    result = [\r\n      {\r\n        instance: \"expression\",\r\n        class: \"simple\",\r\n        type: TYPES.CONST,\r\n        value: value,\r\n      },\r\n    ];\r\n  }\r\n  if (expression.parenthesis) return [\"(\", ...result, \")\"];\r\n  else return result;\r\n}\r\n\r\nexport function parseExpression (text) {\r\n  const parser = IVProgParser.createParser(text);\r\n  const expressionAST = parser.parseExpressionOR();\r\n  return expressionWalker(expressionAST);\r\n}\r\n","/**\r\n * Author: @jhchen - https://github.com/jhchen\r\n * Modified by: @lucascalion - 23/07/2019\r\n * This library modifies the diff-patch-match library by Neil Fraser\r\n * by removing the patch and match functionality and certain advanced\r\n * options in the diff function. The original license is as follows:\r\n *\r\n * ===\r\n *\r\n * Diff Match and Patch\r\n *\r\n * Copyright 2006 Google Inc.\r\n * http://code.google.com/p/google-diff-match-patch/\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n *   http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n */\r\n\r\n\r\n/**\r\n * The data structure representing a diff is an array of tuples:\r\n * [[DIFF_DELETE, 'Hello'], [DIFF_INSERT, 'Goodbye'], [DIFF_EQUAL, ' world.']]\r\n * which means: delete 'Hello', add 'Goodbye' and keep ' world.'\r\n */\r\nconst DIFF_DELETE = -1;\r\nconst DIFF_INSERT = 1;\r\nconst DIFF_EQUAL = 0;\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Simplifies the problem by stripping\r\n * any common prefix or suffix off the texts before diffing.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {Int|Object} [cursor_pos] Edit position in text1 or object with more info\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_main(text1, text2, cursor_pos, _fix_unicode) {\r\n  // Check for equality\r\n  if (text1 === text2) {\r\n    if (text1) {\r\n      return [[DIFF_EQUAL, text1]];\r\n    }\r\n    return [];\r\n  }\r\n\r\n  if (cursor_pos != null) {\r\n    const editdiff = find_cursor_edit_diff(text1, text2, cursor_pos);\r\n    if (editdiff) {\r\n      return editdiff;\r\n    }\r\n  }\r\n\r\n  // Trim off common prefix (speedup).\r\n  let commonlength = diff_commonPrefix(text1, text2);\r\n  const commonprefix = text1.substring(0, commonlength);\r\n  text1 = text1.substring(commonlength);\r\n  text2 = text2.substring(commonlength);\r\n\r\n  // Trim off common suffix (speedup).\r\n  commonlength = diff_commonSuffix(text1, text2);\r\n  const commonsuffix = text1.substring(text1.length - commonlength);\r\n  text1 = text1.substring(0, text1.length - commonlength);\r\n  text2 = text2.substring(0, text2.length - commonlength);\r\n\r\n  // Compute the diff on the middle block.\r\n  const diffs = diff_compute_(text1, text2);\r\n\r\n  // Restore the prefix and suffix.\r\n  if (commonprefix) {\r\n    diffs.unshift([DIFF_EQUAL, commonprefix]);\r\n  }\r\n  if (commonsuffix) {\r\n    diffs.push([DIFF_EQUAL, commonsuffix]);\r\n  }\r\n  diff_cleanupMerge(diffs, _fix_unicode);\r\n  return diffs;\r\n}\r\n\r\n\r\n/**\r\n * Find the differences between two texts.  Assumes that the texts do not\r\n * have any common prefix or suffix.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_compute_(text1, text2) {\r\n  let diffs;\r\n\r\n  if (!text1) {\r\n    // Just add some text (speedup).\r\n    return [[DIFF_INSERT, text2]];\r\n  }\r\n\r\n  if (!text2) {\r\n    // Just delete some text (speedup).\r\n    return [[DIFF_DELETE, text1]];\r\n  }\r\n\r\n  const longtext = text1.length > text2.length ? text1 : text2;\r\n  const shorttext = text1.length > text2.length ? text2 : text1;\r\n  const i = longtext.indexOf(shorttext);\r\n  if (i !== -1) {\r\n    // Shorter text is inside the longer text (speedup).\r\n    diffs = [\r\n      [DIFF_INSERT, longtext.substring(0, i)],\r\n      [DIFF_EQUAL, shorttext],\r\n      [DIFF_INSERT, longtext.substring(i + shorttext.length)]\r\n    ];\r\n    // Swap insertions for deletions if diff is reversed.\r\n    if (text1.length > text2.length) {\r\n      diffs[0][0] = diffs[2][0] = DIFF_DELETE;\r\n    }\r\n    return diffs;\r\n  }\r\n\r\n  if (shorttext.length === 1) {\r\n    // Single character string.\r\n    // After the previous speedup, the character can't be an equality.\r\n    return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n  }\r\n\r\n  // Check to see if the problem can be split in two.\r\n  var hm = diff_halfMatch_(text1, text2);\r\n  if (hm) {\r\n    // A half-match was found, sort out the return data.\r\n    var text1_a = hm[0];\r\n    var text1_b = hm[1];\r\n    var text2_a = hm[2];\r\n    var text2_b = hm[3];\r\n    var mid_common = hm[4];\r\n    // Send both pairs off for separate processing.\r\n    var diffs_a = diff_main(text1_a, text2_a);\r\n    var diffs_b = diff_main(text1_b, text2_b);\r\n    // Merge the results.\r\n    return diffs_a.concat([[DIFF_EQUAL, mid_common]], diffs_b);\r\n  }\r\n\r\n  return diff_bisect_(text1, text2);\r\n}\r\n\r\n\r\n/**\r\n * Find the 'middle snake' of a diff, split the problem in two\r\n * and return the recursively constructed diff.\r\n * See Myers 1986 paper: An O(ND) Difference Algorithm and Its Variations.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @return {Array} Array of diff tuples.\r\n * @private\r\n */\r\nfunction diff_bisect_(text1, text2) {\r\n  // Cache the text lengths to prevent multiple calls.\r\n  const text1_length = text1.length;\r\n  const text2_length = text2.length;\r\n  const max_d = Math.ceil((text1_length + text2_length) / 2);\r\n  const v_offset = max_d;\r\n  const v_length = 2 * max_d;\r\n  const v1 = new Array(v_length);\r\n  const v2 = new Array(v_length);\r\n  // Setting all elements to -1 is faster in Chrome & Firefox than mixing\r\n  // integers and undefined.\r\n  for (var x = 0; x < v_length; x++) {\r\n    v1[x] = -1;\r\n    v2[x] = -1;\r\n  }\r\n  v1[v_offset + 1] = 0;\r\n  v2[v_offset + 1] = 0;\r\n  const delta = text1_length - text2_length;\r\n  // If the total number of characters is odd, then the front path will collide\r\n  // with the reverse path.\r\n  const front = (delta % 2 !== 0);\r\n  // Offsets for start and end of k loop.\r\n  // Prevents mapping of space beyond the grid.\r\n  let k1start = 0;\r\n  let k1end = 0;\r\n  let k2start = 0;\r\n  let k2end = 0;\r\n  for (let d = 0; d < max_d; d++) {\r\n    // Walk the front path one step.\r\n    for (let k1 = -d + k1start; k1 <= d - k1end; k1 += 2) {\r\n      const k1_offset = v_offset + k1;\r\n      let x1;\r\n      if (k1 === -d || (k1 !== d && v1[k1_offset - 1] < v1[k1_offset + 1])) {\r\n        x1 = v1[k1_offset + 1];\r\n      } else {\r\n        x1 = v1[k1_offset - 1] + 1;\r\n      }\r\n      let y1 = x1 - k1;\r\n      while (\r\n        x1 < text1_length && y1 < text2_length &&\r\n        text1.charAt(x1) === text2.charAt(y1)\r\n      ) {\r\n        x1++;\r\n        y1++;\r\n      }\r\n      v1[k1_offset] = x1;\r\n      if (x1 > text1_length) {\r\n        // Ran off the right of the graph.\r\n        k1end += 2;\r\n      } else if (y1 > text2_length) {\r\n        // Ran off the bottom of the graph.\r\n        k1start += 2;\r\n      } else if (front) {\r\n        const k2_offset = v_offset + delta - k1;\r\n        if (k2_offset >= 0 && k2_offset < v_length && v2[k2_offset] !== -1) {\r\n          // Mirror x2 onto top-left coordinate system.\r\n          const x2 = text1_length - v2[k2_offset];\r\n          if (x1 >= x2) {\r\n            // Overlap detfrontected.\r\n            return diff_bisectSplit_(text1, text2, x1, y1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    // Walk the reverse path one step.\r\n    for (let k2 = -d + k2start; k2 <= d - k2end; k2 += 2) {\r\n      const k2_offset = v_offset + k2;\r\n      let x2;\r\n      if (k2 === -d || (k2 !== d && v2[k2_offset - 1] < v2[k2_offset + 1])) {\r\n        x2 = v2[k2_offset + 1];\r\n      } else {\r\n        x2 = v2[k2_offset - 1] + 1;\r\n      }\r\n      let y2 = x2 - k2;\r\n      while (\r\n        x2 < text1_length && y2 < text2_length &&\r\n        text1.charAt(text1_length - x2 - 1) === text2.charAt(text2_length - y2 - 1)\r\n      ) {\r\n        x2++;\r\n        y2++;\r\n      }\r\n      v2[k2_offset] = x2;\r\n      if (x2 > text1_length) {\r\n        // Ran off the left of the graph.\r\n        k2end += 2;\r\n      } else if (y2 > text2_length) {\r\n        // Ran off the top of the graph.\r\n        k2start += 2;\r\n      } else if (!front) {\r\n        const k1_offset = v_offset + delta - k2;\r\n        if (k1_offset >= 0 && k1_offset < v_length && v1[k1_offset] !== -1) {\r\n          const x1 = v1[k1_offset];\r\n          const y1 = v_offset + x1 - k1_offset;\r\n          // Mirror x2 onto top-left coordinate system.\r\n          x2 = text1_length - x2;\r\n          if (x1 >= x2) {\r\n            // Overlap detected.\r\n            return diff_bisectSplit_(text1, text2, x1, y1);\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  // Diff took too long and hit the deadline or\r\n  // number of diffs equals number of characters, no commonality at all.\r\n  return [[DIFF_DELETE, text1], [DIFF_INSERT, text2]];\r\n}\r\n\r\n\r\n/**\r\n * Given the location of the 'middle snake', split the diff in two parts\r\n * and recurse.\r\n * @param {string} text1 Old string to be diffed.\r\n * @param {string} text2 New string to be diffed.\r\n * @param {number} x Index of split point in text1.\r\n * @param {number} y Index of split point in text2.\r\n * @return {Array} Array of diff tuples.\r\n */\r\nfunction diff_bisectSplit_(text1, text2, x, y) {\r\n  const text1a = text1.substring(0, x);\r\n  const text2a = text2.substring(0, y);\r\n  const text1b = text1.substring(x);\r\n  const text2b = text2.substring(y);\r\n\r\n  // Compute both diffs serially.\r\n  const diffs = diff_main(text1a, text2a);\r\n  const diffsb = diff_main(text1b, text2b);\r\n\r\n  return diffs.concat(diffsb);\r\n}\r\n\r\n\r\n/**\r\n * Determine the common prefix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the start of each\r\n *     string.\r\n */\r\nfunction diff_commonPrefix(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 || text1.charAt(0) !== text2.charAt(0)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  let pointermin = 0;\r\n  let pointermax = Math.min(text1.length, text2.length);\r\n  let pointermid = pointermax;\r\n  let pointerstart = 0;\r\n  while (pointermin < pointermid) {\r\n    if (\r\n      text1.substring(pointerstart, pointermid) ==\r\n      text2.substring(pointerstart, pointermid)\r\n    ) {\r\n      pointermin = pointermid;\r\n      pointerstart = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n\r\n  if (is_surrogate_pair_start(text1.charCodeAt(pointermid - 1))) {\r\n    pointermid--;\r\n  }\r\n\r\n  return pointermid;\r\n}\r\n\r\n\r\n/**\r\n * Determine the common suffix of two strings.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {number} The number of characters common to the end of each string.\r\n */\r\nfunction diff_commonSuffix(text1, text2) {\r\n  // Quick check for common null cases.\r\n  if (!text1 || !text2 || text1.slice(-1) !== text2.slice(-1)) {\r\n    return 0;\r\n  }\r\n  // Binary search.\r\n  // Performance analysis: http://neil.fraser.name/news/2007/10/09/\r\n  let pointermin = 0;\r\n  let pointermax = Math.min(text1.length, text2.length);\r\n  let pointermid = pointermax;\r\n  let pointerend = 0;\r\n  while (pointermin < pointermid) {\r\n    if (\r\n      text1.substring(text1.length - pointermid, text1.length - pointerend) ==\r\n      text2.substring(text2.length - pointermid, text2.length - pointerend)\r\n    ) {\r\n      pointermin = pointermid;\r\n      pointerend = pointermin;\r\n    } else {\r\n      pointermax = pointermid;\r\n    }\r\n    pointermid = Math.floor((pointermax - pointermin) / 2 + pointermin);\r\n  }\r\n\r\n  if (is_surrogate_pair_end(text1.charCodeAt(text1.length - pointermid))) {\r\n    pointermid--;\r\n  }\r\n\r\n  return pointermid;\r\n}\r\n\r\n\r\n/**\r\n * Do the two texts share a substring which is at least half the length of the\r\n * longer text?\r\n * This speedup can produce non-minimal diffs.\r\n * @param {string} text1 First string.\r\n * @param {string} text2 Second string.\r\n * @return {Array.<string>} Five element Array, containing the prefix of\r\n *     text1, the suffix of text1, the prefix of text2, the suffix of\r\n *     text2 and the common middle.  Or null if there was no match.\r\n */\r\nfunction diff_halfMatch_(text1, text2) {\r\n  const longtext = text1.length > text2.length ? text1 : text2;\r\n  const shorttext = text1.length > text2.length ? text2 : text1;\r\n  if (longtext.length < 4 || shorttext.length * 2 < longtext.length) {\r\n    return null;  // Pointless.\r\n  }\r\n\r\n  /**\r\n   * Does a substring of shorttext exist within longtext such that the substring\r\n   * is at least half the length of longtext?\r\n   * Closure, but does not reference any external variables.\r\n   * @param {string} longtext Longer string.\r\n   * @param {string} shorttext Shorter string.\r\n   * @param {number} i Start index of quarter length substring within longtext.\r\n   * @return {Array.<string>} Five element Array, containing the prefix of\r\n   *     longtext, the suffix of longtext, the prefix of shorttext, the suffix\r\n   *     of shorttext and the common middle.  Or null if there was no match.\r\n   * @private\r\n   */\r\n  function diff_halfMatchI_(longtext, shorttext, i) {\r\n    // Start with a 1/4 length substring at position i as a seed.\r\n    const seed = longtext.substring(i, i + Math.floor(longtext.length / 4));\r\n    let j = -1;\r\n    let best_common = '';\r\n    let best_longtext_a, best_longtext_b, best_shorttext_a, best_shorttext_b;\r\n    while ((j = shorttext.indexOf(seed, j + 1)) !== -1) {\r\n      const prefixLength = diff_commonPrefix(\r\n        longtext.substring(i), shorttext.substring(j));\r\n      const suffixLength = diff_commonSuffix(\r\n        longtext.substring(0, i), shorttext.substring(0, j));\r\n      if (best_common.length < suffixLength + prefixLength) {\r\n        best_common = shorttext.substring(\r\n          j - suffixLength, j) + shorttext.substring(j, j + prefixLength);\r\n        best_longtext_a = longtext.substring(0, i - suffixLength);\r\n        best_longtext_b = longtext.substring(i + prefixLength);\r\n        best_shorttext_a = shorttext.substring(0, j - suffixLength);\r\n        best_shorttext_b = shorttext.substring(j + prefixLength);\r\n      }\r\n    }\r\n    if (best_common.length * 2 >= longtext.length) {\r\n      return [\r\n        best_longtext_a, best_longtext_b,\r\n        best_shorttext_a, best_shorttext_b, best_common\r\n      ];\r\n    } else {\r\n      return null;\r\n    }\r\n  }\r\n\r\n  // First check if the second quarter is the seed for a half-match.\r\n  const hm1 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 4));\r\n  // Check again based on the third quarter.\r\n  const hm2 = diff_halfMatchI_(longtext, shorttext, Math.ceil(longtext.length / 2));\r\n  let hm;\r\n  if (!hm1 && !hm2) {\r\n    return null;\r\n  } else if (!hm2) {\r\n    hm = hm1;\r\n  } else if (!hm1) {\r\n    hm = hm2;\r\n  } else {\r\n    // Both matched.  Select the longest.\r\n    hm = hm1[4].length > hm2[4].length ? hm1 : hm2;\r\n  }\r\n\r\n  // A half-match was found, sort out the return data.\r\n  let text1_a, text1_b, text2_a, text2_b;\r\n  if (text1.length > text2.length) {\r\n    text1_a = hm[0];\r\n    text1_b = hm[1];\r\n    text2_a = hm[2];\r\n    text2_b = hm[3];\r\n  } else {\r\n    text2_a = hm[0];\r\n    text2_b = hm[1];\r\n    text1_a = hm[2];\r\n    text1_b = hm[3];\r\n  }\r\n  const mid_common = hm[4];\r\n  return [text1_a, text1_b, text2_a, text2_b, mid_common];\r\n}\r\n\r\n\r\n/**\r\n * Reorder and merge like edit sections.  Merge equalities.\r\n * Any edit section can move as long as it doesn't cross an equality.\r\n * @param {Array} diffs Array of diff tuples.\r\n * @param {boolean} fix_unicode Whether to normalize to a unicode-correct diff\r\n */\r\nfunction diff_cleanupMerge(diffs, fix_unicode) {\r\n  diffs.push([DIFF_EQUAL, '']);  // Add a dummy entry at the end.\r\n  let pointer = 0;\r\n  let count_delete = 0;\r\n  let count_insert = 0;\r\n  let text_delete = '';\r\n  let text_insert = '';\r\n  let commonlength;\r\n  let previous_equality;\r\n  while (pointer < diffs.length) {\r\n    if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\r\n      diffs.splice(pointer, 1);\r\n      continue;\r\n    }\r\n    switch (diffs[pointer][0]) {\r\n      case DIFF_INSERT:\r\n        count_insert++;\r\n        text_insert += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_DELETE:\r\n        count_delete++;\r\n        text_delete += diffs[pointer][1];\r\n        pointer++;\r\n        break;\r\n      case DIFF_EQUAL:\r\n        previous_equality = pointer - count_insert - count_delete - 1;\r\n        if (fix_unicode) {\r\n          // prevent splitting of unicode surrogate pairs.  when fix_unicode is true,\r\n          // we assume that the old and new text in the diff are complete and correct\r\n          // unicode-encoded JS strings, but the tuple boundaries may fall between\r\n          // surrogate pairs.  we fix this by shaving off stray surrogates from the end\r\n          // of the previous equality and the beginning of this equality.  this may create\r\n          // empty equalities or a common prefix or suffix.  for example, if AB and AC are\r\n          // emojis, `[[0, 'A'], [-1, 'BA'], [0, 'C']]` would turn into deleting 'ABAC' and\r\n          // inserting 'AC', and then the common suffix 'AC' will be eliminated.  in this\r\n          // particular case, both equalities go away, we absorb any previous inequalities,\r\n          // and we keep scanning for the next equality before rewriting the tuples.\r\n          if (previous_equality >= 0 && ends_with_pair_start(diffs[previous_equality][1])) {\r\n            const stray = diffs[previous_equality][1].slice(-1);\r\n            diffs[previous_equality][1] = diffs[previous_equality][1].slice(0, -1);\r\n            text_delete = stray + text_delete;\r\n            text_insert = stray + text_insert;\r\n            if (!diffs[previous_equality][1]) {\r\n              // emptied out previous equality, so delete it and include previous delete/insert\r\n              diffs.splice(previous_equality, 1);\r\n              pointer--;\r\n              var k = previous_equality - 1;\r\n              if (diffs[k] && diffs[k][0] === DIFF_INSERT) {\r\n                count_insert++;\r\n                text_insert = diffs[k][1] + text_insert;\r\n                k--;\r\n              }\r\n              if (diffs[k] && diffs[k][0] === DIFF_DELETE) {\r\n                count_delete++;\r\n                text_delete = diffs[k][1] + text_delete;\r\n                k--;\r\n              }\r\n              previous_equality = k;\r\n            }\r\n          }\r\n          if (starts_with_pair_end(diffs[pointer][1])) {\r\n            const stray = diffs[pointer][1].charAt(0);\r\n            diffs[pointer][1] = diffs[pointer][1].slice(1);\r\n            text_delete += stray;\r\n            text_insert += stray;\r\n          }\r\n        }\r\n        if (pointer < diffs.length - 1 && !diffs[pointer][1]) {\r\n          // for empty equality not at end, wait for next equality\r\n          diffs.splice(pointer, 1);\r\n          break;\r\n        }\r\n        if (text_delete.length > 0 || text_insert.length > 0) {\r\n          // note that diff_commonPrefix and diff_commonSuffix are unicode-aware\r\n          if (text_delete.length > 0 && text_insert.length > 0) {\r\n            // Factor out any common prefixes.\r\n            commonlength = diff_commonPrefix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              if (previous_equality >= 0) {\r\n                diffs[previous_equality][1] += text_insert.substring(0, commonlength);\r\n              } else {\r\n                diffs.splice(0, 0, [DIFF_EQUAL, text_insert.substring(0, commonlength)]);\r\n                pointer++;\r\n              }\r\n              text_insert = text_insert.substring(commonlength);\r\n              text_delete = text_delete.substring(commonlength);\r\n            }\r\n            // Factor out any common suffixes.\r\n            commonlength = diff_commonSuffix(text_insert, text_delete);\r\n            if (commonlength !== 0) {\r\n              diffs[pointer][1] =\r\n                text_insert.substring(text_insert.length - commonlength) + diffs[pointer][1];\r\n              text_insert = text_insert.substring(0, text_insert.length - commonlength);\r\n              text_delete = text_delete.substring(0, text_delete.length - commonlength);\r\n            }\r\n          }\r\n          // Delete the offending records and add the merged ones.\r\n          const n = count_insert + count_delete;\r\n          if (text_delete.length === 0 && text_insert.length === 0) {\r\n            diffs.splice(pointer - n, n);\r\n            pointer = pointer - n;\r\n          } else if (text_delete.length === 0) {\r\n            diffs.splice(pointer - n, n, [DIFF_INSERT, text_insert]);\r\n            pointer = pointer - n + 1;\r\n          } else if (text_insert.length === 0) {\r\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete]);\r\n            pointer = pointer - n + 1;\r\n          } else {\r\n            diffs.splice(pointer - n, n, [DIFF_DELETE, text_delete], [DIFF_INSERT, text_insert]);\r\n            pointer = pointer - n + 2;\r\n          }\r\n        }\r\n        if (pointer !== 0 && diffs[pointer - 1][0] === DIFF_EQUAL) {\r\n          // Merge this equality with the previous one.\r\n          diffs[pointer - 1][1] += diffs[pointer][1];\r\n          diffs.splice(pointer, 1);\r\n        } else {\r\n          pointer++;\r\n        }\r\n        count_insert = 0;\r\n        count_delete = 0;\r\n        text_delete = '';\r\n        text_insert = '';\r\n        break;\r\n    }\r\n  }\r\n  if (diffs[diffs.length - 1][1] === '') {\r\n    diffs.pop();  // Remove the dummy entry at the end.\r\n  }\r\n\r\n  // Second pass: look for single edits surrounded on both sides by equalities\r\n  // which can be shifted sideways to eliminate an equality.\r\n  // e.g: A<ins>BA</ins>C -> <ins>AB</ins>AC\r\n  let changes = false;\r\n  pointer = 1;\r\n  // Intentionally ignore the first and last element (don't need checking).\r\n  while (pointer < diffs.length - 1) {\r\n    if (diffs[pointer - 1][0] === DIFF_EQUAL &&\r\n      diffs[pointer + 1][0] === DIFF_EQUAL) {\r\n      // This is a single edit surrounded by equalities.\r\n      if (diffs[pointer][1].substring(diffs[pointer][1].length -\r\n        diffs[pointer - 1][1].length) === diffs[pointer - 1][1]) {\r\n        // Shift the edit over the previous equality.\r\n        diffs[pointer][1] = diffs[pointer - 1][1] +\r\n          diffs[pointer][1].substring(0, diffs[pointer][1].length -\r\n            diffs[pointer - 1][1].length);\r\n        diffs[pointer + 1][1] = diffs[pointer - 1][1] + diffs[pointer + 1][1];\r\n        diffs.splice(pointer - 1, 1);\r\n        changes = true;\r\n      } else if (diffs[pointer][1].substring(0, diffs[pointer + 1][1].length) ==\r\n        diffs[pointer + 1][1]) {\r\n        // Shift the edit over the next equality.\r\n        diffs[pointer - 1][1] += diffs[pointer + 1][1];\r\n        diffs[pointer][1] =\r\n          diffs[pointer][1].substring(diffs[pointer + 1][1].length) +\r\n          diffs[pointer + 1][1];\r\n        diffs.splice(pointer + 1, 1);\r\n        changes = true;\r\n      }\r\n    }\r\n    pointer++;\r\n  }\r\n  // If shifts were made, the diff needs reordering and another shift sweep.\r\n  if (changes) {\r\n    diff_cleanupMerge(diffs, fix_unicode);\r\n  }\r\n}\r\n\r\nfunction is_surrogate_pair_start(charCode) {\r\n  return charCode >= 0xD800 && charCode <= 0xDBFF;\r\n}\r\n\r\nfunction is_surrogate_pair_end(charCode) {\r\n  return charCode >= 0xDC00 && charCode <= 0xDFFF;\r\n}\r\n\r\nfunction starts_with_pair_end(str) {\r\n  return is_surrogate_pair_end(str.charCodeAt(0));\r\n}\r\n\r\nfunction ends_with_pair_start(str) {\r\n  return is_surrogate_pair_start(str.charCodeAt(str.length - 1));\r\n}\r\n\r\nfunction remove_empty_tuples(tuples) {\r\n  const ret = [];\r\n  for (let i = 0; i < tuples.length; i++) {\r\n    if (tuples[i][1].length > 0) {\r\n      ret.push(tuples[i]);\r\n    }\r\n  }\r\n  return ret;\r\n}\r\n\r\nfunction make_edit_splice(before, oldMiddle, newMiddle, after) {\r\n  if (ends_with_pair_start(before) || starts_with_pair_end(after)) {\r\n    return null;\r\n  }\r\n  return remove_empty_tuples([\r\n    [DIFF_EQUAL, before],\r\n    [DIFF_DELETE, oldMiddle],\r\n    [DIFF_INSERT, newMiddle],\r\n    [DIFF_EQUAL, after]\r\n  ]);\r\n}\r\n\r\nfunction find_cursor_edit_diff(oldText, newText, cursor_pos) {\r\n  // note: this runs after equality check has ruled out exact equality\r\n  const oldRange = typeof cursor_pos === 'number' ?\r\n    { index: cursor_pos, length: 0 } : cursor_pos.oldRange;\r\n  const newRange = typeof cursor_pos === 'number' ?\r\n    null : cursor_pos.newRange;\r\n  // take into account the old and new selection to generate the best diff\r\n  // possible for a text edit.  for example, a text change from \"xxx\" to \"xx\"\r\n  // could be a delete or forwards-delete of any one of the x's, or the\r\n  // result of selecting two of the x's and typing \"x\".\r\n  const oldLength = oldText.length;\r\n  const newLength = newText.length;\r\n  if (oldRange.length === 0 && (newRange === null || newRange.length === 0)) {\r\n    // see if we have an insert or delete before or after cursor\r\n    const oldCursor = oldRange.index;\r\n    const oldBefore = oldText.slice(0, oldCursor);\r\n    const oldAfter = oldText.slice(oldCursor);\r\n    const maybeNewCursor = newRange ? newRange.index : null;\r\n    editBefore: {\r\n      // is this an insert or delete right before oldCursor?\r\n      const newCursor = oldCursor + newLength - oldLength;\r\n      if (maybeNewCursor !== null && maybeNewCursor !== newCursor) {\r\n        break editBefore;\r\n      }\r\n      if (newCursor < 0 || newCursor > newLength) {\r\n        break editBefore;\r\n      }\r\n      const newBefore = newText.slice(0, newCursor);\r\n      const newAfter = newText.slice(newCursor);\r\n      if (newAfter !== oldAfter) {\r\n        break editBefore;\r\n      }\r\n      const prefixLength = Math.min(oldCursor, newCursor);\r\n      const oldPrefix = oldBefore.slice(0, prefixLength);\r\n      const newPrefix = newBefore.slice(0, prefixLength);\r\n      if (oldPrefix !== newPrefix) {\r\n        break editBefore;\r\n      }\r\n      const oldMiddle = oldBefore.slice(prefixLength);\r\n      const newMiddle = newBefore.slice(prefixLength);\r\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldAfter);\r\n    }\r\n    editAfter: {\r\n      // is this an insert or delete right after oldCursor?\r\n      if (maybeNewCursor !== null && maybeNewCursor !== oldCursor) {\r\n        break editAfter;\r\n      }\r\n      const cursor = oldCursor;\r\n      const newBefore = newText.slice(0, cursor);\r\n      const newAfter = newText.slice(cursor);\r\n      if (newBefore !== oldBefore) {\r\n        break editAfter;\r\n      }\r\n      const suffixLength = Math.min(oldLength - cursor, newLength - cursor);\r\n      const oldSuffix = oldAfter.slice(oldAfter.length - suffixLength);\r\n      const newSuffix = newAfter.slice(newAfter.length - suffixLength);\r\n      if (oldSuffix !== newSuffix) {\r\n        break editAfter;\r\n      }\r\n      const oldMiddle = oldAfter.slice(0, oldAfter.length - suffixLength);\r\n      const newMiddle = newAfter.slice(0, newAfter.length - suffixLength);\r\n      return make_edit_splice(oldBefore, oldMiddle, newMiddle, oldSuffix);\r\n    }\r\n  }\r\n  if (oldRange.length > 0 && newRange && newRange.length === 0) {\r\n    replaceRange: {\r\n      // see if diff could be a splice of the old selection range\r\n      const oldPrefix = oldText.slice(0, oldRange.index);\r\n      const oldSuffix = oldText.slice(oldRange.index + oldRange.length);\r\n      const prefixLength = oldPrefix.length;\r\n      const suffixLength = oldSuffix.length;\r\n      if (newLength < prefixLength + suffixLength) {\r\n        break replaceRange;\r\n      }\r\n      const newPrefix = newText.slice(0, prefixLength);\r\n      const newSuffix = newText.slice(newLength - suffixLength);\r\n      if (oldPrefix !== newPrefix || oldSuffix !== newSuffix) {\r\n        break replaceRange;\r\n      }\r\n      const oldMiddle = oldText.slice(prefixLength, oldLength - suffixLength);\r\n      const newMiddle = newText.slice(prefixLength, newLength - suffixLength);\r\n      return make_edit_splice(oldPrefix, oldMiddle, newMiddle, oldSuffix);\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction diff(text1, text2, cursor_pos) {\r\n  // only pass fix_unicode=true at the top level, not when diff_main is\r\n  // recursively invoked\r\n  return diff_main(text1, text2, cursor_pos, true);\r\n}\r\n\r\ndiff.INSERT = DIFF_INSERT;\r\ndiff.DELETE = DIFF_DELETE;\r\ndiff.EQUAL = DIFF_EQUAL;\r\n\r\nexport default diff;\r\n","import { DOMConsole } from \"../io/domConsole\";\r\nimport { getInstance } from \"../services/localizedStringsService\";\r\n\r\nconst LocalizedStrings = getInstance();\r\n\r\nexport class TestConsole {\r\n\r\n\r\n  constructor (inputList) {\r\n    this.index = 0;\r\n    this.inputList = inputList;\r\n    this.list = [];\r\n    this.currentLine = null;\r\n  }\r\n\r\n  writeRawHTML (text) {\r\n    this._appendTextLn(text);\r\n  }\r\n  write (text, newLine = false) {\r\n    this._appendText(text, DOMConsole.USER, newLine);\r\n  }\r\n\r\n  info (text) {\r\n    this._appendTextLn(text, DOMConsole.INFO);\r\n  }\r\n\r\n  err (text) {\r\n    this._appendTextLn(text, DOMConsole.ERR);\r\n  }\r\n\r\n  _appendText (text, _type, newLine = false) {\r\n    if (this.currentLine == null) {\r\n      this.currentLine = this.list.push('') - 1;\r\n    }\r\n\r\n    this.list[this.currentLine] += text;\r\n    if (newLine) {\r\n      this.currentLine = null;\r\n    }\r\n  }\r\n\r\n  _appendTextLn (text) {\r\n    this.list.push(text);\r\n    this.currentLine = null;\r\n  }\r\n\r\n  getClassForType (type) {\r\n    switch (type) {\r\n      case DOMConsole.USER:\r\n        return \"ivprog-term-userText\";\r\n      case DOMConsole.INFO:\r\n        return \"ivprog-term-info\";\r\n      case DOMConsole.ERR:\r\n        return \"ivprog-term-error\";\r\n    }\r\n  }\r\n\r\n  requestInput () {\r\n    const promise = new Promise( (resolve, reject) => {\r\n      if(this.index < this.inputList.length) {\r\n        resolve(this.inputList[this.index]);\r\n        this.index++;\r\n      } else {\r\n        reject(new Error(LocalizedStrings.getError(\"exceeded_input_request\")));\r\n      }\r\n    });\r\n    return promise\r\n  }\r\n\r\n  sendOutput (text) {\r\n    let output = '' + text;\r\n    if (output.indexOf('\\n') !== -1) {\r\n      const outputList = output.split('\\n');\r\n      let last = outputList.pop();\r\n      outputList.forEach( t => {\r\n        t = t.replace(/\\t/g, '&#x0020;&#x0020;');\r\n        t = t.replace(/\\s/g, \"&#x0020;\");\r\n        if (t.length == 0)\r\n          this.currentLine = null;\r\n        else\r\n          this.write(t, true);\r\n      });\r\n      last = last.replace(/\\t/g, '&#x0020;&#x0020;');\r\n      last = last.replace(/\\s/g, \"&#x0020;\");\r\n      if (last.length != 0)\r\n        this.write(last);\r\n    } else {\r\n      output = output.replace(/\\t/g, '&#x0020;&#x0020;');\r\n      output = output.replace(/\\s/g, \"&#x0020;\");\r\n      this.write(output);\r\n    }\r\n  }\r\n}\r\n","import { LanguageService } from \"./../services/languageService\";\r\nimport { LocalizedStrings } from \"./../services/localizedStringsService\";\r\nimport { Operators } from \"./../ast/operators\";\r\n\r\n/** \r\n * source: https://pawelgrzybek.com/page-scroll-in-vanilla-javascript/ \r\n * \r\n*/\r\nexport function scrollIt (destination, duration = 200, easing = 'linear', callback = null) {\r\n\r\n  const easings = {\r\n    linear(t) {\r\n      return t;\r\n    },\r\n    easeInQuad(t) {\r\n      return t * t;\r\n    },\r\n    easeOutQuad(t) {\r\n      return t * (2 - t);\r\n    },\r\n    easeInOutQuad(t) {\r\n      return t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t;\r\n    },\r\n    easeInCubic(t) {\r\n      return t * t * t;\r\n    },\r\n    easeOutCubic(t) {\r\n      return (--t) * t * t + 1;\r\n    },\r\n    easeInOutCubic(t) {\r\n      return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\r\n    },\r\n    easeInQuart(t) {\r\n      return t * t * t * t;\r\n    },\r\n    easeOutQuart(t) {\r\n      return 1 - (--t) * t * t * t;\r\n    },\r\n    easeInOutQuart(t) {\r\n      return t < 0.5 ? 8 * t * t * t * t : 1 - 8 * (--t) * t * t * t;\r\n    },\r\n    easeInQuint(t) {\r\n      return t * t * t * t * t;\r\n    },\r\n    easeOutQuint(t) {\r\n      return 1 + (--t) * t * t * t * t;\r\n    },\r\n    easeInOutQuint(t) {\r\n      return t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * (--t) * t * t * t * t;\r\n    }\r\n  };\r\n\r\n  const start = window.pageYOffset;\r\n  const startTime = 'now' in window.performance ? performance.now() : new Date().getTime();\r\n\r\n  const documentHeight = Math.max(document.body.scrollHeight, document.body.offsetHeight, document.documentElement.clientHeight, document.documentElement.scrollHeight, document.documentElement.offsetHeight);\r\n  const windowHeight = window.innerHeight || document.documentElement.clientHeight || document.getElementsByTagName('body')[0].clientHeight;\r\n  const destinationOffset = typeof destination === 'number' ? destination : destination.offsetTop;\r\n  const destinationOffsetToScroll = Math.round(documentHeight - destinationOffset < windowHeight ? documentHeight - windowHeight : destinationOffset);\r\n\r\n  if ('requestAnimationFrame' in window === false) {\r\n    window.scroll(0, destinationOffsetToScroll);\r\n    if (callback) {\r\n      callback();\r\n    }\r\n    return;\r\n  }\r\n\r\n  function scroll() {\r\n    const now = 'now' in window.performance ? performance.now() : new Date().getTime();\r\n    const time = Math.min(1, ((now - startTime) / duration));\r\n    const timeFunction = easings[easing](time);\r\n    window.scroll(0, Math.ceil((timeFunction * (destinationOffsetToScroll - start)) + start));\r\n\r\n    if (window.pageYOffset === destinationOffsetToScroll) {\r\n      if (callback) {\r\n        callback();\r\n      }\r\n      return;\r\n    }\r\n\r\n    requestAnimationFrame(scroll);\r\n  }\r\n\r\n  scroll();\r\n}\r\n\r\n/**\r\n * \r\n * source: https://stackoverflow.com/a/16270434\r\n */\r\nexport function isElementInViewport (el) {\r\n  const rect = el.getBoundingClientRect();\r\n\r\n  return rect.bottom > 0 &&\r\n    rect.right > 0 &&\r\n    rect.left < (window.innerWidth || document.documentElement.clientWidth) &&\r\n    rect.top < (window.innerHeight || document.documentElement.clientHeight);\r\n}\r\n\r\nlet cacheMainList = null;\r\nlet cacheOp = null;\r\n\r\nfunction fillCache () {\r\n  if(cacheMainList == null) {\r\n    cacheMainList = [];\r\n    const mainList = [\"RK_PROGRAM\",\"RK_REAL\",\"RK_VOID\",\"RK_BOOLEAN\",\"RK_STRING\",\r\n      \"RK_INTEGER\",\"RK_CHARACTER\",\"RK_SWITCH\",\"RK_CASE\",\"RK_DEFAULT\",\"RK_CONST\",\r\n      \"RK_FUNCTION\",\"RK_RETURN\",\"RK_FOR\",\"RK_BREAK\",\"RK_DO\",\"RK_WHILE\",\"RK_IF\",\r\n      \"RK_ELSE\",\"RK_FALSE\",\"RK_TRUE\"];\r\n    const lexerClass = LanguageService.getCurrentLexer();\r\n    const nullLexer = new lexerClass();\r\n    for (let key = 0; key < mainList.length; ++key) {\r\n      const word = mainList[key];\r\n      const keyword = nullLexer.literalNames[lexerClass[word]];\r\n      cacheMainList.push(keyword.substring(1, keyword.length-1));\r\n    }\r\n  }\r\n  if(cacheOp == null) {\r\n    cacheOp = []\r\n    const logicOpList = [Operators.AND.value, Operators.OR.value, Operators.NOT.value];\r\n    for (let op = 0; op < logicOpList.length; ++op) {\r\n      const lOp = `logic_operator_${logicOpList[op]}`;\r\n      cacheOp.push(LocalizedStrings.getUI(lOp))\r\n    }\r\n  }\r\n}\r\n\r\nexport function isKeyword (text) {\r\n  fillCache();\r\n  for (let key = 0; key < cacheMainList.length; ++key) {\r\n    const keyword = cacheMainList[key];\r\n    if(keyword == text) {\r\n      return true;\r\n    }\r\n  }\r\n  // not in main list, check op\r\n  for (let op = 0; op < cacheOp.length; op++) {\r\n    const lOp = cacheOp[op];\r\n    if(lOp == text) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nexport function isValidIdentifier (identifier_str) {\r\n  const validRegex = /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(identifier_str);\r\n  if(!validRegex) {\r\n    return false;\r\n  }\r\n\treturn !isKeyword(identifier_str);\r\n}\r\n\r\nexport function getCodeEditorModeConfig () {\r\n  const blockList = [\"RK_SWITCH\", \"RK_PROGRAM\",\"RK_CASE\",\"RK_DEFAULT\",\"RK_FOR\",\"RK_FOR_ALT\",\r\n    \"RK_FUNCTION\",\"RK_DO\",\"RK_WHILE\",\"RK_WHILE_ALT\",\"RK_IF\",\"RK_ELSE\"]\r\n  const keywordsList = [\"RK_CONST\",\"RK_RETURN\",\"RK_BREAK\",\"RK_FOR_FROM\",\"RK_FOR_TO\",\"RK_FOR_PASS\",\"RK_DO_UNTIL\"];\r\n  const typeList = [\"RK_REAL\",\"RK_VOID\",\"RK_BOOLEAN\",\"RK_STRING\",\"RK_INTEGER\",\"RK_CHARACTER\"];\r\n  const atomList = [\"RK_FALSE\", \"RK_TRUE\"];\r\n\r\n  const case_default = [];\r\n  const blocks = [];\r\n  const keywords = [];\r\n  const types = [];\r\n  const atoms = []\r\n  let switchString = \"\";\r\n\r\n  cacheMainList = [];\r\n  const lexerClass = LanguageService.getCurrentLexer();\r\n  const nullLexer = new lexerClass();\r\n  blockList.forEach( v => {\r\n    const keyword = nullLexer.literalNames[lexerClass[v]];\r\n    const value = keyword.substring(1, keyword.length-1);\r\n    cacheMainList.push(value);\r\n    keywords.push(value);\r\n    blocks.push(value);\r\n    if(v == \"RK_SWITCH\") {\r\n      switchString = value;\r\n    } else if (v == \"RK_CASE\" || v == \"RK_DEFAULT\") {\r\n      case_default.push(value);\r\n    }\r\n  });\r\n  keywordsList.forEach( v => {\r\n    const keyword = nullLexer.literalNames[lexerClass[v]];\r\n    const value = keyword.substring(1, keyword.length-1);\r\n    cacheMainList.push(value);\r\n    keywords.push(value);\r\n  });\r\n  typeList.forEach(v => {\r\n    const keyword = nullLexer.literalNames[lexerClass[v]];\r\n    const value = keyword.substring(1, keyword.length-1);\r\n    cacheMainList.push(value);\r\n    types.push(value);\r\n  })\r\n  atomList.forEach( v => {\r\n    const keyword = nullLexer.literalNames[lexerClass[v]];\r\n    const value = keyword.substring(1, keyword.length-1);\r\n    cacheMainList.push(value);\r\n    atoms.push(value);\r\n  })\r\n  \r\n  cacheOp = []\r\n  const logicOpList = [Operators.AND.value, Operators.OR.value, Operators.NOT.value];\r\n  for (let op = 0; op < logicOpList.length; ++op) {\r\n    const lOp = `logic_operator_${logicOpList[op]}`;\r\n    const value = LocalizedStrings.getUI(lOp);\r\n    cacheOp.push(value)\r\n    keywords.push(value);\r\n  }\r\n  return {\r\n    case_default: case_default,\r\n    atoms: atoms,\r\n    keywords: keywords,\r\n    switchString: switchString,\r\n    types: types,\r\n    blocks: blocks\r\n  }\r\n}\r\n\r\n/**\r\n * Source: https://gist.github.com/andrei-m/982927\r\n * @param {string} a \r\n * @param {string} b \r\n */\r\nexport function levenshteinDistance (a, b) {\r\n  if(a.length == 0) return b.length; \r\n  if(b.length == 0) return a.length; \r\n\r\n  const matrix = [];\r\n\r\n  // increment along the first column of each row\r\n  let i;\r\n  for(i = 0; i <= b.length; i++){\r\n    matrix[i] = [i];\r\n  }\r\n\r\n  // increment each column in the first row\r\n  let j;\r\n  for(j = 0; j <= a.length; j++){\r\n    matrix[0][j] = j;\r\n  }\r\n\r\n  // Fill in the rest of the matrix\r\n  for(i = 1; i <= b.length; i++){\r\n    for(j = 1; j <= a.length; j++){\r\n      if(b.charCodeAt(i-1) == a.charCodeAt(j-1)){\r\n        matrix[i][j] = matrix[i-1][j-1];\r\n      } else {\r\n        matrix[i][j] = Math.min(matrix[i-1][j-1] + 1, // substitution\r\n                        Math.min(matrix[i][j-1] + 1, // insertion\r\n                          matrix[i-1][j] + 1)); // deletion\r\n      }\r\n    }\r\n  }\r\n  return matrix[b.length][a.length];\r\n}\r\n\r\nlet win = null\r\nexport function openAssessmentDetail (event) {\r\n  event.preventDefault();\r\n  const page_code = event.currentTarget.dataset.page;\r\n  if(win != null) {\r\n    win.close()\r\n  }\r\n  win = window.open(\"\", \"DetailWindow\", \"width=550,height=600\");\r\n  win.document.open();\r\n  win.document.write(page_code);\r\n  win.document.close();\r\n}\r\n\r\nexport function range (size, startAt = 0) {\r\n  return [...Array(size).keys()].map(i => i + startAt);\r\n}\r\n\r\n/**\r\n * \r\n * @param {number} ms \r\n */\r\nexport async function sleep (ms) {\r\n    return new Promise( (res, _) => setTimeout(res, ms));\r\n  }\r\n","import * as GlobalsManagement from './globals';\r\nimport * as FunctionsManagement from './functions';\r\n\r\nwindow.block_render = false;\r\n\r\nexport function renderAlgorithm () {\r\n\tif (window.block_render) {\r\n\t\treturn;\r\n\t}\r\n\tif (window.draging) {\r\n\t\treturn;\r\n\t}\r\n\twindow.block_render = true;\r\n\r\n \t$('.all_functions').children().off();\r\n\t$('.all_functions').empty();\r\n\r\n\t$('.list_globals').children().off();\r\n\t$('.list_globals').empty();\t\r\n\r\n\tfor (var i = 0; i < window.program_obj.functions.length; i++) {\r\n\t\tFunctionsManagement.renderFunction(window.program_obj.functions[i]);\r\n\t}\r\n\r\n\tfor (var i = 0; i < window.program_obj.globals.length; i++) {\r\n\t\tGlobalsManagement.renderGlobal(window.program_obj.globals[i]);\r\n\t}\t\r\n\r\n\tsetTimeout(function(){ window.block_render = false; }, 100);\r\n\r\n\tif (settingsFilter && settingsFilter[0]) {\r\n      blockAllEditingOptions();\r\n\t\t} \r\n\t\r\n\t$('.command_drag').popup({\r\n    content : LocalizedStrings.getUI(\"text_move_command\"),\r\n    delay: {\r\n      show: 1000,\r\n      hide: 0\r\n    }\r\n  });\r\n\t\t\r\n}","/* eslint-disable @typescript-eslint/no-use-before-define */\r\n/* globals $*/\r\nimport { Types } from \"./types\";\r\nimport * as Models from \"./ivprog_elements\";\r\nimport { LocalizedStrings } from \"./../services/localizedStringsService\";\r\nimport * as Utils from \"./utils\";\r\n\r\nexport function generate () {\r\n  $(\".ivprog_visual_panel\")\r\n    .find(\".error_icon\")\r\n    .remove();\r\n\r\n  let code = LocalizedStrings.getUI(\"program\") + \" { \";\r\n\r\n  code += globalsCode();\r\n\r\n  code += \"\\n\";\r\n\r\n  let has_error = false;\r\n\r\n  for (let i = 0; i < window.program_obj.functions.length; i++) {\r\n    const n_code = functionsCode(window.program_obj.functions[i]);\r\n    if (n_code == null) {\r\n      has_error = true;\r\n    }\r\n    code += n_code;\r\n    code += \"\\n\";\r\n  }\r\n\r\n  code += \"\\n}\";\r\n\r\n  if (has_error) {\r\n    return null;\r\n  } else {\r\n    return code;\r\n  }\r\n}\r\n\r\nfunction functionsCode (function_obj) {\r\n  let ret = \"\\n\\t\" + LocalizedStrings.getUI(\"function\") + \" \";\r\n\r\n  const has_error = false;\r\n\r\n  switch (function_obj.return_type) {\r\n    case Types.INTEGER:\r\n      ret += LocalizedStrings.getUI(\"type_integer\");\r\n      break;\r\n    case Types.REAL:\r\n      ret += LocalizedStrings.getUI(\"type_real\");\r\n      break;\r\n    case Types.TEXT:\r\n      ret += LocalizedStrings.getUI(\"type_text\");\r\n      break;\r\n    case Types.BOOLEAN:\r\n      ret += LocalizedStrings.getUI(\"type_boolean\");\r\n      break;\r\n    case Types.CHAR:\r\n      ret += LocalizedStrings.getUI(\"type_char\");\r\n      break;\r\n    case Types.VOID:\r\n      ret += LocalizedStrings.getUI(\"type_void\");\r\n      break;\r\n  }\r\n  ret += \" \";\r\n\r\n  if (function_obj.return_dimensions == 1) {\r\n    ret += \"[] \";\r\n  } else if (function_obj.return_dimensions == 2) {\r\n    ret += \"[][] \";\r\n  }\r\n  if (function_obj.is_main) {\r\n    ret += LocalizedStrings.getUI(\"start\");\r\n  } else {\r\n    ret += function_obj.name;\r\n  }\r\n  ret += \" ( \";\r\n  for (let j = 0; j < function_obj.parameters_list.length; j++) {\r\n    ret += parametersCode(function_obj.parameters_list[j]);\r\n    if (j + 1 < function_obj.parameters_list.length) {\r\n      ret += \", \";\r\n    }\r\n  }\r\n\r\n  ret += \" )  {\";\r\n\r\n  for (let j = 0; j < function_obj.variables_list.length; j++) {\r\n    ret += variablesCode(function_obj.variables_list[j]);\r\n  }\r\n\r\n  for (let j = 0; j < function_obj.commands.length; j++) {\r\n    //try {\r\n    ret += commandsCode(function_obj.commands[j]);\r\n    /*} catch (err) {\r\n\r\n                        has_error = true;\r\n\r\n                        console.error(err.message);\r\n\r\n                        var todos = $('body').find('.command_container');\r\n\r\n                        for (var i = 0; i < todos.length; i++) {\r\n                                if ($(todos[i]).data('command') == function_obj.commands[j]) {\r\n                                        $( todos[i] ).prepend( ' <i class=\"ui icon red exclamation triangle error_icon\"></i> ' );\r\n                                        break;\r\n                                }\r\n                        }\r\n\r\n                }*/\r\n  }\r\n\r\n  ret += \"\\n\\t}\";\r\n\r\n  if (has_error) {\r\n    return null;\r\n  } else {\r\n    return ret;\r\n  }\r\n}\r\n\r\nfunction commandsCode (command_obj, indentation = 2) {\r\n  switch (command_obj.type) {\r\n    case Models.COMMAND_TYPES.break:\r\n      return breaksCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.comment:\r\n      return commentsCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.reader:\r\n      return readersCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.writer:\r\n      return writersCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.functioncall:\r\n      return functioncallsCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.attribution:\r\n      return attributionsCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.whiletrue:\r\n      return whiletruesCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.dowhiletrue:\r\n      return doWhilesCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.iftrue:\r\n      return iftruesCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.repeatNtimes:\r\n      return repeatNtimesCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.switch:\r\n      return switchsCode(command_obj, indentation);\r\n\r\n    case Models.COMMAND_TYPES.return:\r\n      return returnsCode(command_obj, indentation);\r\n  }\r\n}\r\n\r\nfunction returnsCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_return\");\r\n\r\n  if (command_obj.variable_value_menu) {\r\n    try {\r\n      ret += \" \" + elementExpressionCode(command_obj.variable_value_menu);\r\n      //ret += ' ' + variableValueMenuCode(command_obj.variable_value_menu, true);\r\n    } catch (err) {\r\n      //Empty block\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction breaksCode (_command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_break\");\r\n\r\n  return ret;\r\n}\r\n\r\nfunction switchsCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_code_switch\") + \" ( \";\r\n\r\n  ret += variableValueMenuCode(command_obj.variable);\r\n\r\n  ret += \" ) { \";\r\n\r\n  if (command_obj.cases) {\r\n    for (let i = 0; i < command_obj.cases.length; i++) {\r\n      ret += switchcasesCode(command_obj.cases[i], indentation + 1);\r\n    }\r\n  }\r\n\r\n  ret += \"\\n\";\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n  ret += \"} \";\r\n\r\n  return ret;\r\n}\r\n\r\nfunction switchcasesCode (switchcase, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_code_case\") + \" \";\r\n  ret += variableValueMenuCode(switchcase.variable_value_menu);\r\n  ret += \" :\";\r\n\r\n  if (switchcase.commands_block) {\r\n    for (let i = 0; i < switchcase.commands_block.length; i++) {\r\n      ret += commandsCode(switchcase.commands_block[i], indentation + 1);\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nexport function repeatNtimesHeader (command_obj) {\r\n  let ret = \"\";\r\n  if (command_obj.var_attribution) {\r\n    ret += '<span class=\"repeatN_text_par_1\">';\r\n    ret += variableValueMenuCode(command_obj.var_attribution);\r\n    ret += '</span>';\r\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_from\")} `;\r\n    ret += '<span class=\"repeatN_text_par_2\">';\r\n    ret += variableValueMenuCode(command_obj.expression1);\r\n    ret += '</span>';\r\n  }\r\n\r\n  if (command_obj.expression2) {\r\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_to\")} `;\r\n    ret += '<span class=\"repeatN_text_par_3\">';\r\n    ret += variableValueMenuCode(command_obj.expression2);\r\n    ret += '</span>';\r\n  }\r\n\r\n  if (command_obj.expression3) {\r\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_pass\")} `;\r\n    ret += '<span class=\"repeatN_text_par_4\">';\r\n    switch (command_obj.expression3.itens[1]) {\r\n      case Models.ARITHMETIC_TYPES.plus:\r\n        ret += \" +\";\r\n        break;\r\n      case Models.ARITHMETIC_TYPES.minus:\r\n        ret += \" -\";\r\n        break;\r\n    }\r\n    ret += variableValueMenuCode(command_obj.expression3.itens[2]);\r\n    ret += '</span>';\r\n  }\r\n  return ret;\r\n}\r\n\r\nfunction repeatNtimesCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_for\") + \" \";\r\n\r\n  if (command_obj.var_attribution) {\r\n    ret += variableValueMenuCode(command_obj.var_attribution);\r\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_from\")} `;\r\n    ret += variableValueMenuCode(command_obj.expression1);\r\n  }\r\n\r\n  if (command_obj.expression2) {\r\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_to\")} `;\r\n    ret += variableValueMenuCode(command_obj.expression2);\r\n  }\r\n\r\n  if (command_obj.expression3) {\r\n    ret += ` ${LocalizedStrings.getUI(\"text_code_for_pass\")} `;\r\n    switch (command_obj.expression3.itens[1]) {\r\n      case Models.ARITHMETIC_TYPES.plus:\r\n        ret += \" +\";\r\n        break;\r\n      case Models.ARITHMETIC_TYPES.minus:\r\n        ret += \" -\";\r\n        break;\r\n    }\r\n    ret += variableValueMenuCode(command_obj.expression3.itens[2]);\r\n  }\r\n\r\n  ret += \" { \";\r\n\r\n  if (command_obj.commands_block) {\r\n    for (let i = 0; i < command_obj.commands_block.length; i++) {\r\n      ret += commandsCode(command_obj.commands_block[i], indentation + 1);\r\n    }\r\n  }\r\n\r\n  ret += \"\\n\";\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += \"}\";\r\n  return ret;\r\n}\r\n\r\nfunction iftruesCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_if\");\r\n\r\n  if (!command_obj.expression) {\r\n    Utils.renderErrorMessage(\r\n      command_obj.expression.dom_object,\r\n      LocalizedStrings.getUI(\"inform_valid_expression\")\r\n    );\r\n  } else {\r\n    ret += \" ( \";\r\n    ret += elementExpressionCode(command_obj.expression);\r\n    ret += \" ) \";\r\n  }\r\n\r\n  /*switch (command_obj.expression.expression.type) {\r\n                case Models.EXPRESSION_TYPES.exp_logic:\r\n                        ret += logicExpressionCode(command_obj.expression.expression);\r\n                        break;\r\n                case Models.EXPRESSION_TYPES.exp_arithmetic:\r\n                        ret += arithmeticExpressionCode(command_obj.expression.expression);\r\n                        break;\r\n        }*/\r\n\r\n  ret += \" { \";\r\n\r\n  if (command_obj.commands_block) {\r\n    for (let i = 0; i < command_obj.commands_block.length; i++) {\r\n      ret += commandsCode(command_obj.commands_block[i], indentation + 1);\r\n    }\r\n  }\r\n\r\n  ret += \"\\n\";\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += \"} \" + LocalizedStrings.getUI(\"text_else\") + \" {\";\r\n\r\n  if (command_obj.commands_else) {\r\n    for (let i = 0; i < command_obj.commands_else.length; i++) {\r\n      ret += commandsCode(command_obj.commands_else[i], indentation + 1);\r\n    }\r\n  }\r\n\r\n  ret += \"\\n\";\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += \"}\";\r\n\r\n  return ret;\r\n}\r\n\r\nfunction doWhilesCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_code_do\") + \" { \";\r\n\r\n  if (command_obj.commands_block) {\r\n    for (let i = 0; i < command_obj.commands_block.length; i++) {\r\n      ret += commandsCode(command_obj.commands_block[i], indentation + 1);\r\n    }\r\n  }\r\n\r\n  ret += \"\\n\";\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += \"} \" + LocalizedStrings.getUI(\"text_code_do_until\");\r\n\r\n  if (!command_obj.expression) {\r\n    Utils.renderErrorMessage(\r\n      command_obj.expression.dom_object,\r\n      LocalizedStrings.getUI(\"inform_valid_expression\")\r\n    );\r\n  }\r\n\r\n  /*switch (command_obj.expression.expression.type) {\r\n                case Models.EXPRESSION_TYPES.exp_logic:\r\n                        ret += logicExpressionCode(command_obj.expression.expression);\r\n                        break;\r\n                case Models.EXPRESSION_TYPES.exp_arithmetic:\r\n                        ret += arithmeticExpressionCode(command_obj.expression.expression);\r\n                        break;\r\n        }*/\r\n\r\n  if (command_obj.expression) {\r\n    ret += \" ( \";\r\n    ret += elementExpressionCode(command_obj.expression);\r\n    ret += \" ) \";\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction whiletruesCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_code_while\");\r\n\r\n  if (!command_obj.expression) {\r\n    Utils.renderErrorMessage(\r\n      command_obj.expression.dom_object,\r\n      LocalizedStrings.getUI(\"inform_valid_expression\")\r\n    );\r\n  }\r\n\r\n  /*switch (command_obj.expression.expression.type) {\r\n                case Models.EXPRESSION_TYPES.exp_logic:\r\n                        ret += logicExpressionCode(command_obj.expression.expression);\r\n                        break;\r\n                case Models.EXPRESSION_TYPES.exp_arithmetic:\r\n                        ret += arithmeticExpressionCode(command_obj.expression.expression);\r\n                        break;\r\n        }*/\r\n  if (command_obj.expression) {\r\n    ret += \" ( \";\r\n    ret += elementExpressionCode(command_obj.expression);\r\n    ret += \" ) \";\r\n  }\r\n\r\n  ret += \" { \";\r\n\r\n  if (command_obj.commands_block) {\r\n    for (let i = 0; i < command_obj.commands_block.length; i++) {\r\n      ret += commandsCode(command_obj.commands_block[i], indentation + 1);\r\n    }\r\n  }\r\n\r\n  ret += \"\\n\";\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += \"}\";\r\n\r\n  return ret;\r\n}\r\n\r\nfunction logicExpressionCode (expression) {\r\n  let ret = \" ( \";\r\n\r\n  if (expression.first_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\r\n    ret += logicExpressionCode(expression.first_operand);\r\n  } else if (\r\n    expression.first_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic\r\n  ) {\r\n    ret += arithmeticExpressionCode(expression.first_operand);\r\n  } else {\r\n    ret += variableValueMenuCode(expression.first_operand);\r\n  }\r\n\r\n  if (expression.operator) {\r\n    switch (expression.operator) {\r\n      case Models.LOGIC_COMPARISON.equals_to:\r\n        ret += \" == \";\r\n        break;\r\n      case Models.LOGIC_COMPARISON.not_equals_to:\r\n        ret += \" != \";\r\n        break;\r\n      case Models.LOGIC_COMPARISON.and:\r\n        ret += \" && \";\r\n        break;\r\n      case Models.LOGIC_COMPARISON.or:\r\n        ret += \" || \";\r\n        break;\r\n    }\r\n\r\n    if (expression.second_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\r\n      ret += logicExpressionCode(expression.second_operand);\r\n    } else if (\r\n      expression.second_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic\r\n    ) {\r\n      ret += arithmeticExpressionCode(expression.second_operand);\r\n    } else {\r\n      ret += variableValueMenuCode(expression.second_operand);\r\n    }\r\n  }\r\n\r\n  ret += \" ) \";\r\n\r\n  return ret;\r\n}\r\n\r\nfunction arithmeticExpressionCode (expression) {\r\n  let ret = \" ( \";\r\n\r\n  if (expression.first_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\r\n    ret += logicExpressionCode(expression.first_operand);\r\n  } else if (\r\n    expression.first_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic\r\n  ) {\r\n    ret += arithmeticExpressionCode(expression.first_operand);\r\n  } else {\r\n    ret += variableValueMenuCode(expression.first_operand);\r\n  }\r\n\r\n  switch (expression.operator) {\r\n    case Models.ARITHMETIC_COMPARISON.greater_than:\r\n      ret += \" > \";\r\n      break;\r\n    case Models.ARITHMETIC_COMPARISON.less_than:\r\n      ret += \" < \";\r\n      break;\r\n    case Models.ARITHMETIC_COMPARISON.equals_to:\r\n      ret += \" == \";\r\n      break;\r\n    case Models.ARITHMETIC_COMPARISON.not_equals_to:\r\n      ret += \" != \";\r\n      break;\r\n    case Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to:\r\n      ret += \" >= \";\r\n      break;\r\n    case Models.ARITHMETIC_COMPARISON.less_than_or_equals_to:\r\n      ret += \" <= \";\r\n      break;\r\n  }\r\n\r\n  if (expression.second_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\r\n    ret += logicExpressionCode(expression.second_operand);\r\n  } else if (\r\n    expression.second_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic\r\n  ) {\r\n    ret += arithmeticExpressionCode(expression.second_operand);\r\n  } else {\r\n    ret += variableValueMenuCode(expression.second_operand);\r\n  }\r\n\r\n  ret += \" ) \";\r\n\r\n  return ret;\r\n}\r\n\r\nfunction attributionsCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += variableValueMenuCode(command_obj.variable) + \" <- \";\r\n\r\n  /*for (var i = 0; i < command_obj.expression.length; i++) {\r\n                ret += elementExpressionCode(command_obj.expression[i]);\r\n        }*/\r\n  ret += elementExpressionCode(command_obj.expression);\r\n\r\n  return ret;\r\n}\r\n\r\nexport function elementExpressionCode (expression_obj) {\r\n  let ret = \"\";\r\n\r\n  for (let i = 0; i < expression_obj.length; i++) {\r\n    if (expression_obj[i].type) {\r\n      ret += variableValueMenuCode(expression_obj[i]);\r\n    } else if (expression_obj[i].type_op) {\r\n      switch (expression_obj[i].item) {\r\n        case Models.ARITHMETIC_TYPES.plus:\r\n          ret += \" + \";\r\n          break;\r\n        case Models.ARITHMETIC_TYPES.minus:\r\n          ret += \" - \";\r\n          break;\r\n        case Models.ARITHMETIC_TYPES.multiplication:\r\n          ret += \" * \";\r\n          break;\r\n        case Models.ARITHMETIC_TYPES.division:\r\n          ret += \" / \";\r\n          break;\r\n        case Models.ARITHMETIC_TYPES.module:\r\n          ret += \" % \";\r\n          break;\r\n\r\n        case Models.LOGIC_COMPARISON.equals_to:\r\n          ret += \" == \";\r\n          break;\r\n\r\n        case Models.LOGIC_COMPARISON.not_equals_to:\r\n          ret += \" != \";\r\n          break;\r\n\r\n        case Models.LOGIC_COMPARISON.and:\r\n          ret += \" \" + LocalizedStrings.getUI(\"logic_operator_and\") + \" \";\r\n          break;\r\n\r\n        case Models.LOGIC_COMPARISON.or:\r\n          ret += \" \" + LocalizedStrings.getUI(\"logic_operator_or\") + \" \";\r\n          break;\r\n\r\n        case Models.LOGIC_COMPARISON.not:\r\n          ret += \" \" + LocalizedStrings.getUI(\"logic_operator_not\") + \" \";\r\n          break;\r\n\r\n        case Models.ARITHMETIC_COMPARISON.greater_than:\r\n          ret += \" > \";\r\n          break;\r\n\r\n        case Models.ARITHMETIC_COMPARISON.less_than:\r\n          ret += \" < \";\r\n          break;\r\n\r\n        case Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to:\r\n          ret += \" >= \";\r\n          break;\r\n\r\n        case Models.ARITHMETIC_COMPARISON.less_than_or_equals_to:\r\n          ret += \" <= \";\r\n          break;\r\n        case Models.EXPRESSION_TYPES.write_sep:\r\n          ret += \", \";\r\n          break;\r\n      }\r\n    } else {\r\n      ret += \" \" + expression_obj[i] + \" \";\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction functioncallsCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += variableValueMenuCode(command_obj.function_called);\r\n\r\n  return ret;\r\n}\r\n\r\nfunction readersCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_command_read\") + \" ( \";\r\n\r\n  ret += variableValueMenuCode(command_obj.variable_value_menu);\r\n\r\n  ret += \" ) \";\r\n  return ret;\r\n}\r\n\r\nexport function variableValueMenuCode (variable_obj, is_return = false) {\r\n  let ret = \"\";\r\n  try {\r\n    if (variable_obj.function_called) {\r\n      if (variable_obj.function_called.name) {\r\n        ret += variable_obj.function_called.name + \" ( \";\r\n      } else {\r\n        ret +=\r\n          LocalizedStrings.translateInternalFunction(\r\n            variable_obj.function_called.identifier,\r\n            variable_obj.function_called.category\r\n          ) + \" ( \";\r\n      }\r\n\r\n      if (variable_obj.parameters_list) {\r\n        for (let i = 0; i < variable_obj.parameters_list.length; i++) {\r\n          ret += variableValueMenuCode(variable_obj.parameters_list[i]);\r\n          if (i + 1 < variable_obj.parameters_list.length) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n      }\r\n\r\n      ret += \" )\";\r\n    } else if (variable_obj.content.type) {\r\n      ret += variable_obj.content.name;\r\n\r\n      if (\r\n        variable_obj.content.dimensions == 1 &&\r\n        variable_obj.dimensions != 1\r\n      ) {\r\n        ret += \" [ \" + variableValueMenuCode(variable_obj.column) + \" ] \";\r\n      }\r\n\r\n      if (\r\n        variable_obj.content.dimensions == 2 &&\r\n        variable_obj.dimensions != 2\r\n      ) {\r\n        ret += \" [ \" + variableValueMenuCode(variable_obj.row) + \" ] \";\r\n        ret += \" [ \" + variableValueMenuCode(variable_obj.column) + \" ] \";\r\n      }\r\n    } else {\r\n      const content = String(variable_obj.content);\r\n      if (isNaN(content)) {\r\n        // console.debug(\"Content length: \", content.length);\r\n        // console.debug(\"Char code at 0\", content.charCodeAt(0));\r\n        const isBackslash = content.charCodeAt(0) === 92;\r\n        if (content.length === 1 || (content.length === 2 && isBackslash)) {\r\n          ret += `'${content}'`;\r\n        } else {\r\n          ret += '\"' + variable_obj.content + '\"';\r\n        }\r\n      } else if (content.length == 0) {\r\n        ret += '\"\"';\r\n      } else if (content.trim().length == 0) {\r\n        ret += '\"' + content + '\"';\r\n      } else {\r\n        ret += variable_obj.content;\r\n      }\r\n    }\r\n  } catch (err) {\r\n    if (!is_return) {\r\n      Utils.renderErrorMessage(\r\n        variable_obj.dom_object,\r\n        LocalizedStrings.getUI(\"inform_valid_content\")\r\n      );\r\n      throw err;\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction writersCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += LocalizedStrings.getUI(\"text_command_write\") + \" ( \";\r\n\r\n  /*for (var i = 0; i < command_obj.content.length; i++) {\r\n                ret += variableValueMenuCode(command_obj.content[i]);\r\n\r\n                if ((i + 1) < command_obj.content.length) {\r\n                        ret += ' + ';\r\n                }\r\n        }*/\r\n\r\n  ret += elementExpressionCode(command_obj.content);\r\n  if (command_obj.newline) {\r\n    ret += ', \"\\\\n\"';\r\n  }\r\n\r\n  ret += \" ) \";\r\n  return ret;\r\n}\r\n\r\nfunction commentsCode (command_obj, indentation) {\r\n  let ret = \"\\n\";\r\n\r\n  for (let i = 0; i < indentation; i++) {\r\n    ret += \"\\t\";\r\n  }\r\n\r\n  ret += \"// \";\r\n\r\n  ret += command_obj.comment_text.content;\r\n  return ret;\r\n}\r\n\r\nfunction parametersCode (parameter_obj) {\r\n  let ret = \"\";\r\n  switch (parameter_obj.type) {\r\n    case Types.INTEGER:\r\n      ret += \" \" + LocalizedStrings.getUI(\"type_integer\") + \" \";\r\n      break;\r\n    case Types.REAL:\r\n      ret += \" \" + LocalizedStrings.getUI(\"type_real\") + \" \";\r\n      break;\r\n    case Types.TEXT:\r\n      ret += \" \" + LocalizedStrings.getUI(\"type_text\") + \" \";\r\n      break;\r\n    case Types.BOOLEAN:\r\n      ret += \" \" + LocalizedStrings.getUI(\"type_boolean\") + \" \";\r\n      break;\r\n    case Types.CHAR:\r\n      ret += \" \" + LocalizedStrings.getUI(\"type_char\") + \" \";\r\n      break;\r\n  }\r\n  ret += parameter_obj.name + \"\";\r\n\r\n  if (parameter_obj.dimensions == 1) {\r\n    ret += \" []\";\r\n  } else if (parameter_obj.dimensions == 2) {\r\n    ret += \" [][]\";\r\n  }\r\n  return ret;\r\n}\r\n\r\nfunction variablesCode (variable_obj) {\r\n  let ret = \"\";\r\n\r\n  const temp = variable_obj;\r\n\r\n  ret += \"\\n\\t\\t\";\r\n\r\n  if (temp.is_constant) {\r\n    ret += \"const \";\r\n  }\r\n  switch (temp.type) {\r\n    case Types.INTEGER:\r\n      ret += LocalizedStrings.getUI(\"type_integer\") + \" \";\r\n      break;\r\n    case Types.REAL:\r\n      ret += LocalizedStrings.getUI(\"type_real\") + \" \";\r\n      break;\r\n    case Types.TEXT:\r\n      ret += LocalizedStrings.getUI(\"type_text\") + \" \";\r\n      break;\r\n    case Types.BOOLEAN:\r\n      ret += LocalizedStrings.getUI(\"type_boolean\") + \" \";\r\n      break;\r\n    case Types.CHAR:\r\n      ret += LocalizedStrings.getUI(\"type_char\") + \" \";\r\n      break;\r\n  }\r\n  ret += temp.name + \" \";\r\n\r\n  if (temp.dimensions == 1) {\r\n    ret += \"[\" + temp.columns + \"] \";\r\n\r\n    switch (temp.type) {\r\n      case Types.INTEGER:\r\n        ret += \"<- {\";\r\n        for (let j = 0; j < temp.value.length; j++) {\r\n          ret += temp.value[j];\r\n          if (j + 1 < temp.value.length) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n        ret += \"}\";\r\n        break;\r\n      case Types.REAL:\r\n        ret += \"<- {\";\r\n        for (let j = 0; j < temp.value.length; j++) {\r\n          ret += temp.value[j].toFixed(2);\r\n          if (j + 1 < temp.value.length) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n        ret += \"}\";\r\n        break;\r\n      case Types.TEXT:\r\n        ret += \"<- {\";\r\n        for (let j = 0; j < temp.value.length; j++) {\r\n          ret += '\"' + temp.value[j] + '\"';\r\n          if (j + 1 < temp.value.length) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n        ret += \"}\";\r\n        break;\r\n      case Types.BOOLEAN:\r\n        ret += \"<- {\";\r\n        for (let j = 0; j < temp.value.length; j++) {\r\n          if (temp.value[j]) {\r\n            ret += LocalizedStrings.getUI(\"logic_value_true\");\r\n          } else {\r\n            ret += LocalizedStrings.getUI(\"logic_value_false\");\r\n          }\r\n          if (j + 1 < temp.value.length) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n        ret += \"}\";\r\n        break;\r\n      case Types.CHAR:\r\n        ret += \"<- {\";\r\n        for (let j = 0; j < temp.value.length; j++) {\r\n          ret += \"'\" + temp.value[j] + \"'\";\r\n          if (j + 1 < temp.value.length) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n        ret += \"}\";\r\n        break;\r\n    }\r\n  } else if (temp.dimensions == 2) {\r\n    ret += \"[\" + temp.rows + \"][\" + temp.columns + \"] \";\r\n\r\n    switch (temp.type) {\r\n      case Types.INTEGER:\r\n        ret += \"<- {\";\r\n\r\n        for (let j = 0; j < temp.rows; j++) {\r\n          ret += \"{\";\r\n\r\n          for (let k = 0; k < temp.columns; k++) {\r\n            ret += temp.value[j][k];\r\n\r\n            if (k + 1 < temp.columns) {\r\n              ret += \", \";\r\n            }\r\n          }\r\n\r\n          ret += \"}\";\r\n          if (j + 1 < temp.rows) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n\r\n        ret += \"}\";\r\n        break;\r\n      case Types.REAL:\r\n        ret += \"<- {\";\r\n\r\n        for (let j = 0; j < temp.rows; j++) {\r\n          ret += \"{\";\r\n\r\n          for (let k = 0; k < temp.columns; k++) {\r\n            ret += temp.value[j][k].toFixed(2);\r\n\r\n            if (k + 1 < temp.columns) {\r\n              ret += \", \";\r\n            }\r\n          }\r\n\r\n          ret += \"}\";\r\n          if (j + 1 < temp.rows) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n\r\n        ret += \"}\";\r\n        break;\r\n      case Types.TEXT:\r\n        ret += \"<- {\";\r\n\r\n        for (let j = 0; j < temp.rows; j++) {\r\n          ret += \"{\";\r\n\r\n          for (let k = 0; k < temp.columns; k++) {\r\n            ret += '\"' + temp.value[j][k] + '\"';\r\n\r\n            if (k + 1 < temp.columns) {\r\n              ret += \", \";\r\n            }\r\n          }\r\n\r\n          ret += \"}\";\r\n          if (j + 1 < temp.rows) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n        ret += \"}\";\r\n        break;\r\n      case Types.BOOLEAN:\r\n        ret += \"<- {\";\r\n        for (let j = 0; j < temp.rows; j++) {\r\n          ret += \"{\";\r\n\r\n          for (let k = 0; k < temp.columns; k++) {\r\n            if (temp.value[j][k]) {\r\n              ret += LocalizedStrings.getUI(\"logic_value_true\");\r\n            } else {\r\n              ret += LocalizedStrings.getUI(\"logic_value_false\");\r\n            }\r\n\r\n            if (k + 1 < temp.columns) {\r\n              ret += \", \";\r\n            }\r\n          }\r\n\r\n          ret += \"}\";\r\n          if (j + 1 < temp.rows) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n        ret += \"}\";\r\n        break;\r\n      case Types.CHAR:\r\n        ret += \"<- {\";\r\n\r\n        for (let j = 0; j < temp.rows; j++) {\r\n          ret += \"{\";\r\n\r\n          for (let k = 0; k < temp.columns; k++) {\r\n            ret += \"'\" + temp.value[j][k] + \"'\";\r\n\r\n            if (k + 1 < temp.columns) {\r\n              ret += \", \";\r\n            }\r\n          }\r\n\r\n          ret += \"}\";\r\n          if (j + 1 < temp.rows) {\r\n            ret += \", \";\r\n          }\r\n        }\r\n        ret += \"}\";\r\n        break;\r\n    }\r\n  } else {\r\n    switch (temp.type) {\r\n      case Types.INTEGER:\r\n        ret += \"<- \" + temp.value;\r\n        break;\r\n      case Types.REAL:\r\n        ret += \"<- \" + temp.value.toFixed(2);\r\n        break;\r\n      case Types.TEXT:\r\n        ret += '<- \"' + temp.value + '\"';\r\n        break;\r\n      case Types.BOOLEAN:\r\n        ret += \"<- \";\r\n        if (temp.value) {\r\n          ret += LocalizedStrings.getUI(\"logic_value_true\");\r\n        } else {\r\n          ret += LocalizedStrings.getUI(\"logic_value_false\");\r\n        }\r\n        break;\r\n      case Types.CHAR:\r\n        ret += \"<- '\" + temp.value + \"'\";\r\n        break;\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n\r\nfunction globalsCode () {\r\n  let ret = \"\";\r\n\r\n  if (window.program_obj.globals) {\r\n    for (let i = 0; i < window.program_obj.globals.length; i++) {\r\n      const temp = window.program_obj.globals[i];\r\n\r\n      ret += \"\\n\\t\";\r\n\r\n      if (temp.is_constant) {\r\n        ret += \"const \";\r\n      }\r\n      switch (temp.type) {\r\n        case Types.INTEGER:\r\n          ret += LocalizedStrings.getUI(\"type_integer\");\r\n          break;\r\n        case Types.REAL:\r\n          ret += LocalizedStrings.getUI(\"type_real\");\r\n          break;\r\n        case Types.TEXT:\r\n          ret += LocalizedStrings.getUI(\"type_text\");\r\n          break;\r\n        case Types.BOOLEAN:\r\n          ret += LocalizedStrings.getUI(\"type_boolean\");\r\n          break;\r\n        case Types.CHAR:\r\n          ret += LocalizedStrings.getUI(\"type_char\");\r\n          break;\r\n      }\r\n      ret += \" \" + temp.name + \" \";\r\n\r\n      if (temp.dimensions == 1) {\r\n        ret += \"[\" + temp.columns + \"] \";\r\n\r\n        switch (temp.type) {\r\n          case Types.INTEGER:\r\n            ret += \"<- {\";\r\n            for (let j = 0; j < temp.value.length; j++) {\r\n              ret += temp.value[j];\r\n              if (j + 1 < temp.value.length) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n            ret += \"}\";\r\n            break;\r\n          case Types.REAL:\r\n            ret += \"<- {\";\r\n            for (let j = 0; j < temp.value.length; j++) {\r\n              ret += temp.value[j].toFixed(2);\r\n              if (j + 1 < temp.value.length) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n            ret += \"}\";\r\n            break;\r\n          case Types.TEXT:\r\n            ret += \"<- {\";\r\n            for (let j = 0; j < temp.value.length; j++) {\r\n              ret += '\"' + temp.value[j] + '\"';\r\n              if (j + 1 < temp.value.length) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n            ret += \"}\";\r\n            break;\r\n          case Types.BOOLEAN:\r\n            ret += \"<- {\";\r\n            for (let j = 0; j < temp.value.length; j++) {\r\n              if (temp.value[j]) {\r\n                ret += LocalizedStrings.getUI(\"logic_value_true\");\r\n              } else {\r\n                ret += LocalizedStrings.getUI(\"logic_value_false\");\r\n              }\r\n              if (j + 1 < temp.value.length) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n            ret += \"}\";\r\n            break;\r\n          case Types.CHAR:\r\n            ret += \"<- {\";\r\n            for (let j = 0; j < temp.value.length; j++) {\r\n              ret += \"'\" + temp.value[j] + \"'\";\r\n              if (j + 1 < temp.value.length) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n            ret += \"}\";\r\n            break;\r\n        }\r\n      } else if (temp.dimensions == 2) {\r\n        ret += \"[\" + temp.rows + \"][\" + temp.columns + \"] \";\r\n\r\n        switch (temp.type) {\r\n          case Types.INTEGER:\r\n            ret += \"<- {\";\r\n\r\n            for (let j = 0; j < temp.rows; j++) {\r\n              ret += \"{\";\r\n\r\n              for (let k = 0; k < temp.columns; k++) {\r\n                ret += temp.value[j][k];\r\n\r\n                if (k + 1 < temp.columns) {\r\n                  ret += \", \";\r\n                }\r\n              }\r\n\r\n              ret += \"}\";\r\n              if (j + 1 < temp.rows) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n\r\n            ret += \"}\";\r\n            break;\r\n          case Types.REAL:\r\n            ret += \"<- {\";\r\n\r\n            for (let j = 0; j < temp.rows; j++) {\r\n              ret += \"{\";\r\n\r\n              for (let k = 0; k < temp.columns; k++) {\r\n                ret += temp.value[j][k].toFixed(2);\r\n\r\n                if (k + 1 < temp.columns) {\r\n                  ret += \", \";\r\n                }\r\n              }\r\n\r\n              ret += \"}\";\r\n              if (j + 1 < temp.rows) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n\r\n            ret += \"}\";\r\n            break;\r\n          case Types.TEXT:\r\n            ret += \"<- {\";\r\n\r\n            for (let j = 0; j < temp.rows; j++) {\r\n              ret += \"{\";\r\n\r\n              for (let k = 0; k < temp.columns; k++) {\r\n                ret += '\"' + temp.value[j][k] + '\"';\r\n\r\n                if (k + 1 < temp.columns) {\r\n                  ret += \", \";\r\n                }\r\n              }\r\n\r\n              ret += \"}\";\r\n              if (j + 1 < temp.rows) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n            ret += \"}\";\r\n            break;\r\n          case Types.BOOLEAN:\r\n            ret += \"<- {\";\r\n            for (let j = 0; j < temp.rows; j++) {\r\n              ret += \"{\";\r\n\r\n              for (let k = 0; k < temp.columns; k++) {\r\n                if (temp.value[j][k]) {\r\n                  ret += LocalizedStrings.getUI(\"logic_value_true\");\r\n                } else {\r\n                  ret += LocalizedStrings.getUI(\"logic_value_false\");\r\n                }\r\n\r\n                if (k + 1 < temp.columns) {\r\n                  ret += \", \";\r\n                }\r\n              }\r\n\r\n              ret += \"}\";\r\n              if (j + 1 < temp.rows) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n            ret += \"}\";\r\n            break;\r\n          case Types.CHAR:\r\n            ret += \"<- {\";\r\n\r\n            for (let j = 0; j < temp.rows; j++) {\r\n              ret += \"{\";\r\n\r\n              for (let k = 0; k < temp.columns; k++) {\r\n                ret += \"'\" + temp.value[j][k] + \"'\";\r\n\r\n                if (k + 1 < temp.columns) {\r\n                  ret += \", \";\r\n                }\r\n              }\r\n\r\n              ret += \"}\";\r\n              if (j + 1 < temp.rows) {\r\n                ret += \", \";\r\n              }\r\n            }\r\n            ret += \"}\";\r\n            break;\r\n        }\r\n      } else {\r\n        switch (temp.type) {\r\n          case Types.INTEGER:\r\n            ret += \"<- \" + temp.value;\r\n            break;\r\n          case Types.REAL:\r\n            ret += \"<- \" + temp.value.toFixed(2);\r\n            break;\r\n          case Types.TEXT:\r\n            ret += '<- \"' + temp.value + '\"';\r\n            break;\r\n          case Types.BOOLEAN:\r\n            ret += \"<- \";\r\n            if (temp.value) {\r\n              ret += LocalizedStrings.getUI(\"logic_value_true\");\r\n            } else {\r\n              ret += LocalizedStrings.getUI(\"logic_value_false\");\r\n            }\r\n            break;\r\n          case Types.CHAR:\r\n            ret += \"<- '\" + temp.value + \"'\";\r\n            break;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return ret;\r\n}\r\n","import * as Models from './ivprog_elements';\r\nimport { LocalizedStrings } from './../services/localizedStringsService';\r\nimport * as CommentsManagement from './commands/comment';\r\nimport * as ReadersManagement from './commands/reader';\r\nimport * as WritersManagement from './commands/writer';\r\nimport * as AttributionsManagement from './commands/attribution';\r\nimport * as IftruesManagement from './commands/iftrue';\r\nimport * as RepeatNtimesManagement from './commands/repeatNtimes';\r\nimport * as WhiletruesManagement from './commands/whiletrue';\r\nimport * as DowhiletruesManagement from './commands/dowhiletrue';\r\nimport * as SwitchesManagement from './commands/switch';\r\nimport * as FunctioncallsManagement from './commands/functioncall';\r\nimport * as VariableValueMenuManagement from './commands/variable_value_menu';\r\nimport * as BreaksManagement from './commands/break';\r\nimport * as ReturnsManagement from './commands/return';\r\nimport { registerUserEvent, ActionTypes } from \"./../services/userLog\";\r\n\r\n// let has_element_created_draged = false;\r\n// let which_element_is_draged = null;\r\n\r\nexport function removeCommand (command, function_obj, dom_obj) {\r\n\r\n\tregisterUserEvent(function_obj.name, ActionTypes.REMOVE_COMMAND, command.type, '/', 0);\r\n\r\n\tif (function_obj.commands.indexOf(command) > -1) {\r\n\t\tfunction_obj.commands.splice(function_obj.commands.indexOf(command), 1);\r\n\t\treturn true;\r\n\t}\r\n\r\n\t// Utilize dois parantNode, pois o primeiro  o div de comandos\r\n\ttry {\r\n\t\tif (dom_obj.parent().parent().data('command').commands_block.indexOf(command) > -1) {\r\n\t\t\tdom_obj.parent().parent().data('command').commands_block.splice\r\n\t\t\t(dom_obj.parent().parent().data('command').commands_block.indexOf(command), 1);\r\n\t\t\treturn true;\r\n\t\t}\t\r\n\t} catch (err) {}\r\n\t\r\n\ttry {\r\n\t\tif (dom_obj.parent().parent().data('command').type == Models.COMMAND_TYPES.iftrue) {\r\n\t\t\tif (dom_obj.parent().parent().data('command').commands_else.indexOf(command) > -1) {\r\n\t\t\t\tdom_obj.parent().parent().data('command').commands_else.splice\r\n\t\t\t\t(dom_obj.parent().parent().data('command').commands_else.indexOf(command), 1);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t} catch (err) {}\r\n\r\n\tif (dom_obj.parent().data('switchcase')) {\r\n\t\tdom_obj.parent().data('switchcase').commands_block.splice(dom_obj.parent().data('switchcase').commands_block.indexOf(command), 1);\r\n\t\treturn true;\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nwindow.function_container_active = null;\r\n\r\nexport function createFloatingCommand (function_obj, function_container, command_type, mouse_event) {\r\n\r\n\tvar floatingObject;\r\n\r\n\tswitch (command_type) {\r\n\t\tcase Models.COMMAND_TYPES.break:\r\n\t\t\tfloatingObject = BreaksManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.comment:\r\n\t\t\tfloatingObject = CommentsManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.reader:\r\n\t\t\tfloatingObject = ReadersManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.writer:\r\n\t\t\tfloatingObject = WritersManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.attribution:\r\n\t\t\tfloatingObject = AttributionsManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.iftrue:\r\n\t\t\tfloatingObject = IftruesManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.repeatNtimes:\r\n\t\t\tfloatingObject = RepeatNtimesManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.whiletrue:\r\n\t\t\tfloatingObject = WhiletruesManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.dowhiletrue:\r\n\t\t\tfloatingObject = DowhiletruesManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.switch:\r\n\t\t\tfloatingObject = SwitchesManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.functioncall:\r\n\t\t\tfloatingObject = FunctioncallsManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.return:\r\n\t\t\tfloatingObject = ReturnsManagement.createFloatingCommand();\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\tfloatingObject.draggable().appendTo(\"body\");\r\n\r\n\t$('body').mouseup(function(evt) {\r\n\t  manageCommand(function_obj, function_container, evt, command_type);\r\n\t  $('body').off('mouseup');\r\n\t  $('body').off('mouseover');\r\n\t});\r\n\r\n\tif (!function_container.hasClass('function_div') || function_container.length < 1) {\r\n\t\twindow.mouse_event = mouse_event;\r\n\t\tfunction_container = $(mouse_event.originalEvent.srcElement.closest('.function_div'));\r\n\t}\r\n\r\n\tfunction_container_active = function_container;\r\n\r\n\tfunction_container.find('.commands_list_div').on('mousemove', function(evt) {\r\n\t  addGhostDiv(evt);\r\n\t});\r\n\tfunction_container.find('.commands_list_div').find(\"*\").on('mousemove', function(evt) {\r\n\t  addGhostDiv(evt);\r\n\t});\r\n\r\n\tfunction_container.on('mouseout', function(event) {\r\n\t\tvar el = $(document.elementFromPoint(event.clientX, event.clientY));\r\n\t\tif (el.closest('.commands_list_div').length < 1) {\r\n\t\t\twindow.ghostDiv.remove();\r\n\t\t}\r\n\t});\r\n\t\r\n\tfloatingObject.css(\"position\", \"absolute\");\r\n\tmouse_event.type = \"mousedown.draggable\";\r\n\tmouse_event.target = floatingObject[0];\r\n\tfloatingObject.css(\"left\", mouse_event.pageX - window.divx);\r\n\tfloatingObject.css(\"top\", mouse_event.pageY);\r\n\tfloatingObject.trigger(mouse_event);\r\n}\r\n\r\nwindow.divx = 100;\r\nwindow.ghostDiv = $('<div class=\"ghost_div\">');\r\nwindow.active_container = null;\r\n\r\nfunction addGhostToEmptyBlock (element, evt) {\r\n\r\n\t$('.ghost_div').remove();\r\n\r\n\tvar container = element.closest('.command_container');\r\n\r\n\tif (container.hasClass('switch')) {\r\n\t\tcontainer = $(evt.target).closest('.case_div');\t\t\r\n\t}\r\n\r\n\tif (!container.hasClass('dowhiletrue') && !container.hasClass('iftrue') && !container.hasClass('repeatNtimes') \r\n\t\t\t\t&& !container.hasClass('case_div') && !container.hasClass('whiletrue')) {\r\n\t\taddGhostToNotEmptyBlock(element, evt);\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (window.active_container != null) {\r\n\t\tif (window.active_container.is(container)) {\r\n\t\t\t//console.log(' o mesmo, no mudou!');\r\n\t\t} else {\r\n\t\t\tif (container.length < 1) {\r\n\t\t\t\tcontainer = element.closest('.commands_list_div');\r\n\t\t\t\tif (window.active_container.is(container)) {\r\n\t\t\t\t\t//console.log(' o mesmo command list');\r\n\t\t\t\t} else {\r\n\t\t\t\t\t//console.log('mudou para um command list');\r\n\t\t\t\t\twindow.active_container = container;\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\t//console.log('mudou para um outro container?');\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\twindow.active_container = container;\r\n\tif (container.hasClass('iftrue')) {\r\n\t\tvar containerIf = container.find('.commands_if').get(0);\r\n\t\tvar containerElse = container.find('.commands_else').get(0);\r\n\t\tvar topIfDistance = Math.abs(evt.clientY - containerIf.getBoundingClientRect().top);\r\n\t\tvar bottomIfDistance = Math.abs(containerIf.getBoundingClientRect().top + containerIf.getBoundingClientRect().height - evt.clientY);\r\n\t\tvar topElseDistance = Math.abs(evt.clientY - containerElse.getBoundingClientRect().top);\r\n\t\tvar bottomElseDistance = Math.abs(containerElse.getBoundingClientRect().top + containerElse.getBoundingClientRect().height - evt.clientY);\r\n\r\n\t\tif (topIfDistance < topElseDistance && topIfDistance < bottomElseDistance) {\r\n\t\t\t$(containerIf).append(window.ghostDiv);\r\n\t\t} else {\r\n\t\t\t$(containerElse).append(window.ghostDiv);\r\n\t\t}\r\n\t} else if (container.hasClass('case_div')) {\r\n\t\tcontainer.find('.case_commands_block').append(window.ghostDiv);\r\n\t} else {\r\n\t\tcontainer.find('.block_commands').append(window.ghostDiv);\r\n\t}\r\n\t\r\n}\r\n\r\nfunction addGhostToNotEmptyBlock (element, evt) {\r\n\r\n\t$('.ghost_div').remove();\r\n\r\n\tvar container = element.closest('.dowhiletrue, .iftrue, .repeatNtimes, .case_div, .whiletrue');\r\n\r\n\t//console.log(\"\\n\\nNOT EMPTY: \", container);\r\n\r\n\t//if (window.active_container != null) {\r\n\t\t\r\n\t\t\r\n\t//}\r\n\r\n\tif (container.length < 1) {\r\n\t\tcontainer = element.closest('.commands_list_div');\r\n\t\twindow.active_container = container;\r\n\t\taddGhostToFunctionArea(element, evt);\r\n\t} else {\r\n\t\t//console.log('mudou para um outro container?');\r\n\t}\r\n\r\n\twindow.active_container = container;\r\n\r\n\t// quem est mais prximo? // Essa regra se aplica somente quando o over est sobre um comando\r\n\tvar allfilhos;\r\n\tif (container.hasClass('iftrue')) {\r\n\t\t\r\n\t\tif ($(evt.target).closest('.data_block_if').length > 0) {\r\n\t\t\tallfilhos = container.find('.commands_if').children('.command_container');\r\n\t\t} else if ($(evt.target).closest('.data_block_else').length > 0) {\r\n\t\t\tallfilhos = container.find('.commands_else').children('.command_container');\r\n\t\t} else {\r\n\r\n\t\t\tvar containerIf = container.find('.commands_if').get(0);\r\n\t\t\tvar containerElse = container.find('.commands_else').get(0);\r\n\t\t\tvar topIfDistance = Math.abs(evt.clientY - containerIf.getBoundingClientRect().top);\r\n\t\t\tvar bottomIfDistance = Math.abs(containerIf.getBoundingClientRect().top + containerIf.getBoundingClientRect().height - evt.clientY);\r\n\t\t\tvar topElseDistance = Math.abs(evt.clientY - containerElse.getBoundingClientRect().top);\r\n\t\t\tvar bottomElseDistance = Math.abs(containerElse.getBoundingClientRect().top + containerElse.getBoundingClientRect().height - evt.clientY);\r\n\r\n\t\t\tif (topIfDistance < topElseDistance && topIfDistance < bottomElseDistance) {\r\n\t\t\t\tallfilhos = $(containerIf).children('.command_container');\r\n\t\t\t} else {\r\n\t\t\t\tallfilhos = $(containerElse).children('.command_container');\r\n\t\t\t}\r\n\t\t}\r\n\t} else if (container.hasClass('case_div')) {\r\n\t\tallfilhos = container.children('.case_commands_block').children('.command_container');\r\n\t} else if (container.hasClass('commands_list_div')) {\r\n\t\tallfilhos = container.children('.command_container');\r\n\t} else {\r\n\t\tallfilhos = container.children('.block_commands').children('.command_container');\r\n\t}\r\n\r\n\tvar topDistances = [];\r\n\tvar bottomDistances = [];\r\n\r\n\tfor (var i = 0; i < allfilhos.length; i++) {\r\n\t\tvar topD = Math.abs(evt.clientY - allfilhos.get(i).getBoundingClientRect().top);\r\n\t\ttopDistances.push(topD);\r\n\t\tvar botD = Math.abs(allfilhos.get(i).getBoundingClientRect().top + allfilhos.get(i).getBoundingClientRect().height - evt.clientY);\r\n\t\tbottomDistances.push(botD);\r\n\t}\r\n\r\n\tvar menorTop = Math.min.apply(null, topDistances);\r\n\tvar indiceTop = topDistances.indexOf(menorTop);\r\n\r\n\tvar menorBot = Math.min.apply(null, bottomDistances);\r\n\tvar indiceBot = bottomDistances.indexOf(menorBot);\r\n\r\n\tif (menorTop < menorBot) {\r\n\t\twindow.ghostDiv.insertBefore($(allfilhos.get(indiceTop)));\r\n\t} else {\r\n\t\twindow.ghostDiv.insertAfter($(allfilhos.get(indiceBot)));\r\n\t}\r\n}\r\n\r\nfunction addGhostToFunctionArea (undermouse, evt) {\r\n\t$('.ghost_div').remove();\r\n\tvar allfilhos = undermouse.closest('.commands_list_div').children('.command_container');\r\n\r\n\tvar topDistances = [];\r\n\tvar bottomDistances = [];\r\n\r\n\tfor (var i = 0; i < allfilhos.length; i++) {\r\n\t\tvar topD = Math.abs(evt.clientY - allfilhos.get(i).getBoundingClientRect().top);\r\n\t\ttopDistances.push(topD);\r\n\t\tvar botD = Math.abs(allfilhos.get(i).getBoundingClientRect().top + allfilhos.get(i).getBoundingClientRect().height - evt.clientY);\r\n\t\tbottomDistances.push(botD);\r\n\t}\r\n\r\n\tvar menorTop = Math.min.apply(null, topDistances);\r\n\tvar indiceTop = topDistances.indexOf(menorTop);\r\n\r\n\tvar menorBot = Math.min.apply(null, bottomDistances);\r\n\tvar indiceBot = bottomDistances.indexOf(menorBot);\r\n\r\n\tif (menorTop < menorBot) {\r\n\t\twindow.ghostDiv.insertBefore($(allfilhos.get(indiceTop)));\r\n\t} else {\r\n\t\twindow.ghostDiv.insertAfter($(allfilhos.get(indiceBot)));\r\n\t}\r\n\r\n}\r\n\r\nfunction addGhostDiv (evt) {\r\n\r\n\tvar undermouse = $(evt.target);\r\n\r\n\tif (undermouse.hasClass('ghost_div')) {\r\n\t\treturn;\r\n\t} else if (undermouse.hasClass('commands_list_div')) {\r\n\t\taddGhostToFunctionArea(undermouse, evt);\r\n\t\treturn;\r\n\t} else if (undermouse.hasClass('block_commands')) {\r\n\t\tif (undermouse.find('.command_container').length > 0) {\r\n\t\t\taddGhostToNotEmptyBlock(undermouse, evt);\r\n\t\t} else {\r\n\t\t\taddGhostToEmptyBlock(undermouse, evt);\r\n\t\t}\r\n\t} else if (undermouse.hasClass('case_div')) {\r\n\t\tif (undermouse.find('.case_commands_block').find('.command_container').length > 0) {\r\n\t\t\taddGhostToNotEmptyBlock(undermouse, evt);\r\n\t\t} else {\r\n\t\t\taddGhostToEmptyBlock(undermouse, evt);\r\n\t\t}\r\n\t} else {\r\n\t\t\r\n\t\taddGhostToNotEmptyBlock(undermouse, evt);\r\n\t\t\r\n\t} \r\n}\r\n\r\nfunction borderMouseDragCommand (function_obj, function_container, evt) {\r\n\r\n\tfunction_container.find('.over_command_drag').each(function( index ) {\r\n\t\t$(this).removeClass('over_command_drag');\r\n\t});\r\n\r\n\tvar prev = null;\r\n\r\n\tfunction_container.find('.commands_list_div').each(function( index ) { \r\n\t\tprev = $(this);\r\n\t\tif (prev) {\r\n\t\t\tvar objLeft = prev.offset().left;\r\n\t        var objTop = prev.offset().top;\r\n\t        var objRight = objLeft + prev.width();\r\n\t        var objBottom = objTop + prev.height();\r\n\t        if (evt.pageX > objLeft && evt.pageX < objRight && evt.pageY > objTop && evt.pageY < objBottom) {\r\n\t        \tprev.addClass(\"over_command_drag\"); \r\n\t        }\r\n\t    }\r\n\t});\r\n\r\n\tfunction_container.find('.command_container').each(function( index ) { \r\n\t\tvar obj = $(this);\r\n\t\tvar objLeft = obj.offset().left;\r\n        var objTop = obj.offset().top;\r\n        var objRight = objLeft + obj.width();\r\n        var objBottom = objTop + obj.height();\r\n        if (evt.pageX > objLeft && evt.pageX < objRight && evt.pageY > objTop && evt.pageY < objBottom) {\r\n        \tif (prev) {\r\n        \t\tprev.removeClass('over_command_drag');\r\n        \t}\r\n        \tobj.addClass(\"over_command_drag\"); \r\n        \treturn;\r\n        }\r\n\t});\r\n}\r\n\r\n// before_after_inside: 1 -> before, 2 -> after, 3 -> inside\r\nexport function renderCommand (command, element_reference, before_after_inside, function_obj) {\r\n\tvar createdElement;\r\n\tswitch (command.type) {\r\n\t\tcase Models.COMMAND_TYPES.comment:\r\n\t\t\tcreatedElement = CommentsManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.break:\r\n\t\t\tcreatedElement = BreaksManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.reader:\r\n\t\t\tcreatedElement = ReadersManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.writer:\r\n\t\t\tcreatedElement = WritersManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.attribution:\r\n\t\t\tcreatedElement = AttributionsManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.functioncall:\r\n\t\t\tcreatedElement = FunctioncallsManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.iftrue:\r\n\t\t\tcreatedElement = IftruesManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.repeatNtimes:\r\n\t\t\tcreatedElement = RepeatNtimesManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.whiletrue:\r\n\t\t\tcreatedElement = WhiletruesManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.dowhiletrue:\r\n\t\t\tcreatedElement = DowhiletruesManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.switch:\r\n\t\t\tcreatedElement = SwitchesManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.COMMAND_TYPES.return:\r\n\t\t\tcreatedElement = ReturnsManagement.renderCommand(command, function_obj);\r\n\t\t\tbreak;\r\n\t}\r\n\tswitch (before_after_inside) {\r\n\t\tcase 1:\r\n\t\t\tcreatedElement.insertBefore(element_reference);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 2:\r\n\t\t\tcreatedElement.insertAfter(element_reference);\r\n\t\t\tbreak;\r\n\r\n\t\tcase 3: \r\n\t\t\telement_reference.append(createdElement);\r\n\t\t\tbreak;\r\n\t}\r\n\r\n}\r\n\r\nexport function genericCreateCommand (command_type) {\r\n\r\n\tswitch (command_type) {\r\n\r\n\t\tcase Models.COMMAND_TYPES.break:\r\n\t\t\treturn new Models.Break();\r\n\r\n\t\tcase Models.COMMAND_TYPES.comment:\r\n\t\t\treturn new Models.Comment(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_value, LocalizedStrings.getUI('text_comment'), null, null, false));\r\n\r\n\t\tcase Models.COMMAND_TYPES.reader:\r\n\t\t\treturn new Models.Reader(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false));\r\n\r\n\t\tcase Models.COMMAND_TYPES.writer:\r\n\t\t\treturn new Models.Writer([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\r\n\r\n\t\tcase Models.COMMAND_TYPES.attribution:\r\n\t\t\treturn new Models.Attribution(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false), \r\n\t\t\t\t[]);\r\n \r\n\t\tcase Models.COMMAND_TYPES.functioncall:\r\n\t\t\treturn new Models.FunctionCall(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_function, null, null, null, false), null);\r\n\r\n\t\tcase Models.COMMAND_TYPES.iftrue:\r\n\t\t\treturn new Models.IfTrue([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\r\n//(var_attribution, var_incrementation, expression1, expression2, expression3, commands_block)\r\n\t\tcase Models.COMMAND_TYPES.repeatNtimes:\r\n\t\t\treturn new Models.RepeatNTimes(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false), \r\n\t\t\t\t\t\t\t\t\t\t\tnew Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.only_variable, null, null, null, false),\r\n\t\t\t\t\t\t\t\t\t\t     null, new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true), null, null);\r\n\r\n\t\tcase Models.COMMAND_TYPES.whiletrue:\r\n\t\t\treturn new Models.WhileTrue([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)], null);\r\n\r\n\t\tcase Models.COMMAND_TYPES.dowhiletrue:\r\n\t\t\treturn new Models.DoWhileTrue([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)], null);\r\n\r\n\t\tcase Models.COMMAND_TYPES.switch:\r\n\r\n\t\t\tvar sc = [new Models.SwitchCase(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true))];\r\n\r\n\t\t\treturn new Models.Switch(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true), sc);\r\n\r\n\t\tcase Models.COMMAND_TYPES.return:\r\n\t\t\treturn new Models.Return([new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\r\n\t}\r\n}\r\n\r\nfunction dragTrash (event) {\r\n\r\n\t$('.ghost_div').remove();\r\n\r\n\tvar trash = $('<i class=\"ui icon trash alternate outline\"></i>');\r\n\t$('body').append(trash);\r\n\ttrash.css('position', 'absolute');\r\n\ttrash.css('top', event.clientY);\r\n\ttrash.css('left', event.clientX - 20);\r\n\ttrash.css('font-size', '3em');\r\n\ttrash.css('display', 'none');\r\n\r\n\tfunction_container_active.find('.commands_list_div').off('mousemove');\r\n\tfunction_container_active.find('.commands_list_div').find(\"*\").off('mousemove');\r\n\r\n\ttrash.fadeIn( 200, function() {\r\n\t\ttrash.fadeOut( 200, function() {\r\n\t\t\ttrash.remove();\r\n\t\t} );\r\n    });\r\n}\r\n\r\nfunction findSingleElement (searching, query) {\r\n\r\n\tif (!searching || !query) {\r\n\t\treturn '';\r\n\t}\r\n\r\n\tif (searching.type == Models.COMMAND_TYPES.repeatNtimes || \r\n\t\tsearching.type == Models.COMMAND_TYPES.whiletrue ||\r\n\t\tsearching.type == Models.COMMAND_TYPES.dowhiletrue) {\r\n\r\n\t\tif (searching.commands_block) {\r\n\t\t\treturn '' + searching.commands_block.indexOf(query);\r\n\t\t} else {\r\n\t\t\treturn '0';\r\n\t\t}\r\n\r\n\t} else if (searching.type == Models.COMMAND_TYPES.iftrue) {\r\n\r\n\t\tif (searching.commands_block == null) {\r\n\t\t\tsearching.commands_block = [];\r\n\t\t}\r\n\t\tif (searching.commands_else == null) {\r\n\t\t\tsearching.commands_else = [];\r\n\t\t}\r\n\r\n\t\tif (searching.commands_block.indexOf(query) >= 0) {\r\n\t\t\treturn 'if[' + searching.commands_block.indexOf(query) + ']';\r\n\t\t} else {\r\n\t\t\treturn 'else[' + searching.commands_else.indexOf(query) + ']';\r\n\t\t}\r\n\r\n\t} else if (searching.type == Models.COMMAND_TYPES.switch) {\r\n\r\n\t\tfor (var i = 0; i < searching.cases.length; i++) {\r\n\t\t\tif (searching.cases[i].commands_block.indexOf(query) >= 0) {\r\n\t\t\t\treturn 'case[' + searching.cases[i].commands_block.indexOf(query) + ']';\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t}\r\n\r\n}\r\n\r\nfunction findPathRecursive (starter_index, hierarquia_bottom_up, function_obj, index_command = -1, actual = null) {\r\n\tvar full_path = '';\r\n\t\r\n\tfor (var i = 0; i <= hierarquia_bottom_up.length; i ++) {\r\n\t\tfull_path += findSingleElement(hierarquia_bottom_up[i], hierarquia_bottom_up[i + 1]) + '-';\r\n\t}\r\n\r\n\treturn full_path;\r\n}\r\n\r\nfunction manageCommand (function_obj, function_container, event, command_type) {\r\n\r\n\t$( \".created_element\" ).each(function( index ) { \r\n\t\t$(this).remove();\r\n\t});\r\n\r\n\tvar el = $(document.elementFromPoint(event.clientX, event.clientY));\r\n\r\n\tif (el.hasClass('ghost_div')) {\r\n\t\tif (el.closest('.command_container').length < 1) {\r\n\t\t\t\r\n\t\t\tel.closest('.commands_list_div').css('height', el.closest('.commands_list_div').css('height') + 30);\r\n\t\t\t\r\n\t\t\t//$('.ghost_div').remove();\r\n\r\n\t\t\tel = el.closest('.commands_list_div');\r\n\t\t}\r\n\t}\r\n\r\n\t// Primeiro verificar se ele soltou no espao da funo correta:\r\n\tvar hier = el.parentsUntil(\".all_functions\");\r\n\tvar esta_correto = false;\r\n\tvar esta_na_div_correta = false;\r\n\tif (el.hasClass(\"commands_list_div\")) {\r\n\t\testa_na_div_correta = true;\r\n\t} \r\n\tfor (var i = 0; i < hier.length; i++) {\r\n\t\tvar temp = $(hier[i]);\r\n\t\tif (temp.hasClass(\"commands_list_div\")) {\r\n\t\t\testa_na_div_correta = true;\r\n\t\t} \r\n\t\tif (temp.data('fun') == function_obj) {\r\n\t\t\testa_correto = true;\r\n\t\t\tbreak;\r\n\t\t}\r\n\t}\r\n\tif (!esta_correto) {\r\n\t\t// has_element_created_draged = false;\r\n\t\t// which_element_is_draged = null;\r\n\t\tdragTrash(event);\r\n\t\treturn;\r\n\t} else {\r\n\t\tif (!esta_na_div_correta) {\r\n\t\t\t// has_element_created_draged = false;\r\n\t\t\t// which_element_is_draged = null;\r\n\t\t\tdragTrash(event);\r\n\t\t\treturn;\r\n\t\t}\r\n\t}\r\n\tvar hierarquia_bottom_up = null;\r\n\t// Agora  descobrir qual o escopo para adicionar o comando:\r\n\t// Se o elemento clicado possuir o atributo \"fun\", ento,  direto na div dos comandos:\r\n\tif (typeof el.data('fun') !== 'undefined') {\r\n\r\n\t\t// Se a lista de comandos estiver vazia, ento  o primeiro.\r\n\t\t// Portanto, ele deve soltar o elemento obrigatoriamente no objeto vazio\r\n\t\tif ((el.data('fun').commands == null)  || (el.data('fun').commands.length == 0)) {\r\n\t\t\t\t// pode adicionar \r\n\t\t\t\tel.data('fun').commands = [];\r\n\r\n\t\t\t\tvar new_cmd = genericCreateCommand(command_type);\r\n\t\t\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', 0);\r\n\r\n\t\t\t\tel.data('fun').commands.push(new_cmd);\r\n\r\n\t\t\t\trenderCommand(new_cmd, $(function_container).find('.commands_list_div'), 3, function_obj);\r\n\t\t\t\r\n\t\t} else { // Entra nesse else, caso j existam outros comandos no bloco:\r\n\r\n\t\t\tfindNearbyCommandToAddInFunctionScope(el, event, $(function_container).find('.commands_list_div'), function_obj, command_type);\r\n\t\t}\r\n\r\n\t} else {\r\n\t\t// descobrir em qual comando ele soltou: \r\n\t\tvar hier_find = el.parentsUntil(\".commands_list_div\");\r\n\t\thierarquia_bottom_up = [];\r\n\t\tif (typeof el.data('command') !== 'undefined') {\r\n\t\t\thierarquia_bottom_up.push(el.data('command'));\r\n\t\t}\r\n\t\tfor (var i = 0; i < hier_find.length; i++) {\r\n\t\t\tif (typeof $(hier_find[i]).data('command') !== 'undefined') {\r\n\t\t\t\thierarquia_bottom_up.push($(hier_find[i]).data('command'));\r\n\t\t\t}\r\n\t\t}\r\n\t\t\r\n\t\t// Se for do tipo break, verificar se est no contexto correto: \r\n\t\t// Caso no esteja no contexto, apenas retorna sem dar continuidade:\r\n\t\tvar is_correct_context = false;\r\n\t\tif (command_type == Models.COMMAND_TYPES.break) {\r\n\t\t\tfor (var i = 0; i < hierarquia_bottom_up.length; i++) {\r\n\t\t\t\tif ((hierarquia_bottom_up[i].type == Models.COMMAND_TYPES.repeatNtimes)\r\n\t\t\t\t\t|| (hierarquia_bottom_up[i].type == Models.COMMAND_TYPES.whiletrue)\r\n\t\t\t\t\t|| (hierarquia_bottom_up[i].type == Models.COMMAND_TYPES.dowhiletrue)\r\n\t\t\t\t\t|| (hierarquia_bottom_up[i].type == Models.COMMAND_TYPES.switch)) {\r\n\r\n\t\t\t\t\tis_correct_context = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\tif (!is_correct_context) {\r\n\t\t\t\tconsole.error(\"Context not allowed to insert BREAK COMMAND!\");\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t// se a hierarquia possuir apenas um elemento, ento est na raiz dos comandos: \r\n\t\tif (hierarquia_bottom_up.length == 1) {\r\n\t\t\tvar sub_elemento = false;\r\n\t\t\tfor (var i = 0; i < hier_find.length; i++) {\r\n\t\t\t\tif (typeof $(hier_find[i]).data('command') !== 'undefined') {\r\n\t\t\t\t\tfindBeforeOrAfterCommandToAdd(hier_find[i], event, function_obj, command_type);\r\n\t\t\t\t\tsub_elemento = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!sub_elemento) {\r\n\t\t\t\tfindBeforeOrAfterCommandToAdd(el[0], event, function_obj, command_type);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// caso exista mais de um elemento na hierarquia:\r\n\t\t\tif (typeof $(el).data('command') !== 'undefined') {\r\n\t\t\t\tinsertCommandInBlockHierar(el[0], event, function_obj, command_type, hier_find, hierarquia_bottom_up);\r\n\t\t\t} else {\r\n\t\t\t\tvar sub_elemento = false;\r\n\t\t\t\tfor (var i = 0; i < hier_find.length; i++) {\r\n\t\t\t\t\tif (typeof $(hier_find[i]).data('command') !== 'undefined') {\r\n\t\t\t\t\t\tinsertCommandInBlockHierar(hier_find[i], event, function_obj, command_type, hier_find, hierarquia_bottom_up);\r\n\t\t\t\t\t\tsub_elemento = true;\r\n\t\t\t\t\t\tbreak;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\t\r\n\t// has_element_created_draged = false;\r\n\t// which_element_is_draged = null;\r\n\r\n\tif (hierarquia_bottom_up) {\r\n\t\tvar i = hierarquia_bottom_up.length - 1;\r\n\t\tvar starter_index = window.program_obj.functions[window.program_obj.functions.indexOf(function_obj)].commands.indexOf(hierarquia_bottom_up[i]);\r\n\t\tvar all_str_path = starter_index + '-' + findPathRecursive(starter_index, hierarquia_bottom_up, function_obj);\r\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/' , all_str_path);\r\n\t}\r\n\r\n\trenderAlgorithm();\r\n}\r\n\r\nfunction insertCommandInBlockHierar (el, event, function_obj, command_type, hier_dom, hier_obj) {\r\n\tvar el_jq = $(el);\r\n\tvar command_parent = el_jq.data('command');\r\n\t\r\n\tif ((el_jq.data('command').type == Models.COMMAND_TYPES.repeatNtimes) ||\r\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.whiletrue)  ||\r\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.dowhiletrue) ||\r\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.switch) ) {\r\n\r\n\t\tif ((el_jq.data('command').type == Models.COMMAND_TYPES.repeatNtimes) ||\r\n\t\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.whiletrue)  ||\r\n\t\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.dowhiletrue) ) {\r\n\r\n\t\t\t// Se no tiver outro comando ainda no bloco, s adiciona: \r\n\t\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\r\n\t\t\t\tcommand_parent.commands_block = [];\r\n\r\n\t\t\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\t\t\tcommand_parent.commands_block.push(recentComand);\r\n\t\t\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/' + el_jq.data('command').type, 0);\r\n\r\n\t\t\t\trenderCommand(recentComand, el_jq.find('.block_commands'), 3, function_obj);\r\n\t\t\t} else { // Se j tem algum comando no bloco:\r\n\t\t\t\tfindNearbyCommandToAddInBlockScope(el, event, el, function_obj, command_type, command_parent);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\t// QUANDO FOR BLOCO DO TIPO IF OU SWITCH/CASE:\r\n\t\t\taddCommandToSwitchCase(event, function_obj, command_type);\r\n\t\t}\r\n\r\n\t} else {\r\n\t\t// entra neste bloco, se soltou o comando sobre outro comando dentro de um subbloco:\r\n\t\tfindBeforeOrAfterCommandToAddInsertBlock(el, event, function_obj, command_type);\r\n\t}\r\n}\r\n\r\nfunction findNearbyCommandToAddInBlockScope (el, event, node_list_commands, function_obj, command_type, command_parent) {\r\n\r\n\tvar all_sub = $(node_list_commands).find('div.command_container');\r\n\r\n\tvar menor_distancia = 999999999;\r\n\tvar elemento_menor_distancia = null;\r\n\tvar antes = true;\r\n\r\n\tvar t_bot;\r\n\tvar t_top;\r\n\r\n\t// Descobrindo o elemento mais prximo:\r\n\tfor (var i = 0; i < all_sub.length; i++) {\r\n\t\r\n\t\tt_top = all_sub[i].getBoundingClientRect().top;\r\n\t\tt_bot = all_sub[i].getBoundingClientRect().top + all_sub[i].getBoundingClientRect().height;\r\n\r\n\t\tif ((t_top - event.clientY) < menor_distancia) {\r\n\t\t\tmenor_distancia = event.clientY - t_top;\r\n\t\t\telemento_menor_distancia = all_sub[i];\r\n\t\t}\r\n\t}\r\n\r\n\tvar borda_inferior = elemento_menor_distancia.parentNode.getBoundingClientRect().top + elemento_menor_distancia.parentNode.getBoundingClientRect().height;\r\n\t\r\n\t// Est mais prximo da borda de baixo, ou seja.. inserir por ltimo:\r\n\tif ((borda_inferior - event.clientY) < menor_distancia) {\r\n\t\t\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\tcommand_parent.commands_block.push(recentComand);\r\n\t\t//\r\n\t\trenderCommand(recentComand, node_list_commands, 3, function_obj);\r\n\r\n\t} else {\r\n\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tvar index = command_parent.commands_block.indexOf($(elemento_menor_distancia).data('command'));\r\n\r\n\t\tif (index > -1) {\r\n\t\t    command_parent.commands_block.splice(index, 0, recentComand);\r\n\t\t}\r\n\r\n\t\trenderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\r\n\t}\r\n}\r\n\r\nfunction findBeforeOrAfterCommandToAddInsertBlock (el, event, function_obj, command_type) {\r\n\r\n\tvar el_jq = $(el);\r\n\tvar command_parent = $(el.parentNode.parentNode).data('command');\r\n\tvar command_target = el_jq.data('command');\r\n\tvar temp_parent = $(el.parentNode.parentNode);\r\n\r\n\tvar is_in_else = false;\r\n\r\n\tif (!command_parent) {\r\n\t\tcommand_parent = el_jq.data('command');\r\n\t\ttemp_parent = el_jq;\r\n\t\tvar hier = el_jq.parentsUntil(\".command_container\");\r\n\r\n\t\tfor (var i = 0; i < hier.length; i++) {\r\n\t\t\tvar temp = $(hier[i]);\r\n\t\t\tif (typeof temp.data('else') != 'undefined') {\r\n\t\t\t\tis_in_else = true;\r\n\t\t\t}\r\n\t\t\tif (typeof temp.data('command') != 'undefined') {\r\n\t\t\t\tcommand_parent = temp.data('command');\r\n\t\t\t\ttemp_parent = temp;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tvar hier = el_jq.parentsUntil(\".command_container\");\r\n\tfor (var i = 0; i < hier.length; i++) {\r\n\t\tvar temp = $(hier[i]);\r\n\t\tif (typeof temp.data('else') != 'undefined') {\r\n\t\t\tis_in_else = true;\r\n\t\t}\r\n\t}\r\n\r\n\tif (command_parent == command_target) {\r\n\t\tvar hier = el_jq.parentsUntil(\".command_container\");\r\n\r\n\t\tfor (var i = 0; i < hier.length; i++) {\r\n\t\t\tvar temp = $(hier[i]);\r\n\t\t\tif (typeof temp.data('else') !== 'undefined') {\r\n\t\t\t\tis_in_else = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif ((command_parent.type != Models.COMMAND_TYPES.iftrue) && (command_parent.type != Models.COMMAND_TYPES.switch)) {\r\n\t\tvar hier = temp_parent.parentsUntil(\".all_cases_div\");\r\n\t\tfor (var i = 0; i < hier.length; i++) {\r\n\t\t\tvar temp = $(hier[i]);\r\n\t\t\tif (typeof temp.data('switchcase') !== 'undefined') {\r\n\t\t\t\tcommand_parent = temp.data('switchcase');\r\n\t\t\t\tis_in_else = false;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar menor_distancia = 999999999;\r\n\tvar antes = true;\r\n\r\n\tvar t_bot;\r\n\tvar t_top;\r\n\r\n\tt_top = el.getBoundingClientRect().top;\r\n\tt_bot = el.getBoundingClientRect().top + el.getBoundingClientRect().height;\r\n\r\n\tvar d_top = event.clientY - t_top; // distancia topo\r\n\tvar d_bot = t_bot - event.clientY; // distancia baixo\r\n\r\n\t// Est mais prximo da borda de baixo, ou seja.. inserir por ltimo:\r\n\r\n\tif (d_top < d_bot) {\r\n\t\t\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tif (is_in_else) {\r\n\r\n\t\t\tif (command_parent == command_target) {\r\n\t\t\t\tif (command_parent.commands_else == null || command_parent.commands_else.length == 0) {\r\n\t\t\t\t\tcommand_parent.commands_else = [];\r\n\r\n\t\t\t\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\t\t\t\tcommand_parent.commands_else.push(recentComand);\r\n\r\n\t\t\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\r\n\t\t\t\t} else { // Se j tem algum comando no bloco:\r\n\t\t\t\t\tfindInBlockCorrectPlace(el_jq, event, function_obj, command_type, true);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t\tvar index = command_parent.commands_else.indexOf(command_target);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t    command_parent.commands_else.splice(index, 0, recentComand);\r\n\t\t\t}\r\n\r\n\t\t\trenderCommand(recentComand, el, 1, function_obj);\r\n\t\t} else {\r\n\t\t\tif (command_parent == command_target) {\r\n\t\t\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\r\n\t\t\t\t\tcommand_parent.commands_block = [];\r\n\t\t\t\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\t\t\t\tcommand_parent.commands_block.push(recentComand);\r\n\r\n\t\t\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfindInBlockCorrectPlace(el_jq, event, function_obj, command_type);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar index = command_parent.commands_block.indexOf(command_target);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t    command_parent.commands_block.splice(index, 0, recentComand);\r\n\t\t\t}\r\n\r\n\t\t\trenderCommand(recentComand, el, 1, function_obj);\r\n\t\t}\r\n\r\n\t\t\r\n\r\n\t} else {\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tif (is_in_else) {\r\n\r\n\t\t\tif (command_parent == command_target) {\r\n\t\t\t\tif (command_parent.commands_else == null || command_parent.commands_else.length == 0) {\r\n\t\t\t\t\tcommand_parent.commands_else = [];\r\n\t\t\t\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\t\t\t\tcommand_parent.commands_else.push(recentComand);\r\n\r\n\t\t\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\r\n\t\t\t\t} else { // Se j tem algum comando no bloco:\r\n\t\t\t\t\tfindInBlockCorrectPlace(el_jq, event, function_obj, command_type, true);\r\n\t\t\t\t}\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar index = command_parent.commands_else.indexOf(command_target);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t    command_parent.commands_else.splice((index + 1), 0, recentComand);\r\n\t\t\t}\r\n\r\n\t\t\trenderCommand(recentComand, el, 2, function_obj);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tif (command_parent == command_target) {\r\n\t\t\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\r\n\t\t\t\t\tcommand_parent.commands_block = [];\r\n\r\n\t\t\t\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\t\t\t\tcommand_parent.commands_block.push(recentComand);\r\n\t\t\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tfindInBlockCorrectPlace(el_jq, event, function_obj, command_type);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\r\n\t\t\tvar index = command_parent.commands_block.indexOf(command_target);\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t    command_parent.commands_block.splice((index + 1), 0, recentComand);\r\n\t\t\t}\r\n\r\n\t\t\trenderCommand(recentComand, el, 2, function_obj);\r\n\t\t}\r\n\r\n\t\t\r\n\t}\r\n}\r\n\r\nfunction insertCommandInBlock (el, event, function_obj, command_type) {\r\n\tvar el_jq = $(el);\r\n\tvar command_parent = el_jq.data('command');\r\n\r\n\tif ((el_jq.data('command').type == Models.COMMAND_TYPES.repeatNtimes) ||\r\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.whiletrue)  ||\r\n\t\t(el_jq.data('command').type == Models.COMMAND_TYPES.dowhiletrue) ) {\r\n\r\n\t\t// Se no tiver outro comando ainda no bloco, s adiciona: \r\n\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\r\n\t\t\tcommand_parent.commands_block = [];\r\n\r\n\t\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\t\tcommand_parent.commands_block.push(recentComand);\r\n\r\n\t\t\trenderCommand(recentComand, el_jq.find('.block_commands'), 3, function_obj);\r\n\t\t} else { // Se j tem algum comando no bloco:\r\n\t\t\tfindInBlockCorrectPlace(el, event, function_obj, command_type);\r\n\t\t}\r\n\r\n\t} else if (el_jq.data('command').type == Models.COMMAND_TYPES.iftrue) {\r\n\r\n\t\t// no if ou no else?\r\n\t\tvar correct_div = $(document.elementFromPoint(event.pageX, event.pageY));\r\n\t\tvar is_in_if = true;\r\n\t\tif (correct_div.data('if')) {\r\n\t\t\tis_in_if = true;\r\n\t\t} else if (correct_div.data('else')) {\r\n\t\t\tis_in_if = false;\r\n\t\t} else {\r\n\t\t\tvar hier = correct_div.parentsUntil(\".command_container\");\r\n\t\t\tfor (var i = 0; i < hier.length; i++) {\r\n\t\t\t\tvar temp = $(hier[i]);\r\n\t\t\t\tif (typeof temp.data('if') !== 'undefined') {\r\n\t\t\t\t\tis_in_if = true;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t\tif (typeof temp.data('else') !== 'undefined') {\r\n\t\t\t\t\tis_in_if = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (is_in_if) {\r\n\t\t\tif (command_parent.commands_block == null || command_parent.commands_block.length == 0) {\r\n\t\t\t\tcommand_parent.commands_block = [];\r\n\r\n\t\t\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\t\t\tcommand_parent.commands_block.push(recentComand);\r\n\r\n\t\t\t\trenderCommand(recentComand, el_jq.find('.commands_if'), 3, function_obj);\r\n\t\t\t} else { // Se j tem algum comando no bloco:\r\n\t\t\t\tfindInBlockCorrectPlace(el_jq.find('.commands_if'), event, function_obj, command_type);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tif (command_parent.commands_else == null || command_parent.commands_else.length == 0) {\r\n\t\t\t\tcommand_parent.commands_else = [];\r\n\r\n\t\t\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\t\t\tcommand_parent.commands_else.push(recentComand);\r\n\r\n\t\t\t\trenderCommand(recentComand, el_jq.find('.commands_else'), 3, function_obj);\r\n\t\t\t} else { // Se j tem algum comando no bloco:\r\n\t\t\t\tfindInBlockCorrectPlace(el_jq.find('.commands_else'), event, function_obj, command_type, true);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t} else { //  do tipo switch\r\n\t\taddCommandToSwitchCase(event, function_obj, command_type);\r\n\t}\r\n}\r\n\r\nfunction addCommandToSwitchCase (event, function_obj, command_type) {\r\n\r\n\tvar el = $(document.elementFromPoint(event.clientX, event.clientY));\r\n\r\n\tvar which_case = el.data('switchcase');\r\n\tvar case_div = el;\r\n\t\r\n\tif (!which_case) {\r\n\t\tvar hier_find = el.parentsUntil(\".all_cases_div\");\r\n\t\tfor (var i = 0; i < hier_find.length; i++) {\r\n\t\t\tif (typeof $(hier_find[i]).data('switchcase') !== 'undefined') {\r\n\t\t\t\twhich_case = $(hier_find[i]).data('switchcase');\r\n\t\t\t\tcase_div = $(hier_find[i]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (which_case.commands_block == null || which_case.commands_block.length < 1) {\r\n\t\twhich_case.commands_block = [];\r\n\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\twhich_case.commands_block.push(recentComand);\r\n\t\trenderCommand(recentComand, case_div.find('.case_commands_block'), 3, function_obj);\r\n\t} else {\r\n\t\tfindInBlockCorrectPlaceInSwitchCase(which_case, case_div, event, function_obj, command_type);\r\n\t}\r\n\r\n}\r\n\r\n\r\n\r\n\r\nfunction findInBlockCorrectPlaceInSwitchCase (which_case, case_div, event, function_obj, command_type) {\r\n\r\n\tvar all_sub = case_div.find('div.command_container');\r\n\r\n\tvar menor_distancia = 999999999;\r\n\tvar elemento_menor_distancia = null;\r\n\tvar antes = true;\r\n\r\n\tvar t_bot;\r\n\tvar t_top;\r\n\r\n\t// Descobrindo o elemento mais prximo:\r\n\tfor (var i = 0; i < all_sub.length; i++) {\r\n\t\r\n\t\tt_top = all_sub[i].getBoundingClientRect().top;\r\n\t\tt_bot = all_sub[i].getBoundingClientRect().top + all_sub[i].getBoundingClientRect().height;\r\n\r\n\t\tif ((t_top - event.clientY) < menor_distancia) {\r\n\t\t\tmenor_distancia = event.clientY - t_top;\r\n\t\t\telemento_menor_distancia = all_sub[i];\r\n\t\t}\r\n\t}\r\n\r\n\tvar borda_inferior = elemento_menor_distancia.parentNode.getBoundingClientRect().top + elemento_menor_distancia.parentNode.getBoundingClientRect().height;\r\n\t\r\n\t// Est mais prximo da borda de baixo, ou seja.. inserir por ltimo:\r\n\tif ((borda_inferior - event.clientY) < menor_distancia) {\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\twhich_case.commands_block.push(recentComand);\r\n\r\n\t\trenderCommand(recentComand, $(case_div.find('.case_commands_block')[0]), 3, function_obj);\r\n\r\n\t} else {\r\n\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tvar index = which_case.commands_block.indexOf($(elemento_menor_distancia).data('command'));\r\n\r\n\t\tif (index > -1) {\r\n\t\t    which_case.commands_block.splice(index, 0, recentComand);\r\n\t\t    renderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction findInBlockCorrectPlace (el, event, function_obj, command_type, is_in_else = false) {\r\n\tvar el_jq = $(el);\r\n\tvar all_sub = el_jq.find('div.command_container');\r\n\r\n\tvar menor_distancia = 999999999;\r\n\tvar elemento_menor_distancia = null;\r\n\tvar antes = true;\r\n\r\n\tvar t_bot;\r\n\tvar t_top;\r\n\r\n\t// Descobrindo o elemento mais prximo:\r\n\tfor (var i = 0; i < all_sub.length; i++) {\r\n\t\r\n\t\tt_top = all_sub[i].getBoundingClientRect().top;\r\n\t\tt_bot = all_sub[i].getBoundingClientRect().top + all_sub[i].getBoundingClientRect().height;\r\n\r\n\t\tif ((t_top - event.clientY) < menor_distancia) {\r\n\t\t\tmenor_distancia = event.clientY - t_top;\r\n\t\t\telemento_menor_distancia = all_sub[i];\r\n\t\t}\r\n\t}\r\n\r\n\tvar borda_inferior = elemento_menor_distancia.parentNode.getBoundingClientRect().top + elemento_menor_distancia.parentNode.getBoundingClientRect().height;\r\n\t\r\n\t// Est mais prximo da borda de baixo, ou seja.. inserir por ltimo:\r\n\tif ((borda_inferior - event.clientY) < menor_distancia) {\r\n\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tvar command_parent = el_jq.data('command');\r\n\r\n\t\tif (is_in_else) {\r\n\t\t\tcommand_parent.commands_else.push(recentComand);\r\n\r\n\t\t\trenderCommand(recentComand, el_jq, 3, function_obj);\r\n\r\n\t\t} else {\r\n\t\t\tcommand_parent.commands_block.push(recentComand);\r\n\r\n\t\t\trenderCommand(recentComand, $(el_jq.find('.block_commands')[0]), 3, function_obj);\r\n\t\t}\r\n\r\n\t} else {\r\n\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tvar command_parent = el_jq.data('command');\r\n\r\n\t\tif (is_in_else) {\r\n\r\n\t\t\tvar index = command_parent.commands_else.indexOf($(elemento_menor_distancia).data('command'));\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t    command_parent.commands_else.splice(index, 0, recentComand);\r\n\t\t\t    renderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\r\n\t\t\t}\r\n\r\n\t\t} else {\r\n\t\t\tvar index = command_parent.commands_block.indexOf($(elemento_menor_distancia).data('command'));\r\n\r\n\t\t\tif (index > -1) {\r\n\t\t\t    command_parent.commands_block.splice(index, 0, recentComand);\r\n\t\t\t    renderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\t\r\n\t}\r\n}\r\n\r\nfunction findBeforeOrAfterCommandToAdd (el, event, function_obj, command_type) {\r\n\tswitch ($(el).data('command').type) {\r\n\t\tcase Models.COMMAND_TYPES.iftrue:\r\n\t\tcase Models.COMMAND_TYPES.switch:\r\n\t\tcase Models.COMMAND_TYPES.repeatNtimes:\r\n\t\tcase Models.COMMAND_TYPES.whiletrue:\r\n\t\tcase Models.COMMAND_TYPES.dowhiletrue:\r\n\t\t\tinsertCommandInBlock(el, event, function_obj, command_type);\r\n\t\t\treturn;\r\n\t}\r\n\r\n\tvar menor_distancia = 999999999;\r\n\tvar antes = true;\r\n\r\n\tvar t_bot;\r\n\tvar t_top;\r\n\r\n\tt_top = el.getBoundingClientRect().top;\r\n\tt_bot = el.getBoundingClientRect().top + el.getBoundingClientRect().height;\r\n\r\n\tvar d_top = event.clientY - t_top; // distancia topo\r\n\tvar d_bot = t_bot - event.clientY; // distancia baixo\r\n\r\n\t// Est mais prximo da borda de baixo, ou seja.. inserir por ltimo:\r\n\tif (d_top < d_bot) {\r\n\t\t\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tvar index = function_obj.commands.indexOf($(el).data('command'));\r\n\r\n\t\tif (index > -1) {\r\n\t\t    function_obj.commands.splice(index, 0, recentComand);\r\n\t\t}\r\n\r\n\t\trenderCommand(recentComand, el, 1, function_obj);\r\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', index);\r\n\r\n\t} else {\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tvar index = function_obj.commands.indexOf($(el).data('command'));\r\n\r\n\t\tif (index > -1) {\r\n\t\t    function_obj.commands.splice((index + 1), 0, recentComand);\r\n\t\t}\r\n\r\n\t\trenderCommand(recentComand, el, 2, function_obj);\r\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', index);\r\n\t}\r\n}\r\n\r\nfunction findNearbyCommandToAddInFunctionScope (el, event, node_list_commands, function_obj, command_type) {\r\n\r\n\tvar all_sub = $(node_list_commands).find('div.command_container');\r\n\r\n\tvar menor_distancia = 999999999;\r\n\tvar elemento_menor_distancia = null;\r\n\tvar antes = true;\r\n\r\n\tvar t_bot;\r\n\tvar t_top;\r\n\r\n\t// Descobrindo o elemento mais prximo:\r\n\tfor (var i = 0; i < all_sub.length; i++) {\r\n\t\r\n\t\tt_top = all_sub[i].getBoundingClientRect().top;\r\n\t\tt_bot = all_sub[i].getBoundingClientRect().top + all_sub[i].getBoundingClientRect().height;\r\n\r\n\t\tif ((t_top - event.clientY) < menor_distancia) {\r\n\t\t\tmenor_distancia = event.clientY - t_top;\r\n\t\t\telemento_menor_distancia = all_sub[i];\r\n\t\t}\r\n\t}\r\n\r\n\tvar borda_inferior = elemento_menor_distancia.parentNode.getBoundingClientRect().top + elemento_menor_distancia.parentNode.getBoundingClientRect().height;\r\n\t\r\n\t// Est mais prximo da borda de baixo, ou seja.. inserir por ltimo:\r\n\tif ((borda_inferior - event.clientY) < menor_distancia) {\r\n\t\t\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\t\tfunction_obj.commands.push(recentComand);\r\n\t\t//\r\n\t\trenderCommand(recentComand, node_list_commands, 3, function_obj);\r\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', function_obj.commands.length - 1);\r\n\r\n\t} else {\r\n\r\n\t\tvar recentComand = genericCreateCommand(command_type);\r\n\r\n\t\tvar index = function_obj.commands.indexOf($(elemento_menor_distancia).data('command'));\r\n\r\n\t\tif (index > -1) {\r\n\t\t    function_obj.commands.splice(index, 0, recentComand);\r\n\t\t}\r\n\r\n\t\trenderCommand(recentComand, elemento_menor_distancia, 1, function_obj);\r\n\t\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, command_type, '/', index);\r\n\t}\r\n}\r\n","import * as Models from '../ivprog_elements';\r\nimport { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as VariableValueMenu from './variable_value_menu';\r\nimport * as VariableValueMenuManagement from './variable_value_menu';\r\nimport * as CommandsManagement from '../commands';\r\nimport * as ExpressionManagement from './generic_expression';\r\nimport * as CodeGenerator from '../code_generator';\r\nimport { renderAlgorithm } from '../algorithm';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui attribution created_element\"> <i class=\"ui icon small arrow left\"></i> <span> x <&#8212; 1 + 1 </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar el = $('<div class=\"ui attribution command_container\"><i class=\"ui icon small arrow left command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <div class=\"var_attributed\"></div> <span class=\"text_attr_receives span_command_spec\">'+LocalizedStrings.getUI('text_receives')+'</span> '\r\n\t\t + '<div class=\"expression_elements\"></div>  <span class=\"textual_expression\"></span> <i class=\"ui icon i cursor button_write_expression\"></i> <i class=\"ui icon unlock button_alternate_expression\"></i> </div>');\r\n\tel.data('command', command);\r\n\r\n\tVariableValueMenu.renderMenu(command, command.variable, el.find('.var_attributed'), function_obj);\r\n\r\n\tif (!command.expression || command.expression.length < 1) {\r\n\t\tvar exp = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true);\r\n\t\tcommand.expression.push(exp);\r\n\t}\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\tExpressionManagement.renderExpression(command, function_obj, el.find('.expression_elements'), command.expression);\r\n\r\n\tif (command.lockexpression) {\r\n\t\tif (command.expression) {\r\n\t\t\ttry {\r\n\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\t\tif (text) {\r\n\t\t\t\t\t$(el.find('.expression_elements')[0]).toggle();\r\n\t\t\t\t\t$(el.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t\t$(el.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t\t$(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tcommand.lockexpression = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tel.find('.unlock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.lock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.button_write_expression').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\r\n\r\n\treturn el;\r\n\r\n}\r\n\r\nexport function manageExpressionElements (command, ref_object, dom_object, menu_var_or_value, function_obj, selectedItem, expression_element) {\r\n\t\r\n\tvar index_to_move = expression_element.itens.indexOf(ref_object);\r\n\r\n\tswitch (selectedItem.data('exp')) {\r\n\t\tcase Models.EXPRESSION_ELEMENTS.exp_op_exp:\r\n\r\n\t\t\tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp, [expression_element.itens[index_to_move],\r\n\t     \t\tModels.ARITHMETIC_TYPES.plus, \r\n\t\t\t\tnew Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\r\n\r\n\t\t\texpression_element.itens[index_to_move] = exp;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.EXPRESSION_ELEMENTS.op_exp:\r\n\r\n\t\t\tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.op_exp, [Models.ARITHMETIC_TYPES.plus, \r\n\t\t\t\texpression_element.itens[index_to_move] ]);\r\n\r\n\t\t\texpression_element.itens[index_to_move] = exp;\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.EXPRESSION_ELEMENTS.par_exp_par:\r\n\r\n\t\t\tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.par_exp_par, [expression_element.itens[index_to_move]]);\r\n\r\n\t\t\texpression_element.itens[index_to_move] = exp;\r\n\r\n\t\t\tbreak;\r\n\t}\r\n\r\n\trenderExpressionElements(command, function_obj, dom_object);\r\n\r\n}\r\n\r\nfunction renderExpressionElements (command, function_obj, el) {\r\n\tvar expression_div = el.find('.expression_elements');\r\n\tvar command_container;\r\n\r\n\tif (el.hasClass(\"command_container\") == false) {\r\n\t\tvar hier = el.parentsUntil(\".command_container\");\r\n\t\tfor (var i = 0; i < hier.length; i++) {\r\n\t\t\tif ($(hier[i]).hasClass(\"command_container\")) {\r\n\t\t\t\tcommand_container = $(hier[i]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tif ($(hier[i]).hasClass(\"expression_elements\")) {\r\n\t\t\t\texpression_div = $(hier[i]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (command_container) {\r\n\t\texpression_div = command_container.find('.expression_elements');\r\n\t}\r\n\r\n\texpression_div.text('');\r\n\r\n\tfor (var i = 0; i < command.expression.length; i++) {\r\n\r\n\t\tvar temp = $('<div class=\"expression_element\"></div>');\r\n\t\ttemp.data('ref_element', command.expression[i]);\r\n\t\ttemp.data('ref_index', i);\r\n\r\n\t\texpression_div.append(temp);\r\n\r\n\t\trenderElement(command, function_obj, temp, command.expression[i]);\r\n\t}\r\n}\r\n\r\nfunction renderOperator (command, function_obj, temp_op, expression_element, index_op) {\r\n\r\n\tvar context_menu = '<div class=\"ui dropdown\"><div class=\"text\">';\r\n\r\n\tswitch (expression_element.itens[index_op]) {\r\n\t\tcase Models.ARITHMETIC_TYPES.plus:\r\n\t\t\tcontext_menu += '+';\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.ARITHMETIC_TYPES.minus:\r\n\t\t\tcontext_menu += '-';\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.ARITHMETIC_TYPES.multiplication:\r\n\t\t\tcontext_menu += '*';\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.ARITHMETIC_TYPES.division:\r\n\t\t\tcontext_menu += '/';\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.ARITHMETIC_TYPES.module:\r\n\t\t\tcontext_menu += '%';\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.ARITHMETIC_TYPES.none:\r\n\t\t\tcontext_menu += '...';\r\n\t\t\tbreak;\r\n\t}\r\n\t\r\n\tcontext_menu += '</div><div class=\"menu\">';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.plus+'\">+</div>';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.minus+'\">-</div>';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.multiplication+'\">*</div>';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.division+'\">/</div>';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.module+'\">%</div>';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.ARITHMETIC_TYPES.none+'\" data-text=\"...\">Nenhum</div>';\r\n\tcontext_menu += '</div></div>';\r\n\r\n\tcontext_menu = $(context_menu);\r\n\r\n\ttemp_op.append(context_menu);\r\n\r\n\tcontext_menu.dropdown({\r\n\t\tonChange: function(value, text, $selectedItem) {\r\n\t\t\t expression_element.itens[index_op] = value;\r\n      }\r\n\t});\r\n\r\n}\r\n\r\nfunction renderMenuAddExpression (command, function_obj, el, dom_append_menu, expression_append_new_expression) {\r\n\r\n\tif (el.hasClass(\"command_container\") == false) {\r\n\t\tvar hier = el.parentsUntil(\".commands_list_div\");\r\n\r\n\t\tfor (var i = 0; i < hier.length; i++) {\r\n\t\t\tif ($(hier[i]).hasClass(\"command_container\")) {\r\n\t\t\t\tel = $(hier[i]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (dom_append_menu.hasClass(\"expression_elements\") == false) {\r\n\t\tvar hier = el.parentsUntil(\".commands_list_div\");\r\n\r\n\t\tfor (var i = 0; i < hier.length; i++) {\r\n\t\t\tif ($(hier[i]).hasClass(\"expression_elements\")) {\r\n\t\t\t\tdom_append_menu = $(hier[i]);\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tvar context_menu = '<div class=\"ui dropdown\"><div class=\"text\"></div><i class=\"ui icon arrow alternate circle right outline\"></i><div class=\"menu\">';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n\tcontext_menu += '<div class=\"item\" data-value=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n\tcontext_menu += '</div></div>';\r\n\r\n\tcontext_menu = $(context_menu);\r\n\r\n\tdom_append_menu.append(context_menu);\r\n\r\n\tcontext_menu.dropdown({\r\n\t\tonChange: function(value, text, $selectedItem) {\r\n\t     switch (value) {\r\n\t     \tcase Models.EXPRESSION_ELEMENTS.exp_op_exp:\r\n\r\n\t     \tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp, [new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true),\r\n\t     \t\tModels.ARITHMETIC_TYPES.plus, \r\n\t\t\t\tnew Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\r\n\r\n\t\t\texpression_append_new_expression.push(exp);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.EXPRESSION_ELEMENTS.op_exp:\r\n\t\t\tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.op_exp, [Models.ARITHMETIC_TYPES.plus, \r\n\t\t\t\tnew Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\r\n\r\n\t\t\texpression_append_new_expression.push(exp);\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.EXPRESSION_ELEMENTS.par_exp_par:\r\n\r\n\t\t\tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.par_exp_par, [new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\r\n\r\n\t\t\texpression_append_new_expression.push(exp);\r\n\r\n\t\t\tbreak;\r\n\t\t}\r\n\t\t\r\n\t\trenderExpressionElements(command, function_obj, el);\r\n      }\r\n\t});\r\n\r\n}\r\n\r\nfunction renderElement (command, function_obj, el, expression_element) {\r\n\r\n\tswitch (expression_element.type_exp) {\r\n\t\tcase Models.EXPRESSION_ELEMENTS.exp_op_exp:\r\n\r\n\t\t\tvar temp_op = $('<div class=\"component_element\"></div>');\r\n\t\t\tvar temp_exp_1 = $('<div class=\"component_element\"></div>');\r\n\t\t\tvar temp_exp_2 = $('<div class=\"component_element\"></div>');\r\n\r\n\t\t\tel.append(temp_exp_1);\r\n\t\t\tel.append(temp_op);\r\n\t\t\tel.append(temp_exp_2);\r\n\t\t\t\r\n\t\t\tif (expression_element.itens[0].type) {\r\n\t\t\t\tVariableValueMenu.renderMenu(command, expression_element.itens[0], temp_exp_1, function_obj, 2, expression_element);\r\n\t\t\t} else {\r\n\t\t\t\trenderElement(command, function_obj, temp_exp_1, expression_element.itens[0]);\r\n\t\t\t}\r\n\r\n\t\t\trenderOperator(command, function_obj, temp_op, expression_element, 1);\r\n\r\n\t\t\tif (expression_element.itens[2].type) {\r\n\t\t\t\tVariableValueMenu.renderMenu(command, expression_element.itens[2], temp_exp_2, function_obj, 2, expression_element);\r\n\t\t\t} else {\r\n\t\t\t\trenderElement(command, function_obj, temp_exp_2, expression_element.itens[2]);\r\n\t\t\t}\r\n\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.EXPRESSION_ELEMENTS.op_exp:\r\n\t\t\tvar temp_op = $('<div class=\"component_element\"></div>');\r\n\t\t\tvar temp_exp = $('<div class=\"component_element\"></div>');\r\n\r\n\t\t\tel.append(temp_op);\r\n\t\t\tel.append(temp_exp);\r\n\r\n\t\t\trenderOperator(command, function_obj, temp_op, expression_element, 0);\r\n\r\n\t\t\tif (expression_element.itens[1].type) {\r\n\t\t\t\tVariableValueMenu.renderMenu(command, expression_element.itens[1], temp_exp, function_obj, 2, expression_element);\r\n\t\t\t} else {\r\n\t\t\t\trenderElement(command, function_obj, temp_exp, expression_element.itens[1]);\r\n\t\t\t}\r\n\t\t\tbreak;\r\n\r\n\t\tcase Models.EXPRESSION_ELEMENTS.par_exp_par:\r\n\r\n\t\t\tvar temp_par_1 = $('<div class=\"component_element\"> ( </div>');\r\n\t\t\tvar temp_exp = $('<div class=\"component_element\"></div>');\r\n\t\t\tvar temp_par_2 = $('<div class=\"component_element\"> ) </div>');\r\n\r\n\t\t\tel.append(temp_par_1);\r\n\t\t\tel.append(temp_exp);\r\n\r\n\t\t\tfor (var j = 0; j < expression_element.itens.length; j++) {\r\n\t\t\t\tif (expression_element.itens[j].type) {\r\n\t\t\t\t\tVariableValueMenu.renderMenu(command, expression_element.itens[j], temp_exp, function_obj, 2, expression_element);\r\n\t\t\t\t} else {\r\n\t\t\t\t\trenderElement(command, function_obj, temp_exp, expression_element.itens[j]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\r\n\t\t\t//renderMenuAddExpression(command, function_obj, el, el, expression_element.itens);\r\n\r\n\t\t\tel.append(temp_par_2);\r\n\r\n\t\t\tbreak;\r\n\t}\r\n\r\n}\r\n\r\n\r\nfunction renderExpression (command, function_obj, el) {\r\n\r\n\tvar expression_div = el.find('.expression_elements');\r\n\texpression_div.text('');\r\n\r\n\tvar menu_add_item = $('<div class=\"menu_add_item\"></div>');\r\n\tmenu_add_item.data('index_add', 0);\r\n\r\n\texpression_div.append(menu_add_item);\r\n\t\r\n\tfor (var i = 0; i < command.expression.length; i++) {\r\n\r\n\t\tif (command.expression[i].type) {\r\n\r\n\t\t\tvar temp = $('<div class=\"expression_element\"></div>');\r\n\t\t\ttemp.data('ref_element', command.expression[i]);\r\n\t\t\ttemp.data('ref_index', i);\r\n\r\n\t\t\texpression_div.append(temp);\r\n\r\n\t\t\tVariableValueMenu.renderMenu(command, command.expression[i], temp, function_obj);\r\n\r\n\t\t} else if (command.expression[i] == \"(\" || command.expression[i] == \")\") {\r\n\r\n\t\t\tvar temp = $('<div class=\"expression_element\">'+command.expression[i]+'</div>');\r\n\t\t\ttemp.data('ref_element', command.expression[i]);\r\n\t\t\ttemp.data('ref_index', i);\r\n\r\n\t\t\texpression_div.append(temp);\r\n\r\n\t\t} else {\r\n\r\n\t\t\tvar temp = '<div class=\"expression_element\">';\r\n\r\n\t\t\tswitch(command.expression[i]) {\r\n\t\t\t\tcase Models.ARITHMETIC_TYPES.plus:\r\n\t\t\t\t\ttemp += '+';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Models.ARITHMETIC_TYPES.minus:\r\n\t\t\t\t\ttemp += '-';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Models.ARITHMETIC_TYPES.multiplication:\r\n\t\t\t\t\ttemp += '*';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Models.ARITHMETIC_TYPES.division:\r\n\t\t\t\t\ttemp += '/';\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Models.ARITHMETIC_TYPES.module:\r\n\t\t\t\t\ttemp += '%';\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\ttemp += '</div>';\r\n\t\t\ttemp = $(temp);\r\n\t\t\ttemp.data('ref_element', command.expression[i]);\r\n\t\t\ttemp.data('ref_index', i);\r\n\r\n\t\t\texpression_div.append(temp);\r\n\r\n\t\t}\r\n\t\t\r\n\t\tvar menu_add_item_seq = $('<div class=\"menu_add_item\"></div>');\r\n\t\tvar index_temp = (i + 1);\r\n\t\tmenu_add_item_seq.data('index_add', index_temp);\r\n\t\texpression_div.append(menu_add_item_seq);\r\n\r\n\t}\r\n\r\n\taddMenuItens(command, function_obj, el);\r\n\r\n}\r\n\r\nfunction addMenuItens (command, function_obj, expression_div) {\r\n\tvar divs_expression = expression_div.find('.menu_add_item');\r\n\r\n\tfor (var i = 0; i < divs_expression.length; i++) {\r\n\r\n\t\tvar temp = $(divs_expression[i]).data('index_add');\r\n\r\n\t\tvar context_menu = '<div class=\"ui dropdown context_menu_clear\"><i class=\"ui icon plus square outline\"></i><div class=\"menu\">';\r\n\t\tcontext_menu += '<div class=\"item\" data-option=\"value\" data-index=\"'+temp+'\">'+LocalizedStrings.getUI('text_value')+'</div>';\r\n\t\tcontext_menu += '<div class=\"item\" data-option=\"operator\" data-index=\"'+temp+'\">'+LocalizedStrings.getUI('text_operator')+'</div>';\r\n\t\tcontext_menu += '<div class=\"item\" data-option=\"parentheses\" data-index=\"'+temp+'\">'+LocalizedStrings.getUI('text_parentheses')+'</div>';\r\n\t\tcontext_menu += '</div></div>';\r\n\r\n\t\tcontext_menu = $(context_menu);\r\n\r\n\t\t$(divs_expression[i]).append(context_menu);\r\n\r\n\t\tcontext_menu.dropdown({\r\n\t      on: 'hover',\r\n\t      onChange: function(value, text, $selectedItem) {\r\n    \t\tswitch ($selectedItem.data('option')) {\r\n    \t\t\tcase \"value\":\r\n    \t\t\t\tcommand.expression.splice($selectedItem.data('index'), 0, new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\r\n    \t\t\t\trenderExpression(command, function_obj, expression_div);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase \"operator\":\r\n    \t\t\t\tcommand.expression.splice($selectedItem.data('index'), 0, Models.ARITHMETIC_TYPES.plus);\r\n    \t\t\t\trenderExpression(command, function_obj, expression_div);\r\n    \t\t\t\tbreak;\r\n    \t\t\tcase \"parentheses\":\r\n    \t\t\t\tcommand.expression.splice($selectedItem.data('index'), 0, \"(\");\r\n    \t\t\t\tcommand.expression.splice($selectedItem.data('index') + 1, 0, new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\r\n    \t\t\t\tcommand.expression.splice($selectedItem.data('index') + 2, 0, \")\");\r\n    \t\t\t\trenderExpression(command, function_obj, expression_div);\r\n    \t\t\t\tbreak;\r\n    \t\t }\r\n        \t}\r\n\t    });\r\n\r\n\t}\r\n}\r\n\r\n\r\nfunction addHandlers (command, function_obj, attribution_dom) {\r\n\r\n\tattribution_dom.find('.button_write_expression').on('click', function() {\r\n\r\n\t\twindow.expressionEdition = true;\r\n\t\twindow.inputExpression = null;\r\n\t\t\r\n\t\tvar afterWhichElement;\r\n\t\tvar lockButton = $(attribution_dom.find('.button_alternate_expression')[0]);\r\n\t\tvar editButton = $(this);\r\n\r\n\t\tafterWhichElement = attribution_dom.find('.expression_elements');\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\tafterWhichElement = attribution_dom.find('.textual_expression');\r\n\t\t}\r\n\r\n\t\tvar text = \"\";\r\n\t\tif (command.expression) {\r\n\t\t\tif (command.expression.length == 1 && command.expression[0].content == null && !command.expression[0].function_called) {\r\n\t\t\t\ttext = \"\";\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttext = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\t\t} catch(ex) {\r\n\t\t\t\t\ttext = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\r\n\t\tvar cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\r\n\t\tvar input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\r\n\t\tinput.val(text);\r\n\r\n\t\tinput.focusout(function(evt) {\r\n\t\t\tconsole.log('focosout event!');\r\n\t\t\tok_button.click();\r\n\t\t\tevt.preventDefault();\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\t\r\n\t\tinput.keyup(function(evt) {\r\n\t\t\tif (evt.keyCode == 27) { // esc\r\n\t\t\t\tcancel_button.click();\r\n\t\t\t} \r\n\t\t\tif (evt.keyCode == 13) { // enter\r\n\t\t\t\tok_button.click();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tok_button.click(function() {\r\n\t\t\tvar parsed = null;\r\n\t\t\tparsed = ExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.expression = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcancel_button.mousedown(function(evt) {\r\n\t\t\tvar parsed = ExpressionManagement.expressionParserToVisual(text, function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.expression = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tinput.insertAfter(afterWhichElement);\r\n\t\tinput.focus();\r\n\t\tcancel_button.insertAfter(input);\r\n\t\tok_button.insertAfter(input);\r\n\t\tvar len = text.length; \r\n\t\tinput[0].setSelectionRange(len, len); \r\n\r\n\t\tafterWhichElement.css('display', 'none');\r\n\t\tlockButton.css('display', 'none');\r\n\t\teditButton.css('display', 'none');\r\n\r\n\t\tok_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t\tcancel_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(attribution_dom.find('.textual_expression')[0]).toggle();\r\n\t\r\n\tattribution_dom.find('.button_alternate_expression').on('click', function() {\r\n\t\tif (command.expression) {\r\n\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\tif (text) {\r\n\t\t\t\t$(attribution_dom.find('.expression_elements')[0]).toggle();\r\n\t\t\t\t$(attribution_dom.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t$(attribution_dom.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\r\n\t\t\t}\r\n\t\t\tif (command.lockexpression) {\r\n\t\t\t\tattribution_dom.find('.lock').popup({\r\n\t\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\t\t\t\tdelay: {\r\n\t\t\t\t\t\tshow: 750,\r\n\t\t\t\t\t\thide: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tattribution_dom.find('.unlock').popup({\r\n\t\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\t\t\t\tdelay: {\r\n\t\t\t\t\t\tshow: 750,\r\n\t\t\t\t\t\thide: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\tattribution_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, attribution_dom)) {\r\n\t\t\tattribution_dom.fadeOut(400, function() {\r\n\t\t\t\tattribution_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tattribution_dom.find('.button_refresh_attribution').on('click', function() {\r\n\t\trenderExpressionElements(command, function_obj, attribution_dom);\r\n\t});\r\n}\r\n\r\nexport function renderMenuOperations (command, ref_object, dom_object, menu_var_or_value, function_obj, variable_selected) {\r\n\r\n\t/*console.log(\"recebido o seguinte DOM: \");\r\n\tconsole.log(dom_object);\r\n\r\n\tif (dom_object.hasClass('var_attributed')) {\r\n\t\treturn;\r\n\t} else {\r\n\t\tvar hier = dom_object.parentsUntil(\".command_container\");\r\n\t\tfor (var i = 0; i < hier.length; i++) {\r\n\t\t\tif ($(hier[i]).hasClass('var_attributed') || $(hier[i]).hasClass('parameters_function_called')) {\r\n\t\t\t\treturn;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\r\n\t\t\r\n\t}\r\n\r\n\tdom_object.find('.context_menu_clear').remove();\r\n\r\n\r\n\tvar menu_operations = '<div class=\"ui dropdown menu_operations\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n\r\n\tfor (var tm in Models.ARITHMETIC_TYPES) {\r\n\r\n\t\tmenu_operations += '<div class=\"item\" data-option=\"'+tm+'\">'+LocalizedStrings.getUI('btn_arithmetic_' + tm)+'</div>';\r\n    }\r\n    menu_operations += '<div class=\"item\" data-option=\"clear\">'+LocalizedStrings.getUI('btn_clear')+'</div>';\r\n\t\r\n    menu_operations += '</div></div>';\r\n\r\n    menu_operations = $(menu_operations);\r\n\r\n    dom_object.append(menu_operations);\r\n\r\n    menu_operations.dropdown({\r\n    \tonChange: function(value, text, $selectedItem) {\r\n    \t\tswitch ($($selectedItem).data('option')) {\r\n    \t\t\tcase \"clear\":\r\n\t    \t\t\t$(dom_object).text('');\r\n\t\t     \t \tVariableValueMenu.renderMenu(command, ref_object, dom_object, function_obj);\r\n    \t\t\t\tbreak;\r\n    \t\t\tdefault:\r\n    \t\t\t\tcreateExpressionAround(command, ref_object, dom_object, function_obj);\r\n    \t\t\t\tmenu_operations.find('.text').text('');\r\n    \t\t}\r\n        }\r\n    });*/\r\n}\r\n\r\nfunction createExpressionAround (command, ref_object, dom_object, function_obj) {\r\n\t$('<span> ( </span>').insertBefore(dom_object);\r\n\t$('<span> ) </span>').insertAfter(dom_object);\r\n\r\n\tVariableValueMenu.renderMenu(command, new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true), dom_object, function_obj);\r\n}\r\n\r\n","import { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as CommandsManagement from '../commands';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui comment created_element\"> <i class=\"ui icon small pause\"></i> <span> '+LocalizedStrings.getUI('text_break')+' </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar el = $('<div class=\"ui comment command_container\"> <i class=\"ui icon small pause\"></i> <i class=\"ui icon times red button_remove_command\"></i> <span>'+LocalizedStrings.getUI('text_break')+'</span> </div>');\r\n\tel.data('command', command);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\treturn el;\r\n}\r\n\r\nfunction addHandlers (command, function_obj, break_dom) {\r\n\r\n\tbreak_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, break_dom)) {\r\n\t\t\tbreak_dom.fadeOut(400, function() {\r\n\t\t\t\tbreak_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n","import { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as VariableValueMenu from './variable_value_menu';\r\nimport * as CommandsManagement from '../commands';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui comment created_element\"> <i class=\"ui icon small quote left\"></i> <span class=\"span_comment_text\" \"> '+LocalizedStrings.getUI('text_comment')+' </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar el = $('<div class=\"ui comment command_container\"> <i class=\"ui icon small quote left command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <div class=\"var_value_menu_div\"></div> <div class=\"div_comment_text\">'+'</div> </div>');\r\n\tel.data('command', command);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\trenderTextComment(command, function_obj, el);\r\n\r\n\treturn el;\r\n}\r\n\r\nfunction renderTextComment (command, function_obj, el) {\r\n\tVariableValueMenu.renderMenu(command, command.comment_text, el.find('.var_value_menu_div'), function_obj, 20);\r\n}\r\n\r\nfunction addHandlers (command, function_obj, comment_dom) {\r\n\r\n\tcomment_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, comment_dom)) {\r\n\t\t\tcomment_dom.fadeOut(400, function() {\r\n\t\t\t\tcomment_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n","import * as Models from '../ivprog_elements';\r\nimport { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as VariableValueMenuManagement from './variable_value_menu';\r\n\r\n\r\nexport function renderExpression (command, expression, function_obj, initial_el_to_render) {\r\n\r\n\texpression.dom_object = initial_el_to_render;\r\n\r\n\tif (expression.expression == null || expression.expression.length < 1) {\r\n\r\n\t\trenderStartMenu(command, expression, function_obj, initial_el_to_render);\r\n\r\n\t} else {\r\n\t\t\r\n\t\tvar main_div = $('<div class=\"expression_elements\"></div>');\r\n\r\n\t\tswitch (expression.expression.type) {\r\n\t\t\tcase Models.EXPRESSION_TYPES.exp_logic:\r\n\t\t\t\trenderLogicExpression(command, expression, expression.expression, function_obj, main_div, initial_el_to_render);\r\n\t\t\t\tbreak;\r\n\t\t\tcase Models.EXPRESSION_TYPES.exp_arithmetic:\r\n\t\t\t\trenderArithmeticExpression(command, expression, expression.expression, function_obj, main_div);\r\n\t\t\t\tbreak;\r\n\t\t}\r\n\r\n\t\tinitial_el_to_render.append(main_div);\t\r\n\t\tvar restartMenu = $('<div class=\"ui restart_expression\"><i class=\"ui icon undo\"></i></div>');\r\n\t\tinitial_el_to_render.append(restartMenu);\t\r\n\t\trestartMenu.on('click', function(e){\r\n\t    \texpression.expression = null;\r\n\t    \tinitial_el_to_render.empty();\r\n\t    \trenderExpression(command, expression, function_obj, initial_el_to_render);\r\n\t  \t});\r\n\t}\r\n}\r\n\r\nfunction renderArithmeticOperator (command, all_expression, expression_arithmetic, arithmetic_operator, function_obj, element_to_append) {\r\n\r\n\tvar menu_operator = $('<div class=\"ui dropdown\"><div class=\"text\"></div><i class=\"dropdown icon\"></i></div>');\r\n\tmenu_operator.dropdown({\r\n\t    values: [\r\n\t      {\r\n\t        name     : '>',\r\n\t        value    : Models.ARITHMETIC_COMPARISON.greater_than,\r\n\t        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.greater_than)\r\n\t      },\r\n\t      {\r\n\t        name     : '<',\r\n\t        value    : Models.ARITHMETIC_COMPARISON.less_than,\r\n\t        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.less_than)\r\n\t      },\r\n\t      {\r\n\t        name     : '==',\r\n\t        value    : Models.ARITHMETIC_COMPARISON.equals_to,\r\n\t        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.equals_to)\r\n\t      },\r\n\t      {\r\n\t        name     : '!=',\r\n\t        value    : Models.ARITHMETIC_COMPARISON.not_equals_to,\r\n\t        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.not_equals_to)\r\n\t      },\r\n\t      {\r\n\t        name     : '>=',\r\n\t        value    : Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to,\r\n\t        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to)\r\n\t      },\r\n\t      {\r\n\t        name     : '<=',\r\n\t        value    : Models.ARITHMETIC_COMPARISON.less_than_or_equals_to,\r\n\t        selected : (arithmetic_operator == Models.ARITHMETIC_COMPARISON.less_than_or_equals_to)\r\n\t      }\r\n\t    ],\r\n\t    onChange: function(value, text, $selectedItem) {\r\n\t    \texpression_arithmetic.operator = value;\r\n\t    }\r\n\t  })\r\n\t;\r\n\r\n\telement_to_append.append(menu_operator);\r\n}\r\n\r\nfunction renderLogicOperator (command, all_expression, expression_logic, logic_operator, function_obj, element_to_append, initial_el_to_render) {\r\n\r\n\tvar menu_operator = $('<div class=\"ui dropdown\"><div class=\"text\"></div><i class=\"dropdown icon\"></i></div>');\r\n\tmenu_operator.dropdown({\r\n\t    values: [\r\n\t      {\r\n\t        name     : '==',\r\n\t        value    : Models.LOGIC_COMPARISON.equals_to,\r\n\t        selected : (logic_operator == Models.LOGIC_COMPARISON.equals_to)\r\n\t      },\r\n\t      {\r\n\t        name     : '!=',\r\n\t        value    : Models.LOGIC_COMPARISON.not_equals_to,\r\n\t        selected : (logic_operator == Models.LOGIC_COMPARISON.not_equals_to)\r\n\t      },\r\n\t      {\r\n\t        name     : '&&',\r\n\t        value    : Models.LOGIC_COMPARISON.and,\r\n\t        selected : (logic_operator == Models.LOGIC_COMPARISON.and)\r\n\t      },\r\n\t      {\r\n\t        name     : '||',\r\n\t        value    : Models.LOGIC_COMPARISON.or,\r\n\t        selected : (logic_operator == Models.LOGIC_COMPARISON.or)\r\n\t      }\r\n\t    ],\r\n\t    onChange: function(value, text, $selectedItem) {\r\n\t    \tif ($selectedItem) {\r\n\t\t    \texpression_logic.operator = value;\r\n\t\t    \tif (expression_logic.second_operand == null) {\r\n\t\t    \t\texpression_logic.second_operand = new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true);\r\n\t\t    \t\tinitial_el_to_render.empty();\r\n\t\t    \t\trenderExpression(command, all_expression, function_obj, initial_el_to_render);\r\n\t\t    \t}\r\n\t    \t}\r\n\t    }\r\n\t  });\r\n\r\n\telement_to_append.append(menu_operator);\r\n\r\n}\r\n\r\n\r\nfunction renderLogicExpression (command, all_expression, expression_logic, function_obj, element_to_append, initial_el_to_render) {\r\n\r\n\tvar exp_el_par_1 = $(' <span class=\"span_command_spec\"> </span> ');\r\n\tvar exp_el_expr_el_1 = $('<div class=\"expression_element\"></div>');\r\n\tvar exp_el_expr_operand = $('<div class=\"expression_element\"></div>');\r\n\tvar exp_el_expr_el_2 = $('<div class=\"expression_element\"></div>');\r\n\tvar exp_el_par_2 = $(' <span class=\"span_command_spec\"> </span> ');\r\n\r\n\tif (expression_logic.first_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\r\n\t\trenderLogicExpression(command, all_expression, expression_logic.first_operand, function_obj, exp_el_expr_el_1);\r\n\t} else if (expression_logic.first_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic) {\r\n\t\trenderArithmeticExpression(command, all_expression, expression_logic.first_operand, function_obj, exp_el_expr_el_1);\r\n\t} else {\r\n\t\tVariableValueMenuManagement.renderMenu(command, expression_logic.first_operand, exp_el_expr_el_1, function_obj);\r\n\t}\r\n\r\n\telement_to_append.append(exp_el_par_1);\r\n\telement_to_append.append(exp_el_expr_el_1);\r\n\r\n\trenderLogicOperator(command, all_expression, expression_logic, expression_logic.operator, function_obj, exp_el_expr_operand, initial_el_to_render);\r\n\r\n\telement_to_append.append(exp_el_expr_operand);\r\n\r\n\tif (expression_logic.second_operand) {\r\n\t\tif (expression_logic.second_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\r\n\t\t\trenderLogicExpression(command, all_expression, expression_logic.second_operand, function_obj, exp_el_expr_el_2);\r\n\t\t} else if (expression_logic.second_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic) {\r\n\t\t\trenderArithmeticExpression(command, all_expression, expression_logic.second_operand, function_obj, exp_el_expr_el_2);\r\n\t\t} else {\r\n\t\t\tVariableValueMenuManagement.renderMenu(command, expression_logic.second_operand, exp_el_expr_el_2, function_obj);\r\n\t\t}\r\n\r\n\t\telement_to_append.append(exp_el_expr_el_2);\r\n\t}\r\n\r\n\telement_to_append.append(exp_el_par_2);\r\n\r\n}\r\n\r\nfunction renderArithmeticExpression (command, all_expression, expression_arithmetic, function_obj, element_to_append) {\r\n\r\n\tvar exp_el_par_1 = $(' <span class=\"span_command_spec\"> </span> ');\r\n\tvar exp_el_expr_el_1 = $('<div class=\"expression_element\"></div>');\r\n\tvar exp_el_expr_operand = $('<div class=\"expression_element\"></div>');\r\n\tvar exp_el_expr_el_2 = $('<div class=\"expression_element\"></div>');\r\n\tvar exp_el_par_2 = $(' <span class=\"span_command_spec\"> </span> ');\r\n\r\n\r\n\tif (expression_arithmetic.first_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\r\n\t\trenderLogicExpression(command, all_expression, expression_arithmetic.first_operand, function_obj, exp_el_expr_el_1);\r\n\t} else if (expression_arithmetic.first_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic) {\r\n\t\trenderArithmeticExpression(command, all_expression, expression_arithmetic.first_operand, function_obj, exp_el_expr_el_1);\r\n\t} else {\r\n\t\tVariableValueMenuManagement.renderMenu(command, expression_arithmetic.first_operand, exp_el_expr_el_1, function_obj);\r\n\t}\r\n\r\n\tif (expression_arithmetic.second_operand.type == Models.EXPRESSION_TYPES.exp_logic) {\r\n\t\trenderLogicExpression(command, all_expression, expression_arithmetic.second_operand, function_obj, exp_el_expr_el_2);\r\n\t} else if (expression_arithmetic.second_operand.type == Models.EXPRESSION_TYPES.exp_arithmetic) {\r\n\t\trenderArithmeticExpression(command, all_expression, expression_arithmetic.second_operand, function_obj, exp_el_expr_el_2);\r\n\t} else {\r\n\t\tVariableValueMenuManagement.renderMenu(command, expression_arithmetic.second_operand, exp_el_expr_el_2, function_obj);\r\n\t}\r\n\r\n\trenderArithmeticOperator(command, all_expression, expression_arithmetic, expression_arithmetic.operator, function_obj, exp_el_expr_operand);\r\n\r\n\telement_to_append.append(exp_el_par_1);\r\n\telement_to_append.append(exp_el_expr_el_1);\r\n\telement_to_append.append(exp_el_expr_operand);\r\n\telement_to_append.append(exp_el_expr_el_2);\r\n\telement_to_append.append(exp_el_par_2);\r\n}\r\n\r\nfunction renderStartMenu (command, expression, function_obj, initial_el_to_render) {\r\n\tvar start_menu = '';\r\n\tstart_menu += '<div class=\"ui dropdown menu_start_rendered\"><div class=\"text\"><i>'+LocalizedStrings.getUI('expression_menu_select')+'</i></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n\tstart_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_TYPES.exp_logic+'\">'+LocalizedStrings.getUI('text_logic_expression')+' (EL == EL and EL)</div>';\r\n\tstart_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_TYPES.exp_arithmetic+'\">'+LocalizedStrings.getUI('text_arithmetic_expression')+' (EA < EA)</div>';\r\n\tstart_menu += '</div></div>';\r\n\tstart_menu = $(start_menu);\r\n\r\n\tstart_menu.dropdown({\r\n\t\tonChange: function(value, text, $selectedItem) {\r\n\t\t\tswitch ($selectedItem.data('exp')) {\r\n\t\t\t\tcase Models.EXPRESSION_TYPES.exp_logic:\r\n\t\t\t\t\texpression.expression = \r\n\t\t\t\t\t\tnew Models.LogicExpression(false, \r\n\t\t\t\t\t\t\tnew Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase Models.EXPRESSION_TYPES.exp_arithmetic:\r\n\t\t\t\t\texpression.expression = \r\n\t\t\t\t\t\tnew Models.ArithmeticExpression(\r\n\t\t\t\t\t\t\tnew Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true), \r\n\t\t\t\t\t\t\tnew Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true), \r\n\t\t\t\t\t\t\tModels.ARITHMETIC_COMPARISON.less_than);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\tinitial_el_to_render.html('');\r\n\r\n\t\t\trenderExpression(command, expression, function_obj, initial_el_to_render);\r\n    \t},\r\n    \tselectOnKeydown: false\r\n\t});\r\n\r\n\tinitial_el_to_render.append(' <span class=\"span_command_spec\"> </span> ');\r\n\t\r\n\tinitial_el_to_render.append(start_menu);\r\n\r\n\tinitial_el_to_render.append(' <span class=\"span_command_spec\"> </span> ');\r\n}","import * as Models from '../ivprog_elements';\r\nimport { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as CommandsManagement from '../commands';\r\nimport * as VariableValueMenuManagement from './variable_value_menu';\r\nimport * as SwitchManagement from './switch';\r\n\r\nexport function renderMenu (command, dom_where_render, function_obj, dom_command) {\r\n\r\n\tvar menu_div = '<div class=\"ui dropdown menu_commands pause\" ><button><i class=\"icon code\"></i></button> <div class=\"menu\"> ';\r\n\r\n\tif ((command.type == Models.COMMAND_TYPES.repeatNtimes) \r\n\t\t|| (command.type == Models.COMMAND_TYPES.whiletrue) \r\n\t\t|| (command.type == Models.COMMAND_TYPES.dowhiletrue)) {\r\n\r\n\t\tmenu_div += '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.break+'\"><i class=\"pause icon\"></i> '+LocalizedStrings.getUI('btn_break')+' </a>';\r\n\r\n\t} else {\r\n\r\n\t\tmenu_div += '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.break+'\"><i class=\"pause icon\"></i> '+LocalizedStrings.getUI('btn_break')+' </a>';\r\n\t\tmenu_div += '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.switchcase+'\"><i class=\"plus icon\"></i> '+LocalizedStrings.getUI('btn_case')+' </a>';\r\n\r\n\t}\r\n\r\n\tmenu_div += '</div></div>';\r\n\r\n\tmenu_div = $(menu_div);\r\n  \t\r\n\tdom_where_render.append(menu_div);\r\n\r\n\taddHandlers(command, dom_where_render, function_obj, dom_command);\r\n\r\n\tif (command.collapsed) {\r\n\t\tdom_command.children('.ui.block_commands').toggle();\r\n\t}\r\n}\r\n\r\nfunction addHandlers (command, dom_where_render, function_obj, dom_command) {\r\n\r\n\tdom_where_render.find('.menu_commands').dropdown({\r\n      on: 'hover'\r\n    });\r\n\t\r\n\tdom_where_render.find('.menu_commands a').on('click', function(evt){\r\n\r\n\t\tif ((command.type == Models.COMMAND_TYPES.repeatNtimes) \r\n\t\t\t|| (command.type == Models.COMMAND_TYPES.whiletrue) \r\n\t\t\t|| (command.type == Models.COMMAND_TYPES.dowhiletrue)) {\r\n\r\n\t\t\t\tif (command.commands_block == null || command.commands_block.length == 0) {\r\n\r\n\t\t\t      command.commands_block = [];\r\n\r\n\t\t\t      var new_cmd = CommandsManagement.genericCreateCommand($(this).data('command'));\r\n\t\t\t      command.commands_block.push(new_cmd);\r\n\r\n\t\t\t      CommandsManagement.renderCommand(new_cmd, dom_command.find('.block_commands'), 3, function_obj);\r\n\r\n\t\t\t    } else {\r\n\t\t\t      CommandsManagement.createFloatingCommand(function_obj, dom_command.find('.block_commands'), $(this).data('command'), evt);\r\n\t\t\t    }\r\n\r\n\t\t} else {\r\n\r\n\t\t\tswitch ($(this).data('command')) {\r\n\t\t\t\tcase Models.COMMAND_TYPES.break:\r\n\t\t\t\t\tCommandsManagement.createFloatingCommand(function_obj, dom_command.find('.block_commands'), $(this).data('command'), evt);\r\n\t\t\t\t\tbreak;\r\n\r\n\t\t\t\tcase Models.COMMAND_TYPES.switchcase:\r\n\t\t\t\t\taddCaseToSwitch(command, dom_where_render, function_obj, dom_command);\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t});\r\n}\r\n\r\nfunction addCaseToSwitch (command, dom_where_render, function_obj, dom_command) {\r\n\t\r\n\tif ((command.cases == null)) {\r\n\t\tcommand.cases = [];\r\n\t}\r\n\t\r\n\tvar sc = new Models.SwitchCase(new Models.VariableValueMenu(VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all, null, null, null, true));\r\n\r\n\tcommand.cases.push(sc);\r\n\r\n\tSwitchManagement.renderCase(sc, command, function_obj, dom_command.find('.all_cases_div'));\r\n\r\n}\r\n\r\n\r\n\r\n","import { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as CommandsManagement from '../commands';\r\nimport * as ConditionalExpressionManagement from './conditional_expression';\r\nimport * as ContextualizedMenu from './contextualized_menu';\r\nimport * as GenericExpressionManagement from './generic_expression';\r\nimport * as CodeGenerator from '../code_generator';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui dowhiletrue created_element\"> <i class=\"ui icon small sync\"></i> <span> '+ LocalizedStrings.getUI('text_command_do') +' <br> ' + LocalizedStrings.getUI('text_command_do_until') +'(x < 10) </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar ret = '';\r\n\tret += '<div class=\"ui dowhiletrue command_container\"> <i class=\"ui icon small sync command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <button class=\"ui icon button minimize_block_button tiny\"><i class=\"icon window minimize\"></i></button> <span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_command_do') + ' </span>';\r\n\tret += '<div class=\"ui block_commands\" data-subblock=\"\" data-idcommand=\"\">';\r\n\tret += '</div>';\r\n\tret += ' <span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_command_do_until') + ' </span> <span class=\"span_command_spec\"> ( </span> <div class=\"conditional_expression\"></div> <span class=\"textual_expression\"></span> <span class=\"span_command_spec\"> ) </span>';\r\n\tret += '  <i class=\"ui icon i cursor button_write_expression\" style=\"display: inline !important;\"></i> <i class=\"ui icon unlock button_alternate_expression\" style=\"margin-left: 1rem !important;\"></i> <div class=\"ui context_menu\"></div> ';\r\n\tret += '</div>';\r\n\r\n\tvar el = $(ret);\r\n\tel.data('command', command);\r\n\tel.find('.block_commands').data('command', command);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\tContextualizedMenu.renderMenu(command, el.find('.context_menu'), function_obj, el);\r\n\r\n\t//ConditionalExpressionManagement.renderExpression(command, command.expression, function_obj, el.find('.conditional_expression'));\r\n\r\n\tif (command.expression) {\r\n\t\tGenericExpressionManagement.renderExpression(command, function_obj, el.find('.conditional_expression'), command.expression);\r\n\t}\r\n\r\n\tif (command.commands_block) {\r\n\t\tfor (var j = 0; j < command.commands_block.length; j++) {\r\n\t\t    CommandsManagement.renderCommand(command.commands_block[j], $(el.find('.block_commands')[0]), 3, function_obj);\r\n\t\t}\r\n\t}\r\n\r\n\tif (command.lockexpression) {\r\n\t\tif (command.expression) {\r\n\t\t\ttry {\r\n\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\t\tif (text) {\r\n\t\t\t\t\t$(el.find('.conditional_expression')[el.find('.conditional_expression').length - 1]).toggle();\r\n\t\t\t\t\t$(el.find('.textual_expression')[el.find('.textual_expression').length - 1]).text(text);\r\n\t\t\t\t\t$(el.find('.textual_expression')[el.find('.textual_expression').length - 1]).toggle();\r\n\t\t\t\t\t$(el.find('.button_alternate_expression')[el.find('.button_alternate_expression').length - 1]).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tcommand.lockexpression = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tel.find('.unlock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.lock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.button_write_expression').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\r\n\treturn el;\r\n}\r\n\r\n\r\nfunction addHandlers (command, function_obj, dowhiletrue_dom) {\r\n\r\n\tdowhiletrue_dom.find('.button_write_expression').on('click', function() {\r\n\r\n\t\twindow.expressionEdition = true;\r\n\t\twindow.inputExpression = null;\r\n\t\t\r\n\t\tvar afterWhichElement;\r\n\t\tvar lockButton = $(dowhiletrue_dom.find('.button_write_expression')[dowhiletrue_dom.find('.button_write_expression').length - 1]);\r\n\t\tvar editButton = $(this);\r\n\r\n\t\tafterWhichElement = $(dowhiletrue_dom.find('.conditional_expression')[dowhiletrue_dom.find('.conditional_expression').length - 1]);\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\tafterWhichElement = $(dowhiletrue_dom.find('.textual_expression')[dowhiletrue_dom.find('.textual_expression').length - 1]);\r\n\t\t}\r\n\r\n\t\tvar text = \"\";\r\n\t\tif (command.expression) {\r\n\t\t\tif (command.expression.length == 1 && command.expression[0].content == null && !command.expression[0].function_called) {\r\n\t\t\t\ttext = \"\";\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttext = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\t\t} catch(ex) {\r\n\t\t\t\t\ttext = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\r\n\t\tvar cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\r\n\t\tvar input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\r\n\t\tinput.val(text);\r\n\r\n\t\tinput.focusout(function(evt) {\r\n\t\t\tok_button.click();\r\n\t\t\tevt.preventDefault();\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\t\r\n\t\tinput.keyup(function(evt) {\r\n\t\t\tif (evt.keyCode == 27) { // esc\r\n\t\t\t\tcancel_button.click();\r\n\t\t\t} \r\n\t\t\tif (evt.keyCode == 13) { // enter\r\n\t\t\t\tok_button.click();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tok_button.click(function() {\r\n\t\t\tvar parsed = null;\r\n\t\t\tparsed = GenericExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.expression = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcancel_button.mousedown(function(evt) {\r\n\t\t\tvar parsed = GenericExpressionManagement.expressionParserToVisual(text, function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.expression = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tinput.insertAfter(afterWhichElement);\r\n\t\tinput.focus();\r\n\t\tcancel_button.insertAfter(input);\r\n\t\tok_button.insertAfter(input);\r\n\t\tvar len = text.length; \r\n\t\tinput[0].setSelectionRange(len, len); \r\n\r\n\t\tafterWhichElement.css('display', 'none');\r\n\t\tlockButton.css('display', 'none');\r\n\t\teditButton.css('display', 'none');\r\n\r\n\t\tok_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t\tcancel_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\tdowhiletrue_dom.find('.minimize_block_button').on('click', function(evt){\r\n\t\tdowhiletrue_dom.children('.ui.block_commands').toggle();\r\n\t\tcommand.collapsed = !command.collapsed;\r\n\t});\r\n\r\n\t$(dowhiletrue_dom.find('.textual_expression')[0]).toggle();\r\n\t\r\n\tdowhiletrue_dom.find('.button_alternate_expression').on('click', function() {\r\n\t\tif (command.expression) {\r\n\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\tif (text) {\r\n\t\t\t\t$(dowhiletrue_dom.find('.conditional_expression')[dowhiletrue_dom.find('.conditional_expression').length - 1]).toggle();\r\n\t\t\t\t$(dowhiletrue_dom.find('.textual_expression')[dowhiletrue_dom.find('.textual_expression').length - 1]).text(text);\r\n\t\t\t\t$(dowhiletrue_dom.find('.textual_expression')[dowhiletrue_dom.find('.textual_expression').length - 1]).toggle();\r\n\r\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\tdowhiletrue_dom.find('.lock').popup({\r\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\t\t\tdelay: {\r\n\t\t\t\t\tshow: 750,\r\n\t\t\t\t\thide: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tdowhiletrue_dom.find('.unlock').popup({\r\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\t\t\tdelay: {\r\n\t\t\t\t\tshow: 750,\r\n\t\t\t\t\thide: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tdowhiletrue_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, dowhiletrue_dom)) {\r\n\t\t\tdowhiletrue_dom.fadeOut(400, function() {\r\n\t\t\t\tdowhiletrue_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}","import * as VariableValueMenu from './variable_value_menu';\r\nimport * as CommandsManagement from '../commands';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui functioncall created_element\"> <i class=\"hand point right icon\"></i> <span> funcao() </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar el = $('<div class=\"ui functioncall command_container\"> <i class=\"hand point right icon command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <div class=\"var_value_menu_div\"></div> </div>');\r\n\tel.data('command', command);\r\n\r\n\tVariableValueMenu.renderMenu(command, command.function_called, el.find('.var_value_menu_div'), function_obj);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\treturn el;\r\n}\r\n\r\nfunction addHandlers (command, function_obj, functioncall_dom) {\r\n\r\n\tfunctioncall_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, functioncall_dom)) {\r\n\t\t\tfunctioncall_dom.fadeOut(400, function() {\r\n\t\t\t\tfunctioncall_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}","import { Types } from \"../types\";\r\nimport * as Models from \"../ivprog_elements\";\r\nimport { LocalizedStrings } from \"../../services/localizedStringsService\";\r\nimport * as VariableValueMenuManagement from \"./variable_value_menu\";\r\nimport { registerUserEvent, ActionTypes } from \"../../services/userLog\";\r\nimport WatchJS from \"melanke-watchjs\";\r\nimport * as Utils from '../utils';\r\n\r\nwindow.timer = false;\r\n\r\nexport function renderExpression (\r\n  command,\r\n  function_obj,\r\n  div_to_render,\r\n  expression_array\r\n) {\r\n  div_to_render.empty();\r\n\r\n  WatchJS.unwatch(command, \"expression\");\r\n  WatchJS.watch(\r\n    command,\r\n    \"expression\",\r\n    function () {\r\n      if (window.timer) return;\r\n      const m = div_to_render\r\n        .find(\".single_element_expression\")\r\n        .not(\".mouse_distance\")\r\n        .not(\".add_parentheses\");\r\n      let s = \"\";\r\n      m.each(function (e) {\r\n        if ($(this).hasClass(\"parentheses_in_expression\")) {\r\n          s += $(this).text() + \" \";\r\n        } else {\r\n          s += $(this)\r\n            .find(\".text\")\r\n            .text();\r\n\r\n          s += $(this)\r\n            .find(\".var_name\")\r\n            .text();\r\n\r\n          s += $(this)\r\n            .find(\".parameters_function_called\")\r\n            .text();\r\n\r\n          s += $(this)\r\n            .find(\".value_rendered\")\r\n            .text();\r\n\r\n          s += \" \";\r\n        }\r\n      });\r\n      if (s) {\r\n        window.timer = true;\r\n      } else {\r\n        return;\r\n      }\r\n      registerUserEvent(\r\n        function_obj.name,\r\n        ActionTypes.CHANGE_COMMAND_EXP,\r\n        command.type,\r\n        \"/\",\r\n        s\r\n      );\r\n      setTimeout(function () {\r\n        window.timer = false;\r\n      }, 200);\r\n    },\r\n    20,\r\n    true\r\n  );\r\n\r\n  if (command.type === Models.COMMAND_TYPES.attribution) {\r\n    WatchJS.unwatch(command.variable);\r\n    WatchJS.watch(\r\n      command.variable,\r\n      function () {\r\n        renderExpression(\r\n          command,\r\n          function_obj,\r\n          div_to_render,\r\n          expression_array\r\n        );\r\n      },\r\n      0\r\n    );\r\n\r\n    if (command.variable.content) {\r\n      const types_included = [];\r\n\r\n      if (\r\n        command.variable.content.type == Types.INTEGER ||\r\n        command.variable.content.type == Types.REAL\r\n      ) {\r\n        types_included.push(Models.EXPRESSION_TYPES.exp_arithmetic);\r\n      } else if (command.variable.content.type == Types.BOOLEAN) {\r\n        types_included.push(Models.EXPRESSION_TYPES.exp_conditional);\r\n        types_included.push(Models.EXPRESSION_TYPES.exp_logic);\r\n        types_included.push(Models.EXPRESSION_TYPES.exp_arithmetic);\r\n      } else if (command.variable.content.type == Types.TEXT) {\r\n        types_included.push(Models.EXPRESSION_TYPES.exp_conditional);\r\n        types_included.push(Models.EXPRESSION_TYPES.exp_logic);\r\n        types_included.push(Models.EXPRESSION_TYPES.exp_arithmetic);\r\n      } else {\r\n        //console.log(\"NO RECONHECI! VEJA: \", command.variable.content.type);\r\n      }\r\n\r\n      renderElements(\r\n        command,\r\n        function_obj,\r\n        div_to_render,\r\n        expression_array,\r\n        types_included\r\n      );\r\n    } else {\r\n      div_to_render.text(\r\n        LocalizedStrings.getUI(\"var_menu_select_var\").toLowerCase()\r\n      );\r\n    }\r\n  } else {\r\n    const types_included = [];\r\n    types_included.push(Models.EXPRESSION_TYPES.exp_conditional);\r\n    types_included.push(Models.EXPRESSION_TYPES.exp_logic);\r\n    if (command.type === Models.COMMAND_TYPES.writer)\r\n      types_included.push(Models.EXPRESSION_TYPES.write_sep);\r\n    types_included.push(Models.EXPRESSION_TYPES.exp_arithmetic);\r\n    renderElements(\r\n      command,\r\n      function_obj,\r\n      div_to_render,\r\n      expression_array,\r\n      types_included\r\n    );\r\n  }\r\n\r\n  div_to_render.children(\".mouse_distance\").addClass(\"mouse_distance_hidden\");\r\n  div_to_render.children(\".higher_element\").on(\"mousemove\", function (evt) {\r\n    if (!window.open_or_close) {\r\n      $(this).css(\"position\", \"relative\", \"!important\");\r\n      $(this)\r\n        .children(\".mouse_distance\")\r\n        .css(\"opacity\", \"1\");\r\n    }\r\n  });\r\n  div_to_render.children(\".higher_element\").on(\"mouseout\", function (evt) {\r\n    if (!window.open_or_close) {\r\n      $(this).css(\"position\", \"absolute\", \"!important\");\r\n      $(this)\r\n        .children(\".mouse_distance\")\r\n        .css(\"opacity\", \"0\");\r\n    }\r\n  });\r\n  const lixeira = $('<div class=\"lixeira\" draggable=\"true\"></div>');\r\n\r\n  div_to_render\r\n    .find(\".single_element_expression\")\r\n    .on(\"mousedown\", function (evt) {\r\n      window.posX = evt.clientX;\r\n      window.posY = evt.clientY;\r\n    });\r\n\r\n  Sortable.create(div_to_render[0], {\r\n    animation: 100,\r\n    ghostClass: \"ghost\",\r\n    group: {\r\n      name: \"shared\",\r\n      put: false, // Do not allow items to be put into this list\r\n    },\r\n    draggable: \".single_element_expression\",\r\n    sort: false,\r\n    filter: \".not_allowed\",\r\n\r\n    onStart: function () {\r\n      $(\"body\").append(lixeira);\r\n      lixeira.css(\"display\", \"block\");\r\n      lixeira.css(\"top\", window.posY + 70, \"!important\");\r\n      lixeira.css(\"left\", window.posX - 20, \"!important\");\r\n    },\r\n    onMove: function () {\r\n      lixeira.addClass(\"color_test\");\r\n    },\r\n    onEnd: function () {\r\n      lixeira.remove();\r\n      div_to_render.find(\".ghost\").removeClass(\"ghost\");\r\n    },\r\n  });\r\n  new Sortable(lixeira[0], {\r\n    group: \"shared\",\r\n    animation: 150,\r\n    onAdd: function (evt) {\r\n      lixeira.css(\"display\", \"none\");\r\n      lixeira.find(\".single_element_expression\").remove();\r\n      lixeira.css(\"background-color\", \"\");\r\n      lixeira.remove();\r\n      removeElement(evt, expression_array);\r\n      renderExpression(command, function_obj, div_to_render, expression_array);\r\n    },\r\n  });\r\n}\r\n\r\nfunction removeElement (event, expression_array) {\r\n  const indice = $(event.item).data(\"index\");\r\n  const first = expression_array[0];\r\n  if (expression_array[indice].type) {\r\n    // if is alone in expression:\r\n    if (expression_array.length == 1) {\r\n      //function_obj.commands.splice(function_obj.commands.indexOf(command), 1);\r\n      expression_array.splice(0, 1);\r\n    } else if (expression_array.length > 1) {\r\n      if (indice > 0 && expression_array[indice - 1].type_op) {\r\n        if (\r\n          indice < expression_array.length &&\r\n          expression_array[indice - 2] == \"(\" &&\r\n          expression_array[indice + 1].type_op\r\n        ) {\r\n          expression_array.splice(indice + 1, 1);\r\n        }\r\n        expression_array.splice(indice, 1);\r\n        expression_array.splice(indice - 1, 1);\r\n        if (\r\n          indice - 2 < expression_array.length &&\r\n          expression_array[indice - 2] == \"(\" &&\r\n          expression_array[indice - 1] == \")\"\r\n        ) {\r\n          expression_array.splice(indice - 1, 1);\r\n          expression_array.splice(indice - 2, 1);\r\n          if (\r\n            indice - 3 >= 0 &&\r\n            indice - 3 < expression_array.length &&\r\n            expression_array[indice - 3].type_op\r\n          ) {\r\n            expression_array.splice(indice - 3, 1);\r\n          }\r\n        }\r\n      } else if (\r\n        indice < expression_array.length - 1 &&\r\n        expression_array[indice + 1].type_op\r\n      ) {\r\n        expression_array.splice(indice + 1, 1);\r\n        expression_array.splice(indice, 1);\r\n      } else if (\r\n        indice < expression_array.length - 1 &&\r\n        indice > 0 &&\r\n        expression_array[indice - 1] == \"(\" &&\r\n        expression_array[indice + 1] == \")\"\r\n      ) {\r\n        if (indice > 1 && expression_array[indice - 2].type_op) {\r\n          expression_array.splice(indice + 1, 1);\r\n          expression_array.splice(indice, 1);\r\n          expression_array.splice(indice - 1, 1);\r\n          expression_array.splice(indice - 2, 1);\r\n        } else if (\r\n          indice < expression_array.length - 2 &&\r\n          expression_array[indice + 2].type_op\r\n        ) {\r\n          expression_array.splice(indice + 1, 1);\r\n          expression_array.splice(indice, 1);\r\n          expression_array.splice(indice - 1, 1);\r\n        } else {\r\n          expression_array.splice(indice + 1, 1);\r\n          expression_array.splice(indice, 1);\r\n          expression_array.splice(indice - 1, 1);\r\n        }\r\n      }\r\n    }\r\n  } else if (expression_array[indice].type_op) {\r\n    // iVProg doesn't support operator remove\r\n  } else {\r\n    let opening = -1;\r\n    let closing = -1;\r\n\r\n    if (expression_array[indice] == \"(\") {\r\n      opening = indice;\r\n      for (var i = indice + 1; i < expression_array.length; i++) {\r\n        if (expression_array[i] == \")\") {\r\n          closing = i;\r\n          break;\r\n        }\r\n      }\r\n    } else {\r\n      closing = indice;\r\n      for (var i = indice - 1; i >= 0; i--) {\r\n        if (expression_array[i] == \"(\") {\r\n          opening = i;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (expression_array[opening + 1].type_op) {\r\n      expression_array.splice(closing, 1);\r\n      expression_array.splice(opening + 1, 1);\r\n      expression_array.splice(opening, 1);\r\n    } else {\r\n      expression_array.splice(closing, 1);\r\n      expression_array.splice(opening, 1);\r\n    }\r\n  }\r\n  // if expression is empty, add a new var value:\r\n  if (expression_array.length == 0) {\r\n    expression_array.push(\r\n      new Models.VariableValueMenu(\r\n        VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n        null,\r\n        null,\r\n        null,\r\n        true\r\n      )\r\n    );\r\n  }\r\n  if (first != expression_array[0] && expression_array[0].type_op) {\r\n    expression_array.splice(0, 1);\r\n  }\r\n}\r\n\r\nfunction renderElements (\r\n  command,\r\n  function_obj,\r\n  div_to_render,\r\n  expression_array,\r\n  types_included\r\n) {\r\n  /*if (expression_array.length > 0) {\r\n\t\tif (!expression_array[0].type_op) {\r\n\t\t\trenderStartAddOperator(div_to_render, types_included, expression_array, command, function_obj, 0);\r\n\t\t}\r\n\t}*/\r\n\r\n  let i = 0;\r\n  for (i = 0; i < expression_array.length; i++) {\r\n    if (expression_array[i].type == \"var_value\") {\r\n      const div_temp = $(\r\n        '<div class=\"single_element_expression\" data-index=\"' + i + '\"></div>'\r\n      );\r\n      if (i == 0) {\r\n        if (expression_array.length > 0 && !expression_array[0].type_op) {\r\n          //renderStartAddOperator(div_to_render, types_included, expression_array, command, function_obj, 0);\r\n        }\r\n      }\r\n      VariableValueMenuManagement.renderMenu(\r\n        command,\r\n        expression_array[i],\r\n        div_temp,\r\n        function_obj\r\n      );\r\n      div_to_render.append(div_temp);\r\n    } else if (expression_array[i] == \"(\" || expression_array[i] == \")\") {\r\n      if (expression_array[i] == \")\") {\r\n        renderFinalAddElements(\r\n          div_to_render,\r\n          types_included,\r\n          expression_array,\r\n          command,\r\n          function_obj,\r\n          i\r\n        );\r\n        renderParenthesis(\r\n          div_to_render,\r\n          expression_array[i],\r\n          command,\r\n          function_obj,\r\n          i,\r\n          expression_array\r\n        );\r\n      } else if (\r\n        expression_array[i] == \"(\" &&\r\n        !expression_array[i + 1].type_op\r\n      ) {\r\n        renderParenthesis(\r\n          div_to_render,\r\n          expression_array[i],\r\n          command,\r\n          function_obj,\r\n          i,\r\n          expression_array\r\n        );\r\n        renderStartAddOperator(\r\n          div_to_render,\r\n          types_included,\r\n          expression_array,\r\n          command,\r\n          function_obj,\r\n          i + 1\r\n        );\r\n      } else {\r\n        renderParenthesis(\r\n          div_to_render,\r\n          expression_array[i],\r\n          command,\r\n          function_obj,\r\n          i,\r\n          expression_array\r\n        );\r\n      }\r\n    } else {\r\n      if (i == 0) {\r\n      } else if (expression_array[i - 1] == \"(\") {\r\n      }\r\n      renderOperatorMenu(\r\n        command,\r\n        function_obj,\r\n        div_to_render,\r\n        expression_array[i],\r\n        types_included,\r\n        i,\r\n        expression_array\r\n      );\r\n    }\r\n  }\r\n\r\n  renderFinalAddElements(\r\n    div_to_render,\r\n    types_included,\r\n    expression_array,\r\n    command,\r\n    function_obj,\r\n    i,\r\n    true\r\n  );\r\n\r\n  renderAddParenthesis(\r\n    command,\r\n    function_obj,\r\n    div_to_render,\r\n    expression_array,\r\n    types_included\r\n  );\r\n}\r\n\r\nwindow.parentheses_activate = false;\r\nwindow.open_or_close = null;\r\nfunction renderAddParenthesis (\r\n  command,\r\n  function_obj,\r\n  div_to_render,\r\n  expression_array,\r\n  types_included\r\n) {\r\n  const addParentheses = $(\r\n    '<div class=\"single_element_expression add_parentheses not_allowed\"><img style=\"width: 15px; position: relative; top: 3px; left: 1px; height: 15px;\" src=\"data:image/png;base64,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\"></div>'\r\n  );\r\n  div_to_render.append(addParentheses);\r\n  addParentheses.popup({\r\n    content: \"Adicionar parnteses\",\r\n    delay: {\r\n      show: 750,\r\n      hide: 0,\r\n    },\r\n  });\r\n\r\n  addParentheses.on(\"click\", function (mouse_event) {\r\n    // verificar se j est ativado\r\n    if (window.parentheses_activate) {\r\n      return;\r\n    }\r\n\r\n    div_to_render.find(\".usepointer\").off(\"click\");\r\n\r\n    window.parentheses_activate = true;\r\n\r\n    window.open_or_close = \"open\";\r\n\r\n    div_to_render.find(\".dropdown\").addClass(\"disabled\");\r\n\r\n    div_to_render.find(\".ghost_element\").addClass(\"temp_class\");\r\n    div_to_render.find(\".ghost_element\").removeClass(\"ghost_element\");\r\n\r\n    const floatingObject = $('<div class=\"floating_parenthesis\"> ( </div>');\r\n    floatingObject.draggable().appendTo(\"body\");\r\n    floatingObject.css(\"position\", \"absolute\");\r\n    mouse_event.type = \"mousedown.draggable\";\r\n    mouse_event.target = floatingObject[0];\r\n    floatingObject.css(\"left\", mouse_event.pageX + 10);\r\n    floatingObject.css(\"top\", mouse_event.pageY + 10);\r\n    floatingObject.trigger(mouse_event);\r\n\r\n    div_to_render.on(\"mousemove\", function (evt) {\r\n      let actual_target = null;\r\n      if ($(evt.target).hasClass(\"single_element_expression\")) {\r\n        actual_target = $(evt.target);\r\n      } else {\r\n        actual_target = $(evt.target).closest(\".single_element_expression\");\r\n      }\r\n\r\n      if (\r\n        $(evt.target).hasClass(\"temp_class\") ||\r\n        actual_target.length < 1 ||\r\n        actual_target.hasClass(\"add_parentheses\") ||\r\n        actual_target.hasClass(\"rendered_parentheses\") ||\r\n        $(evt.target).hasClass(\"expression_elements\")\r\n      ) {\r\n        return;\r\n      }\r\n      renderGhostParentheses(\r\n        actual_target,\r\n        command,\r\n        function_obj,\r\n        div_to_render,\r\n        expression_array\r\n      );\r\n    });\r\n\r\n    div_to_render.on(\"mouseleave\", function () {\r\n      /*window.open_parentheses.remove();\r\n\t\t\twindow.close_parentheses.remove();*/\r\n    });\r\n\r\n    let floating;\r\n\r\n    $(\"body\").on(\"mouseup\", function (evt) {\r\n      if (window.open_or_close == \"open\") {\r\n        window.open_or_close = \"close\";\r\n\r\n        floatingObject.remove();\r\n\r\n        var comando_que_esta = $(evt.target).closest(\".command_container\");\r\n        var comando_certo = div_to_render.closest(\".command_container\");\r\n        if (!comando_que_esta.is(comando_certo)) {\r\n          window.parentheses_activate = false;\r\n          div_to_render.find(\".temp_class\").addClass(\"ghost_element\");\r\n          div_to_render.find(\".temp_class\").removeClass(\"temp_class\");\r\n          div_to_render.off(\"mousemove\");\r\n          div_to_render.off(\"mouseleave\");\r\n          $(\"body\").off(\"mouseup\");\r\n          window.open_parentheses.remove();\r\n          window.close_parentheses.remove();\r\n          window.inserir_open = -1;\r\n          window.inserir_close = -1;\r\n          window.open_or_close = null;\r\n          renderExpression(\r\n            command,\r\n            function_obj,\r\n            div_to_render,\r\n            expression_array\r\n          );\r\n\r\n          return;\r\n        }\r\n\r\n        window.open_parentheses.addClass(\"parentheses_fixed\");\r\n\r\n        floating = $('<div class=\"floating_parenthesis\"> ) </div>');\r\n        floating.draggable().appendTo(\"body\");\r\n        floating.css(\"position\", \"absolute\");\r\n        floating.css(\"left\", evt.pageX + 10);\r\n        floating.css(\"top\", evt.pageY + 10);\r\n\r\n        $(\"body\").on(\"mousemove\", function (evts) {\r\n          floating.css(\"left\", evts.pageX + 10);\r\n          floating.css(\"top\", evts.pageY + 10);\r\n        });\r\n      } else {\r\n        floating.remove();\r\n\r\n        window.open_parentheses.removeClass(\"parentheses_fixed\");\r\n\r\n        div_to_render.off(\"mousemove\");\r\n        div_to_render.off(\"mouseleave\");\r\n        $(\"body\").off(\"mouseup\");\r\n\r\n        setTimeout(function () {\r\n          window.parentheses_activate = false;\r\n        }, 50);\r\n\r\n        var comando_que_esta = $(evt.target).closest(\".command_container\");\r\n        var comando_certo = div_to_render.closest(\".command_container\");\r\n        let is_correct = false;\r\n        if (comando_que_esta.is(comando_certo)) {\r\n          is_correct = true;\r\n        }\r\n\r\n        if (is_correct) {\r\n          expression_array.splice(window.inserir_open, 0, \"(\");\r\n          expression_array.splice(window.inserir_close, 0, \")\");\r\n        }\r\n\r\n        window.inserir_open = -1;\r\n        window.inserir_close = -1;\r\n        window.open_or_close = null;\r\n\r\n        renderExpression(\r\n          command,\r\n          function_obj,\r\n          div_to_render,\r\n          expression_array\r\n        );\r\n      }\r\n    });\r\n  });\r\n}\r\n\r\nwindow.open_parentheses = $('<div class=\"parentheses_ghost\">(</div>');\r\nwindow.close_parentheses = $('<div class=\"parentheses_ghost\">)</div>');\r\nwindow.inserir_open = -1;\r\nwindow.inserir_close = -1;\r\nfunction renderGhostParentheses (\r\n  actual_target,\r\n  command,\r\n  function_obj,\r\n  div_to_render,\r\n  expression_array\r\n) {\r\n  /*window.open_parentheses.remove();\r\n\twindow.close_parentheses.remove();*/\r\n\r\n  const index_in_array = actual_target.data(\"index\");\r\n\r\n  if (\r\n    expression_array[index_in_array] == \"(\" ||\r\n    expression_array[index_in_array] == \")\"\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  if (window.open_or_close == \"close\") {\r\n    if (index_in_array < window.inserir_open) {\r\n      return;\r\n    }\r\n  }\r\n\r\n  // Tratando a situao quando  na primeira posio:\r\n\r\n  if (index_in_array == 0) {\r\n    if (expression_array[index_in_array].type == \"var_value\") {\r\n      if (window.open_or_close == \"open\") {\r\n        window.open_parentheses.insertBefore(actual_target);\r\n        window.inserir_open = index_in_array;\r\n      }\r\n\r\n      /*if (expression_array.length == 1) {\r\n\t\t\t\tif (window.open_or_close == \"close\") {\r\n\t\t\t\t\twindow.close_parentheses.insertAfter(actual_target);\r\n\t\t\t\t\twindow.inserir_close = index_in_array + 2;\r\n\t\t\t\t}*/\r\n\r\n      //} else {\r\n      var count_opened = 0;\r\n      var count_closed = 0;\r\n      for (var i = 0; i < expression_array.length; i++) {\r\n        if (expression_array[i] == \"(\") {\r\n          count_opened++;\r\n        }\r\n        if (expression_array[i] == \")\") {\r\n          count_closed++;\r\n        }\r\n        if (count_opened != count_closed) {\r\n        } else {\r\n          if (count_opened > 0) {\r\n            if (window.open_or_close == \"close\") {\r\n              window.close_parentheses.insertAfter(\r\n                div_to_render.find(\r\n                  '.single_element_expression[data-index=\"' + i + '\"]'\r\n                )\r\n              );\r\n              window.inserir_close = i + 2;\r\n            }\r\n            break;\r\n          } else {\r\n            if (expression_array[i].type == \"var_value\") {\r\n              if (window.open_or_close == \"close\") {\r\n                window.close_parentheses.insertAfter(\r\n                  div_to_render.find(\r\n                    '.single_element_expression[data-index=\"' + i + '\"]'\r\n                  )\r\n                );\r\n                window.inserir_close = i + 2;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      //}\r\n    } else if (expression_array[index_in_array].type_op) {\r\n      if (window.open_or_close == \"open\") {\r\n        window.open_parentheses.insertBefore(actual_target);\r\n        window.inserir_open = index_in_array;\r\n      }\r\n\r\n      var count_opened = 0;\r\n      var count_closed = 0;\r\n      for (var i = 1; i < expression_array.length; i++) {\r\n        // $('.slide-link[data-slide=\"0\"]')\r\n        if (expression_array[i] == \"(\") {\r\n          count_opened++;\r\n        }\r\n        if (expression_array[i] == \")\") {\r\n          count_closed++;\r\n        }\r\n        if (count_opened != count_closed) {\r\n        } else {\r\n          if (count_opened > 0) {\r\n            if (expression_array[i].type == \"var_value\") {\r\n              window.close_parentheses.insertAfter(\r\n                div_to_render.find(\r\n                  '.single_element_expression[data-index=\"' + i + '\"]'\r\n                )\r\n              );\r\n              window.inserir_close = i + 2;\r\n            }\r\n\r\n            break;\r\n          } else {\r\n            if (expression_array[i].type == \"var_value\") {\r\n              if (expression_array[i].type == \"var_value\") {\r\n                window.close_parentheses.insertAfter(\r\n                  div_to_render.find(\r\n                    '.single_element_expression[data-index=\"' + i + '\"]'\r\n                  )\r\n                );\r\n                window.inserir_close = i + 2;\r\n              }\r\n              break;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return;\r\n  }\r\n\r\n  // Tratando quando no  no ndice 0:\r\n  if (expression_array[index_in_array].type == \"var_value\") {\r\n    if (window.open_or_close == \"open\") {\r\n      window.open_parentheses.insertBefore(actual_target);\r\n      window.inserir_open = index_in_array;\r\n    }\r\n    if (window.open_or_close == \"close\") {\r\n      window.close_parentheses.insertAfter(actual_target);\r\n      window.inserir_close = index_in_array + 2;\r\n    }\r\n    return;\r\n  }\r\n\r\n  if (expression_array[index_in_array].type_op) {\r\n    // buscar para a esquerda primeiro:\r\n    if (expression_array[index_in_array - 1] == \"(\") {\r\n      if (window.open_or_close == \"open\") {\r\n        window.open_parentheses.insertBefore(actual_target);\r\n        window.inserir_open = index_in_array;\r\n      }\r\n    } else if (expression_array[index_in_array - 1] == \")\") {\r\n      // buscar a abertura\r\n      var count_opened = 0;\r\n      var count_closed = 0;\r\n      for (var j = index_in_array - 1; j >= 0; j--) {\r\n        if (expression_array[j] == \"(\") {\r\n          count_opened++;\r\n        }\r\n        if (expression_array[j] == \")\") {\r\n          count_closed++;\r\n        }\r\n\r\n        if (count_opened != count_closed) {\r\n        } else {\r\n          if (count_closed > 0) {\r\n            if (window.open_or_close == \"open\") {\r\n              window.open_parentheses.insertBefore(\r\n                div_to_render.find(\r\n                  '.single_element_expression[data-index=\"' + j + '\"]'\r\n                )\r\n              );\r\n              window.inserir_open = j;\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    } else if (expression_array[index_in_array - 1].type == \"var_value\") {\r\n      if (window.open_or_close == \"open\") {\r\n        window.open_parentheses.insertBefore(\r\n          div_to_render.find(\r\n            '.single_element_expression[data-index=\"' +\r\n              (index_in_array - 1) +\r\n              '\"]'\r\n          )\r\n        );\r\n        window.inserir_open = index_in_array - 1;\r\n      }\r\n    }\r\n\r\n    // buscar para a direita agora:\r\n    if (expression_array[index_in_array + 1] == \"(\") {\r\n      // buscar o fechamento:\r\n\r\n      var count_opened = 0;\r\n      var count_closed = 0;\r\n      for (var j = index_in_array + 1; j < expression_array.length; j++) {\r\n        if (expression_array[j] == \"(\") {\r\n          count_opened++;\r\n        }\r\n        if (expression_array[j] == \")\") {\r\n          count_closed++;\r\n        }\r\n\r\n        if (count_opened != count_closed) {\r\n        } else {\r\n          if (count_opened > 0) {\r\n            if (window.open_or_close == \"close\") {\r\n              window.close_parentheses.insertAfter(\r\n                div_to_render.find(\r\n                  '.single_element_expression[data-index=\"' + j + '\"]'\r\n                )\r\n              );\r\n              window.inserir_close = j + 2;\r\n            }\r\n            break;\r\n          }\r\n        }\r\n      }\r\n    } else if (expression_array[index_in_array + 1].type == \"var_value\") {\r\n      if (window.open_or_close == \"close\") {\r\n        window.close_parentheses.insertAfter(\r\n          div_to_render.find(\r\n            '.single_element_expression[data-index=\"' +\r\n              (index_in_array + 1) +\r\n              '\"]'\r\n          )\r\n        );\r\n        window.inserir_close = index_in_array + 3;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction renderParenthesis (\r\n  div_to_render,\r\n  expression_content,\r\n  command,\r\n  function_obj,\r\n  position,\r\n  expression_array\r\n) {\r\n  const ghost_parenthesis = $(\r\n    '<div class=\"single_element_expression parentheses_in_expression\" data-index=\"' +\r\n      position +\r\n      '\">' +\r\n      expression_content +\r\n      \"</div>\"\r\n  );\r\n  div_to_render.append(ghost_parenthesis);\r\n}\r\n\r\nfunction renderStartAddOperator (\r\n  div_to_render,\r\n  types_included,\r\n  expression_array,\r\n  command,\r\n  function_obj,\r\n  position\r\n) {\r\n  let menu_final =\r\n    '<div class=\"ui dropdown disabled usepointer\"><div class=\"text\"> + </div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_arithmetic_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getArithmeticOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getArithmeticOperators();\r\n    }\r\n  }\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_logic_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getLogicOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getLogicOperators();\r\n    }\r\n  }\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_relational_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getRelationalOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getRelationalOperators();\r\n    }\r\n  }\r\n  menu_final += \"</div></div>\";\r\n\r\n  menu_final = $(menu_final);\r\n  const div_temp = $(\r\n    '<div class=\"single_element_expression ghost_element mouse_distance\"></div>'\r\n  );\r\n  div_temp.append(menu_final);\r\n  const div_higher = $('<div class=\"higher_element\"></div>');\r\n  div_higher.append(div_temp);\r\n  div_to_render.append(div_higher);\r\n  menu_final.dropdown(\"set selected\", Models.ARITHMETIC_TYPES.minus);\r\n\r\n  div_temp.on(\"click\", function () {\r\n    if (!window.open_or_close) {\r\n      const sera = position;\r\n\r\n      if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\r\n        expression_array.splice(\r\n          sera,\r\n          0,\r\n          new Models.ExpressionOperator(\r\n            Models.EXPRESSION_TYPES.exp_arithmetic,\r\n            Models.ARITHMETIC_TYPES.minus\r\n          )\r\n        );\r\n      } else if (\r\n        types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0\r\n      ) {\r\n        expression_array.splice(\r\n          sera,\r\n          0,\r\n          new Models.ExpressionOperator(\r\n            Models.EXPRESSION_TYPES.exp_logic,\r\n            Models.LOGIC_COMPARISON.equals_to\r\n          )\r\n        );\r\n      } else if (\r\n        types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0\r\n      ) {\r\n        expression_array.splice(\r\n          sera,\r\n          0,\r\n          new Models.ExpressionOperator(\r\n            Models.EXPRESSION_TYPES.exp_conditional,\r\n            Models.ARITHMETIC_COMPARISON.greater_than\r\n          )\r\n        );\r\n      }\r\n\r\n      renderExpression(command, function_obj, div_to_render, expression_array);\r\n    }\r\n  });\r\n}\r\n\r\nfunction renderFinalAddElements (\r\n  div_to_render,\r\n  types_included,\r\n  expression_array,\r\n  command,\r\n  function_obj,\r\n  position,\r\n  is_last = false\r\n) {\r\n  let menu_final =\r\n    '<div class=\"ui dropdown disabled usepointer\"><div class=\"text\"> + </div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_arithmetic_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getArithmeticOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getArithmeticOperators();\r\n    }\r\n  }\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_logic_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getLogicOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getLogicOperators();\r\n    }\r\n  }\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_relational_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getRelationalOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getRelationalOperators();\r\n    }\r\n  }\r\n  menu_final += \"</div></div>\";\r\n\r\n  menu_final = $(menu_final);\r\n  const div_temp = $('<div class=\"simple_add mouse_distance\"></div>');\r\n  const div_higher = $('<div class=\"higher_element\"></div>');\r\n\r\n  const button = $(\r\n    '<button class=\"ui button green add_expression\"><i class=\"plus circle inverted icon\"></i></button>'\r\n  );\r\n  div_temp.append(button);\r\n\r\n  if (!is_last) {\r\n    div_higher.append(div_temp);\r\n    div_to_render.append(div_higher);\r\n    //div_temp.append(menu_final);\r\n    div_temp.css(\"opacity\", \"0\", \"!important\");\r\n  } else {\r\n    div_temp.removeClass(\"mouse_distance\");\r\n    div_temp.css(\"opacity\", \"1\", \"!important\");\r\n    //div_temp.append(menu_final);\r\n    div_to_render.append(div_temp);\r\n  }\r\n\r\n  menu_final.dropdown(\"set selected\", Models.ARITHMETIC_TYPES.plus);\r\n\r\n  div_temp.on(\"click\", function () {\r\n    const sera = position;\r\n\r\n    if (expression_array[sera] == \")\" && expression_array[sera - 1] == \"(\") {\r\n      expression_array.splice(\r\n        sera,\r\n        0,\r\n        new Models.VariableValueMenu(\r\n          VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n          null,\r\n          null,\r\n          null,\r\n          true\r\n        )\r\n      );\r\n      renderExpression(command, function_obj, div_to_render, expression_array);\r\n      return;\r\n    }\r\n\r\n    if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\r\n      expression_array.splice(\r\n        sera,\r\n        0,\r\n        new Models.ExpressionOperator(\r\n          Models.EXPRESSION_TYPES.exp_arithmetic,\r\n          Models.ARITHMETIC_TYPES.plus\r\n        )\r\n      );\r\n      expression_array.splice(\r\n        sera + 1,\r\n        0,\r\n        new Models.VariableValueMenu(\r\n          VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n          null,\r\n          null,\r\n          null,\r\n          true\r\n        )\r\n      );\r\n    } else if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0) {\r\n      expression_array.splice(\r\n        sera,\r\n        0,\r\n        new Models.ExpressionOperator(\r\n          Models.EXPRESSION_TYPES.exp_logic,\r\n          Models.LOGIC_COMPARISON.equals_to\r\n        )\r\n      );\r\n      expression_array.splice(\r\n        sera + 1,\r\n        0,\r\n        new Models.VariableValueMenu(\r\n          VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n          null,\r\n          null,\r\n          null,\r\n          true\r\n        )\r\n      );\r\n    } else if (\r\n      types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0\r\n    ) {\r\n      expression_array.splice(\r\n        sera,\r\n        0,\r\n        new Models.ExpressionOperator(\r\n          Models.EXPRESSION_TYPES.exp_conditional,\r\n          Models.ARITHMETIC_COMPARISON.greater_than\r\n        )\r\n      );\r\n      expression_array.splice(\r\n        sera + 1,\r\n        0,\r\n        new Models.VariableValueMenu(\r\n          VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n          null,\r\n          null,\r\n          null,\r\n          true\r\n        )\r\n      );\r\n    }\r\n\r\n    renderExpression(command, function_obj, div_to_render, expression_array);\r\n  });\r\n}\r\n\r\nfunction renderOperatorMenu (\r\n  command,\r\n  function_obj,\r\n  div_to_render,\r\n  expression_element,\r\n  types_included,\r\n  position,\r\n  expression_array\r\n) {\r\n  let menu_final =\r\n    '<div class=\"ui dropdown\"><div class=\"text\"> + </div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.write_sep) >= 0) {\r\n    menu_final += getSeparator();\r\n  }\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_arithmetic) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_arithmetic_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getArithmeticOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getArithmeticOperators();\r\n    }\r\n  }\r\n\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_logic) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_logic_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getLogicOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getLogicOperators();\r\n    }\r\n  }\r\n  if (types_included.indexOf(Models.EXPRESSION_TYPES.exp_conditional) >= 0) {\r\n    if (types_included.length > 1) {\r\n      menu_final +=\r\n        '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n        LocalizedStrings.getUI(\"text_relational_expression\") +\r\n        '<div class=\"menu\">';\r\n      menu_final += getRelationalOperators();\r\n      menu_final += \"</div></div>\";\r\n    } else {\r\n      menu_final += getRelationalOperators();\r\n    }\r\n  }\r\n  menu_final += \"</div></div>\";\r\n\r\n  menu_final = $(menu_final);\r\n  menu_final.find(\".ivprog-write-sep\").popup({\r\n    content: LocalizedStrings.getUI(\"write_seprator_menu_tooltip\"),\r\n    delay: {\r\n      show: 500,\r\n      hide: 0,\r\n    },\r\n  });\r\n\r\n  const div_temp = $(\r\n    '<div class=\"single_element_expression not_allowed\" data-index=\"' +\r\n      position +\r\n      '\"></div>'\r\n  );\r\n  div_temp.append(menu_final);\r\n  div_to_render.append(div_temp);\r\n  menu_final.dropdown({\r\n    onChange: function (_value, _text, $selectedItem) {\r\n      expression_element.item = $selectedItem.data(\"value\");\r\n      expression_element.type_op = $selectedItem.data(\"type\");\r\n    },\r\n  });\r\n\r\n  menu_final.dropdown(\"set selected\", expression_element.item);\r\n}\r\n\r\nfunction getArithmeticOperators () {\r\n  let arithmetic_operators;\r\n  arithmetic_operators =\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_arithmetic +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_TYPES.plus +\r\n    '\">+</div>';\r\n  arithmetic_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_arithmetic +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_TYPES.minus +\r\n    '\">-</div>';\r\n  arithmetic_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_arithmetic +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_TYPES.multiplication +\r\n    '\">*</div>';\r\n  arithmetic_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_arithmetic +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_TYPES.division +\r\n    '\">/</div>';\r\n  arithmetic_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_arithmetic +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_TYPES.module +\r\n    '\">%</div>';\r\n  return arithmetic_operators;\r\n}\r\n\r\nfunction getLogicOperators () {\r\n  let logic_operators;\r\n  logic_operators =\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_logic +\r\n    '\" data-value=\"' +\r\n    Models.LOGIC_COMPARISON.equals_to +\r\n    '\">==</div>';\r\n  logic_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_logic +\r\n    '\" data-value=\"' +\r\n    Models.LOGIC_COMPARISON.not_equals_to +\r\n    '\">!=</div>';\r\n  logic_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_logic +\r\n    '\" data-value=\"' +\r\n    Models.LOGIC_COMPARISON.and +\r\n    '\">' +\r\n    LocalizedStrings.getUI(\"logic_operator_and\") +\r\n    \"</div>\";\r\n  logic_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_logic +\r\n    '\" data-value=\"' +\r\n    Models.LOGIC_COMPARISON.or +\r\n    '\">' +\r\n    LocalizedStrings.getUI(\"logic_operator_or\") +\r\n    \"</div>\";\r\n  logic_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_logic +\r\n    '\" data-value=\"' +\r\n    Models.LOGIC_COMPARISON.not +\r\n    '\">' +\r\n    LocalizedStrings.getUI(\"logic_operator_not\") +\r\n    \"</div>\";\r\n  return logic_operators;\r\n}\r\n\r\nfunction getRelationalOperators () {\r\n  let relational_operators;\r\n  relational_operators =\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_conditional +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_COMPARISON.greater_than +\r\n    '\">></div>';\r\n  relational_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_conditional +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_COMPARISON.less_than +\r\n    '\"><</div>';\r\n  relational_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_conditional +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_COMPARISON.equals_to +\r\n    '\">==</div>';\r\n  relational_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_conditional +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_COMPARISON.not_equals_to +\r\n    '\">!=</div>';\r\n  relational_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_conditional +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to +\r\n    '\">>=</div>';\r\n  relational_operators +=\r\n    '<div class=\"item\" data-type=\"' +\r\n    Models.EXPRESSION_TYPES.exp_conditional +\r\n    '\" data-value=\"' +\r\n    Models.ARITHMETIC_COMPARISON.less_than_or_equals_to +\r\n    '\"><=</div>';\r\n  return relational_operators;\r\n}\r\n\r\nfunction getSeparator () {\r\n  return `<div class=\"item ivprog-write-sep\" data-type=\"${\r\n    Models.EXPRESSION_TYPES.write_sep\r\n  }\" data-value=\"${Models.EXPRESSION_TYPES.write_sep}\">${LocalizedStrings.getUI(\r\n    \"write_seprator_menu_text\"\r\n  )}</div>`;\r\n}\r\n\r\nfunction getVariable (function_obj, search) {\r\n  if (search == \")\" || search == \"(\") {\r\n    return search;\r\n  }\r\n\r\n  if (search.instance == \"operator\") {\r\n    var obj;\r\n    switch (search.value) {\r\n      case '+':\r\n        obj = new Models.ExpressionOperator(\r\n                  Models.EXPRESSION_TYPES.exp_arithmetic, \r\n                  Models.ARITHMETIC_TYPES.plus); \r\n        break;\r\n      case '-':\r\n        obj = new Models.ExpressionOperator(\r\n                  Models.EXPRESSION_TYPES.exp_arithmetic, \r\n                  Models.ARITHMETIC_TYPES.minus); \r\n        break;\r\n      case '*':\r\n        obj = new Models.ExpressionOperator(\r\n                  Models.EXPRESSION_TYPES.exp_arithmetic, \r\n                  Models.ARITHMETIC_TYPES.multiplication); \r\n        break;\r\n      case '/':\r\n        obj = new Models.ExpressionOperator(\r\n                  Models.EXPRESSION_TYPES.exp_arithmetic, \r\n                  Models.ARITHMETIC_TYPES.division); \r\n        break;\r\n      case '%':\r\n        obj = new Models.ExpressionOperator(\r\n                  Models.EXPRESSION_TYPES.exp_arithmetic, \r\n                  Models.ARITHMETIC_TYPES.module); \r\n        break;\r\n      case '>':\r\n          obj = new Models.ExpressionOperator(\r\n                    Models.EXPRESSION_TYPES.exp_conditional, \r\n                    Models.ARITHMETIC_COMPARISON.greater_than); \r\n          break;\r\n      case '<':\r\n        obj = new Models.ExpressionOperator(\r\n                  Models.EXPRESSION_TYPES.exp_conditional, \r\n                  Models.ARITHMETIC_COMPARISON.less_than); \r\n        break;\r\n      case '>=':\r\n          obj = new Models.ExpressionOperator(\r\n                    Models.EXPRESSION_TYPES.exp_conditional, \r\n                    Models.ARITHMETIC_COMPARISON.greater_than_or_equals_to); \r\n          break;\r\n      case '<=':\r\n          obj = new Models.ExpressionOperator(\r\n                    Models.EXPRESSION_TYPES.exp_conditional, \r\n                    Models.ARITHMETIC_COMPARISON.less_than_or_equals_to); \r\n          break;\r\n      case '==':\r\n          obj = new Models.ExpressionOperator(\r\n                    Models.EXPRESSION_TYPES.exp_conditional, \r\n                    Models.ARITHMETIC_COMPARISON.equals_to); \r\n          break;\r\n      case '!=':\r\n          obj = new Models.ExpressionOperator(\r\n                    Models.EXPRESSION_TYPES.exp_conditional, \r\n                    Models.ARITHMETIC_COMPARISON.not_equals_to); \r\n          break;\r\n      case 'and':\r\n          obj = new Models.ExpressionOperator(\r\n                    Models.EXPRESSION_TYPES.exp_logic, \r\n                    Models.LOGIC_COMPARISON.and); \r\n          break;\r\n      case 'or':\r\n          obj = new Models.ExpressionOperator(\r\n                    Models.EXPRESSION_TYPES.exp_logic, \r\n                    Models.LOGIC_COMPARISON.or); \r\n          break;\r\n      case 'not':\r\n          obj = new Models.ExpressionOperator(\r\n                    Models.EXPRESSION_TYPES.exp_logic, \r\n                    Models.LOGIC_COMPARISON.not); \r\n          break;\r\n    }\r\n    return obj;\r\n  }\r\n\r\n  if (search.instance == \"expression\" \r\n          && search.type == \"const\") {\r\n      if (search.value === true) {\r\n        var obj = new Models.VariableValueMenu(\r\n          VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n          LocalizedStrings.getUI('logic_value_true'),\r\n          null,\r\n          null,\r\n          true\r\n        );\r\n        return obj;\r\n      }\r\n      if (search.value === false) {\r\n        var obj = new Models.VariableValueMenu(\r\n          VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n          LocalizedStrings.getUI('logic_value_false'),\r\n          null,\r\n          null,\r\n          true\r\n        );\r\n        return obj;\r\n      }\r\n      var obj = new Models.VariableValueMenu(\r\n        VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n        search.value,\r\n        null,\r\n        null,\r\n        true\r\n      );\r\n      return obj;\r\n    }\r\n\r\n  var variavel = null;\r\n  if (search.instance == \"expression\"\r\n    && search.type == \"var\") {\r\n    // 1. Procurar a varivel na funo:\r\n    for (var j = 0; j < function_obj.variables_list.length; j++) {\r\n      if (function_obj.variables_list[j].name == search.value) {\r\n        variavel = function_obj.variables_list[j];\r\n        break;\r\n      }\r\n    }\r\n\r\n    // 2. Procurar a varivel nas gloais: \r\n    if (!variavel)\r\n      for (var j = 0; j < program_obj.globals.length; j++) {\r\n        if (program_obj.globals[j].name == search.value) {\r\n          variavel = program_obj.globals[j];\r\n          break;\r\n        }\r\n      }\r\n    \r\n    // 3. Procurar na lista de parmetros: \r\n    if (!variavel)\r\n      for (var j = 0; j < function_obj.parameters_list.length; j++) {\r\n        if (function_obj.parameters_list[j].name == search.value) {\r\n          variavel = function_obj.parameters_list[j];\r\n          break;\r\n        }\r\n      }\r\n  }\r\n\r\n  if (search.instance == \"expression\"\r\n    && search.type == \"var\"\r\n    && !search.line) {\r\n\r\n    var obj = new Models.VariableValueMenu(\r\n      VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n      variavel,\r\n      null,\r\n      null,\r\n      true\r\n    );\r\n    return obj;\r\n  }\r\n\r\n  if (search.instance == \"expression\"\r\n    && search.type == \"var\"\r\n    && search.class == \"vector\") {\r\n      \r\n    var obj = new Models.VariableValueMenu(\r\n      VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n      variavel,\r\n      null,\r\n      getVariable(function_obj, search.line[0]),\r\n      true\r\n    );\r\n    return obj;\r\n  }\r\n\r\n  if (search.instance == \"expression\"\r\n    && search.type == \"var\"\r\n    && search.class == \"matrix\") {\r\n    var obj = new Models.VariableValueMenu(\r\n      VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n      variavel,\r\n      getVariable(function_obj, search.line[0]),\r\n      getVariable(function_obj, search.column[0]),\r\n      true\r\n    );\r\n    return obj;\r\n  }\r\n\r\n  if (search.instance == \"expression\"\r\n    && search.type == \"function\") {\r\n    var obj = new Models.VariableValueMenu(\r\n      VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n      variavel,\r\n      null,\r\n      null,\r\n      true\r\n    );\r\n    // Procurar a funo para referncia:\r\n    for (var i = 0; i < program_obj.functions.length; i++) {\r\n      if (program_obj.functions[i].name == search.value) {\r\n        obj.function_called = program_obj.functions[i];\r\n      }\r\n    }\r\n\r\n    // Se ainda no foi encontrada, procurar na biblioteca do iVProg:\r\n    if (!obj.function_called) {\r\n      for (var i = 0; i < window.system_functions.length; i++) {\r\n        if (search.value.split(\".\")[1] && search.value.split(\".\")[1] \r\n            == window.system_functions[i].identifier) {\r\n          obj.function_called = window.system_functions[i];\r\n        } else if (search.value == window.system_functions[i].identifier) {\r\n          obj.function_called = window.system_functions[i];\r\n        }\r\n      }\r\n    }\r\n\r\n    obj.parameters_list = [];\r\n\r\n    for (var i = 0; i < search.params.length; i++) {\r\n      obj.parameters_list.push(getVariable(function_obj,search.params[i][0]));\r\n    }\r\n    return obj;\r\n  }\r\n}\r\n\r\nexport function expressionParserToVisual (text, function_obj, input_field) {\r\n\r\n  if (text.trim().length == 0) {\r\n    return [new Models.VariableValueMenu(\r\n      VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n      null,\r\n      null,\r\n      null,\r\n      true\r\n    )];\r\n  }\r\n\r\n  var var_not_found = [];\r\n  var fun_not_found = [];\r\n  var parsed;\r\n  try {\r\n    parsed = ivprogCore.parseExpression(text);\r\n  } catch (ex) {\r\n    Utils.renderErrorMessage(input_field, LocalizedStrings.getUI('expression_invalid'));\r\n  }\r\n  if (!parsed) return null;\r\n\r\n  for (var i = 0; i < parsed.length; i++) {\r\n    var variavel = null;\r\n    if (parsed[i].instance == \"expression\"\r\n          && parsed[i].type == \"var\") {\r\n      // 1. Procurar a varivel na funo:\r\n      for (var j = 0; j < function_obj.variables_list.length; j++) {\r\n        if (function_obj.variables_list[j].name == parsed[i].value) {\r\n          variavel = function_obj.variables_list[j];\r\n          break;\r\n        }\r\n      }\r\n\r\n      // 2. Procurar a varivel nas globais: \r\n      if (!variavel)\r\n        for (var j = 0; j < program_obj.globals.length; j++) {\r\n          if (program_obj.globals[j].name == parsed[i].value) {\r\n            variavel = program_obj.globals[j];\r\n            break;\r\n          }\r\n        }\r\n\r\n      // 3. Procurar a varivel nos parmetros:\r\n      if (!variavel)\r\n        for (var j = 0; j < function_obj.parameters_list.length; j++) {\r\n          if (function_obj.parameters_list[j].name == parsed[i].value) {\r\n            variavel = function_obj.parameters_list[j];\r\n            break;\r\n          }\r\n        }\r\n      \r\n      if (!variavel)\r\n        var_not_found.push(parsed[i].value);\r\n    }\r\n\r\n    var funcao;\r\n    if (parsed[i].instance == \"expression\"\r\n      && parsed[i].type == \"function\") {\r\n    \r\n      // Procurar a funo para referncia:\r\n      for (var j = 0; j < program_obj.functions.length; j++) {\r\n        if (program_obj.functions[j].name == parsed[i].value) {\r\n          funcao = program_obj.functions[j];\r\n        }\r\n      }\r\n\r\n      // Se ainda no encontrou, procurar na biblioteca do iVProg:\r\n      if (!funcao) {\r\n        for (var j = 0; j < window.system_functions.length; j++) {\r\n          if (parsed[i].value.split(\".\")[1] && parsed[i].value.split(\".\")[1] \r\n              == window.system_functions[j].identifier) {\r\n            funcao = window.system_functions[j];\r\n          } else if (parsed[i].value == window.system_functions[j].identifier) {\r\n            funcao = window.system_functions[j];\r\n          }\r\n        }\r\n      }\r\n\r\n    if (!funcao) {\r\n      fun_not_found.push(parsed[i].value);\r\n    }\r\n  }\r\n}\r\n\r\n  if (fun_not_found.length > 0) {\r\n    let uniqueWords = [...new Set(fun_not_found)];\r\n    Utils.renderErrorMessage(input_field,  LocalizedStrings.getUI('expression_undeclared_function') + \" \" + uniqueWords.join(\", \"));\r\n    return null;\r\n  }\r\n\r\n  if (var_not_found.length > 0) {\r\n    let uniqueWords = [...new Set(var_not_found)];\r\n    Utils.renderErrorMessage(input_field,  LocalizedStrings.getUI('expression_undelcared_variable') + \" \" + uniqueWords.join(\", \"));\r\n    return null;\r\n  }\r\n\r\n  var exp_obj = [];\r\n  for (var i = 0; i < parsed.length; i++) {\r\n    exp_obj.push(getVariable(function_obj, parsed[i]));\r\n  }\r\n\r\n  \r\n\r\n  return exp_obj;\r\n}","import { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as CommandsManagement from '../commands';\r\nimport * as GenericExpressionManagement from './generic_expression';\r\nimport * as CodeGenerator from '../code_generator';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui iftrue created_element\"> <i class=\"ui icon small random\"></i> <span> if (x < 1) { } </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar ret = '';\r\n\tret += '<div class=\"ui iftrue command_container\"><div class=\"ui data_block_if\" data-if=\"true\">  <i class=\"ui icon small random command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <button class=\"ui icon button minimize_block_button tiny\"><i class=\"icon window minimize\"></i></button>';\r\n\tret += '<span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_if') + '</span>';\r\n\tret += ' <span class=\"span_command_spec\"> ( </span> <div class=\"conditional_expression\"></div> <span class=\"textual_expression\"></span> <span class=\"span_command_spec\"> ) </span> ';\r\n\tret += '  <i class=\"ui icon i cursor button_write_expression\" style=\"margin-right: 1rem !important;\"></i>  ';\r\n\tret += '<i class=\"ui icon unlock button_alternate_expression\"></i>';\r\n\tret += '<span> </span> ';\r\n\tret += '<div class=\"ui block_commands commands_if conditional_comands_block\" data-if=\"true\">';\r\n \tret += '</div></div>';\r\n\tret += '<div class=\"ui data_block_else\" data-else=\"true\"> <span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_else') + ' </span>';\r\n\tret += '<div class=\"ui block_commands commands_else conditional_comands_block\" data-else=\"true\">';\r\n\tret += '</div>';\r\n\tret += '<span></span></div>';\r\n\tret += '</div>';\r\n\r\n\tvar el = $(ret);\r\n\tel.data('command', command);\r\n\tel.find('.block_commands').data('command', command);\r\n\tel.find('.data_block_if').data('command', command);\r\n\tel.find('.data_block_else').data('command', command);\r\n\tel.find('.commands_if').data('command', command);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\t//ConditionalExpressionManagement.renderExpression(command, command.expression, function_obj, el.find('.conditional_expression'));\r\n\tGenericExpressionManagement.renderExpression(command, function_obj, el.find('.conditional_expression'), command.expression);\r\n\r\n\tif (command.commands_block) {\r\n\t\tfor (var j = 0; j < command.commands_block.length; j++) {\r\n\t\t    CommandsManagement.renderCommand(command.commands_block[j], $(el.find('.commands_if')[0]), 3, function_obj);\r\n\t\t}\r\n\t}\r\n\tif (command.commands_else) {\r\n\t\tfor (var j = 0; j < command.commands_else.length; j++) {\r\n\t\t    CommandsManagement.renderCommand(command.commands_else[j], $(el.find('.commands_else')[0]), 3, function_obj);\r\n\t\t}\r\n\t}\r\n\r\n\tif (command.collapsed) {\r\n\t\tel.children('.data_block_else').toggle();\r\n\t\t$(el.find('.block_commands')[0]).toggle();\r\n\t}\r\n\r\n\tif (command.lockexpression) {\r\n\t\tif (command.expression) {\r\n\t\t\ttry {\r\n\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\t\tif (text) {\r\n\t\t\t\t\t$(el.find('.conditional_expression')[0]).toggle();\r\n\t\t\t\t\t$(el.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t\t$(el.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t\t$(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tcommand.lockexpression = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tel.find('.unlock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.lock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.button_write_expression').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\r\n\treturn el;\r\n}\r\n\r\n\r\nfunction addHandlers (command, function_obj, iftrue_dom) {\r\n\r\n\tiftrue_dom.find('.button_write_expression').on('click', function() {\r\n\r\n\t\twindow.expressionEdition = true;\r\n\t\twindow.inputExpression = null;\r\n\t\t\r\n\t\tvar afterWhichElement;\r\n\t\tvar lockButton = $(iftrue_dom.find('.button_alternate_expression')[0]);\r\n\t\tvar editButton = $(this);\r\n\r\n\t\tafterWhichElement = $(iftrue_dom.find('.conditional_expression')[0]);\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\tafterWhichElement = $(iftrue_dom.find('.textual_expression')[0]);\r\n\t\t}\r\n\r\n\t\tvar text = \"\";\r\n\t\tif (command.expression) {\r\n\t\t\tif (command.expression.length == 1 && command.expression[0].content == null && !command.expression[0].function_called) {\r\n\t\t\t\ttext = \"\";\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttext = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\t\t} catch(ex) {\r\n\t\t\t\t\ttext = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\r\n\t\tvar cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\r\n\t\tvar input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\r\n\t\tinput.val(text);\r\n\r\n\t\tinput.focusout(function(evt) {\r\n\t\t\tok_button.click();\r\n\t\t\tevt.preventDefault();\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\t\r\n\t\tinput.keyup(function(evt) {\r\n\t\t\tif (evt.keyCode == 27) { // esc\r\n\t\t\t\tcancel_button.click();\r\n\t\t\t} \r\n\t\t\tif (evt.keyCode == 13) { // enter\r\n\t\t\t\tok_button.click();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tok_button.click(function() {\r\n\t\t\tvar parsed = null;\r\n\t\t\tparsed = GenericExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.expression = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcancel_button.mousedown(function(evt) {\r\n\t\t\tvar parsed = GenericExpressionManagement.expressionParserToVisual(text, function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.expression = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tinput.insertAfter(afterWhichElement);\r\n\t\tinput.focus();\r\n\t\tcancel_button.insertAfter(input);\r\n\t\tok_button.insertAfter(input);\r\n\t\tvar len = text.length; \r\n\t\tinput[0].setSelectionRange(len, len); \r\n\r\n\t\tafterWhichElement.css('display', 'none');\r\n\t\tlockButton.css('display', 'none');\r\n\t\teditButton.css('display', 'none');\r\n\r\n\t\tok_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t\tcancel_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t$(iftrue_dom.find('.textual_expression')[0]).toggle();\r\n\t\r\n\tiftrue_dom.find('.button_alternate_expression').on('click', function() {\r\n\t\tif (command.expression) {\r\n\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\tif (text) {\r\n\t\t\t\t$(iftrue_dom.find('.conditional_expression')[0]).toggle();\r\n\t\t\t\t$(iftrue_dom.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t$(iftrue_dom.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\tiftrue_dom.find('.lock').popup({\r\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\t\t\tdelay: {\r\n\t\t\t\t\tshow: 750,\r\n\t\t\t\t\thide: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tiftrue_dom.find('.unlock').popup({\r\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\t\t\tdelay: {\r\n\t\t\t\t\tshow: 750,\r\n\t\t\t\t\thide: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tiftrue_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, iftrue_dom)) {\r\n\t\t\tiftrue_dom.fadeOut(400, function() {\r\n\t\t\t\tiftrue_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\tiftrue_dom.find('.minimize_block_button').on('click', function() {\r\n\t\tiftrue_dom.children('.data_block_else').toggle();\r\n\t\t$(iftrue_dom.find('.block_commands')[0]).toggle();\r\n\t\tcommand.collapsed = !command.collapsed;\r\n\t});\r\n\r\n}","import { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as VariableValueMenu from './variable_value_menu';\r\nimport * as CommandsManagement from '../commands';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui reader created_element\"> <i class=\"ui icon small download\"></i> <span> '+LocalizedStrings.getUI('text_command_read')+' var </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar el = '<div class=\"ui reader command_container\"> <i class=\"ui icon small download command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <span class=\"span_command_spec\">'+LocalizedStrings.getUI('text_command_read')+' ( </span> <div class=\"var_value_menu_div\"></div> <span class=\"close_parentheses span_command_spec\">)</span> </div>';\r\n\t\r\n\tel = $(el);\r\n\tel.data('command', command);\r\n\r\n\tVariableValueMenu.renderMenu(command, command.variable_value_menu, el.find('.var_value_menu_div'), function_obj);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\treturn el;\r\n}\r\n\r\nfunction addHandlers (command, function_obj, reader_dom) {\r\n\treader_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, reader_dom)) {\r\n\t\t\treader_dom.fadeOut(400, function() {\r\n\t\t\t\treader_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}","import * as Models from '../ivprog_elements';\r\nimport { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as CommandsManagement from '../commands';\r\nimport * as ConditionalExpressionManagement from './conditional_expression';\r\nimport * as VariableValueMenu from './variable_value_menu';\r\nimport * as ContextualizedMenu from './contextualized_menu';\r\nimport * as GenericExpressionManagement from './generic_expression';\r\nimport * as CodeGenerator from '../code_generator';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui repeatNtimes created_element\"> <i class=\"ui icon small sync\"></i> <span> repita_para i de 0 ate 10 passo 1 <br> </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tlet ret = `<div class=\"ui repeatNtimes command_container\"> \r\n\t\t<i class=\"ui icon small sync command_drag\"></i>\r\n\t\t<i class=\"ui icon times red button_remove_command\"></i>\r\n\t\t<button class=\"ui icon button minimize_block_button tiny\"><i class=\"icon window minimize\"></i></button>\r\n\t\t<span class=\"span_command_spec\"> ${LocalizedStrings.getUI('text_for')}\r\n\t\t</span>  <div class=\"ui attribution_expression\">\r\n\t\t<div class=\"ui variable_attribution\"></div>\r\n\t\t<span class=\"text_receives span_command_spec\" style=\"margin-left: 10px;margin-right: 20px;\"></span>\r\n\t\t<div class=\"ui var_value_expression div_expression_st\"></div>\r\n\t\t</div>\r\n\t\t<span class=\"span_command_spec separator_character\" style=\"margin-left: 25px; margin-right: 15px;\">\r\n\t\t${LocalizedStrings.getUI(\"text_for_to\")} </span>\r\n\t\t<div class=\"conditional_expression\"></div> <div class=\"pass_button\"></div> \r\n\t\t<div class=\"ui incrementation_field\"><span class=\"text_inc_receives span_command_spec\"></span>\r\n\t\t<div class=\"ui first_operand\"></div><div class=\"ui operator\"></div>\r\n\t\t<div class=\"ui second_operand\"></div></div>  <span class=\"span_command_spec\"> </span>\r\n\t\t<span class=\"textual_expression\"></span> <i class=\"ui icon unlock button_alternate_expression\"></i>\r\n\t\t<div class=\"ui context_menu\"></div>`;\r\n\tret += '<div class=\"ui block_commands\">';\r\n\tret += '</div>';\r\n\tret += '<span> </span>';\r\n\tret += '</div>';\r\n\t\r\n\tvar el = $(ret);\r\n\tel.data('command', command);\r\n\tel.find('.block_commands').data('command', command);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\tContextualizedMenu.renderMenu(command, el.find('.context_menu'), function_obj, el);\r\n\r\n\tVariableValueMenu.renderMenu(command, command.var_attribution, el.find('.variable_attribution'), function_obj);\r\n\r\n\t//ConditionalExpressionManagement.renderExpression(command, command.expression2, function_obj, el.find('.conditional_expression'));\r\n\r\n\tVariableValueMenu.renderMenu(command, command.expression2, el.find('.conditional_expression'), function_obj);\t\r\n\t//GenericExpressionManagement.renderExpression(command, function_obj, el.find('.conditional_expression'), command.expression2);\r\n\r\n\t//VariableValueMenu.renderMenu(command, command.var_incrementation, el.find('.incrementation_variable'), function_obj);\t\r\n\t//angle double right\r\n\tif (!command.expression1) {\r\n\t\tcommand.expression1 = new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"0\", null, null, true);\r\n\t}\r\n\r\n\tel.find('.text_receives').text(LocalizedStrings.getUI(\"text_for_from\"));\r\n\tVariableValueMenu.renderMenu(command, command.expression1, el.find('.var_value_expression'), function_obj);\r\n\r\n\tif (!command.expression3) {\r\n\t\tel.find('.pass_button').html('<button class=\"ui\">' + LocalizedStrings.getUI(\"text_for_pass\") + '<i class=\"ui icon angle double right\"></i></button>');\r\n\t\tel.find('.pass_button').find('button').on('click', function() {\r\n\t\t\ttogglePasso(command);\r\n\t\t});\r\n\t\t/*var exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp, \r\n\t\t\t[command.var_attribution,\r\n     \t\tModels.ARITHMETIC_TYPES.plus, \r\n\t\t\tnew Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"1\", null, null, true)]);\r\n\r\n\t\tcommand.expression3 = exp;\r\n\t\tcommand.var_incrementation = command.var_attribution;*/\r\n\t} else {\r\n\t\tel.find('.pass_button').html('<button class=\"ui\">' + LocalizedStrings.getUI(\"text_for_pass\") + '<i class=\"ui icon angle double left\"></i></button>');\r\n\t\tel.find('.pass_button').find('button').on('click', function() {\r\n\t\t\ttogglePasso(command);\r\n\t\t});\r\n\r\n\t\trenderOperator(command, function_obj, el.find('.operator'), command.expression3, 1);\r\n\t\tVariableValueMenu.renderMenu(command, command.expression3.itens[2], el.find('.second_operand'), function_obj);\r\n\t}\r\n\r\n\tif (command.commands_block) {\r\n\t\tfor (var j = 0; j < command.commands_block.length; j++) {\r\n\t\t    CommandsManagement.renderCommand(command.commands_block[j], $(el.find('.block_commands')[0]), 3, function_obj);\r\n\t\t}\r\n\t}\r\n\r\n\tif (command.lockexpression) {\r\n\t\ttry {\r\n\t\t\tvar text = CodeGenerator.repeatNtimesHeader(command);\r\n\t\t\tif (text) {\r\n\t\t\t\t$(el.find('.textual_expression')[0]).html(text);\r\n\t\t\t\t$(el.find('.textual_expression')[0]).toggle();\r\n\r\n\t\t\t\t$(el.find('.attribution_expression')[0]).toggle();\r\n\t\t\t\t$(el.find('.span_command_spec.separator_character')[0]).toggle();\r\n\t\t\t\t$(el.find('.conditional_expression')[0]).toggle();\r\n\t\t\t\t$(el.find('.pass_button')[0]).toggle();\r\n\t\t\t\t$(el.find('.incrementation_field')[0]).toggle();\r\n\r\n\t\t\t\t$(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t}\r\n\t\t} catch (e) {\r\n\t\t\tcommand.lockexpression = false;\r\n\t\t}\r\n\t}\r\n\r\n\tel.find('.unlock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.lock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\r\n\treturn el;\r\n}\r\n\r\nfunction togglePasso (command) {\r\n\tif (!command.expression3) {\r\n\t\tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp, \r\n\t\t\t[command.var_attribution,\r\n     \t\tModels.ARITHMETIC_TYPES.plus, \r\n\t\t\tnew Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"1\", null, null, true)]);\r\n\r\n\t\tcommand.expression3 = exp;\r\n\t\tcommand.var_incrementation = command.var_attribution;\r\n\t} else {\r\n\t\tcommand.expression3 = null;\r\n\t}\r\n\trenderAlgorithm();\r\n}\r\n\r\nexport function manageExpressionElements (command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element) {\r\n\r\n\tif (dom_object.hasClass('variable_attribution')) {\r\n\t\tif (!command.expression3) {\r\n\t\t\tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp, \r\n\t\t\t\t[command.var_attribution,\r\n\t     \t\tModels.ARITHMETIC_TYPES.plus, \r\n\t\t\t\tnew Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"1\", null, null, true)]);\r\n\r\n\t\t\tcommand.expression3 = exp;\r\n\t\t\tcommand.var_incrementation = command.var_attribution;\r\n\r\n\t\t\tvar cond_exp = \r\n\t\t\t\t\t\tnew Models.ArithmeticExpression(\r\n\t\t\t\t\t\t\tcommand.var_attribution, \r\n\t\t\t\t\t\t\tnew Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true), \r\n\t\t\t\t\t\t\tModels.ARITHMETIC_COMPARISON.less_than);\r\n\r\n\t\t\tcommand.expression2.expression = cond_exp;\r\n\t\t}\r\n\r\n\t\tdom_object.parent().find('.text_receives').text('de');\r\n\r\n\t\tcommand.expression1 = new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, \"0\", null, null, true);\r\n\r\n\t\tdom_object.parent().find('.var_value_expression').empty();\r\n\t\t\r\n\t\tVariableValueMenu.renderMenu(command, command.expression1, dom_object.parent().find('.var_value_expression'), function_obj);\r\n\r\n\t\trenderAlgorithm();\r\n\t}\r\n\r\n\tif (dom_object.hasClass('incrementation_variable')) {\r\n\t\tdom_object.parent().find('.text_inc_receives').text('de');\r\n\t\t\r\n\t\tvar exp = new Models.ExpressionElement(Models.EXPRESSION_ELEMENTS.exp_op_exp, \r\n\t\t\t\t[new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true),\r\n\t     \t\tModels.ARITHMETIC_TYPES.plus, \r\n\t\t\t\tnew Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)]);\r\n\r\n\t\tcommand.expression3 = exp;\r\n\r\n\t\tVariableValueMenu.renderMenu(command, command.expression3.itens[0], dom_object.parent().find('.first_operand'), function_obj);\r\n\r\n\t\trenderOperator(command, function_obj, dom_object.parent().find('.operator'), command.expression3, 1);\r\n\r\n\t\tVariableValueMenu.renderMenu(command, command.expression3.itens[2], dom_object.parent().find('.second_operand'), function_obj);\t\t\r\n\r\n\t}\r\n\r\n}\r\n\r\nexport function manageClearExpressionElements (command, ref_object, dom_object, menu_var_or_value, function_obj, $selectedItem, expression_element) {\r\n\tif (dom_object.hasClass('variable_attribution')) {\r\n\t\t$(dom_object).parent().find('.text_receives').text('');\r\n\t\tcommand.expression1 = null;\r\n\t\t$(dom_object).parent().find('.var_value_expression').empty();\r\n\t}\r\n\r\n\tif (dom_object.hasClass('incrementation_variable')) {\r\n\t\t$(dom_object).parent().find('.text_inc_receives').text('');\r\n\t\tcommand.expression3 = null;\r\n\t\t$(dom_object).parent().find('.first_operand').empty();\r\n\t\t$(dom_object).parent().find('.operator').empty();\r\n\t\t$(dom_object).parent().find('.second_operand').empty();\r\n\t}\r\n}\r\n\r\nfunction addHandlers (command, function_obj, repeatNtimes_dom) {\r\n\r\n\trepeatNtimes_dom.find('.minimize_block_button').on('click', function(evt){\r\n\t\trepeatNtimes_dom.children('.ui.block_commands').toggle();\r\n\t\tcommand.collapsed = !command.collapsed;\r\n\t});\r\n\r\n\t$(repeatNtimes_dom.find('.textual_expression')[0]).toggle();\r\n\t\r\n\trepeatNtimes_dom.find('.button_alternate_expression').on('click', function() {\r\n\t\tvar text = CodeGenerator.repeatNtimesHeader(command);\r\n\t\tif (text) {\r\n\t\t\t$(repeatNtimes_dom.find('.textual_expression')[0]).html(text);\r\n\t\t\t$(repeatNtimes_dom.find('.textual_expression')[0]).toggle();\r\n\r\n\t\t\t$(repeatNtimes_dom.find('.attribution_expression')[0]).toggle();\r\n\t\t\t$(repeatNtimes_dom.find('.span_command_spec.separator_character')[0]).toggle();\r\n\t\t\t$(repeatNtimes_dom.find('.conditional_expression')[0]).toggle();\r\n\t\t\t$(repeatNtimes_dom.find('.pass_button')[0]).toggle();\r\n\t\t\t$(repeatNtimes_dom.find('.incrementation_field')[0]).toggle();\r\n\r\n\t\t\t$(repeatNtimes_dom.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\r\n\r\n\t\t\tcommand.lockexpression = !command.lockexpression;\r\n\t\t}\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\trepeatNtimes_dom.find('.lock').popup({\r\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\t\t\tdelay: {\r\n\t\t\t\t\tshow: 750,\r\n\t\t\t\t\thide: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\trepeatNtimes_dom.find('.unlock').popup({\r\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\t\t\tdelay: {\r\n\t\t\t\t\tshow: 750,\r\n\t\t\t\t\thide: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\trepeatNtimes_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, repeatNtimes_dom)) {\r\n\t\t\trepeatNtimes_dom.fadeOut(400, function() {\r\n\t\t\t\trepeatNtimes_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n\r\nfunction renderOperator (command, function_obj, temp_op, expression_element, index_op) {\r\n\r\n\tvar menu_operator = $('<div class=\"ui dropdown\"><div class=\"text\"></div></div>');\r\n\tmenu_operator.dropdown({\r\n\t    values: [\r\n\t      {\r\n\t        name     : '+',\r\n\t        value    : Models.ARITHMETIC_TYPES.plus,\r\n\t        selected : (expression_element.itens[index_op] == Models.ARITHMETIC_TYPES.plus)\r\n\t      },\r\n\t      {\r\n\t        name     : '-',\r\n\t        value    : Models.ARITHMETIC_TYPES.minus,\r\n\t        selected : (expression_element.itens[index_op] == Models.ARITHMETIC_TYPES.minus)\r\n\t      }\r\n\t    ],\r\n\t    onChange: function(value, text, $selectedItem) {\r\n\t    \texpression_element.itens[index_op] = value;\r\n\t    }\r\n\t  });\r\n\ttemp_op.append(menu_operator);\r\n}","import { Types } from '../types';\r\nimport { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as VariableValueMenu from './variable_value_menu';\r\nimport * as CommandsManagement from '../commands';\r\nimport * as GenericExpressionManagement from './generic_expression';\r\nimport * as Models from '../ivprog_elements';\r\nimport * as CodeGenerator from '../code_generator';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui return created_element\"> <i class=\"ui icon small reply\"></i> <span> '+LocalizedStrings.getUI('text_return')+' </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar el = $('<div class=\"ui return command_container\"> <i class=\"ui icon small reply command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i> <span class=\"span_command_spec\"> '+LocalizedStrings.getUI('text_return')+' </span>  <div class=\"expression_elements\"></div><span class=\"textual_expression\" style=\"display: none; margin-left: 1rem;\"></span></div>');\r\n\tel.data('command', command);\r\n\r\n\tif (function_obj.return_type != Types.VOID) {\r\n\t\tif (!command.variable_value_menu) {\r\n\t\t\tcommand.variable_value_menu = [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)];\r\n\t\t}\r\n\t\tGenericExpressionManagement.renderExpression(command, function_obj, el.find('.expression_elements'), command.variable_value_menu);\r\n\t\tel.append($('<i class=\"ui icon unlock button_alternate_expression\" style=\"margin-left: 1rem;\"></i>'));\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\tif (command.variable_value_menu) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.variable_value_menu);\r\n\t\t\t\t\tif (text) {\r\n\t\t\t\t\t\t$(el.find('.expression_elements')[0]).toggle();\r\n\t\t\t\t\t\t$(el.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t\t\t$(el.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t\t\t$(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {\r\n\t\t\t\t\tcommand.lockexpression = false;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tel.find('.expression_elements').remove();\r\n\t\tcommand.variable_value_menu = null;\r\n\t}\r\n\t\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\treturn el;\r\n}\r\n\r\nfunction addHandlers (command, function_obj, return_dom) {\r\n\r\n\treturn_dom.find('.button_alternate_expression').on('click', function() {\r\n\t\tif (command.variable_value_menu) {\r\n      var text = CodeGenerator.elementExpressionCode(command.variable_value_menu);\r\n\t\t\tif (text) {\r\n\t\t\t\t$(return_dom.find('.expression_elements')[0]).toggle();\r\n\t\t\t\t$(return_dom.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t$(return_dom.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n\treturn_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, return_dom)) {\r\n\t\t\treturn_dom.fadeOut(400, function() {\r\n\t\t\t\treturn_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n","import { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as CommandsManagement from '../commands';\r\nimport * as VariableValueMenu from './variable_value_menu';\r\nimport * as ContextualizedMenu from './contextualized_menu';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui switch created_element\"> <i class=\"ui icon small random\"></i> <span> '+LocalizedStrings.getUI('text_code_switch')+' ( x ) { <br> '+LocalizedStrings.getUI('text_code_case')+' 1: <br> '+LocalizedStrings.getUI('text_code_case')+' 2: <br> } </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar ret = '';\r\n\tret += '<div class=\"ui switch command_container\"> <i class=\"ui icon small random command_drag\" ></i> <i class=\"ui icon times red button_remove_command\"></i> <span> '+LocalizedStrings.getUI('text_code_switch')+' ( <div class=\"ui variable_to_switch\"></div> ) <div class=\"ui context_menu\"></div> <div class=\"ui all_cases_div\"></div></span>';\r\n\tret += '</div>';\r\n\r\n\tvar el = $(ret);\r\n\tel.data('command', command);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\tContextualizedMenu.renderMenu(command, el.find('.context_menu'), function_obj, el);\r\n\r\n\tVariableValueMenu.renderMenu(command, command.variable, el.find('.variable_to_switch'), function_obj);\r\n\r\n\tif (command.cases) {\r\n\t\tfor (var i = 0; i < command.cases.length; i++) {\r\n\t\t\trenderCase(command.cases[i], command, function_obj, el.find('.all_cases_div'));\r\n\t\t}\r\n\t}\r\n\r\n\treturn el;\r\n}\r\n\r\nexport function renderCase (switchcase, command, function_obj, el) {\r\n\r\n\tvar casediv = $('<div class=\"ui case_div\"><i class=\"ui icon times red button_remove_command\"></i><span>'+LocalizedStrings.getUI('text_code_case')+'</span> <div class=\"ui variable_case\"></div>: <div class=\"case_commands_block\"></div></div>');\r\n\r\n\tVariableValueMenu.renderMenu(command, switchcase.variable_value_menu, casediv.find('.variable_case'), function_obj);\r\n\r\n\tcasediv.data('switchcase', switchcase);\r\n\tcasediv.find('.case_commands_block').data('switchcase', switchcase);\r\n\r\n\tel.append(casediv);\r\n\r\n\tif (switchcase.commands_block) {\r\n\t\tfor (var j = 0; j < switchcase.commands_block.length; j++) {\r\n\t\t    CommandsManagement.renderCommand(switchcase.commands_block[j], $(casediv.find('.case_commands_block')[0]), 3, function_obj);\r\n\t\t}\r\n\t}\r\n\r\n\tcasediv.find('.button_remove_command').on('click', function() {\r\n\t\tfor (var i = 0; i < command.cases.length; i++) {\r\n\t\t\tif (switchcase == command.cases[i]) {\r\n\t\t\t\tdelete command.cases[i];\r\n\t\t\t\tcommand.cases.splice(i, 1);\r\n\t\t\t\tcasediv.remove();\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n}\r\n\r\nfunction addHandlers (command, function_obj, switch_dom) {\r\n\r\n\tswitch_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, switch_dom)) {\r\n\t\t\tswitch_dom.fadeOut(400, function() {\r\n\t\t\t\tswitch_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}","import * as Models from \"../ivprog_elements\";\r\nimport { LocalizedStrings } from \"../../services/localizedStringsService\";\r\nimport * as AttribuitionsManagement from \"./attribution\";\r\nimport * as RepeatNTimesManagement from \"./repeatNtimes\";\r\n\r\nexport const VAR_OR_VALUE_TYPES = Object.freeze({\r\n  only_variable: 1,\r\n  only_value: 2,\r\n  only_function: 3,\r\n  variable_and_function: 4,\r\n  variable_and_value_opt: 5,\r\n  value_and_function: 6,\r\n  all: 7,\r\n});\r\n\r\nexport function renderMenu (\r\n  command,\r\n  ref_object,\r\n  dom_object,\r\n  function_obj,\r\n  size_field = 2,\r\n  expression_element\r\n) {\r\n  // Verificar se o objeto atual trata-se de uma chamada de funo e conferir se possui a quantidade correta de parmetros\r\n  // Caso no possua, tem que adicionar as variveis que serviro de parmetros:\r\n  if (ref_object.function_called) {\r\n    if (ref_object.function_called.parameters_list) {\r\n      while (\r\n        ref_object.function_called.parameters_list.length !=\r\n        ref_object.parameters_list.length\r\n      ) {\r\n        if (\r\n          ref_object.parameters_list.length >\r\n          ref_object.function_called.parameters_list.length\r\n        ) {\r\n          ref_object.parameters_list.pop();\r\n        } else {\r\n          ref_object.parameters_list.push(\r\n            new Models.VariableValueMenu(\r\n              VAR_OR_VALUE_TYPES.all,\r\n              null,\r\n              null,\r\n              null,\r\n              true\r\n            )\r\n          );\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  let menu_var_or_value =\r\n    '<div class=\"ui dropdown menu_var_or_value_dom\" data-varmenu=\"true\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n\r\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.only_variable) {\r\n    menu_var_or_value =\r\n      '<div class=\"ui dropdown menu_var_or_value_dom\" data-varmenu=\"true\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu menu_only_vars\">';\r\n    menu_var_or_value += \"</div>\";\r\n  }\r\n\r\n  if (\r\n    ref_object.variable_and_value == VAR_OR_VALUE_TYPES.variable_and_function ||\r\n    ref_object.variable_and_value ==\r\n      VAR_OR_VALUE_TYPES.variable_and_value_opt ||\r\n    ref_object.variable_and_value == VAR_OR_VALUE_TYPES.all\r\n  ) {\r\n    menu_var_or_value +=\r\n      '<div class=\"item\" data-option=\"' +\r\n      VAR_OR_VALUE_TYPES.only_variable +\r\n      '\"><i class=\"dropdown icon\"></i>' +\r\n      LocalizedStrings.getUI(\"variable\");\r\n    menu_var_or_value += '<div class=\"menu menu_only_vars\">';\r\n    menu_var_or_value += \"</div></div>\";\r\n  }\r\n\r\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.only_value) {\r\n    menu_var_or_value =\r\n      '<input type=\"text\" class=\"width-dynamic\" size=\"' +\r\n      size_field +\r\n      '\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" />';\r\n  }\r\n\r\n  if (\r\n    ref_object.variable_and_value ==\r\n      VAR_OR_VALUE_TYPES.variable_and_value_opt ||\r\n    ref_object.variable_and_value == VAR_OR_VALUE_TYPES.value_and_function ||\r\n    ref_object.variable_and_value == VAR_OR_VALUE_TYPES.all\r\n  ) {\r\n    menu_var_or_value +=\r\n      '<div class=\"item\" data-option=\"' +\r\n      VAR_OR_VALUE_TYPES.only_value +\r\n      '\">' +\r\n      LocalizedStrings.getUI(\"text_value\") +\r\n      \"</div>\";\r\n  }\r\n\r\n  if (ref_object.variable_and_value == VAR_OR_VALUE_TYPES.only_function) {\r\n    menu_var_or_value =\r\n      '<div class=\"ui dropdown menu_var_or_value_dom\" data-varmenu=\"true\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu menu_only_functions\">';\r\n    menu_var_or_value += \"</div>\";\r\n  }\r\n\r\n  if (\r\n    ref_object.variable_and_value == VAR_OR_VALUE_TYPES.variable_and_function ||\r\n    ref_object.variable_and_value == VAR_OR_VALUE_TYPES.value_and_function ||\r\n    ref_object.variable_and_value == VAR_OR_VALUE_TYPES.all\r\n  ) {\r\n    menu_var_or_value +=\r\n      '<div class=\"item\" data-option=\"' +\r\n      VAR_OR_VALUE_TYPES.only_function +\r\n      '\"><i class=\"dropdown icon\"></i>' +\r\n      LocalizedStrings.getUI(\"btn_function\");\r\n    menu_var_or_value += '<div class=\"menu menu_only_functions\">';\r\n    menu_var_or_value += \"</div></div>\";\r\n\r\n    /*          if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                        menu_var_or_value += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                        menu_var_or_value += '<div class=\"menu\">';\r\n                        menu_var_or_value += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                        menu_var_or_value += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                        menu_var_or_value += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                        menu_var_or_value += '</div></div>';\r\n                }*/\r\n  }\r\n\r\n  menu_var_or_value += \"</div></div>\";\r\n\r\n  menu_var_or_value = $(menu_var_or_value);\r\n\r\n  menu_var_or_value.find('.width-dynamic').on('input', function() {\r\n    var input_field = $(this);\r\n    var inputWidth = input_field.textWidth()+10;\r\n    inputWidth = inputWidth<50?50:inputWidth;\r\n      input_field.css({\r\n          width: inputWidth\r\n      })\r\n  }).trigger('input');\r\n\r\n  dom_object.append(menu_var_or_value);\r\n\r\n  ref_object.dom_object = menu_var_or_value;\r\n\r\n  addHandlers(\r\n    command,\r\n    ref_object,\r\n    dom_object,\r\n    menu_var_or_value,\r\n    function_obj,\r\n    expression_element\r\n  );\r\n\r\n  addVariablesToMenu(\r\n    function_obj,\r\n    menu_var_or_value,\r\n    ref_object,\r\n    expression_element\r\n  );\r\n\r\n  addFunctionsToMenu(\r\n    function_obj,\r\n    menu_var_or_value,\r\n    ref_object,\r\n    expression_element\r\n  );\r\n\r\n  addIVProgFunctionsToMenu(\r\n    function_obj,\r\n    menu_var_or_value,\r\n    ref_object,\r\n    expression_element\r\n  );\r\n\r\n  if (ref_object.content || ref_object.function_called) {\r\n    if (ref_object.content) {\r\n      // Verificar se a varivel ainda existe:\r\n      const variable_fun = isVarInProgram(ref_object.content, function_obj);\r\n      if (variable_fun) {\r\n        ref_object.content = variable_fun;\r\n        renderPreviousContent(\r\n          function_obj,\r\n          menu_var_or_value,\r\n          ref_object,\r\n          dom_object,\r\n          command,\r\n          expression_element\r\n        );\r\n      } else {\r\n        if (ref_object.content && ref_object.content.type) {\r\n          ref_object.content = null;\r\n          appendSelectText(ref_object, menu_var_or_value);\r\n        } else {\r\n          renderPreviousContent(\r\n            function_obj,\r\n            menu_var_or_value,\r\n            ref_object,\r\n            dom_object,\r\n            command,\r\n            expression_element\r\n          );\r\n        }\r\n      }\r\n    } else if (ref_object.function_called) {\r\n      // Verificar se a funo ainda existe:\r\n      const ret_function = isFunctionInProgram(ref_object.function_called);\r\n      if (ret_function) {\r\n        ref_object.function_called = ret_function;\r\n        renderPreviousContent(\r\n          function_obj,\r\n          menu_var_or_value,\r\n          ref_object,\r\n          dom_object,\r\n          command,\r\n          expression_element\r\n        );\r\n      } else {\r\n        ref_object.content = null;\r\n        ref_object.row = null;\r\n        ref_object.column = null;\r\n        delete ref_object.function_called;\r\n        delete ref_object.parameters_list;\r\n        appendSelectText(ref_object, menu_var_or_value);\r\n      }\r\n    }\r\n  } else {\r\n    appendSelectText(ref_object, menu_var_or_value);\r\n  }\r\n}\r\n\r\nfunction appendSelectText (ref_object, menu_var_or_value) {\r\n  switch (ref_object.variable_and_value) {\r\n    case VAR_OR_VALUE_TYPES.only_variable:\r\n      menu_var_or_value\r\n        .find(\".text\")\r\n        .append(\"<i>\" + LocalizedStrings.getUI(\"var_menu_select_var\") + \"</i>\");\r\n      break;\r\n    case VAR_OR_VALUE_TYPES.all:\r\n      menu_var_or_value\r\n        .find(\".text\")\r\n        .append(\"<i>\" + LocalizedStrings.getUI(\"var_menu_select_all\") + \"</i>\");\r\n      break;\r\n    case VAR_OR_VALUE_TYPES.variable_and_function:\r\n      menu_var_or_value\r\n        .find(\".text\")\r\n        .append(\"<i>\" + LocalizedStrings.getUI(\"var_menu_select_all\") + \"</i>\");\r\n      break;\r\n    case VAR_OR_VALUE_TYPES.only_function:\r\n      menu_var_or_value\r\n        .find(\".text\")\r\n        .append(\r\n          \"<i>\" + LocalizedStrings.getUI(\"var_menu_select_function\") + \"</i>\"\r\n        );\r\n      break;\r\n  }\r\n}\r\n\r\nfunction isFunctionInProgram (function_called_obj) {\r\n  if (function_called_obj.name) {\r\n    if (window.program_obj.functions) {\r\n      for (var i = 0; i < window.program_obj.functions.length; i++) {\r\n        if (window.program_obj.functions[i] == function_called_obj) {\r\n          return window.program_obj.functions[i];\r\n        }\r\n      }\r\n      for (var i = 0; i < window.program_obj.functions.length; i++) {\r\n        if (window.program_obj.functions[i].name == function_called_obj.name) {\r\n          return window.program_obj.functions[i];\r\n        }\r\n      }\r\n    }\r\n  } else if (function_called_obj.identifier) {\r\n    for (var i = 0; i < window.system_functions.length; i++) {\r\n      if (\r\n        window.system_functions[i].identifier == function_called_obj.identifier\r\n      ) {\r\n        return window.system_functions[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction isVarInProgram (var_obj, function_obj) {\r\n  // Verify in locals:\r\n  if (function_obj.variables_list) {\r\n    for (var i = 0; i < function_obj.variables_list.length; i++) {\r\n      if (function_obj.variables_list[i] == var_obj) {\r\n        return function_obj.variables_list[i];\r\n      }\r\n    }\r\n  }\r\n  // Verify in parameters:\r\n  if (function_obj.parameters_list) {\r\n    for (var i = 0; i < function_obj.parameters_list.length; i++) {\r\n      if (function_obj.parameters_list[i] == var_obj) {\r\n        return function_obj.parameters_list[i];\r\n      }\r\n    }\r\n  }\r\n  // Verify in globals:\r\n  if (window.program_obj.globals) {\r\n    for (var i = 0; i < window.program_obj.globals.length; i++) {\r\n      if (window.program_obj.globals[i] == var_obj) {\r\n        return window.program_obj.globals[i];\r\n      }\r\n    }\r\n  }\r\n\r\n  // If not found, verify if the reference was lost\r\n  if (var_obj) {\r\n    if (function_obj.variables_list) {\r\n      for (var i = 0; i < function_obj.variables_list.length; i++) {\r\n        if (function_obj.variables_list[i].name == var_obj.name) {\r\n          return function_obj.variables_list[i];\r\n        }\r\n      }\r\n    }\r\n    if (function_obj.parameters_list) {\r\n      for (var i = 0; i < function_obj.parameters_list.length; i++) {\r\n        if (function_obj.parameters_list[i].name == var_obj.name) {\r\n          return function_obj.parameters_list[i];\r\n        }\r\n      }\r\n    }\r\n    if (window.program_obj.globals) {\r\n      for (var i = 0; i < window.program_obj.globals.length; i++) {\r\n        if (window.program_obj.globals[i].name == var_obj.name) {\r\n          return window.program_obj.globals[i];\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction renderPreviousContent (\r\n  function_obj,\r\n  menu_var_or_value,\r\n  ref_object,\r\n  dom_object,\r\n  command,\r\n  expression_element\r\n) {\r\n  if (ref_object.function_called) {\r\n    menu_var_or_value.remove();\r\n    variableValueMenuCode(\r\n      command,\r\n      ref_object,\r\n      dom_object,\r\n      function_obj,\r\n      menu_var_or_value,\r\n      expression_element\r\n    );\r\n  } else if (ref_object.content.type) {\r\n    menu_var_or_value.remove();\r\n    variableValueMenuCode(\r\n      command,\r\n      ref_object,\r\n      dom_object,\r\n      function_obj,\r\n      menu_var_or_value,\r\n      expression_element\r\n    );\r\n  } else {\r\n    menu_var_or_value.remove();\r\n    variableValueMenuCode(\r\n      command,\r\n      ref_object,\r\n      dom_object,\r\n      function_obj,\r\n      menu_var_or_value,\r\n      expression_element\r\n    );\r\n  }\r\n}\r\n\r\nfunction variableValueMenuCode (\r\n  command,\r\n  variable_obj,\r\n  dom_object,\r\n  function_obj,\r\n  menu_var_or_value,\r\n  expression_element\r\n) {\r\n  if (variable_obj.content || variable_obj.function_called) {\r\n    // Verificar se a varivel ainda existe:\r\n    const var_fun = isVarInProgram(variable_obj.content, function_obj);\r\n\r\n    if (var_fun) {\r\n      variable_obj.content = var_fun;\r\n    } else {\r\n      if (variable_obj.content && variable_obj.content.type) {\r\n        variable_obj.content = null;\r\n        appendSelectText(variable_obj, menu_var_or_value);\r\n      }\r\n    }\r\n  } else {\r\n    appendSelectText(variable_obj, menu_var_or_value);\r\n  }\r\n\r\n  if (variable_obj.content == null && variable_obj.function_called == null) {\r\n    renderMenu(\r\n      command,\r\n      variable_obj,\r\n      dom_object,\r\n      function_obj,\r\n      2,\r\n      expression_element\r\n    );\r\n    return;\r\n  }\r\n\r\n  const ret = \"\";\r\n  if (variable_obj.function_called) {\r\n    if (\r\n      variable_obj.function_called.parameters_list == null ||\r\n      variable_obj.function_called.length == 0\r\n    ) {\r\n      menu_var_or_value.find(\".text\").text(\" \");\r\n      dom_object.find(\".menu_var_or_value_dom\").remove();\r\n\r\n      var parameters_menu;\r\n\r\n      if (variable_obj.function_called.name) {\r\n        parameters_menu =\r\n          '<div class=\"parameters_function_called\"> ' +\r\n          variable_obj.function_called.name +\r\n          \" <span> ( </span>\";\r\n      } else {\r\n        parameters_menu =\r\n          '<div class=\"parameters_function_called\"> <i>' +\r\n          LocalizedStrings.translateInternalFunction(\r\n            variable_obj.function_called.identifier,\r\n            variable_obj.function_called.category\r\n          ) +\r\n          \"</i> <span> ( </span>\";\r\n      }\r\n\r\n      parameters_menu += \"<span> ) </span></div>\";\r\n\r\n      parameters_menu = $(parameters_menu);\r\n\r\n      dom_object.append(parameters_menu);\r\n\r\n      var context_menu =\r\n        '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n      context_menu +=\r\n        '<div class=\"item\" data-clear=\"true\">' +\r\n        LocalizedStrings.getUI(\"btn_clear\") +\r\n        \"</div>\";\r\n\r\n      /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                                context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                                context_menu += '<div class=\"menu\">';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                                context_menu += '</div></div>';\r\n                        }*/\r\n\r\n      context_menu += \"</div></div>\";\r\n\r\n      context_menu = $(context_menu);\r\n\r\n      context_menu.insertAfter(dom_object.find(\".parameters_function_called\"));\r\n\r\n      context_menu.dropdown({\r\n        onChange: function (value, text, $selectedItem) {\r\n          if ($selectedItem.data(\"clear\")) {\r\n            dom_object.text(\"\");\r\n\r\n            variable_obj.content = null;\r\n            variable_obj.row = null;\r\n            variable_obj.column = null;\r\n            delete variable_obj.function_called;\r\n            delete variable_obj.parameters_list;\r\n\r\n            renderMenu(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              function_obj,\r\n              2,\r\n              expression_element\r\n            );\r\n          }\r\n\r\n          if ($selectedItem.data(\"exp\")) {\r\n            AttribuitionsManagement.manageExpressionElements(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              menu_var_or_value,\r\n              function_obj,\r\n              $selectedItem,\r\n              expression_element\r\n            );\r\n          }\r\n        },\r\n        selectOnKeydown: false,\r\n      });\r\n    } else {\r\n      menu_var_or_value.find(\".text\").text(\" \");\r\n      dom_object.find(\".menu_var_or_value_dom\").remove();\r\n\r\n      var parameters_menu;\r\n\r\n      if (variable_obj.function_called.name) {\r\n        parameters_menu =\r\n          '<div class=\"parameters_function_called\"> ' +\r\n          variable_obj.function_called.name +\r\n          \" <span> ( </span>\";\r\n      } else {\r\n        parameters_menu =\r\n          '<div class=\"parameters_function_called\"> <i>' +\r\n          LocalizedStrings.translateInternalFunction(\r\n            variable_obj.function_called.identifier,\r\n            variable_obj.function_called.category\r\n          ) +\r\n          \"</i> <span> ( </span>\";\r\n      }\r\n\r\n      for (\r\n        let j = 0;\r\n        j < variable_obj.function_called.parameters_list.length;\r\n        j++\r\n      ) {\r\n        parameters_menu +=\r\n          '<div class=\"render_style_param parameter_' + j + '\"></div>';\r\n        if (j + 1 != variable_obj.function_called.parameters_list.length) {\r\n          parameters_menu += \" , \";\r\n        }\r\n      }\r\n      parameters_menu += \"<span> ) </span></div>\";\r\n\r\n      parameters_menu = $(parameters_menu);\r\n\r\n      dom_object.append(parameters_menu);\r\n\r\n      for (\r\n        let j = 0;\r\n        j < variable_obj.function_called.parameters_list.length;\r\n        j++\r\n      ) {\r\n        renderMenu(\r\n          command,\r\n          variable_obj.parameters_list[j],\r\n          parameters_menu.find(\".parameter_\" + j),\r\n          function_obj,\r\n          2,\r\n          expression_element\r\n        );\r\n      }\r\n\r\n      let context_menu =\r\n        '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n      context_menu +=\r\n        '<div class=\"item\" data-clear=\"true\">' +\r\n        LocalizedStrings.getUI(\"btn_clear\") +\r\n        \"</div>\";\r\n\r\n      /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                                context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                                context_menu += '<div class=\"menu\">';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                                context_menu += '</div></div>';\r\n                        }*/\r\n\r\n      context_menu += \"</div></div>\";\r\n\r\n      context_menu = $(context_menu);\r\n\r\n      context_menu.insertAfter(parameters_menu);\r\n\r\n      context_menu.dropdown({\r\n        onChange: function (value, text, $selectedItem) {\r\n          if ($selectedItem.data(\"clear\")) {\r\n            dom_object.text(\"\");\r\n\r\n            variable_obj.content = null;\r\n            variable_obj.row = null;\r\n            variable_obj.column = null;\r\n            delete variable_obj.function_called;\r\n            delete variable_obj.parameters_list;\r\n\r\n            renderMenu(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              function_obj,\r\n              2,\r\n              expression_element\r\n            );\r\n          }\r\n\r\n          if ($selectedItem.data(\"exp\")) {\r\n            AttribuitionsManagement.manageExpressionElements(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              menu_var_or_value,\r\n              function_obj,\r\n              $selectedItem,\r\n              expression_element\r\n            );\r\n          }\r\n        },\r\n        selectOnKeydown: false,\r\n      });\r\n    }\r\n  } else if (variable_obj.content.type) {\r\n    let variable_render = \"\";\r\n\r\n    if (variable_obj.content.dimensions == 1 && variable_obj.dimensions != 1) {\r\n      variable_render =\r\n        '<div class=\"variable_rendered\"> <span class=\"var_name\">' +\r\n        variable_obj.content.name +\r\n        \"</span>\";\r\n\r\n      variable_render +=\r\n        ' <span>[ </span> <div class=\"column_container\"></div> <span> ]</span>';\r\n\r\n      variable_render += \"</div>\";\r\n\r\n      variable_render = $(variable_render);\r\n\r\n      dom_object.append(variable_render);\r\n\r\n      let context_menu =\r\n        '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n      context_menu +=\r\n        '<div class=\"item\" data-clear=\"true\">' +\r\n        LocalizedStrings.getUI(\"btn_clear\") +\r\n        \"</div>\";\r\n\r\n      /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                                context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                                context_menu += '<div class=\"menu\">';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                                context_menu += '</div></div>';\r\n                        }*/\r\n\r\n      context_menu += \"</div></div>\";\r\n\r\n      context_menu = $(context_menu);\r\n\r\n      variable_render.append(context_menu);\r\n\r\n      context_menu.dropdown({\r\n        onChange: function (value, text, $selectedItem) {\r\n          if ($selectedItem.data(\"clear\")) {\r\n            dom_object.text(\"\");\r\n\r\n            variable_obj.content = null;\r\n            variable_obj.row = null;\r\n            variable_obj.column = null;\r\n            delete variable_obj.function_called;\r\n            delete variable_obj.parameters_list;\r\n\r\n            renderMenu(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              function_obj,\r\n              2,\r\n              expression_element\r\n            );\r\n          }\r\n\r\n          if ($selectedItem.data(\"exp\")) {\r\n            AttribuitionsManagement.manageExpressionElements(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              menu_var_or_value,\r\n              function_obj,\r\n              $selectedItem,\r\n              expression_element\r\n            );\r\n          }\r\n        },\r\n        selectOnKeydown: false,\r\n      });\r\n\r\n      if (!variable_obj.column) {\r\n        variable_obj.column = new Models.VariableValueMenu(\r\n          VAR_OR_VALUE_TYPES.all,\r\n          null,\r\n          null,\r\n          null,\r\n          true\r\n        );\r\n      }\r\n\r\n      variableValueMenuCode(\r\n        command,\r\n        variable_obj.column,\r\n        $(variable_render.find(\".column_container\")),\r\n        function_obj,\r\n        menu_var_or_value,\r\n        expression_element\r\n      );\r\n    } else if (\r\n      variable_obj.content.dimensions == 2 &&\r\n      variable_obj.dimensions != 2\r\n    ) {\r\n      variable_render =\r\n        '<div class=\"variable_rendered\"> <span class=\"var_name\">' +\r\n        variable_obj.content.name +\r\n        \"</span>\";\r\n\r\n      variable_render +=\r\n        ' <span>[ </span> <div class=\"row_container\"></div> <span> ]</span>';\r\n      variable_render +=\r\n        ' <span>[ </span> <div class=\"column_container\"></div> <span> ] </span>';\r\n\r\n      variable_render += \"</div>\";\r\n\r\n      variable_render = $(variable_render);\r\n\r\n      dom_object.append(variable_render);\r\n\r\n      let context_menu =\r\n        '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n      context_menu +=\r\n        '<div class=\"item\" data-clear=\"true\">' +\r\n        LocalizedStrings.getUI(\"btn_clear\") +\r\n        \"</div>\";\r\n\r\n      /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                                context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                                context_menu += '<div class=\"menu\">';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                                context_menu += '</div></div>';\r\n                        }*/\r\n\r\n      context_menu += \"</div></div>\";\r\n\r\n      context_menu = $(context_menu);\r\n\r\n      variable_render.append(context_menu);\r\n\r\n      context_menu.dropdown({\r\n        onChange: function (value, text, $selectedItem) {\r\n          if ($selectedItem.data(\"clear\")) {\r\n            dom_object.text(\"\");\r\n\r\n            variable_obj.content = null;\r\n            variable_obj.row = null;\r\n            variable_obj.column = null;\r\n            delete variable_obj.function_called;\r\n            delete variable_obj.parameters_list;\r\n\r\n            renderMenu(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              function_obj,\r\n              2,\r\n              expression_element\r\n            );\r\n          }\r\n\r\n          if ($selectedItem.data(\"exp\")) {\r\n            AttribuitionsManagement.manageExpressionElements(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              menu_var_or_value,\r\n              function_obj,\r\n              $selectedItem,\r\n              expression_element\r\n            );\r\n          }\r\n        },\r\n        selectOnKeydown: false,\r\n      });\r\n\r\n      if (!variable_obj.column) {\r\n        variable_obj.column = new Models.VariableValueMenu(\r\n          VAR_OR_VALUE_TYPES.all,\r\n          null,\r\n          null,\r\n          null,\r\n          true\r\n        );\r\n      }\r\n      if (!variable_obj.row) {\r\n        variable_obj.row = new Models.VariableValueMenu(\r\n          VAR_OR_VALUE_TYPES.all,\r\n          null,\r\n          null,\r\n          null,\r\n          true\r\n        );\r\n      }\r\n\r\n      variableValueMenuCode(\r\n        command,\r\n        variable_obj.row,\r\n        $(variable_render.find(\".row_container\")),\r\n        function_obj,\r\n        menu_var_or_value,\r\n        expression_element\r\n      );\r\n      variableValueMenuCode(\r\n        command,\r\n        variable_obj.column,\r\n        $(variable_render.find(\".column_container\")),\r\n        function_obj,\r\n        menu_var_or_value,\r\n        expression_element\r\n      );\r\n    } else {\r\n      variable_render =\r\n        '<div class=\"variable_rendered\"> <span class=\"var_name\">' +\r\n        variable_obj.content.name +\r\n        \"</span>\";\r\n\r\n      variable_render += \"</div>\";\r\n\r\n      variable_render = $(variable_render);\r\n\r\n      dom_object.append(variable_render);\r\n\r\n      let context_menu =\r\n        '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n      context_menu +=\r\n        '<div class=\"item\" data-clear=\"true\">' +\r\n        LocalizedStrings.getUI(\"btn_clear\") +\r\n        \"</div>\";\r\n\r\n      /*if (command.type == Models.COMMAND_TYPES.attribution && !dom_object.hasClass('var_attributed')) {\r\n                                console.log('dom_object6');\r\n                                console.log(dom_object);\r\n                                context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                                context_menu += '<div class=\"menu\">';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                                context_menu += '</div></div>';\r\n                        }*/\r\n\r\n      context_menu += \"</div></div>\";\r\n\r\n      context_menu = $(context_menu);\r\n\r\n      variable_render.append(context_menu);\r\n\r\n      context_menu.dropdown({\r\n        onChange: function (value, text, $selectedItem) {\r\n          if ($selectedItem.data(\"clear\")) {\r\n            dom_object.text(\"\");\r\n\r\n            variable_obj.content = null;\r\n            variable_obj.row = null;\r\n            variable_obj.column = null;\r\n\r\n            delete variable_obj.function_called;\r\n            delete variable_obj.parameters_list;\r\n\r\n            renderMenu(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              function_obj,\r\n              2,\r\n              expression_element\r\n            );\r\n          }\r\n\r\n          if ($selectedItem.data(\"exp\")) {\r\n            AttribuitionsManagement.manageExpressionElements(\r\n              command,\r\n              variable_obj,\r\n              dom_object,\r\n              menu_var_or_value,\r\n              function_obj,\r\n              $selectedItem,\r\n              expression_element\r\n            );\r\n          }\r\n        },\r\n        selectOnKeydown: false,\r\n      });\r\n    }\r\n  } else {\r\n    let variable_render;\r\n\r\n    variable_render =\r\n      '<div class=\"variable_rendered\"> <span class=\"var_name\">';\r\n\r\n    if (isNaN(variable_obj.content)) {\r\n      variable_render += variable_obj.content.split(\" \").join(\"&nbsp;\");\r\n    } else {\r\n      variable_render += variable_obj.content;\r\n    }\r\n\r\n    variable_render += \"</span>\";\r\n    variable_render += \"</div>\";\r\n\r\n    variable_render = $(variable_render);\r\n\r\n    dom_object.append(variable_render);\r\n\r\n    var context_menu =\r\n      '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n    context_menu +=\r\n      '<div class=\"item\" data-clear=\"true\">' +\r\n      LocalizedStrings.getUI(\"btn_clear\") +\r\n      \"</div>\";\r\n\r\n    /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                        context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                        context_menu += '<div class=\"menu\">';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                        context_menu += '</div></div>';\r\n                }*/\r\n\r\n    context_menu += \"</div></div>\";\r\n\r\n    context_menu = $(context_menu);\r\n\r\n    if (variable_obj.variable_and_value != VAR_OR_VALUE_TYPES.only_value) {\r\n      context_menu.insertAfter(variable_render);\r\n    }\r\n\r\n    context_menu.dropdown({\r\n      onChange: function (value, text, $selectedItem) {\r\n        if ($selectedItem.data(\"clear\")) {\r\n          dom_object.text(\"\");\r\n\r\n          variable_obj.content = null;\r\n          variable_obj.row = null;\r\n          variable_obj.column = null;\r\n\r\n          delete variable_obj.function_called;\r\n          delete variable_obj.parameters_list;\r\n\r\n          dom_object.find(\".value_rendered\").remove();\r\n          dom_object.find(\".context_menu_clear\").remove();\r\n          dom_object.find(\".width-dynamic-minus\").remove();\r\n\r\n          renderMenu(\r\n            command,\r\n            variable_obj,\r\n            dom_object,\r\n            function_obj,\r\n            2,\r\n            expression_element\r\n          );\r\n        }\r\n\r\n        if ($selectedItem.data(\"exp\")) {\r\n          AttribuitionsManagement.manageExpressionElements(\r\n            command,\r\n            variable_obj,\r\n            dom_object,\r\n            menu_var_or_value,\r\n            function_obj,\r\n            $selectedItem,\r\n            expression_element\r\n          );\r\n        }\r\n      },\r\n      selectOnKeydown: false,\r\n    });\r\n\r\n    variable_render.on(\"click\", function (e) {\r\n      variable_render.remove();\r\n      variable_render.empty();\r\n      variable_render.remove();\r\n      dom_object.empty();\r\n      dom_object.append('<span class=\"menu_var_or_value_dom\"> </span>');\r\n\r\n      openInputToValue(\r\n        command,\r\n        variable_obj,\r\n        dom_object,\r\n        menu_var_or_value,\r\n        function_obj,\r\n        expression_element\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\nfunction addIVProgFunctionsToMenu (\r\n  function_obj,\r\n  menu_var_or_value,\r\n  ref_object,\r\n  expression_element\r\n) {\r\n  const sub_menu = menu_var_or_value.find(\".menu_only_functions\");\r\n  sub_menu.append(\r\n    '<div class=\"divider\"></div><div class=\"header\">' +\r\n      LocalizedStrings.getUI(\"text_header_ivprog_functions\") +\r\n      \"</div>\"\r\n  );\r\n  sub_menu.append(\r\n    '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n      LocalizedStrings.getUI(\"text_menu_functions_math\") +\r\n      '<div class=\"menu menu_math_functions\"></div></div>'\r\n  );\r\n  sub_menu.append(\r\n    '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n      LocalizedStrings.getUI(\"text_menu_functions_text\") +\r\n      '<div class=\"menu menu_text_functions\"></div></div>'\r\n  );\r\n  sub_menu.append(\r\n    '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n      LocalizedStrings.getUI(\"text_menu_functions_array\") +\r\n      '<div class=\"menu menu_arrangement_functions\"></div></div>'\r\n  );\r\n  sub_menu.append(\r\n    '<div class=\"item\"><i class=\"dropdown icon\"></i>' +\r\n      LocalizedStrings.getUI(\"text_menu_functions_conversion\") +\r\n      '<div class=\"menu menu_conversion_functions\"></div></div>'\r\n  );\r\n\r\n  // Insert Math functions:\r\n  for (let i = 0; i < window.system_functions.length; i++) {\r\n    const t = $('<div class=\"item\"></div>');\r\n    t.data(\"function_reference\", window.system_functions[i]);\r\n    t.data(\"option\", VAR_OR_VALUE_TYPES.only_function);\r\n    t.text(\r\n      LocalizedStrings.translateInternalFunction(\r\n        window.system_functions[i].identifier\r\n      )\r\n    );\r\n\r\n    switch (window.system_functions[i].category) {\r\n      case Models.SYSTEM_FUNCTIONS_CATEGORIES.math:\r\n        sub_menu.find(\".menu_math_functions\").append(t);\r\n        break;\r\n      case Models.SYSTEM_FUNCTIONS_CATEGORIES.text:\r\n        sub_menu.find(\".menu_text_functions\").append(t);\r\n        break;\r\n      case Models.SYSTEM_FUNCTIONS_CATEGORIES.arrangement:\r\n        sub_menu.find(\".menu_arrangement_functions\").append(t);\r\n        break;\r\n      case Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion:\r\n        sub_menu.find(\".menu_conversion_functions\").append(t);\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nfunction addFunctionsToMenu (\r\n  function_obj,\r\n  menu_var_or_value,\r\n  ref_object,\r\n  expression_element\r\n) {\r\n  const sub_menu = menu_var_or_value.find(\".menu_only_functions\");\r\n  sub_menu.text(\"\");\r\n\r\n  for (let i = 0; i < window.program_obj.functions.length; i++) {\r\n    const temp = $(\r\n      '<div class=\"item\" data-option=\"' +\r\n        VAR_OR_VALUE_TYPES.only_function +\r\n        '\">' +\r\n        window.program_obj.functions[i].name +\r\n        \" </div>\"\r\n    );\r\n    temp.data(\"function_reference\", window.program_obj.functions[i]);\r\n    sub_menu.append(temp);\r\n  }\r\n}\r\n\r\nfunction addVariablesToMenu (\r\n  function_obj,\r\n  menu_var_or_value,\r\n  ref_object,\r\n  expression_element\r\n) {\r\n  const sub_menu = menu_var_or_value.find(\".menu_only_vars\");\r\n  sub_menu.text(\"\");\r\n  let is_there = false;\r\n\r\n  if (window.program_obj.globals) {\r\n    if (ref_object.include_constant) {\r\n      for (var i = 0; i < window.program_obj.globals.length; i++) {\r\n        var temp = $(\r\n          '<div class=\"item\" data-option=\"' +\r\n            VAR_OR_VALUE_TYPES.only_variable +\r\n            '\">' +\r\n            window.program_obj.globals[i].name +\r\n            \" </div>\"\r\n        );\r\n        temp.data(\"variable_reference\", window.program_obj.globals[i]);\r\n        sub_menu.append(temp);\r\n        is_there = true;\r\n      }\r\n    } else {\r\n      for (var i = 0; i < window.program_obj.globals.length; i++) {\r\n        if (!window.program_obj.globals[i].is_constant) {\r\n          var temp = $(\r\n            '<div class=\"item\" data-option=\"' +\r\n              VAR_OR_VALUE_TYPES.only_variable +\r\n              '\">' +\r\n              window.program_obj.globals[i].name +\r\n              \" </div>\"\r\n          );\r\n          temp.data(\"variable_reference\", window.program_obj.globals[i]);\r\n          sub_menu.append(temp);\r\n          is_there = true;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  if (function_obj.parameters_list) {\r\n    for (var i = 0; i < function_obj.parameters_list.length; i++) {\r\n      var temp = $(\r\n        '<div class=\"item\" data-option=\"' +\r\n          VAR_OR_VALUE_TYPES.only_variable +\r\n          '\">' +\r\n          function_obj.parameters_list[i].name +\r\n          \" </div>\"\r\n      );\r\n      temp.data(\"variable_reference\", function_obj.parameters_list[i]);\r\n      sub_menu.append(temp);\r\n      is_there = true;\r\n    }\r\n  }\r\n\r\n  if (function_obj.variables_list) {\r\n    for (var i = 0; i < function_obj.variables_list.length; i++) {\r\n      var temp = $(\r\n        '<div class=\"item\" data-option=\"' +\r\n          VAR_OR_VALUE_TYPES.only_variable +\r\n          '\">' +\r\n          function_obj.variables_list[i].name +\r\n          \" </div>\"\r\n      );\r\n      temp.data(\"variable_reference\", function_obj.variables_list[i]);\r\n      sub_menu.append(temp);\r\n      is_there = true;\r\n    }\r\n  }\r\n  if (!is_there) {\r\n    sub_menu.append(\r\n      $(\r\n        '<div class=\"header\">' +\r\n          LocalizedStrings.getUI(\"text_no_variable\") +\r\n          \"</div>\"\r\n      )\r\n    );\r\n    sub_menu.append(\r\n      $(\r\n        '<div class=\"item disabled\">' +\r\n          LocalizedStrings.getUI(\"text_no_variable_instruction\") +\r\n          \"</div>\"\r\n      )\r\n    );\r\n  }\r\n}\r\n\r\nfunction addHandlers (\r\n  command,\r\n  ref_object,\r\n  dom_object,\r\n  menu_var_or_value,\r\n  function_obj,\r\n  expression_element\r\n) {\r\n  if (ref_object.variable_and_value != VAR_OR_VALUE_TYPES.only_value) {\r\n    menu_var_or_value.dropdown({\r\n      onChange: function (value, text, $selectedItem) {\r\n        dom_object.find(\".var_name\").remove();\r\n        switch ($selectedItem.data(\"option\")) {\r\n          case VAR_OR_VALUE_TYPES.only_function:\r\n            openInputToFunction(\r\n              command,\r\n              ref_object,\r\n              dom_object,\r\n              menu_var_or_value,\r\n              function_obj,\r\n              $($selectedItem).data(\"function_reference\"),\r\n              expression_element\r\n            );\r\n            break;\r\n\r\n          case VAR_OR_VALUE_TYPES.only_value:\r\n            openInputToValue(\r\n              command,\r\n              ref_object,\r\n              dom_object,\r\n              menu_var_or_value,\r\n              function_obj,\r\n              expression_element\r\n            );\r\n            break;\r\n\r\n          case VAR_OR_VALUE_TYPES.only_variable:\r\n            openInputToVariable(\r\n              command,\r\n              ref_object,\r\n              dom_object,\r\n              menu_var_or_value,\r\n              function_obj,\r\n              $($selectedItem).data(\"variable_reference\"),\r\n              expression_element\r\n            );\r\n            break;\r\n        }\r\n\r\n        if ($selectedItem.data(\"exp\")) {\r\n          AttribuitionsManagement.manageExpressionElements(\r\n            command,\r\n            ref_object,\r\n            dom_object,\r\n            menu_var_or_value,\r\n            function_obj,\r\n            $selectedItem,\r\n            expression_element\r\n          );\r\n        }\r\n\r\n        if (command.type == Models.COMMAND_TYPES.repeatNtimes) {\r\n          RepeatNTimesManagement.manageExpressionElements(\r\n            command,\r\n            ref_object,\r\n            dom_object,\r\n            menu_var_or_value,\r\n            function_obj,\r\n            $selectedItem,\r\n            expression_element\r\n          );\r\n        }\r\n      },\r\n      selectOnKeydown: false,\r\n    });\r\n  }\r\n\r\n  dom_object\r\n    .find(\".width-dynamic\")\r\n    .on(\"input\", function () {\r\n      const inputWidth = $(this).textWidth() + 10;\r\n      $(this).focus();\r\n\r\n      const tmpStr = $(this).val();\r\n      $(this).val(\"\");\r\n      $(this).val(tmpStr);\r\n\r\n      $(this).css({\r\n        width: inputWidth,\r\n      });\r\n    })\r\n    .trigger(\"input\");\r\n\r\n  if (command.type == Models.COMMAND_TYPES.comment) {\r\n    dom_object.parent().on(\"click\", function (e) {\r\n      dom_object.find(\".value_rendered\").remove();\r\n      dom_object.find(\".value_rendered\").empty();\r\n      dom_object.find(\".value_rendered\").remove();\r\n      dom_object.empty();\r\n      dom_object.append('<span class=\"menu_var_or_value_dom\"> </span>');\r\n\r\n      openInputToValue(\r\n        command,\r\n        ref_object,\r\n        dom_object,\r\n        menu_var_or_value,\r\n        function_obj,\r\n        expression_element\r\n      );\r\n    });\r\n  }\r\n}\r\n\r\nfunction openInputToFunction (\r\n  command,\r\n  ref_object,\r\n  dom_object,\r\n  menu_var_or_value,\r\n  function_obj,\r\n  function_selected,\r\n  expression_element\r\n) {\r\n  ref_object.function_called = function_selected;\r\n  ref_object.parameters_list = [];\r\n\r\n  if (\r\n    function_selected.parameters_list != null &&\r\n    function_selected.parameters_list.length > 0\r\n  ) {\r\n    menu_var_or_value.find(\".text\").text(\" \");\r\n    dom_object.find(\".menu_var_or_value_dom\").remove();\r\n\r\n    var parameters_menu;\r\n    if (function_selected.name) {\r\n      parameters_menu =\r\n        '<div class=\"parameters_function_called\"> ' +\r\n        function_selected.name +\r\n        \" <span> ( </span>\";\r\n    } else {\r\n      parameters_menu =\r\n        '<div class=\"parameters_function_called\"> <i>' +\r\n        LocalizedStrings.translateInternalFunction(\r\n          function_selected.identifier,\r\n          function_selected.category\r\n        ) +\r\n        \"</i> <span> ( </span>\";\r\n    }\r\n    for (var j = 0; j < function_selected.parameters_list.length; j++) {\r\n      parameters_menu +=\r\n        '<div class=\"render_style_param parameter_' + j + '\"></div>';\r\n      if (j + 1 != function_selected.parameters_list.length) {\r\n        parameters_menu += \" , \";\r\n      }\r\n    }\r\n    parameters_menu += \"<span> ) </span></div>\";\r\n\r\n    parameters_menu = $(parameters_menu);\r\n\r\n    dom_object.append(parameters_menu);\r\n\r\n    for (var j = 0; j < function_selected.parameters_list.length; j++) {\r\n      var temp;\r\n      if (function_selected.parameters_list[j].dimensions > 0) {\r\n        temp = new Models.VariableValueMenu(\r\n          VAR_OR_VALUE_TYPES.variable_and_function,\r\n          null,\r\n          null,\r\n          null,\r\n          true,\r\n          function_selected.parameters_list[j].dimensions\r\n        );\r\n      } else {\r\n        temp = new Models.VariableValueMenu(\r\n          VAR_OR_VALUE_TYPES.all,\r\n          null,\r\n          null,\r\n          null,\r\n          true\r\n        );\r\n      }\r\n      ref_object.parameters_list.push(temp);\r\n      renderMenu(\r\n        command,\r\n        temp,\r\n        parameters_menu.find(\".parameter_\" + j),\r\n        function_obj,\r\n        2,\r\n        expression_element\r\n      );\r\n    }\r\n\r\n    var context_menu =\r\n      '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n    context_menu +=\r\n      '<div class=\"item\" data-clear=\"true\">' +\r\n      LocalizedStrings.getUI(\"btn_clear\") +\r\n      \"</div>\";\r\n\r\n    /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                        context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                        context_menu += '<div class=\"menu\">';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                        context_menu += '</div></div>';\r\n                }*/\r\n\r\n    context_menu += \"</div></div>\";\r\n\r\n    context_menu = $(context_menu);\r\n\r\n    context_menu.insertAfter(dom_object.find(\".parameters_function_called\"));\r\n\r\n    context_menu.dropdown({\r\n      onChange: function (value, text, $selectedItem) {\r\n        if ($selectedItem.data(\"clear\")) {\r\n          dom_object.text(\"\");\r\n\r\n          ref_object.content = null;\r\n          ref_object.row = null;\r\n          ref_object.column = null;\r\n          delete ref_object.function_called;\r\n          delete ref_object.parameters_list;\r\n\r\n          renderMenu(\r\n            command,\r\n            ref_object,\r\n            dom_object,\r\n            function_obj,\r\n            2,\r\n            expression_element\r\n          );\r\n        }\r\n\r\n        if ($selectedItem.data(\"exp\")) {\r\n          AttribuitionsManagement.manageExpressionElements(\r\n            command,\r\n            ref_object,\r\n            dom_object,\r\n            menu_var_or_value,\r\n            function_obj,\r\n            $selectedItem,\r\n            expression_element\r\n          );\r\n        }\r\n      },\r\n      selectOnKeydown: false,\r\n    });\r\n  } else {\r\n    menu_var_or_value.find(\".text\").text(\" \");\r\n    dom_object.find(\".menu_var_or_value_dom\").remove();\r\n\r\n    var parameters_menu;\r\n\r\n    if (function_selected.name) {\r\n      parameters_menu =\r\n        '<div class=\"parameters_function_called\"> ' +\r\n        function_selected.name +\r\n        \" <span> ( </span>\";\r\n    } else {\r\n      parameters_menu =\r\n        '<div class=\"parameters_function_called\"> <i>' +\r\n        LocalizedStrings.translateInternalFunction(\r\n          function_selected.identifier,\r\n          function_selected.category\r\n        ) +\r\n        \"</i> <span> ( </span>\";\r\n    }\r\n\r\n    parameters_menu += \"<span> ) </span></div>\";\r\n\r\n    parameters_menu = $(parameters_menu);\r\n\r\n    dom_object.append(parameters_menu);\r\n\r\n    var context_menu =\r\n      '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n    context_menu +=\r\n      '<div class=\"item\" data-clear=\"true\">' +\r\n      LocalizedStrings.getUI(\"btn_clear\") +\r\n      \"</div>\";\r\n\r\n    /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                        context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                        context_menu += '<div class=\"menu\">';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                        context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                        context_menu += '</div></div>';\r\n                }*/\r\n\r\n    context_menu += \"</div></div>\";\r\n\r\n    context_menu = $(context_menu);\r\n\r\n    context_menu.insertAfter(dom_object.find(\".parameters_function_called\"));\r\n\r\n    context_menu.dropdown({\r\n      onChange: function (value, text, $selectedItem) {\r\n        if ($selectedItem.data(\"clear\")) {\r\n          dom_object.text(\"\");\r\n\r\n          ref_object.content = null;\r\n          ref_object.row = null;\r\n          ref_object.column = null;\r\n          delete ref_object.function_called;\r\n          delete ref_object.parameters_list;\r\n\r\n          renderMenu(\r\n            command,\r\n            ref_object,\r\n            dom_object,\r\n            function_obj,\r\n            2,\r\n            expression_element\r\n          );\r\n        }\r\n\r\n        if ($selectedItem.data(\"exp\")) {\r\n          AttribuitionsManagement.manageExpressionElements(\r\n            command,\r\n            ref_object,\r\n            dom_object,\r\n            menu_var_or_value,\r\n            function_obj,\r\n            $selectedItem,\r\n            expression_element\r\n          );\r\n        }\r\n      },\r\n      selectOnKeydown: false,\r\n    });\r\n  }\r\n\r\n  /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                AttribuitionsManagement.renderMenuOperations(command, ref_object, dom_object, menu_var_or_value, function_obj);\r\n        }*/\r\n}\r\n\r\nfunction openInputToVariable (\r\n  command,\r\n  ref_object,\r\n  dom_object,\r\n  menu_var_or_value,\r\n  function_obj,\r\n  variable_selected,\r\n  expression_element\r\n) {\r\n  ref_object.content = variable_selected;\r\n\r\n  menu_var_or_value.find(\".text\").text(\" \");\r\n  dom_object.find(\".menu_var_or_value_dom\").remove();\r\n\r\n  let variable_render =\r\n    '<div class=\"variable_rendered\"> <span class=\"var_name\">' +\r\n    variable_selected.name +\r\n    \"</span>\";\r\n\r\n  if (variable_selected.dimensions == 1 && ref_object.dimensions != 1) {\r\n    variable_render +=\r\n      ' <span>[ </span> <div class=\"column_container\"></div> <span> ]</span>';\r\n  }\r\n  if (variable_selected.dimensions == 2 && ref_object.dimensions != 2) {\r\n    variable_render +=\r\n      ' <span>[ </span> <div class=\"row_container\"></div> <span> ]</span> ';\r\n    variable_render +=\r\n      ' <span>[ </span> <div class=\"column_container\"></div> <span> ]</span>';\r\n  }\r\n\r\n  variable_render += \"</div>\";\r\n\r\n  variable_render = $(variable_render);\r\n\r\n  dom_object.append(variable_render);\r\n\r\n  if (variable_selected.dimensions == 1 && ref_object.dimensions != 1) {\r\n    ref_object.column = new Models.VariableValueMenu(\r\n      VAR_OR_VALUE_TYPES.all,\r\n      null,\r\n      null,\r\n      null,\r\n      true\r\n    );\r\n    renderMenu(\r\n      command,\r\n      ref_object.column,\r\n      variable_render.find(\".column_container\"),\r\n      function_obj,\r\n      2,\r\n      expression_element\r\n    );\r\n  }\r\n  if (variable_selected.dimensions == 2 && ref_object.dimensions != 2) {\r\n    ref_object.row = new Models.VariableValueMenu(\r\n      VAR_OR_VALUE_TYPES.all,\r\n      null,\r\n      null,\r\n      null,\r\n      true\r\n    );\r\n    renderMenu(\r\n      command,\r\n      ref_object.row,\r\n      variable_render.find(\".row_container\"),\r\n      function_obj,\r\n      2,\r\n      expression_element\r\n    );\r\n\r\n    ref_object.column = new Models.VariableValueMenu(\r\n      VAR_OR_VALUE_TYPES.all,\r\n      null,\r\n      null,\r\n      null,\r\n      true\r\n    );\r\n    renderMenu(\r\n      command,\r\n      ref_object.column,\r\n      variable_render.find(\".column_container\"),\r\n      function_obj,\r\n      2,\r\n      expression_element\r\n    );\r\n  }\r\n\r\n  let context_menu =\r\n    '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n  context_menu +=\r\n    '<div class=\"item\" data-clear=\"true\">' +\r\n    LocalizedStrings.getUI(\"btn_clear\") +\r\n    \"</div>\";\r\n\r\n  /*if (command.type == Models.COMMAND_TYPES.attribution && !dom_object.hasClass('var_attributed')) {\r\n                console.log(\"dom_object 10: \");\r\n                console.log(dom_object);\r\n                context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                context_menu += '<div class=\"menu\">';\r\n                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                context_menu += '</div></div>';\r\n        }*/\r\n\r\n  context_menu += \"</div></div>\";\r\n\r\n  context_menu = $(context_menu);\r\n\r\n  context_menu.insertAfter(dom_object.find(\".variable_rendered\"));\r\n\r\n  context_menu.dropdown({\r\n    onChange: function (value, text, $selectedItem) {\r\n      if ($selectedItem.data(\"clear\")) {\r\n        dom_object.text(\"\");\r\n\r\n        ref_object.content = null;\r\n        ref_object.row = null;\r\n        ref_object.column = null;\r\n\r\n        delete ref_object.function_called;\r\n        delete ref_object.parameters_list;\r\n\r\n        renderMenu(\r\n          command,\r\n          ref_object,\r\n          dom_object,\r\n          function_obj,\r\n          2,\r\n          expression_element\r\n        );\r\n      }\r\n\r\n      if ($selectedItem.data(\"exp\")) {\r\n        AttribuitionsManagement.manageExpressionElements(\r\n          command,\r\n          ref_object,\r\n          dom_object,\r\n          menu_var_or_value,\r\n          function_obj,\r\n          $selectedItem,\r\n          expression_element\r\n        );\r\n      }\r\n\r\n      if (command.type == Models.COMMAND_TYPES.repeatNtimes) {\r\n        RepeatNTimesManagement.manageClearExpressionElements(\r\n          command,\r\n          ref_object,\r\n          dom_object,\r\n          menu_var_or_value,\r\n          function_obj,\r\n          $selectedItem,\r\n          expression_element\r\n        );\r\n      }\r\n    },\r\n    selectOnKeydown: false,\r\n  });\r\n\r\n  /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                AttribuitionsManagement.renderMenuOperations(command, ref_object, dom_object, menu_var_or_value, function_obj, variable_selected);\r\n        }*/\r\n}\r\n\r\nfunction openInputToValue (\r\n  command,\r\n  ref_object,\r\n  dom_object,\r\n  menu_var_or_value,\r\n  function_obj,\r\n  expression_element\r\n) {\r\n  if (ref_object.content == null) {\r\n    ref_object.content = \"\";\r\n  }\r\n\r\n  menu_var_or_value.find(\".text\").text(\" \");\r\n  const field = $(\r\n    '<input type=\"text\" size=\"2\" class=\"width-dynamic-minus\" autocomplete=\"off\" autocorrect=\"off\" autocapitalize=\"off\" spellcheck=\"false\" />'\r\n  );\r\n  field.insertBefore(dom_object.find(\".menu_var_or_value_dom\"));\r\n\r\n\r\n  field.on('input', function() {\r\n    var input_field = $(this);\r\n    var inputWidth = input_field.textWidth()+10;\r\n    inputWidth = inputWidth<50?50:inputWidth;\r\n      input_field.css({\r\n          width: inputWidth\r\n      })\r\n  }).trigger('input');\r\n\r\n  const rendered = $('<div class=\"value_rendered\"></div>');\r\n  rendered.insertBefore(field);\r\n\r\n  field.focus();\r\n  field.val(ref_object.content);\r\n\r\n  let context_menu =\r\n    '<div class=\"ui dropdown context_menu_clear\"><div class=\"text\"></div><i class=\"dropdown icon\"></i><div class=\"menu\">';\r\n  context_menu +=\r\n    '<div class=\"item\" data-clear=\"true\">' +\r\n    LocalizedStrings.getUI(\"btn_clear\") +\r\n    \"</div>\";\r\n\r\n  /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                context_menu += '<div class=\"item\"><i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('text_change');\r\n                context_menu += '<div class=\"menu\">';\r\n                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.exp_op_exp+'\">EXP OP EXP</div>';\r\n                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.op_exp+'\">OP EXP</div>';\r\n                context_menu += '<div class=\"item\" data-exp=\"'+Models.EXPRESSION_ELEMENTS.par_exp_par+'\">( EXP )</div>';\r\n                context_menu += '</div></div>';\r\n        }*/\r\n\r\n  context_menu += \"</div></div>\";\r\n\r\n  context_menu = $(context_menu);\r\n\r\n  dom_object.find(\".menu_var_or_value_dom\").remove();\r\n\r\n  if (ref_object.variable_and_value != VAR_OR_VALUE_TYPES.only_value) {\r\n    context_menu.insertAfter(field);\r\n  }\r\n\r\n  context_menu.dropdown({\r\n    onChange: function (value, text, $selectedItem) {\r\n      if ($selectedItem.data(\"clear\")) {\r\n        dom_object.text(\"\");\r\n\r\n        dom_object.find(\".value_rendered\").remove();\r\n        dom_object.find(\".context_menu_clear\").remove();\r\n        dom_object.find(\".width-dynamic-minus\").remove();\r\n\r\n        ref_object.content = null;\r\n        ref_object.row = null;\r\n        ref_object.column = null;\r\n\r\n        delete ref_object.function_called;\r\n        delete ref_object.parameters_list;\r\n\r\n        renderMenu(\r\n          command,\r\n          ref_object,\r\n          dom_object,\r\n          function_obj,\r\n          2,\r\n          expression_element\r\n        );\r\n      }\r\n\r\n      if ($selectedItem.data(\"exp\")) {\r\n        AttribuitionsManagement.manageExpressionElements(\r\n          command,\r\n          ref_object,\r\n          dom_object,\r\n          menu_var_or_value,\r\n          function_obj,\r\n          $selectedItem,\r\n          expression_element\r\n        );\r\n      }\r\n    },\r\n    selectOnKeydown: false,\r\n  });\r\n\r\n  dom_object.find(\".width-dynamic-minus\").focusout(function () {\r\n    /*if (\r\n      $(this)\r\n        .val()\r\n        .trim()\r\n    ) {\r\n      ref_object.content = $(this)\r\n        .val()\r\n        .trim();\r\n    }*/\r\n    ref_object.content = $(this)\r\n        .val();\r\n\r\n    if (isNaN(ref_object.content)) {\r\n      rendered.html(ref_object.content.split(\" \").join(\"&nbsp;\"));\r\n    } else {\r\n      rendered.text(ref_object.content);\r\n    }\r\n    $(this).remove();\r\n  });\r\n\r\n  dom_object.find(\".width-dynamic-minus\").on(\"keydown\", function (e) {\r\n    const code = e.keyCode || e.which;\r\n    if (code == 13) {\r\n      /*if (\r\n        $(this)\r\n          .val()\r\n          .trim()\r\n      ) {\r\n        ref_object.content = $(this)\r\n          .val()\r\n          .trim();\r\n      }*/\r\n      ref_object.content = $(this)\r\n          .val();\r\n\r\n      if (isNaN(ref_object.content)) {\r\n        rendered.html(ref_object.content.split(\" \").join(\"&nbsp;\"));\r\n      } else {\r\n        rendered.text(ref_object.content);\r\n      }\r\n\r\n      $(this).remove();\r\n    }\r\n    if (code == 27) {\r\n      if (isNaN(ref_object.content)) {\r\n        rendered.html(ref_object.content.split(\" \").join(\"&nbsp;\"));\r\n      } else {\r\n        rendered.text(ref_object.content);\r\n      }\r\n\r\n      $(this).remove();\r\n    }\r\n  });\r\n\r\n  if (command.type == Models.COMMAND_TYPES.comment) {\r\n    /*rendered.parent().on('click', function(e) {\r\n                        rendered.parent().off();\r\n                        console.log(\"TTT14\");\r\n                        rendered.remove();\r\n                        rendered.empty();\r\n                        rendered.remove();\r\n                        dom_object.empty();\r\n                        dom_object.append('<span class=\"menu_var_or_value_dom\"> </span>');\r\n\r\n                        openInputToValue(command, ref_object, dom_object, menu_var_or_value, function_obj, expression_element)\r\n                });*/\r\n  }\r\n\r\n  rendered.on(\"click\", function (e) {\r\n    rendered.empty();\r\n    rendered.remove();\r\n    dom_object.empty();\r\n    dom_object.append('<span class=\"menu_var_or_value_dom\"> </span>');\r\n\r\n    openInputToValue(\r\n      command,\r\n      ref_object,\r\n      dom_object,\r\n      menu_var_or_value,\r\n      function_obj,\r\n      expression_element\r\n    );\r\n  });\r\n\r\n  /*if (command.type == Models.COMMAND_TYPES.attribution) {\r\n                AttribuitionsManagement.renderMenuOperations(command, ref_object, dom_object, menu_var_or_value, function_obj);\r\n        }*/\r\n}\r\n\r\n$.fn.textWidth = function (text, font) {\r\n  if (!$.fn.textWidth.fakeEl)\r\n    $.fn.textWidth.fakeEl = $(\"<span>\")\r\n      .hide()\r\n      .appendTo(document.body);\r\n\r\n  $.fn.textWidth.fakeEl\r\n    .text(text || this.val() || this.text() || this.attr(\"placeholder\"))\r\n    .css(\"font\", font || this.css(\"font\"));\r\n\r\n  return $.fn.textWidth.fakeEl.width();\r\n};\r\n","import { LocalizedStrings } from '../../services/localizedStringsService';\r\nimport * as CommandsManagement from '../commands';\r\nimport * as ConditionalExpressionManagement from './conditional_expression';\r\nimport * as ContextualizedMenu from './contextualized_menu';\r\nimport * as GenericExpressionManagement from './generic_expression';\r\nimport * as CodeGenerator from '../code_generator';\r\n\r\nexport function createFloatingCommand () {\r\n\treturn $('<div class=\"ui whiletrue created_element\"> <i class=\"ui icon small sync\"></i> <span> ' + LocalizedStrings.getUI('text_command_while') + ' ( x < 10 ) <br> </span></div>');\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n\tvar ret = '';\r\n\tret += '<div class=\"ui whiletrue command_container\"> <i class=\"ui icon small sync command_drag\"></i> <i class=\"ui icon times red button_remove_command\"></i><button class=\"ui icon button minimize_block_button tiny\"><i class=\"icon window minimize\"></i></button> <span class=\"span_command_spec\"> ' + LocalizedStrings.getUI('text_command_while') + ' </span>';\r\n\tret += '<span class=\"span_command_spec\"> ( </span> <div class=\"conditional_expression\"></div> <span class=\"textual_expression\"></span> <span class=\"span_command_spec\"> ) </span>';\r\n\tret += ' </span>';\r\n\tret += ' <i class=\"ui icon i cursor button_write_expression\" style=\"margin-right: 1rem !important;\"></i>  <i class=\"ui icon unlock button_alternate_expression\"></i> <div class=\"ui context_menu\"></div>';\r\n\tret += '<div class=\"ui block_commands\">';\r\n\tret += '</div>';\r\n\tret += '<span> </span>';\r\n\tret += '</div>';\r\n\r\n\tvar el = $(ret);\r\n\tel.data('command', command);\r\n\tel.find('.block_commands').data('command', command);\r\n\r\n\taddHandlers(command, function_obj, el);\r\n\r\n\tContextualizedMenu.renderMenu(command, el.find('.context_menu'), function_obj, el);\r\n\r\n\t//ConditionalExpressionManagement.renderExpression(command, command.expression, function_obj, el.find('.conditional_expression'));\r\n\r\n\tGenericExpressionManagement.renderExpression(command, function_obj, el.find('.conditional_expression'), command.expression);\r\n\r\n\tif (command.commands_block) {\r\n\t\tfor (var j = 0; j < command.commands_block.length; j++) {\r\n\t\t    CommandsManagement.renderCommand(command.commands_block[j], $(el.find('.block_commands')[0]), 3, function_obj);\r\n\t\t}\r\n\t}\r\n\r\n\tif (command.lockexpression) {\r\n\t\tif (command.expression) {\r\n\t\t\ttry {\r\n\t\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\t\tif (text) {\r\n\t\t\t\t\t$(el.find('.conditional_expression')[0]).toggle();\r\n\t\t\t\t\t$(el.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t\t$(el.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t\t$(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\t}\r\n\t\t\t} catch (e) {\r\n\t\t\t\tcommand.lockexpression = false;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t\r\n\tel.find('.unlock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.lock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.button_write_expression').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\r\n\treturn el;\r\n}\r\n\r\nfunction addHandlers (command, function_obj, whiletrue_dom) {\r\n\r\n\twhiletrue_dom.find('.button_write_expression').on('click', function() {\r\n\r\n\t\twindow.expressionEdition = true;\r\n\t\twindow.inputExpression = null;\r\n\t\t\r\n\t\tvar afterWhichElement;\r\n\t\tvar lockButton = $(whiletrue_dom.find('.button_alternate_expression')[0]);\r\n\t\tvar editButton = $(this);\r\n\r\n\t\tafterWhichElement = $(whiletrue_dom.find('.conditional_expression')[0]);\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\tafterWhichElement = $(whiletrue_dom.find('.textual_expression')[0]);\r\n\t\t}\r\n\r\n\t\tvar text = \"\";\r\n\t\tif (command.expression) {\r\n\t\t\tif (command.expression.length == 1 && command.expression[0].content == null && !command.expression[0].function_called) {\r\n\t\t\t\ttext = \"\";\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttext = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\t\t} catch(ex) {\r\n\t\t\t\t\ttext = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\r\n\t\tvar cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\r\n\t\tvar input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\r\n\t\tinput.val(text);\r\n\r\n\t\tinput.focusout(function(evt) {\r\n\t\t\tconsole.log('focosout event!');\r\n\t\t\tok_button.click();\r\n\t\t\tevt.preventDefault();\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\t\r\n\t\tinput.keyup(function(evt) {\r\n\t\t\tif (evt.keyCode == 27) { // esc\r\n\t\t\t\tcancel_button.click();\r\n\t\t\t} \r\n\t\t\tif (evt.keyCode == 13) { // enter\r\n\t\t\t\tok_button.click();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tok_button.click(function() {\r\n\t\t\tvar parsed = null;\r\n\t\t\tparsed = GenericExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.expression = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcancel_button.mousedown(function(evt) {\r\n\t\t\tvar parsed = GenericExpressionManagement.expressionParserToVisual(text, function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.expression = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tinput.insertAfter(afterWhichElement);\r\n\t\tinput.focus();\r\n\t\tcancel_button.insertAfter(input);\r\n\t\tok_button.insertAfter(input);\r\n\t\tvar len = text.length; \r\n\t\tinput[0].setSelectionRange(len, len); \r\n\r\n\t\tafterWhichElement.css('display', 'none');\r\n\t\tlockButton.css('display', 'none');\r\n\t\teditButton.css('display', 'none');\r\n\r\n\t\tok_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t\tcancel_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\twhiletrue_dom.find('.minimize_block_button').on('click', function(evt){\r\n\t\twhiletrue_dom.children('.ui.block_commands').toggle();\r\n\t\tcommand.collapsed = !command.collapsed;\r\n\t});\r\n\r\n\t$(whiletrue_dom.find('.textual_expression')[0]).toggle();\r\n\t\r\n\twhiletrue_dom.find('.button_alternate_expression').on('click', function() {\r\n\t\tif (command.expression) {\r\n\t\t\tvar text = CodeGenerator.elementExpressionCode(command.expression);\r\n\t\t\tif (text) {\r\n\t\t\t\t$(whiletrue_dom.find('.conditional_expression')[0]).toggle();\r\n\t\t\t\t$(whiletrue_dom.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t$(whiletrue_dom.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\twhiletrue_dom.find('.lock').popup({\r\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\t\t\tdelay: {\r\n\t\t\t\t\tshow: 750,\r\n\t\t\t\t\thide: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\twhiletrue_dom.find('.unlock').popup({\r\n\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\t\t\tdelay: {\r\n\t\t\t\t\tshow: 750,\r\n\t\t\t\t\thide: 0\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n\r\n\twhiletrue_dom.find('.button_remove_command').on('click', function() {\r\n\t\tif (CommandsManagement.removeCommand(command, function_obj, whiletrue_dom)) {\r\n\t\t\twhiletrue_dom.fadeOut(400, function() {\r\n\t\t\t\twhiletrue_dom.remove();\r\n\t\t\t});\r\n\t\t}\r\n\t});\r\n}\r\n","import * as Models from \"../ivprog_elements\";\r\nimport { LocalizedStrings } from \"../../services/localizedStringsService\";\r\nimport * as VariableValueMenu from \"./variable_value_menu\";\r\nimport * as VariableValueMenuManagement from \"./variable_value_menu\";\r\nimport * as CommandsManagement from \"../commands\";\r\nimport * as GenericExpressionManagement from \"./generic_expression\";\r\nimport * as CodeGenerator from '../code_generator';\r\n\r\nexport function createFloatingCommand () {\r\n  return $(\r\n    '<div class=\"ui writer created_element\"> <i class=\"ui icon small upload\"></i> <span> ' +\r\n      LocalizedStrings.getUI(\"text_command_write\") +\r\n      \" var </span></div>\"\r\n  );\r\n}\r\n\r\nexport function renderCommand (command, function_obj) {\r\n  const ret = `<div class=\"ui writer command_container\">\r\n      <i class=\"ui icon small upload command_drag\"></i>\r\n      <i class=\"ui icon times red button_remove_command\"></i>\r\n      <span class=\"span_command_spec\">${LocalizedStrings.getUI(\r\n        \"text_command_write\"\r\n      )}\r\n      ( </span><div class=\"all_elements_write\"></div> <span class=\"textual_expression\"></span>\r\n      <span class=\"close_parentheses span_command_spec\">)</span>\r\n    <img data-state=\"${command.newline ? \"on\" : \"false\"}\" src=\"${\r\n    command.newline ? \"img/new_line.svg\" : \"img/no_new_line.svg\"\r\n  }\" class=\"ivprog_newline_btn\"/> \r\n    <i class=\"ui icon i cursor button_write_expression\" style=\"margin-left: 3rem !important; margin-right: -1.1rem !important;\"></i> \r\n    <i class=\"ui icon unlock button_alternate_expression\"></i>\r\n    </div>`;\r\n  const el = $(ret);\r\n  el.data(\"command\", command);\r\n\r\n  //renderExpression (command, function_obj, div_to_render, expression_array)\r\n\r\n  GenericExpressionManagement.renderExpression(\r\n    command,\r\n    function_obj,\r\n    el.find(\".all_elements_write\"),\r\n    command.content\r\n  );\r\n\r\n \r\n  addHandlers(command, function_obj, el);\r\n\r\n  if (command.content && command.lockexpression) {\r\n    try {\r\n      var text = CodeGenerator.elementExpressionCode(command.content);\r\n      if (text) {\r\n        $(el.find('.all_elements_write')[0]).toggle();\r\n        $(el.find('.textual_expression')[0]).text(text);\r\n        $(el.find('.textual_expression')[0]).toggle();\r\n        $(el.find('.button_alternate_expression')[0]).toggleClass('unlock').toggleClass('lock');\r\n      }\r\n    } catch (e) {\r\n      command.lockexpression = false;\r\n    }\r\n  }\r\n\r\n  el.find('.unlock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\tel.find('.lock').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n  });\r\n  el.find('.button_write_expression').popup({\r\n\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression\"),\r\n\t\tdelay: {\r\n\t\t\tshow: 750,\r\n\t\t\thide: 0\r\n\t\t}\r\n\t});\r\n\r\n  return el;\r\n}\r\n\r\nfunction addHandlersManager (\r\n  command,\r\n  _function_obj,\r\n  _writer_dom,\r\n  item_div,\r\n  content_element\r\n) {\r\n  item_div.find(\".times\").on(\"click\", function () {\r\n    for (let i = 0; i < command.content.length; i++) {\r\n      if (command.content[i] == content_element) {\r\n        delete command.content[i];\r\n        command.content.splice(i, 1);\r\n\r\n        item_div.children().off();\r\n        item_div.off();\r\n        item_div.fadeOut();\r\n\r\n        if (command.content.length > 0) {\r\n          item_div.next(\".icon_add_item_to_writer\").fadeOut();\r\n        }\r\n        break;\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\nfunction addHandlers (command, function_obj, writer_dom) {\r\n\r\n  $(writer_dom.find('.textual_expression')[0]).toggle();\r\n\r\n  writer_dom.find('.button_write_expression').on('click', function() {\r\n\r\n\t\twindow.expressionEdition = true;\r\n\t\twindow.inputExpression = null;\r\n\t\t\r\n\t\tvar afterWhichElement;\r\n\t\tvar lockButton = $(writer_dom.find('.button_alternate_expression')[0]);\r\n\t\tvar editButton = $(this);\r\n\r\n\t\tafterWhichElement = writer_dom.find('.all_elements_write');\r\n\r\n\t\tif (command.lockexpression) {\r\n\t\t\tafterWhichElement = writer_dom.find('.textual_expression');\r\n\t\t}\r\n\r\n\t\tvar text = \"\";\r\n\t\tif (command.content) {\r\n\t\t\tif (command.content.length == 1 && command.content[0].content == null && !command.content[0].function_called) {\r\n\t\t\t\ttext = \"\";\r\n\t\t\t} else {\r\n\t\t\t\ttry {\r\n\t\t\t\t\ttext = CodeGenerator.elementExpressionCode(command.content);\r\n\t\t\t\t} catch(ex) {\r\n\t\t\t\t\ttext = \"\";\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tvar ok_button = $('<i class=\"ui icon check circle expression-edit-confirm\"></i>');\r\n\t\tvar cancel_button = $('<i class=\"ui icon undo expression-edit-cancel\"></i>');\r\n\t\tvar input = $('<input type=\"text\" spellcheck=\"false\" autocomplete=\"off\" class=\"input-expression-field\" >');\r\n\t\tinput.val(text);\r\n\r\n\t\tinput.focusout(function(evt) {\r\n\t\t\tok_button.click();\r\n\t\t\tevt.preventDefault();\r\n\t\t\treturn true;\r\n\t\t});\r\n\t\t\r\n\t\tinput.keyup(function(evt) {\r\n\t\t\tif (evt.keyCode == 27) { // esc\r\n\t\t\t\tcancel_button.click();\r\n\t\t\t} \r\n\t\t\tif (evt.keyCode == 13) { // enter\r\n\t\t\t\tok_button.click();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tok_button.click(function() {\r\n\t\t\tvar parsed = null;\r\n\t\t\tparsed = GenericExpressionManagement.expressionParserToVisual(input.val(), function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.content = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tcancel_button.mousedown(function(evt) {\r\n\t\t\tvar parsed = GenericExpressionManagement.expressionParserToVisual(text, function_obj, input);\r\n\t\t\tif (parsed) {\r\n\t\t\t\twindow.expressionEdition = false;\r\n\t\t\t\tcommand.content = parsed;\r\n\t\t\t\trenderAlgorithm();\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tinput.insertAfter(afterWhichElement);\r\n\t\tinput.focus();\r\n\t\tcancel_button.insertAfter(input);\r\n\t\tok_button.insertAfter(input);\r\n\t\tvar len = text.length; \r\n\t\tinput[0].setSelectionRange(len, len); \r\n\r\n\t\tafterWhichElement.css('display', 'none');\r\n\t\tlockButton.css('display', 'none');\r\n\t\teditButton.css('display', 'none');\r\n\r\n\t\tok_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_confirm\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t\tcancel_button.popup({\r\n\t\t\tcontent : LocalizedStrings.getUI(\"text_edit_expression_cancel\"),\r\n\t\t\tdelay: {\r\n\t\t\t\tshow: 750,\r\n\t\t\t\thide: 0\r\n\t\t\t}\r\n\t\t});\r\n\t});\r\n\r\n\t\r\n\twriter_dom.find('.button_alternate_expression').on('click', function() {\r\n\t\tif (command.content) {\r\n      var text = CodeGenerator.elementExpressionCode(command.content);\r\n\t\t\tif (text) {\r\n\t\t\t\t$(writer_dom.find('.all_elements_write')[0]).toggle();\r\n\t\t\t\t$(writer_dom.find('.textual_expression')[0]).text(text);\r\n\t\t\t\t$(writer_dom.find('.textual_expression')[0]).toggle();\r\n\t\t\t\t$(this).toggleClass('unlock').toggleClass('lock');\r\n\t\t\t\tcommand.lockexpression = !command.lockexpression;\r\n      }\r\n      \r\n      if (command.lockexpression) {\r\n\t\t\t\twriter_dom.find('.lock').popup({\r\n\t\t\t\t\tcontent : LocalizedStrings.getUI(\"text_unlock_expression\"),\r\n\t\t\t\t\tdelay: {\r\n\t\t\t\t\t\tshow: 750,\r\n\t\t\t\t\t\thide: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\twriter_dom.find('.unlock').popup({\r\n\t\t\t\t\tcontent : LocalizedStrings.getUI(\"text_lock_expression\"),\r\n\t\t\t\t\tdelay: {\r\n\t\t\t\t\t\tshow: 750,\r\n\t\t\t\t\t\thide: 0\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t});\r\n\r\n  writer_dom.find(\".button_remove_command\").on(\"click\", function () {\r\n    if (CommandsManagement.removeCommand(command, function_obj, writer_dom)) {\r\n      writer_dom.fadeOut(400, function () {\r\n        writer_dom.remove();\r\n      });\r\n    }\r\n  });\r\n\r\n  Sortable.create(writer_dom.find(\".all_elements_write\")[0], {\r\n    handle: \".ellipsis\",\r\n    animation: 100,\r\n    ghostClass: \"ghost\",\r\n    group: \"writer_\" + Math.floor(Math.random() * 10000000),\r\n    draggable: \".div_parent_handler\",\r\n    onEnd: function (evt) {\r\n      command.content.splice(\r\n        evt.newIndex,\r\n        0,\r\n        command.content.splice(evt.oldIndex, 1)[0]\r\n      );\r\n\r\n      writer_dom.empty();\r\n      writer_dom.replaceWith(renderCommand(command, function_obj));\r\n    },\r\n  });\r\n  // Attach event handles for the newline button\r\n  const newlineBtn = writer_dom.find(\".ivprog_newline_btn\");\r\n  newlineBtn.on(\"click\", function () {\r\n    const state = this.dataset.state;\r\n    if (state === \"on\") {\r\n      this.dataset.state = \"off\";\r\n      command.newline = false;\r\n      this.setAttribute(\"src\", \"img/no_new_line.svg\");\r\n    } else {\r\n      this.dataset.state = \"on\";\r\n      command.newline = true;\r\n      this.setAttribute(\"src\", \"img/new_line.svg\");\r\n    }\r\n    writer_dom.data(\"command\", command);\r\n    setPopup(newlineBtn, command.newline);\r\n  });\r\n  // Attach jquery popup\r\n  setPopup(newlineBtn, command.newline);\r\n}\r\n\r\nfunction setPopup (element, state) {\r\n  if (element.popup(\"exists\")) {\r\n    element.popup(\"destroy\");\r\n  }\r\n  const content = state\r\n    ? LocalizedStrings.getUI(\"write_command_newline_on\")\r\n    : LocalizedStrings.getUI(\"write_command_newline_off\");\r\n  element.popup({\r\n    content: content,\r\n    delay: {\r\n      show: 750,\r\n      hide: 0,\r\n    },\r\n  });\r\n}\r\n\r\nfunction _addHandlerIconAdd (\r\n  dom_object,\r\n  command,\r\n  function_obj,\r\n  insert_after = false,\r\n  after_which = null\r\n) {\r\n  const icon_add_item = $(\r\n    '<i class=\"ui icon plus square outline icon_add_item_to_writer\"></i> '\r\n  );\r\n  if (!insert_after) {\r\n    dom_object.append(icon_add_item);\r\n  } else {\r\n    icon_add_item.insertAfter(after_which);\r\n  }\r\n\r\n  icon_add_item.on(\"click\", function (_event) {\r\n    const div_parent_with_handler = $(\r\n      '<div class=\"div_parent_handler\" style=\"display:none;\"></div>'\r\n    );\r\n    const new_div_item = $('<div class=\"var_value_menu_div\"></div>');\r\n    div_parent_with_handler.append(\r\n      $('<i class=\"ui icon ellipsis vertical inverted handler\"></i>')\r\n    );\r\n    div_parent_with_handler.append(new_div_item);\r\n    div_parent_with_handler.append(\r\n      $('<i class=\"white inverted icon times handler\"></i>')\r\n    );\r\n    div_parent_with_handler.insertAfter(icon_add_item);\r\n\r\n    const new_related_menu = new Models.VariableValueMenu(\r\n      VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n      null,\r\n      null,\r\n      null,\r\n      true\r\n    );\r\n\r\n    VariableValueMenu.renderMenu(\r\n      command,\r\n      new_related_menu,\r\n      new_div_item,\r\n      function_obj\r\n    );\r\n\r\n    addHandlerIconAdd(\r\n      dom_object,\r\n      command,\r\n      function_obj,\r\n      true,\r\n      div_parent_with_handler\r\n    );\r\n\r\n    addHandlersManager(\r\n      command,\r\n      function_obj,\r\n      dom_object,\r\n      div_parent_with_handler,\r\n      new_related_menu\r\n    );\r\n    let pos = 1;\r\n    dom_object.find(\".icon_add_item_to_writer\").each(function () {\r\n      if ($(this).get(0) === icon_add_item.get(0)) {\r\n        command.content.splice(pos, 0, new_related_menu);\r\n      } else {\r\n        pos++;\r\n      }\r\n    });\r\n    if (command.content.length == 1) {\r\n      icon_add_item.remove();\r\n    }\r\n    div_parent_with_handler.fadeIn();\r\n  });\r\n}\r\n\r\nexport function addContent (\r\n  command,\r\n  _ref_object,\r\n  dom_object,\r\n  _menu_var_or_value,\r\n  function_obj,\r\n  _ref_object_content\r\n) {\r\n  if (dom_object.hasClass(\"var_value_menu_div\")) {\r\n    const icon_add_item = $(\r\n      '<i class=\"ui icon plus square outline icon_add_item_to_writer\"></i> '\r\n    );\r\n    icon_add_item.insertAfter(dom_object);\r\n\r\n    icon_add_item.on(\"click\", function (_event) {\r\n      const div_parent_with_handler = $(\r\n        '<div class=\"div_parent_handler\"></div>'\r\n      );\r\n      div_parent_with_handler.append(\r\n        $('<i class=\"ui icon ellipsis vertical inverted handler\"></i>')\r\n      );\r\n      div_parent_with_handler.append(new_div_item);\r\n      div_parent_with_handler.append(\r\n        $('<i class=\"white inverted icon times handler\"></i>')\r\n      );\r\n\r\n      div_parent_with_handler.insertAfter(icon_add_item);\r\n      const new_related_menu = new Models.VariableValueMenu(\r\n        VariableValueMenuManagement.VAR_OR_VALUE_TYPES.all,\r\n        null,\r\n        null,\r\n        null,\r\n        true\r\n      );\r\n\r\n      VariableValueMenu.renderMenu(\r\n        command,\r\n        new_related_menu,\r\n        new_div_item,\r\n        function_obj\r\n      );\r\n\r\n      addHandlersManager(\r\n        command,\r\n        function_obj,\r\n        dom_object,\r\n        div_parent_with_handler,\r\n        new_related_menu\r\n      );\r\n\r\n      command.content.push(new_related_menu);\r\n\r\n      if (command.content.length == 1) {\r\n        icon_add_item.remove();\r\n      }\r\n    });\r\n  }\r\n}\r\n","import { Types } from './types';\r\nimport * as Models from './ivprog_elements';\r\nimport { LocalizedStrings } from './../services/localizedStringsService';\r\nimport * as GlobalsManagement from './globals';\r\nimport * as VariablesManagement from './variables';\r\nimport * as CommandsManagement from './commands';\r\nimport * as CodeManagement from './code_generator';\r\nimport * as VariableValueMenu from './commands/variable_value_menu';\r\nimport { DOMConsole } from './../io/domConsole';\r\nimport { IVProgProcessor } from './../processor/ivprogProcessor';\r\nimport WatchJS from 'melanke-watchjs';\r\nimport { SemanticAnalyser } from '../processor/semantic/semanticAnalyser';\r\nimport { IVProgAssessment } from '../assessment/ivprogAssessment';\r\nimport * as AlgorithmManagement from './algorithm';\r\nimport * as Utils from './utils';\r\nimport { registerUserEvent, ActionTypes } from \"./../services/userLog\";\r\nimport VersionInfo from './../../.ima_version.json';\r\nimport * as TextEditor from \"./text_editor\";\r\nimport { isValidIdentifier } from \"./../util/utils\";\r\nimport { Modes } from '../processor/modes';\r\n\r\nvar counter_new_functions = 0;\r\nvar counter_new_parameters = 0;\r\nvar ivprog_version = VersionInfo.version;\r\n\r\nconst globalChangeListeners = [];\r\nconst functionsChangeListeners = [];\r\nlet proc = null;\r\nlet domConsole = null;\r\nlet _testCases = [];\r\nlet isRunning = false;\r\nwindow.studentGrade = null;\r\nwindow.LocalizedStrings = LocalizedStrings;\r\nconst program = new Models.Program();\r\n\r\nwindow.system_functions = [];\r\n// Adding math functions:\r\nwindow.system_functions.push(new Models.SystemFunction('$sin', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$cos', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$tan', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$sqrt', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$pow', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true), new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$log', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$abs', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$negate', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$invert', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$max', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$min', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\nwindow.system_functions.push(new Models.SystemFunction('$rand', Types.REAL, 0, [],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.math));\r\n// Adding text functions:\r\nwindow.system_functions.push(new Models.SystemFunction('$substring', Types.TEXT, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true),\r\n  new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true),new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\r\nwindow.system_functions.push(new Models.SystemFunction('$length', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\r\nwindow.system_functions.push(new Models.SystemFunction('$uppercase', Types.TEXT, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\r\nwindow.system_functions.push(new Models.SystemFunction('$lowercase', Types.TEXT, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\r\nwindow.system_functions.push(new Models.SystemFunction('$charAt', Types.CHAR, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true), new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.text));\r\n// Adding arrangement functions:\r\nwindow.system_functions.push(new Models.SystemFunction('$numElements', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true, 1)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.arrangement));\r\nwindow.system_functions.push(new Models.SystemFunction('$matrixLines', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true, 2)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.arrangement));\r\nwindow.system_functions.push(new Models.SystemFunction('$matrixColumns', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.variable_and_function, null, null, null, true, 2)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.arrangement));\r\n// Adding conversion functions:\r\nwindow.system_functions.push(new Models.SystemFunction('$isReal', Types.BOOLEAN, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\r\nwindow.system_functions.push(new Models.SystemFunction('$isInt', Types.BOOLEAN, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\r\nwindow.system_functions.push(new Models.SystemFunction('$isBool', Types.BOOLEAN, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\r\nwindow.system_functions.push(new Models.SystemFunction('$castReal', Types.REAL, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\r\nwindow.system_functions.push(new Models.SystemFunction('$castInt', Types.INTEGER, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\r\nwindow.system_functions.push(new Models.SystemFunction('$castBool', Types.BOOLEAN, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\r\nwindow.system_functions.push(new Models.SystemFunction('$castString', Types.TEXT, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\r\nwindow.system_functions.push(new Models.SystemFunction('$castChar', Types.CHAR, 0, [new Models.VariableValueMenu(VariableValueMenu.VAR_OR_VALUE_TYPES.all, null, null, null, true)],\r\n  null, Models.SYSTEM_FUNCTIONS_CATEGORIES.conversion));\r\n\r\nconsole.log('       ___           ___                    ________          \\n      /   /         /   /                  /   ____/  \\n     /   /         /   /                  /   /        \\n    /   /         /   /  ______    ___   /   /__         \\n   /   /         /   /  /      \\\\  /  /  /   ___/      \\n  /   /______   /   /  /   /\\\\   \\\\/  /  /   /      \\n /          /  /   /  /   /  \\\\     /  /   /____     \\n/__________/  /___/  /___/    \\\\___/  /________/       \\n\\n Laboratrio de Informtica na Educao\\n http://line.ime.usp.br');\r\n\r\nconst mainFunction = new Models.Function(LocalizedStrings.getUI(\"start\"), Types.VOID, 0, [], true, false);\r\nmainFunction.function_comment = new Models.Comment(LocalizedStrings.getUI('text_comment_main'));\r\nprogram.addFunction(mainFunction);\r\n\r\nwindow.program_obj = program;\r\n\r\nwindow.generator = CodeManagement.generate;\r\nwindow.runCodeAssessment = runCodeAssessment;\r\nwindow.renderAlgorithm = AlgorithmManagement.renderAlgorithm;\r\nwindow.insertContext = false;\r\nwindow.watchW = WatchJS;\r\n\r\nWatchJS.watch(window.program_obj.globals, function(){\r\n  if (window.insertContext) {\r\n    setTimeout(function() {\r\n      AlgorithmManagement.renderAlgorithm();\r\n      globalChangeListeners.forEach(x => x());\r\n    }, 300);\r\n    window.insertContext = false;\r\n  } else {\r\n    AlgorithmManagement.renderAlgorithm();\r\n    globalChangeListeners.forEach(x => x());\r\n  }\r\n}, 1);\r\n\r\nWatchJS.watch(window.program_obj.functions, function(){\r\n  if (window.insertContext) {\r\n    setTimeout(function(){\r\n      AlgorithmManagement.renderAlgorithm();\r\n      functionsChangeListeners.forEach( x => x());\r\n    }, 300);\r\n    window.insertContext = false;\r\n  } else {\r\n    AlgorithmManagement.renderAlgorithm();\r\n    functionsChangeListeners.forEach( x => x());\r\n  }\r\n}, 1);\r\n\r\nfunction addFunctionHandler () {\r\n\r\n\tconst new_function = new Models.Function(LocalizedStrings.getUI(\"new_function\") + \"_\" + counter_new_functions, Types.VOID, 0, [], false, false, [], new Models.Comment(LocalizedStrings.getUI('text_comment_start')));\r\n\tprogram.addFunction(new_function);\r\n\r\n\tcounter_new_functions ++;\r\n\r\n  window.insertContext = true;\r\n  registerUserEvent(new_function.name, ActionTypes.INSERT_FUNCTION);\r\n\r\n  // var newe = renderFunction(new_function);\r\n  renderFunction(new_function);\r\n  /*newe.css('display', 'none');\r\n  newe.fadeIn();*/\r\n}\r\n\r\nfunction addParameter (function_obj, function_container/*, is_from_click = false*/) {\r\n  if (function_obj.parameters_list == null) {\r\n    function_obj.parameters_list = [];\r\n  }\r\n  const new_parameter = new Models.Variable(Types.INTEGER, LocalizedStrings.getUI(\"new_parameter\") + \"_\" + counter_new_parameters);\r\n  function_obj.parameters_list.push(new_parameter);\r\n  counter_new_parameters ++;\r\n  registerUserEvent(function_obj.name, ActionTypes.INSERT_FUNCTION_PARAM, new_parameter.name, Types.INTEGER, 0);\r\n  //var newe = renderParameter(function_obj, new_parameter, function_container);\r\n  renderParameter(function_obj, new_parameter, function_container);\r\n  // if (is_from_click) {\r\n  //   newe.css('display', 'none');\r\n  //   newe.fadeIn();\r\n  // }\r\n}\r\n\r\nfunction updateReturnType (function_obj, new_type, new_dimensions = 0) {\r\n  registerUserEvent(function_obj.name, ActionTypes.CHANGE_FUNCTION_RETURN, new_type, new_dimensions);\r\n  function_obj.return_type = new_type;\r\n  function_obj.return_dimensions = new_dimensions;\r\n}\r\n\r\nfunction removeFunction (function_obj) {\r\n  var index = program.functions.indexOf(function_obj);\r\n  if (index > -1) {\r\n    registerUserEvent(function_obj.name, ActionTypes.REMOVE_FUNCTION);\r\n    program.functions.splice(index, 1);\r\n  }\r\n}\r\n\r\nfunction minimizeFunction (function_obj) {\r\n  function_obj.is_hidden = !function_obj.is_hidden;\r\n}\r\n\r\nfunction addHandlers (function_obj, function_container) {\r\n\r\n  function_container.find('.ui.dropdown.function_return').dropdown({\r\n      onChange: function(value, text, $selectedItem) {\r\n        if ($selectedItem.data('dimensions')) {\r\n          updateReturnType(function_obj, Types[$selectedItem.data('type')], $selectedItem.data('dimensions'));\r\n        } else {\r\n          updateReturnType(function_obj, Types[$selectedItem.data('type')]);\r\n        }\r\n      },\r\n      selectOnKeydown: false\r\n  });\r\n\r\n  function_container.find( \".name_function_updated\" ).on('click', function(e){\r\n    enableNameFunctionUpdate(function_obj, function_container);\r\n  });\r\n\r\n  function_container.find( \".add_parameter_button\" ).on('click', function(e){\r\n    window.insertContext = true;\r\n    addParameter(function_obj, function_container, true);\r\n  });\r\n\r\n  function_container.find('.menu_commands').dropdown({\r\n      on: 'hover'\r\n    });\r\n\r\n  function_container.find('.menu_commands a').on('click', function(evt){\r\n    if (function_obj.commands == null || function_obj.commands.length == 0) {\r\n      function_obj.commands = [];\r\n      var new_cmd = CommandsManagement.genericCreateCommand($(this).data('command'));\r\n      function_obj.commands.push(new_cmd);\r\n\r\n      CommandsManagement.renderCommand(new_cmd, function_container.find('.commands_list_div'), 3, function_obj);\r\n      registerUserEvent(function_obj.name, ActionTypes.INSERT_COMMAND, $(this).data('command'), '/', 0);\r\n    } else {\r\n      CommandsManagement.createFloatingCommand(function_obj, function_container, $(this).data('command'), evt);\r\n    }\r\n\r\n  });\r\n\r\n  function_container.find('.add_var_button_function').on('click', function(e){\r\n    window.insertContext = true;\r\n    VariablesManagement.addVariable(function_obj, function_container, true);\r\n  });\r\n\r\n  function_container.find('.remove_function_button').on('click', function(e){\r\n    removeFunction(function_obj);\r\n    function_container.fadeOut();\r\n  });\r\n\r\n  function_container.find('.minimize_function_button').on('click', function(e){\r\n    minimizeFunction(function_obj);\r\n    if (function_obj.is_hidden) {\r\n      function_container.find(\".add_var_button_function\").toggle();\r\n      function_container.find(\".inline_add_command\").toggle();\r\n      function_container.find(\".function_area\").slideToggle();\r\n    } else {\r\n      function_container.find(\".function_area\").slideToggle(function(){\r\n        function_container.find(\".add_var_button_function\").toggle();\r\n        function_container.find(\".inline_add_command\").toggle();\r\n      });\r\n    }\r\n    \r\n  });\r\n}\r\n\r\n// Essa funo imprime o tipo de retorno da funo e cria o menu do tipo 'select' para alterao\r\nfunction renderFunctionReturn (function_obj, function_element) {\r\n\r\n  var ret = '<div class=\"ui dropdown function_return\">';\r\n    \r\n    if (function_obj.return_dimensions == 1) {\r\n      ret += '<div class=\"text\">'+ LocalizedStrings.getUI(\"vector\") +': '+ LocalizedStrings.getUI(`type_${function_obj.return_type.toLowerCase()}`);\r\n      ret += ' [ ] </div>';\r\n    } else if (function_obj.return_dimensions == 2) {\r\n      ret += '<div class=\"text\">'+ LocalizedStrings.getUI(\"matrix\") +': '+ LocalizedStrings.getUI(`type_${function_obj.return_type.toLowerCase()}`);\r\n      ret += ' [ ] [ ] </div>';\r\n    } else {\r\n      ret += '<div class=\"text\">'+LocalizedStrings.getUI(`type_${function_obj.return_type.toLowerCase()}`)+'</div>';\r\n    }\r\n\r\n    ret += '<div class=\"menu\">';\r\n\r\n    for (var tm in Types) {\r\n      ret += '<div class=\"item ' + (function_obj.return_type == tm.toLowerCase() && function_obj.return_dimensions < 1 ? ' selected ' : '') + '\" data-type=\"'+tm+'\" >'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n    }\r\n\r\n    ret += '<div class=\"item ' + (function_obj.return_dimensions == 1 ? ' selected ' : '') + '\">'\r\n      + '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('vector')\r\n      +  '<div class=\"menu\">';\r\n\r\n    for (var tm in Types) {\r\n      if (tm == Types.VOID.toUpperCase()) {\r\n        continue;\r\n      }\r\n\r\n      ret += '<div class=\"item ' + (function_obj.return_type == tm.toLowerCase() &&  function_obj.return_dimensions == 1 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"1\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n    }\r\n    ret += '</div></div>';\r\n\r\n\r\n    ret += '<div class=\"item ' + (function_obj.return_dimensions == 2 ? ' selected ' : '') + '\">'\r\n      + '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('matrix')\r\n      +  '<div class=\"menu\">';\r\n\r\n    for (var tm in Types) {\r\n      if (tm == Types.VOID.toUpperCase()) {\r\n        continue;\r\n      }\r\n\r\n      ret += '<div class=\"item ' + (function_obj.return_type == tm.toLowerCase() &&  function_obj.return_dimensions == 2 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('matrix')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"2\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n    }\r\n    ret += '</div></div>';\r\n\r\n    ret += '</div></div>';\r\n\r\n    ret = $(ret);\r\n    \r\n    function_element.find('.function_return').append(ret);\r\n}\r\n\r\nvar cont = 0;\r\n\r\nexport function renderFunction (function_obj) {\r\n  \r\n  var appender = '<div class=\"ui secondary segment function_div list-group-item function_cont_'+cont+'\">';\r\n\r\n  if (function_obj.function_comment) {\r\n    //appender += renderComment(function_obj.function_comment, sequence, true, -1);\r\n  }\r\n    \r\n  appender += '<span class=\"glyphicon glyphicon-move move_function\" aria-hidden=\"true\"><i class=\"icon sort alternate vertical\"></i></span>';\r\n\r\n  appender += (function_obj.is_main ? '<div class=\"div_start_minimize_v\"> </div>' : '<button class=\"ui icon button large remove_function_button\"><i class=\"red icon times\"></i></button>')\r\n    + '<button class=\"ui icon button tiny minimize_function_button\"><i class=\"icon window minimize\"></i></button>';\r\n\r\n  appender += '<div class=\"function_signature_div\">'+LocalizedStrings.getUI(\"function\")+' ';\r\n\r\n  if (function_obj.is_main) {\r\n      appender += '<div class=\"function_name_div\">  &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ' + LocalizedStrings.getUI('type_void') + ' &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class=\"span_name_function\" >'+function_obj.name+'</span> </div> '\r\n        + ' <span class=\"parethesis_function\">( </span> <div class=\"ui large labels parameters_list\">';\r\n  } else {\r\n      appender += '<div class=\"ui function_return\"></div>';\r\n\r\n      appender += '<div class=\"function_name_div function_name_div_updated\"><span class=\"span_name_function name_function_updated\">'+function_obj.name+'</span> </div> ' \r\n        + ' <span class=\"parethesis_function\"> ( </span> <i class=\"ui icon plus square outline add_parameter_button\"></i> <div class=\"ui large labels parameters_list container_parameters_list\">';\r\n  }\r\n    \r\n  appender += '</div> <span class=\"parethesis_function\"> ) </span> </div>'\r\n    + (function_obj.is_hidden ? ' <div class=\"function_area\" style=\"display: none;\"> ' : ' <div class=\"function_area\"> ');\r\n\r\n  appender += '<div class=\"ui add_var_context add_var_button_function\" style=\"float: left;\">             <div class=\"ui icon button purple\"> ';\r\n\r\n  appender += '<i class=\"icons\"><i class=\"icon superscript\" style=\"margin-top: -2px;margin-bottom: 2px;margin-left: 1px;margin-right: 1px;\"></i><i class=\"corner add icon inverted\" style=\"font-size: 9px;padding-top: 6px;padding-left: 9px;\"></i></i>';\r\n\r\n  appender += '</div></div>';\r\n\r\n  appender += '<div class=\"ui top attached segment variables_list_div\"></div>';\r\n\r\n  appender += '<div class=\"ui bottom attached segment commands_list_div commands_cont_'+cont+'\">'\r\n        + '<div class=\"ui rail\" style=\"width: 35px; margin-left: -36px;\"><div class=\"ui sticky sticky_cont_'+cont+'\" style=\"top: 50px !important;\">';\r\n\r\n\r\n  appender += '<div class=\"ui icon button dropdown menu_commands orange\" > '\r\n            + '<i class=\"icons\"><i class=\"icon code\" style=\"margin-top: -1px;margin-bottom: 1px;margin-right: 0px;\"></i><i class=\"corner add icon inverted\" style=\"font-size: 9px;padding-top: 6px;padding-left: 9px;\"></i></i>'\r\n            + '<div class=\"menu\"> ';\r\n  appender += '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.reader+'\"><i class=\"download icon\"></i> ' +LocalizedStrings.getUI('text_read_var')+ '</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.writer+'\"><i class=\"upload icon\"></i> '+LocalizedStrings.getUI('text_write_var')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.comment+'\"><i class=\"quote left icon\"></i> '+LocalizedStrings.getUI('text_comment')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.attribution+'\"><i class=\"arrow left icon\"></i> '+LocalizedStrings.getUI('text_attribution')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.functioncall+'\"><i class=\"hand point right icon\"></i> '+LocalizedStrings.getUI('text_functioncall')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.iftrue+'\" ><i class=\"random icon\"></i> '+LocalizedStrings.getUI('text_iftrue')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.repeatNtimes+'\"><i class=\"sync icon\"></i> '+LocalizedStrings.getUI('text_repeatNtimes')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.whiletrue+'\"><i class=\"sync icon\"></i> '+LocalizedStrings.getUI('text_whiletrue')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.dowhiletrue+'\"><i class=\"sync icon\"></i> '+LocalizedStrings.getUI('text_dowhiletrue')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.switch+'\"><i class=\"list icon\"></i> '+LocalizedStrings.getUI('text_switch')+'</a>'\r\n        + '<a class=\"item\" data-command=\"'+Models.COMMAND_TYPES.return+'\"><i class=\"reply icon\"></i> '+LocalizedStrings.getUI('text_btn_return')+'</a>'\r\n        + '</div></div>';\r\n\r\n\r\n  appender += '</div></div>'\r\n        +'</div>';\r\n\r\n  appender += '</div></div>';\r\n\r\n  appender = $(appender);\r\n\r\n  $('.all_functions').append(appender);\r\n\r\n  appender.data('fun', function_obj);\r\n  appender.find('.commands_list_div').data('fun', function_obj);\r\n\r\n  renderFunctionReturn(function_obj, appender);\r\n\r\n  addHandlers(function_obj, appender);\r\n\r\n  // Rendering parameters: \r\n  for (var j = 0; j < function_obj.parameters_list.length; j++) {\r\n    renderParameter(function_obj, function_obj.parameters_list[j], appender);\r\n  }\r\n\r\n  // Rendering variables:\r\n  for (var j = 0; j < function_obj.variables_list.length; j++) {\r\n    VariablesManagement.renderVariable(appender, function_obj.variables_list[j], function_obj);\r\n  }\r\n  // Rendering commands:\r\n  for (var j = 0; j < function_obj.commands.length; j++) {\r\n    CommandsManagement.renderCommand(function_obj.commands[j], $(appender.find('.commands_list_div')[0]), 3, function_obj);\r\n  }\r\n  $('.minimize_function_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_hide_function\"),\r\n    delay: {\r\n      show: 750,\r\n      hide: 0\r\n    }\r\n  });\r\n\r\n  var function_index = program.functions.indexOf(function_obj);\r\n\r\n  Sortable.create(appender.find(\".variables_list_div\")[0], {\r\n    handle: '.ellipsis',\r\n    animation: 100,\r\n    ghostClass: 'ghost',\r\n    group: 'local_vars_drag_' + function_index,\r\n    onEnd: function (evt) {\r\n       updateSequenceLocals(evt.oldIndex, evt.newIndex, function_obj);\r\n    }\r\n  });\r\n\r\n  addSortableHandler(appender.find(\".commands_list_div\")[0], function_index);\r\n\r\n  if (!function_obj.is_main) {\r\n    Sortable.create(appender.find(\".container_parameters_list\")[0], {\r\n      handle: '.ellipsis',\r\n      animation: 100,\r\n      ghostClass: 'ghost',\r\n      group: 'parameters_drag_' + program.functions.indexOf(function_obj),\r\n      onEnd: function (evt) {\r\n         updateSequenceParameters(evt.oldIndex, evt.newIndex, function_obj);\r\n      }\r\n    });\r\n  }\r\n\r\n  if (function_obj.commands.length > 0) {\r\n    var teste  = '.ui.sticky.sticky_cont_'+cont;\r\n    $(teste).sticky({\r\n      context: '.ui.bottom.attached.segment.commands_list_div.commands_cont_'+cont,\r\n      scrollContext: '.ivprog_visual_panel',\r\n      observeChanges: true,\r\n      offset: 40,\r\n      onStick: function (evt) {\r\n        $(teste).css('top', '20px', 'important');\r\n      }, \r\n      onBottom: function (evt) {\r\n        $(teste).css('top', '20px', 'important');\r\n      },\r\n      onUnstick: function (evt) {\r\n        $(teste).css('top', '20px', 'important');\r\n      },\r\n      onReposition: function (evt) {\r\n        $(teste).css('top', '20px', 'important');\r\n      },\r\n      onScroll: function (evt) {\r\n        $(teste).css('top', '20px', 'important');\r\n        if (!isVisible($(teste), $(teste).parent())) {\r\n          $(teste).removeClass('fixed');\r\n        }\r\n      },\r\n      onTop: function (evt) {\r\n        $(teste).css('top', '20px', 'important');\r\n      }\r\n    });\r\n  }\r\n  \r\n  cont ++;\r\n\r\n  appender.find('.add_parameter_button').popup({\r\n    content : LocalizedStrings.getUI(\"text_add_parameters\"),\r\n    delay: {\r\n      show: 750,\r\n      hide: 0\r\n    }\r\n  });\r\n\r\n  return appender;\r\n}\r\n\r\nfunction isVisible (element, container) {\r\n\r\n  var elementTop = $(element).offset().top,\r\n      elementHeight = $(element).height(),\r\n      containerTop = $(container).offset().top,\r\n      containerHeight = $(container).height() - 30;\r\n\r\n  return ((((elementTop - containerTop) + elementHeight) > 0)\r\n         && ((elementTop - containerTop) < containerHeight));\r\n}\r\n\r\n\r\nwindow.evento_drag;\r\n\r\nfunction updateProgramObjDrag () {\r\n  const nodes = Array.prototype.slice.call( $('.all_functions').children() );\r\n  let function_index;\r\n  var start_index;\r\n  let function_obj;\r\n  $(evento_drag.item).parentsUntil(\".all_functions\").each(function (index) {\r\n    const ref = $(this);\r\n    if (ref.hasClass('function_div')) {\r\n      function_index = nodes.indexOf(this);\r\n      start_index = index;\r\n      function_obj = ref;\r\n    }\r\n  });\r\n\r\n  const path_target = [];\r\n  $(evento_drag.item).parentsUntil(\".all_functions\").each(function () {\r\n    if ($(this).hasClass('command_container')) {\r\n      path_target.push(this);\r\n    }\r\n  });\r\n  if (path_target.length == 0) {\r\n    //console.log('soltou na raiz, na posio: ' + evento_drag.newIndex + ' mas ainda no sei de onde saiu ');\r\n  } else {\r\n    //console.log('soltou dentro de algum bloco, sequncia vem logo abaixo (de baixo pra cima): ');\r\n    //console.log(path_target);\r\n  }\r\n\r\n  var index_each = [];\r\n  var path_relative = [];\r\n  for (var i = path_target.length - 1; i >= 0; i --) {\r\n    if (i == (path_target.length - 1)) { // est na raiz\r\n      var indice_na_raiz = function_obj.find('.command_container').index(path_target[i]);\r\n    } else {\r\n      if ($(path_target[i + 1]).hasClass('iftrue')) {\r\n        if ($(path_target[i]).parent().hasClass('commands_if')) {\r\n          path_relative.push('if');\r\n          index_each.push($(path_target[i]).parent().find('.command_container').index(path_target[i]));\r\n        } else {\r\n          path_relative.push('else');\r\n          index_each.push($(path_target[i]).parent().find('.command_container').index(path_target[i]));\r\n        }\r\n      } else if ($(path_target[i + 1]).hasClass('dowhiletrue')) {\r\n        path_relative.push('dowhiletrue');\r\n        index_each.push($(path_target[i + 1]).find('.command_container').index(path_target[i]));\r\n      } else if ($(path_target[i + 1]).hasClass('repeatNtimes')) {\r\n        path_relative.push('repeatNtimes');\r\n        index_each.push($(path_target[i + 1]).find('.command_container').index(path_target[i]));\r\n      } else if ($(path_target[i + 1]).hasClass('whiletrue')) {\r\n        path_relative.push('whiletrue');\r\n        index_each.push($(path_target[i + 1]).find('.command_container').index(path_target[i]));\r\n      } else if ($(path_target[i + 1]).hasClass('switch')) {\r\n        path_relative.push('switch');\r\n        //index_each.push($(path_target[i + 1]).find('.command_container').index(path_target[i]));\r\n      }\r\n    }\r\n  }\r\n  // var index_in_block = -1;\r\n  const is_in_else = $(evento_drag.item).parent().hasClass('commands_else');\r\n\r\n  // index_in_block = $(evento_drag.item).parent().find('.command_container').index(evento_drag.item);\r\n\r\n  const is_in_case_switch = $(evento_drag.item).parent().hasClass('case_commands_block');\r\n  \r\n  // encontrar o elemento na rvore:\r\n\r\n  var command_start_point = window.program_obj.functions[function_index].commands[indice_na_raiz];\r\n  var block_to_insert = command_start_point;\r\n  for (var i = 0; i < index_each.length; i++) {\r\n    if (path_relative[i] == \"else\") {\r\n      block_to_insert = block_to_insert.commands_else[index_each[i]];\r\n    } else if (path_relative[i] == \"switch\") {\r\n\r\n    } else {\r\n      block_to_insert = block_to_insert.commands_block[index_each[i]]\r\n    }\r\n  }\r\n\r\n  //console.log('command_start_point', command_start_point);\r\n  //console.log('block_to_insert', block_to_insert);\r\n\r\n  // agora tem que alocar o comando na rvore, mas considerar as quatro situaes:\r\n  // (1) se est em um else ou (2) se est em switch ou (3) ser um caso padro ou (4) se ser na raiz.\r\n  \r\n  if (path_target.length == 0) { // soltou na raiz:\r\n    window.program_obj.functions[function_index].commands.splice(evento_drag.newIndex - 1, 0, command_in_drag);\r\n  } else if (is_in_else)  {\r\n    if (block_to_insert.commands_else) {\r\n      block_to_insert.commands_else.splice(evento_drag.newIndex, 0, command_in_drag);\r\n    } else {\r\n      block_to_insert.commands_else = [];\r\n      block_to_insert.commands_else.push(command_in_drag);\r\n    }\r\n  } else if (is_in_case_switch) {\r\n\r\n  } else {\r\n    // verificar se tem alguma coisa no bloco:\r\n    if (block_to_insert.commands_block) {\r\n      block_to_insert.commands_block.splice(evento_drag.newIndex, 0, command_in_drag);\r\n    } else {\r\n      block_to_insert.commands_block = [];\r\n      block_to_insert.commands_block.push(command_in_drag);\r\n    }\r\n  }\r\n\r\n  window.draging = false;\r\n  renderAlgorithm();\r\n  \r\n\r\n}\r\n\r\nfunction prepareDragHandler (evt) {\r\n  window.draging = true;\r\n\r\n  var nodes = Array.prototype.slice.call( $('.all_functions').children() );\r\n  var function_index;\r\n  var function_obj;\r\n  $(evt.item).parentsUntil(\".all_functions\").each(function (index) {\r\n    if ($(this).hasClass('function_div')) {\r\n      function_index = nodes.indexOf(this);\r\n      function_obj = window.program_obj.functions[function_index];\r\n    }\r\n  });\r\n\r\n  command_in_drag = $(evt.item).data(\"command\");\r\n\r\n  //console.log('$(evt.item).parent(): ');\r\n  //console.log($(evt.item).parent());\r\n\r\n  // descobrir qual das quatro situaes:\r\n  if ($(evt.item).parent().hasClass('commands_list_div')) { // est na raiz:\r\n    if (function_obj.commands.indexOf(command_in_drag) > -1) {\r\n      function_obj.commands.splice(function_obj.commands.indexOf(command_in_drag), 1);\r\n    }\r\n  } else if ($(evt.item).parent().hasClass('commands_else')) { // est no else:\r\n    if ($(evt.item).parent().data('command').commands_else.indexOf(command_in_drag) > -1) {\r\n      $(evt.item).parent().data('command').commands_else.splice($(evt.item).parent().data('command').commands_else.indexOf(command_in_drag), 1);\r\n    }\r\n  } else if ($(evt.item).parent().hasClass('case_commands_block')) { // est em um switch:\r\n\r\n  } else { // caso padro:\r\n    if ($(evt.item).parent().data('command').commands_block.indexOf(command_in_drag) > -1) {\r\n      $(evt.item).parent().data('command').commands_block.splice($(evt.item).parent().data('command').commands_block.indexOf(command_in_drag), 1);\r\n    }\r\n  }\r\n\r\n}\r\n\r\nvar command_in_drag;\r\n\r\nfunction addSortableHandler (element, id_function) {\r\n  \r\n  var n_group = 'commands_drag_' + id_function;\r\n  Sortable.create(element, {\r\n    handle: '.command_drag',\r\n    ghostClass: 'ghost',\r\n    animation: 300,\r\n    group: {name: n_group},\r\n    onEnd: function (evt) {\r\n\r\n      var nodes = Array.prototype.slice.call( $('.all_functions').children() );\r\n      var function_index;\r\n      var function_obj;\r\n      $(evt.item).parentsUntil(\".all_functions\").each(function (index) {\r\n        if ($(this).hasClass('function_div')) {\r\n          function_index = nodes.indexOf(this);\r\n          function_obj = window.program_obj.functions[function_index];\r\n        }\r\n      });\r\n\r\n       registerUserEvent(function_obj.name, ActionTypes.MOVE_COMMAND, $(evt.item).data('command').type, '/', 'from: ' + evt.oldIndex + ' to: ' + evt.newIndex);\r\n       //updateSequenceLocals(evt.oldIndex, evt.newIndex, function_obj);\r\n       var itemEl = evt.item;  // dragged HTMLElement\r\n       evt.to;    // target list\r\n       evt.from;  // previous list\r\n       evt.oldIndex;  // element's old index within old parent\r\n       evt.newIndex;  // element's new index within new parent\r\n       //console.log('::EVT::');\r\n       //console.log(evt);\r\n\r\n       window.evento_drag = evt;\r\n\r\n       try {\r\n        updateProgramObjDrag();\r\n       } catch (e) {\r\n        console.error(e);\r\n        window.draging = false;\r\n       }\r\n    },\r\n    onStart: function (evt) {\r\n      //console.log(\"START::EVT::\");\r\n      //console.log(evt);\r\n      //console.log(\"\\n\\ncommand_in_drag\");\r\n      try {\r\n        prepareDragHandler(evt);\r\n      } catch (e) {\r\n        window.draging = false;\r\n      }\r\n    }\r\n  });\r\n  element = $(element);\r\n  element.find(\".iftrue\").each(function( index ) {\r\n    addSortableHandler($(this).find(\".block_commands\")[0], id_function);\r\n    addSortableHandler($(this).find(\".block_commands\")[1], id_function);\r\n  });\r\n\r\n  element.find(\".repeatNtimes\").each(function( index ) {\r\n    addSortableHandler($(this).find(\".block_commands\")[0], id_function);\r\n  });\r\n\r\n  element.find(\".dowhiletrue\").each(function( index ) {\r\n    addSortableHandler($(this).find(\".block_commands\")[0], id_function);\r\n  });\r\n\r\n  element.find(\".whiletrue\").each(function( index ) {\r\n    addSortableHandler($(this).find(\".block_commands\")[0], id_function);\r\n  });\r\n\r\n  element.find(\".switch\").each(function( index ) {\r\n\r\n    $(this).find(\".case_div\").each(function( index ) {\r\n      addSortableHandler($(this).find(\".case_commands_block\")[0], id_function);\r\n    });\r\n\r\n  });  \r\n}\r\n\r\nexport function initVisualUI () {\r\n  // MUST USE CONST, LET, OR VAR !!!!!!\r\n  // const mainDiv = $('#visual-main-div');\r\n  // fill mainDiv with functions and globals...\r\n  // renderAlgorithm()...\r\n  domConsole = new DOMConsole(\"ivprog-term-div\");\r\n  domConsole.hide();\r\n  $(document.getElementById(\"ivprog-term-div\")).draggable()\r\n  $('.add_function_button').on('click', () => {\r\n    addFunctionHandler();\r\n  }).popup({\r\n    content : LocalizedStrings.getUI(\"text_add_function\"),\r\n    delay: {\r\n      show: 750,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.add_global_button').on('click', () => {\r\n    window.insertContext = true;\r\n    GlobalsManagement.addGlobal(program, true);\r\n  });\r\n\r\n  $('#run_button').on('click', function () {\r\n    showStopButton();\r\n    runCode();\r\n  });\r\n\r\n  $('#stop_button').on('click', function () {\r\n    showRunButton();\r\n    stopExecution();\r\n  });\r\n\r\n  $('.visual_coding_button').on('click', () => {\r\n    toggleVisualCoding();\r\n  });\r\n\r\n  $('.textual_coding_button').on('click', () => {\r\n    toggleTextualCoding();\r\n  });\r\n\r\n  $('.assessment').on('click', () => {\r\n    is_iassign = true;\r\n    runCodeAssessment();\r\n  });\r\n\r\n  $('.div_toggle_console').on('click', () => {\r\n    toggleConsole();\r\n  });\r\n  $('.expand_button').on('click', () => {\r\n    full_screen();\r\n  });\r\n  $('.help_button').on('click', () => {\r\n    window.open('https://www.usp.br/line/ivprog/', '_blank');\r\n  });\r\n  $('.main_title h2').prop('title', LocalizedStrings.getUI('text_ivprog_description'));\r\n\r\n  var time_show = 750;\r\n  $('.visual_coding_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_visual\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.textual_coding_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_textual\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.upload_file_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_upload\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.download_file_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_download\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.undo_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_undo\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.redo_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_redo\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.run_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_run\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.assessment_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_evaluate\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.help_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_help\") + ' - ' + LocalizedStrings.getUI(\"text_ivprog_version\") + ' ' + ivprog_version,\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.add_global_button').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_add_global\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n  $('.div_toggle_console').popup({\r\n    content : LocalizedStrings.getUI(\"tooltip_console\"),\r\n    delay: {\r\n      show: time_show,\r\n      hide: 0\r\n    }\r\n  });\r\n\r\n  Sortable.create(listWithHandle, {\r\n    handle: '.glyphicon-move',\r\n    animation: 100,\r\n    ghostClass: 'ghost',\r\n    group: 'functions_divs_drag',\r\n    onEnd: function (evt) {\r\n       updateSequenceFunction(evt.oldIndex, evt.newIndex);\r\n    }\r\n  });\r\n\r\n  var listGlobalsHandle = document.getElementById(\"listGlobalsHandle\");\r\n  Sortable.create(listGlobalsHandle, {\r\n    handle: '.ellipsis',\r\n    animation: 100,\r\n    ghostClass: 'ghost',\r\n    group: 'globals_divs_drag',\r\n    onEnd: function (evt) {\r\n       updateSequenceGlobals(evt.oldIndex, evt.newIndex);\r\n    }\r\n  });\r\n\r\n}\r\n\r\nexport function setTestCases (testCases) {\r\n  _testCases = testCases;\r\n}\r\n\r\nexport function getTestCases () {\r\n  // Deep clone of test cases to avoid unauthorized modification\r\n  // TODO: It may be not possible to use this once custom test are fully implemented \r\n  return JSON.parse(JSON.stringify(_testCases));\r\n}\r\n\r\nvar is_iassign = false;\r\n\r\nfunction updateSequenceParameters (oldIndex, newIndex, function_obj) {\r\n  function_obj.parameters_list.splice(newIndex, 0, function_obj.parameters_list.splice(oldIndex, 1)[0]);\r\n}\r\n\r\nfunction updateSequenceLocals (oldIndex, newIndex, function_obj) {\r\n  function_obj.variables_list.splice(newIndex, 0, function_obj.variables_list.splice(oldIndex, 1)[0]);\r\n}\r\n\r\nfunction updateSequenceGlobals (oldIndex, newIndex) {\r\n  program_obj.globals.splice(newIndex, 0, program_obj.globals.splice(oldIndex, 1)[0]);\r\n}\r\n\r\nfunction updateSequenceFunction (oldIndex, newIndex) {\r\n  program_obj.functions.splice(newIndex, 0, program_obj.functions.splice(oldIndex, 1)[0]);\r\n}\r\n\r\nfunction runCodeAssessment () {\r\n  if (isRunning) {\r\n    // cannot run assessment or it's already running\r\n    return -1;\r\n  }\r\n  \r\n  let strCode = null;\r\n\r\n  is_iassign = false;\r\n\r\n  window.studentGrade = null;\r\n\r\n  if (settingsProgrammingTypes == \"textual\") {\r\n    strCode = TextEditor.getCode();\r\n  } else {\r\n    strCode = CodeManagement.generate();\r\n  }\r\n\r\n  if (strCode == null) {\r\n    // No code, so no assessment\r\n    return -1;\r\n  }\r\n\r\n  toggleConsole(true);\r\n\r\n  try {\r\n    const data = SemanticAnalyser.analyseFromSource(strCode);\r\n    isRunning = true;\r\n    const runner = new IVProgAssessment(data, _testCases, domConsole);\r\n    runner.runTest().then(grade => {\r\n      if (!is_iassign) {\r\n        parent.getEvaluationCallback(grade);\r\n      } else {\r\n        is_iassign = false;\r\n      }\r\n      isRunning = false;\r\n    }).catch( err => {\r\n      console.log(err);\r\n      isRunning = false;\r\n    });\r\n  } catch (error) {\r\n    isRunning = false;\r\n    domConsole.err(error.message);\r\n    console.log(error);\r\n    if (!is_iassign) {\r\n      parent.getEvaluationCallback(0);\r\n    } else {\r\n      is_iassign = false;\r\n    }\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction runCode () {\r\n  if (isRunning) {\r\n    return;\r\n  }\r\n  let strCode = null;\r\n\r\n  if (settingsProgrammingTypes == \"textual\") {\r\n    strCode = TextEditor.getCode();\r\n  } else {\r\n    strCode = CodeManagement.generate();\r\n  }\r\n\r\n  if (strCode == null) {\r\n    return;\r\n  }\r\n  \r\n  toggleConsole(true);\r\n\r\n  // if(domConsole == null)\r\n  //   domConsole = new DOMConsole(\"#ivprog-term\");\r\n  //$(\"#ivprog-term\").slideDown(500);\r\n  try {\r\n    const data = SemanticAnalyser.analyseFromSource(strCode);\r\n    proc = new IVProgProcessor(data);\r\n    proc.registerInput(domConsole);\r\n    proc.registerOutput(domConsole);\r\n    $(\"#ivprog-term\").addClass('ivprog-term-active');\r\n    isRunning = true;\r\n    proc.interpretAST().then( _ => {\r\n      scheduleCall(() => {\r\n        if(domConsole.pending_writes.length == 0) {\r\n          if(proc.mode === Modes.ABORT) {\r\n            domConsole.info(LocalizedStrings.getMessage(\"aborted_execution\"));  \r\n          } else {\r\n            domConsole.info(LocalizedStrings.getMessage(\"success_execution\"));\r\n          }\r\n          $(\"#ivprog-term\").removeClass('ivprog-term-active');\r\n          isRunning = false;\r\n          proc = null;\r\n          showRunButton();\r\n          return true;\r\n        }\r\n        return false;\r\n      },100);\r\n    }).catch(err => {\r\n      scheduleCall(() => {\r\n        if(domConsole.pending_writes.length == 0) {\r\n          if(err instanceof Error) {\r\n            domConsole.err(err.message);\r\n          } else {\r\n            domConsole.err(err);\r\n          }\r\n          $(\"#ivprog-term\").removeClass('ivprog-term-active');\r\n          isRunning = false;\r\n          proc = null;\r\n          showRunButton();\r\n          return true;\r\n        }\r\n        return false;\r\n      },100);\r\n    }) \r\n  } catch (error) {\r\n    scheduleCall(() => {\r\n      if(domConsole.pending_writes.length == 0) {\r\n        isRunning = false;\r\n        proc = null;\r\n        showRunButton();\r\n        domConsole.err(error.message);\r\n        console.log(error);\r\n        return true;\r\n      }\r\n      return false;\r\n    },100);\r\n  }\r\n  \r\n}\r\n\r\nfunction toggleConsole (is_running) {\r\n\r\n  if (is_running) {\r\n    $('.ivprog-term-div').css('display', 'block');\r\n    $('#ivprog-term').css('min-height', '160px');\r\n    if(domConsole != null)\r\n      domConsole.focus();\r\n    //$('#ivprog-term').css('margin-top', '-170px');\r\n    return;\r\n  } else {\r\n    domConsole.hide();\r\n    return;\r\n  }\r\n\r\n  if ($('#ivprog-term').css('min-height') == '160px') {\r\n    // esconder\r\n    $('.ivprog-term-div').css('display', 'none');\r\n    $('#ivprog-term').css('min-height', '0');\r\n    //$('#ivprog-term').css('margin-top', '-30px');\r\n    //$('#ivprog-term').css('padding', '5px');\r\n  } else {\r\n    // mostrar\r\n    $('.ivprog-term-div').css('display', 'block');\r\n    $('#ivprog-term').css('min-height', '160px');\r\n    //$('#ivprog-term').css('margin-top', '-170px');\r\n  }\r\n}\r\n\r\n// function waitToCloseConsole () {\r\n//   domConsole.info(\"Aperte qualquer tecla para fechar...\");\r\n//   const p = new Promise((resolve, _) => {\r\n//     domConsole.requestInput(resolve, true);\r\n//   });\r\n//   p.then( _ => {\r\n//     domConsole.dispose();\r\n//     domConsole = null;\r\n//     $(\"#ivprog-term\").hide();\r\n//   })\r\n// }\r\n\r\nfunction toggleTextualCoding () {\r\n  let code = null;\r\n  if (settingsProgrammingTypes != \"textual\") {\r\n    code = CodeManagement.generate();\r\n    if (code == null) {\r\n      return;\r\n    }\r\n  }\r\n\r\n\r\n  $('.ivprog_visual_panel').css('display', 'none');\r\n  $('.ivprog_textual_panel').css('display', 'block');\r\n  $('.ivprog_textual_panel').removeClass('loading');\r\n  TextEditor.updateEditor();\r\n  if (code != null)\r\n    TextEditor.setCode(code);\r\n  //$('.ivprog_textual_code').text(code);\r\n\r\n  $('.visual_coding_button').removeClass('active');\r\n  $('.textual_coding_button').addClass('active');\r\n}\r\n\r\nfunction toggleVisualCoding () {\r\n  $('.ivprog_textual_panel').addClass('loading');\r\n  $('.ivprog_textual_panel').css('display', 'none');\r\n  $('.ivprog_visual_panel').css('display', 'block');\r\n\r\n  $('.textual_coding_button').removeClass('active');\r\n  $('.visual_coding_button').addClass('active');\r\n}\r\n\r\nfunction removeParameter (function_obj, parameter_obj, parameter_container) {\r\n  registerUserEvent(parameter_obj.name, ActionTypes.REMOVE_FUNCTION_PARAM, function_obj.name);\r\n  var index = function_obj.parameters_list.indexOf(parameter_obj);\r\n  if (index > -1) {\r\n    window.insertContext = true;\r\n    function_obj.parameters_list.splice(index, 1);\r\n  }\r\n  $(parameter_container).fadeOut();\r\n}\r\n\r\nfunction updateParameterType (parameter_obj, new_type, function_name, new_dimensions = 0) {\r\n  registerUserEvent(parameter_obj.name, ActionTypes.CHANGE_PARAM_TYPE, function_name, new_type, new_dimensions);\r\n  parameter_obj.type = new_type;\r\n  parameter_obj.dimensions = new_dimensions;\r\n\r\n  if (new_dimensions > 0) {\r\n    parameter_obj.rows = new_dimensions;\r\n    parameter_obj.columns = 2;\r\n  }\r\n\r\n}\r\n\r\nfunction renderParameter (function_obj, parameter_obj, function_container) {\r\n  let ret = \"\";\r\n\r\n  ret += '<div class=\"ui label function_name_parameter pink\"><i class=\"ui icon ellipsis vertical inverted\"></i>';\r\n\r\n  ret += '<div class=\"ui dropdown parameter_type\">';\r\n\r\n  if (parameter_obj.dimensions > 0) {\r\n    ret += '<div class=\"text\">'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${parameter_obj.type.toLowerCase()}`);\r\n    if (parameter_obj.dimensions == 1) {\r\n      ret += ' [ ] ';\r\n    } else {\r\n      ret += ' [ ] [ ] ';\r\n    }\r\n    ret += '</div>';\r\n  } else {\r\n    ret += '<div class=\"text\">'+LocalizedStrings.getUI(`type_${parameter_obj.type.toLowerCase()}`)+'</div>';\r\n  }\r\n\r\n  ret += '<div class=\"menu\">';\r\n\r\n  \r\n  for (const tm in Types) {\r\n      if (tm == Types.VOID.toUpperCase()) {\r\n        continue;\r\n      }\r\n      ret += '<div class=\"item ' + (parameter_obj.type == tm.toLowerCase() && parameter_obj.dimensions == 0 ? ' selected ' : '') + '\" data-type=\"'+tm+'\" >'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n  }\r\n\r\n\r\n  ret += '<div class=\"item ' + (parameter_obj.dimensions == 1 ? ' selected ' : '') + '\">'\r\n    + '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('vector')\r\n    +  '<div class=\"menu\">';\r\n\r\n  for (var tm in Types) {\r\n      if (tm == Types.VOID.toUpperCase()) {\r\n        continue;\r\n      }\r\n\r\n      ret += '<div class=\"item ' + (parameter_obj.type == tm.toLowerCase() &&  parameter_obj.dimensions == 1 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"1\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n    }\r\n  ret += '</div></div>';\r\n\r\n\r\n  ret += '<div class=\"item ' + (parameter_obj.dimensions == 2 ? ' selected ' : '') + '\">'\r\n    + '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('matrix')\r\n    +  '<div class=\"menu\">';\r\n\r\n  for (var tm in Types) {\r\n      if (tm == Types.VOID.toUpperCase()) {\r\n        continue;\r\n      }\r\n\r\n      ret += '<div class=\"item ' + (parameter_obj.type == tm.toLowerCase() &&  parameter_obj.dimensions == 2 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('matrix')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"2\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n  }\r\n  ret += '</div></div>';\r\n\r\n  ret += '</div></div>';\r\n\r\n  ret += '<div class=\"parameter_div_edit\"><span class=\"span_name_parameter label_enable_name_parameter\">'+parameter_obj.name+'</span></div> ';\r\n\r\n  ret += ' <i class=\"yellow inverted icon times remove_parameter\"></i></div>';\r\n\r\n  ret = $(ret);\r\n  \r\n  function_container.find('.container_parameters_list').append(ret);\r\n\r\n  ret.find('.remove_parameter').on('click', function(e){\r\n    removeParameter(function_obj, parameter_obj, ret);\r\n  });\r\n  \r\n  ret.find('.ui.dropdown.parameter_type').dropdown({\r\n    onChange: function(_, __, $selectedItem) {\r\n      if ($selectedItem.data('dimensions')) {\r\n        updateParameterType(parameter_obj, Types[$selectedItem.data('type')], function_obj.name, $selectedItem.data('dimensions'));\r\n      } else {\r\n        updateParameterType(parameter_obj, Types[$selectedItem.data('type')], function_obj.name);\r\n      }\r\n    },\r\n    selectOnKeydown: false\r\n  });\r\n\r\n  ret.find('.parameter_div_edit').on('click', function(e){\r\n    registerUserEvent(function_obj.name, ActionTypes.ENTER_CHANGE_PARAM_NAME, parameter_obj.name);\r\n    enableNameParameterUpdate(parameter_obj, ret, function_obj);\r\n  });\r\n\r\n  return ret;\r\n}\r\n\r\nfunction updateParameterName (parameter_var, new_name, parameter_obj_dom, function_obj) {\r\n  \r\n  if (parameter_var.name == new_name) {\r\n    return;\r\n  }\r\n\r\n  if (isValidIdentifier(new_name)) {\r\n    if (variableNameAlreadyExists(new_name, function_obj)) {\r\n      Utils.renderErrorMessage(parameter_obj_dom.find('.parameter_div_edit'), LocalizedStrings.getError('inform_valid_param_duplicated', [new_name, function_obj.name]));\r\n    } else {\r\n      registerUserEvent(function_obj.name, ActionTypes.RENAME_FUNCTION_PARAM, parameter_var.name, new_name);\r\n      parameter_var.name = new_name;\r\n    }\r\n  } else {\r\n    Utils.renderErrorMessage(parameter_obj_dom.find('.parameter_div_edit'), LocalizedStrings.getError('inform_valid_identifier'));\r\n  }\r\n}\r\n\r\nfunction variableNameAlreadyExists (name_var, function_obj) {\r\n\r\n  if (function_obj.parameters_list) {\r\n    for (var i = 0; i < function_obj.parameters_list.length; i++) {\r\n      if (function_obj.parameters_list[i].name == name_var) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  if (function_obj.variables_list) {\r\n    for (var i = 0; i < function_obj.variables_list.length; i++) {\r\n      if (function_obj.variables_list[i].name == name_var) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction updateFunctionName (function_var, new_name, function_obj_dom) {\r\n  \r\n  if (function_var.name == new_name) {\r\n    return;\r\n  }\r\n  \r\n  if (isValidIdentifier(new_name)) {\r\n    if (functionNameAlreadyExists(new_name)) {\r\n      Utils.renderErrorMessage(function_obj_dom.find('.function_name_div'), LocalizedStrings.getError('inform_valid_function_duplicated', [new_name]));\r\n    } else {\r\n      registerUserEvent(function_var.name, ActionTypes.RENAME_FUNCTION, new_name);\r\n      function_var.name = new_name;\r\n    }\r\n  } else {\r\n    Utils.renderErrorMessage(function_obj_dom.find('.function_name_div'), LocalizedStrings.getError('inform_valid_identifier'));\r\n  }\r\n}\r\n\r\nfunction functionNameAlreadyExists (function_name) {\r\n  for (var i = 0; i < window.program_obj.functions.length; i++) {\r\n    if (window.program_obj.functions[i].name == function_name) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nvar opened_name_parameter = false;\r\nvar opened_input_parameter = null;\r\nfunction enableNameParameterUpdate (parameter_obj, parent_node, function_obj) {\r\n  if (opened_name_parameter) {\r\n    opened_input_parameter.focus();\r\n    return;\r\n  }\r\n  opened_name_parameter = true;\r\n  parent_node = $(parent_node);\r\n\r\n  var input_field;\r\n\r\n  parent_node.find('.span_name_parameter').text('');\r\n  input_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"+parameter_obj.name+\"' />\" );\r\n  input_field.insertBefore(parent_node.find('.span_name_parameter'));\r\n\r\n  input_field.on('input', function() {\r\n    var inputWidth = input_field.textWidth()+10;\r\n    opened_input_parameter = input_field;\r\n    input_field.focus();\r\n\r\n    var tmpStr = input_field.val();\r\n    input_field.val('');\r\n    input_field.val(tmpStr);\r\n\r\n    input_field.css({\r\n        width: inputWidth\r\n    })\r\n  }).trigger('input');\r\n\r\n  input_field.focusout(function() {\r\n    /// update array:\r\n    if (input_field.val().trim()) {\r\n      updateParameterName(parameter_obj, input_field.val().trim(), parent_node, function_obj);\r\n      parent_node.find('.span_name_parameter').text(parameter_obj.name);\r\n    }\r\n    input_field.off();\r\n    input_field.remove();\r\n\r\n    /// update elements:\r\n    opened_name_parameter = false;\r\n    opened_input_parameter = false;\r\n  });\r\n\r\n  input_field.on('keydown', function(e) {\r\n    var code = e.keyCode || e.which;\r\n    if(code == 13) {\r\n      if (input_field.val().trim()) {\r\n        updateParameterName(parameter_obj, input_field.val().trim(), parent_node, function_obj);\r\n        parent_node.find('.span_name_parameter').text(parameter_obj.name);\r\n      }\r\n      input_field.off();\r\n      input_field.remove();\r\n\r\n      /// update elements:\r\n      opened_name_parameter = false;\r\n      opened_input_parameter = false;\r\n\r\n    }\r\n    if(code == 27) {\r\n      parent_node.find('.span_name_parameter').text(parameter_obj.name);\r\n      input_field.off();\r\n      input_field.remove();\r\n\r\n      /// update elements:\r\n      opened_name_parameter = false;\r\n      opened_input_parameter = false;\r\n    }\r\n  });\r\n  input_field.select();\r\n}\r\n\r\nvar opened_name_function = false;\r\nvar opened_input = null;\r\nvar previousPadding = null;\r\nfunction enableNameFunctionUpdate (function_obj, parent_node) {\r\n  if (opened_name_function) {\r\n    opened_input.focus();\r\n    return;\r\n  }\r\n  parent_node = $(parent_node);\r\n  parent_node.find('.span_name_function').text('');\r\n  var input_field;\r\n  if (!previousPadding) {\r\n    previousPadding = parent_node.find('.span_name_function').css('padding-left');\r\n  }\r\n  parent_node.find('.span_name_function').css('padding-left', '0');\r\n  parent_node.find('.span_name_function').css('padding-right', '0');\r\n  \r\n  input_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"+function_obj.name+\"' />\" );\r\n  input_field.insertBefore(parent_node.find('.span_name_function'));\r\n\r\n  input_field.on('input', function() {\r\n    var inputWidth = input_field.textWidth()+10;\r\n    opened_input = input_field;\r\n    input_field.focus();\r\n\r\n    var tmpStr = input_field.val();\r\n    input_field.val('');\r\n    input_field.val(tmpStr);\r\n\r\n    input_field.css({\r\n        width: inputWidth\r\n    })\r\n  }).trigger('input');\r\n\r\n  input_field.focusout(function() {\r\n    /// update array:\r\n    if (input_field.val().trim()) {\r\n      updateFunctionName(function_obj, input_field.val().trim(), parent_node);\r\n    }\r\n    input_field.off();\r\n    input_field.remove();\r\n    parent_node.find('.span_name_function').css('padding-left', previousPadding);\r\n    parent_node.find('.span_name_function').css('padding-right', previousPadding);\r\n    parent_node.find('.span_name_function').text(function_obj.name);\r\n\r\n    /// update elements:\r\n    opened_name_function = false;\r\n    opened_input = false;\r\n  });\r\n\r\n  input_field.on('keydown', function(e) {\r\n    var code = e.keyCode || e.which;\r\n    if(code == 13) {\r\n      if (input_field.val().trim()) {\r\n        updateFunctionName(function_obj, input_field.val().trim(), parent_node);\r\n      }\r\n      input_field.off();\r\n      input_field.remove();\r\n      parent_node.find('.span_name_function').css('padding-left', previousPadding);\r\n      parent_node.find('.span_name_function').css('padding-right', previousPadding);\r\n      parent_node.find('.span_name_function').text(function_obj.name);\r\n\r\n      /// update elements:\r\n      opened_name_function = false;\r\n      opened_input = false;\r\n    }\r\n    if(code == 27) {\r\n\r\n      input_field.off();\r\n      input_field.remove();\r\n      parent_node.find('.span_name_function').css('padding-left', previousPadding);\r\n      parent_node.find('.span_name_function').css('padding-right', previousPadding);\r\n      parent_node.find('.span_name_function').text(function_obj.name);\r\n\r\n      /// update elements:\r\n      opened_name_function = false;\r\n      opened_input = false;\r\n    }\r\n  });\r\n  input_field.select();\r\n  \r\n}\r\n\r\nexport function addFunctionChangeListener (callback) {\r\n  functionsChangeListeners.push(callback);\r\n  return functionsChangeListeners.length - 1;\r\n}\r\n\r\nexport function addGlobalChangeListener (callback) {\r\n  globalChangeListeners.push(callback);\r\n  return globalChangeListeners.length - 1;\r\n}\r\n\r\nexport function removeGlobalListener (index) {\r\n  globalChangeListeners.splice(index, 1);\r\n}\r\n\r\nexport function removeFunctionListener (index) {\r\n  functionsChangeListeners.splice(index);\r\n}\r\n\r\nfunction scheduleCall (callback, time) {\r\n  const scheduled_call = () => {\r\n    const id = setInterval(() => {\r\n      if(callback()) {\r\n        clearInterval(id);\r\n      }\r\n    }, time)\r\n  }\r\n  scheduled_call();\r\n}\r\n\r\nfunction showRunButton () {\r\n  document.getElementById('run_button').style.display = 'inline';\r\n  document.getElementById('stop_button').style.display = 'none';\r\n}\r\n\r\nfunction showStopButton () {\r\n  document.getElementById('run_button').style.display = 'none';\r\n  document.getElementById('stop_button').style.display = 'inline';\r\n}\r\n\r\nfunction stopExecution () {\r\n  domConsole.clearPendingWrites();\r\n  domConsole.cancelPendingInputRequests();\r\n  if(!isRunning) {\r\n    return;\r\n  }\r\n  proc.mode = Modes.ABORT;\r\n}","import { Types } from './types';\r\nimport * as Models from './ivprog_elements';\r\nimport { LocalizedStrings } from './../services/localizedStringsService';\r\nimport * as Utils from './utils';\r\nimport { registerUserEvent, registerSystemEvent, ActionTypes } from \"./../services/userLog\";\r\n\r\nvar counter_new_globals = 0;\r\n\r\nexport function addGlobal (program, is_from_click = false) {\r\n\r\n\tvar new_global = new Models.Variable(Types.INTEGER, LocalizedStrings.getUI('new_global') + '_' + counter_new_globals, 0);\r\n\tcounter_new_globals ++;\r\n\r\n\tprogram.addGlobal(new_global);\r\n\r\n\tregisterUserEvent(new_global.name, ActionTypes.INSERT_GLOBAL_VAR);\r\n\tvar newe = renderGlobal(new_global);\r\n\r\n\tif (is_from_click) {\r\n\t\tnewe.css('display', 'none');\r\n\t\tnewe.fadeIn();\r\n\t}\r\n\r\n}\r\n\r\nfunction toggleConstant (global_var) {\r\n\tglobal_var.is_constant = !global_var.is_constant;\r\n\tregisterUserEvent(global_var.name, ActionTypes.SET_GLOBAL_CONST);\r\n}\r\n\r\nfunction updateName (global_var, new_name, global_obj_dom) {\r\n\r\n\tif (global_var.name == new_name) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (isValidIdentifier(new_name)) {\r\n\t\tif (globalNameAlreadyExists(new_name)) {\r\n\t\t\tUtils.renderErrorMessage(global_obj_dom.find('.editing_name_var'), LocalizedStrings.getUI('inform_valid_global_duplicated'));\r\n\t\t} else {\r\n\t\t\tregisterUserEvent(global_var.name, ActionTypes.RENAME_GLOBAL_VAR, new_name);\r\n\t\t\tglobal_var.name = new_name;\r\n\t\t}\r\n\t} else {\r\n\t\tUtils.renderErrorMessage(global_obj_dom.find('.editing_name_var'), LocalizedStrings.getUI('inform_valid_name'));\r\n\t}\r\n}\r\n\r\nfunction globalNameAlreadyExists (global_name) {\r\n  for (var i = 0; i < window.program_obj.globals.length; i++) {\r\n    if (window.program_obj.globals[i].name == global_name) {\r\n      return true;\r\n    }\r\n  }\r\n  return false;\r\n}\r\n\r\nfunction isValidIdentifier (identifier_str) {\r\n\treturn /^[a-zA-Z_][a-zA-Z0-9_]*$/.test(identifier_str);\r\n}\r\n\r\nfunction updateType (global_var, new_type, new_dimensions = 0) {\r\n\tglobal_var.type = new_type;\r\n\tglobal_var.dimensions = new_dimensions;\r\n\r\n\tif (new_dimensions > 0) {\r\n\t\tglobal_var.rows = new_dimensions;\r\n\t\tglobal_var.columns = 2;\r\n\t}\r\n\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_VAR_TYPE, new_type,\r\n\t\tnew_dimensions, global_var.rows, global_var.columns);\r\n\tupdateInitialValues(global_var);\r\n}\r\n\r\nfunction removeGlobal (global_var, global_container) {\r\n\tvar index = window.program_obj.globals.indexOf(global_var);\r\n\tif (index > -1) {\r\n\t\twindow.insertContext = true;\r\n\t  window.program_obj.globals.splice(index, 1);\r\n\t}\r\n\tregisterUserEvent(global_var.name, ActionTypes.REMOVE_GLOBAL_VAR);\r\n\tglobal_container.children().off();\r\n\tglobal_container.off();\r\n\tglobal_container.fadeOut();\r\n}\r\n\r\nfunction updateInitialValues (global_var) {\r\n\tif (global_var.type == Types.INTEGER) {\r\n\t\tif (global_var.dimensions == 0) {\r\n\t\t\tglobal_var.value = 0;\r\n\t\t}\r\n\t\tif (global_var.dimensions == 1) {\r\n\t\t\tglobal_var.value = [0, 0];\r\n\t\t}\r\n\t\tif (global_var.dimensions == 2) {\r\n\t\t\tglobal_var.value = [[0, 0], [0, 0]];\r\n\t\t}\r\n\t}\r\n\r\n\tif (global_var.type == Types.REAL) {\r\n\t\tif (global_var.dimensions == 0) {\r\n\t\t\tglobal_var.value = 0.0;\r\n\t\t}\r\n\t\tif (global_var.dimensions == 1) {\r\n\t\t\tglobal_var.value = [0.0, 0.0];\r\n\t\t}\r\n\t\tif (global_var.dimensions == 2) {\r\n\t\t\tglobal_var.value = [[0.0, 0.0], [0.0, 0.0]];\r\n\t\t}\r\n\t}\r\n\r\n\tif (global_var.type == Types.TEXT) {\r\n\t\tif (global_var.dimensions == 0) {\r\n\t\t\tglobal_var.value = LocalizedStrings.getUI('textvar_default_value');\r\n\t\t}\r\n\t\tif (global_var.dimensions == 1) {\r\n\t\t\tglobal_var.value = [LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')];\r\n\t\t}\r\n\t\tif (global_var.dimensions == 2) {\r\n\t\t\tglobal_var.value = [[LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')], \r\n\t\t\t\t\t\t\t\t\t[LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')]];\r\n\t\t}\r\n\t}\r\n\r\n\tif (global_var.type == Types.BOOLEAN) {\r\n\t\tif (global_var.dimensions == 0) {\r\n\t\t\tglobal_var.value = true;\r\n\t\t}\r\n\t\tif (global_var.dimensions == 1) {\r\n\t\t\tglobal_var.value = [true, true];\r\n\t\t}\r\n\t\tif (global_var.dimensions == 2) {\r\n\t\t\tglobal_var.value = [[true, true], [true, true]];\r\n\t\t}\r\n\t}\r\n\r\n\tif (global_var.type == Types.CHAR) {\r\n\t\tif (global_var.dimensions == 0) {\r\n\t\t\tglobal_var.value = 'A';\r\n\t\t}\r\n\t\tif (global_var.dimensions == 1) {\r\n\t\t\tglobal_var.value = ['A', 'A'];\r\n\t\t}\r\n\t\tif (global_var.dimensions == 2) {\r\n\t\t\tglobal_var.value = [['A', 'A'], ['A', 'A']];\r\n\t\t}\r\n\t}\r\n\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.name,\r\n\t\tglobal_var.value);\r\n}\r\n\r\nfunction alternateBooleanGlobalValue (global_var, value_container) {\r\n\tglobal_var.value = !global_var.value;\r\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${global_var.value}`));\r\n}\r\n\r\nfunction alternateBooleanGlobalVectorValue (global_var, index, value_container) {\r\n\tglobal_var.value[index] = !global_var.value[index];\r\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${global_var.value[index]}`));\r\n}\r\n\r\nfunction removeGlobalColumnVector (global_var) {\r\n\tif (global_var.columns == 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tglobal_var.columns --;\r\n\tglobal_var.value.splice(global_var.value.length - 1, 1);\r\n}\r\n\r\nfunction addGlobalColumnVector (global_var) {\r\n\tglobal_var.columns ++;\r\n\r\n\tif (global_var.type == Types.INTEGER) {\r\n\t\tglobal_var.value.push(0);\r\n\t}\r\n\tif (global_var.type == Types.REAL) {\r\n\t\tglobal_var.value.push(0.0);\r\n\t}\r\n\tif (global_var.type == Types.TEXT) {\r\n\t\tglobal_var.value.push(LocalizedStrings.getUI('textvar_default_value'));\r\n\t}\r\n\tif (global_var.type == Types.BOOLEAN) {\r\n\t\tglobal_var.value.push(true);\r\n\t}\r\n\r\n\tif (global_var.type == Types.CHAR) {\r\n\t\tglobal_var.value.push(LocalizedStrings.getUI('charvar_default_value'));\r\n\t}\r\n}\r\n\r\nfunction removeColumnGlobalMatrix (global_var) {\r\n\tif (global_var.columns == 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tglobal_var.columns --;\r\n\r\n\tfor (var i = 0; i < global_var.rows; i++) {\r\n\t\tglobal_var.value[i].splice(global_var.value[i].length - 1, 1);\r\n\t}\r\n}\r\n\r\nfunction addColumnGlobalMatrix (global_var) {\r\n\tglobal_var.columns ++;\r\n\r\n\tif (global_var.type == Types.INTEGER) {\r\n\t\tfor (var i = 0; i < global_var.rows; i++) {\r\n\t\t\tglobal_var.value[i].push(0);\r\n\t\t}\r\n\t}\r\n\tif (global_var.type == Types.REAL) {\r\n\t\tfor (var i = 0; i < global_var.rows; i++) {\r\n\t\t\tglobal_var.value[i].push(0.0);\r\n\t\t}\r\n\t}\r\n\tif (global_var.type == Types.TEXT) {\r\n\t\tfor (var i = 0; i < global_var.rows; i++) {\r\n\t\t\tglobal_var.value[i].push(LocalizedStrings.getUI('textvar_default_value'));\r\n\t\t}\r\n\t}\r\n\tif (global_var.type == Types.BOOLEAN) {\r\n\t\tfor (var i = 0; i < global_var.rows; i++) {\r\n\t\t\tglobal_var.value[i].push(true);\r\n\t\t}\r\n\t}\r\n\tif (global_var.type == Types.CHAR) {\r\n\t\tfor (var i = 0; i < global_var.rows; i++) {\r\n\t\t\tglobal_var.value[i].push(LocalizedStrings.getUI('charvar_default_value'));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction removeLineGlobalMatrix (global_var) {\r\n\tif (global_var.rows == 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tglobal_var.rows --;\r\n\tglobal_var.value.splice(global_var.value.length - 1, 1);\r\n}\r\n\r\nfunction addLineGlobalMatrix (global_var) {\r\n\tglobal_var.rows ++;\r\n\r\n\tif (global_var.type == Types.INTEGER) {\r\n\t\tvar n_l = [];\r\n\t\tfor (var i = 0; i < global_var.columns; i++) {\r\n\t\t\tn_l.push(0);\r\n\t\t}\r\n\t\tglobal_var.value.push(n_l);\r\n\t}\r\n\tif (global_var.type == Types.REAL) {\r\n\t\tvar n_l = [];\r\n\t\tfor (i = 0; i < global_var.columns; i++) {\r\n\t\t\tn_l.push(0.0);\r\n\t\t}\r\n\t\tglobal_var.value.push(n_l);\r\n\t}\r\n\r\n\tif (global_var.type == Types.TEXT) {\r\n\t\tvar n_l = [];\r\n\t\tfor (i = 0; i < global_var.columns; i++) {\r\n\t\t\tn_l.push(LocalizedStrings.getUI('textvar_default_value'));\r\n\t\t}\r\n\t\tglobal_var.value.push(n_l);\r\n\t}\r\n\r\n\tif (global_var.type == Types.BOOLEAN) {\r\n\t\tvar n_l = [];\r\n\t\tfor (i = 0; i < global_var.columns; i++) {\r\n\t\t\tn_l.push(true);\r\n\t\t}\r\n\t\tglobal_var.value.push(n_l);\r\n\t}\r\n\r\n\tif (global_var.type == Types.CHAR) {\r\n\t\tvar n_l = [];\r\n\t\tfor (i = 0; i < global_var.columns; i++) {\r\n\t\t\tn_l.push(LocalizedStrings.getUI('charvar_default_value'));\r\n\t\t}\r\n\t\tglobal_var.value.push(n_l);\r\n\t}\r\n}\r\n\r\nfunction alternateBooleanGlobalMatrixValue (global_var, row, index, value_container) {\r\n\tglobal_var.value[row][index] = !global_var.value[row][index];\r\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${global_var.value[row][index]}`));\r\n}\r\n\r\nfunction renderValues (global_var, global_container) {\r\n\r\n\tvar ret = \"\";\r\n\tvar j = 0;\r\n\r\n\tif (global_var.dimensions == 0) {\r\n\t\tif (global_var.type == Types.REAL) {\r\n\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable simple_var\">'+global_var.value.toFixed(1)+'</span>  </div> ';\r\n\t\t} else {\r\n\t\t\tif (global_var.type == Types.BOOLEAN) {\r\n\t\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable boolean_simple_type\">'+LocalizedStrings.getUI(`logic_value_${global_var.value}`)+'</span>  </div> ';\r\n\t\t\t} else {\r\n\t\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable simple_var\">'+global_var.value+'</span>  </div> ';\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tret += '<table class=\"tabela_var\">';\r\n\r\n\t\tif (global_var.dimensions == 1) {\r\n\t\t\tret += '<tr>';\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tfor (var k = 0; k < global_var.columns; k++) {\r\n\t\t\t\t\tret += '<td><span class=\"span_value_variable vector_var\" data-index=\"'+k+'\">'+global_var.value[k].toFixed(1)+'</span></td>';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var k = 0; k < global_var.columns; k++) {\r\n\t\t\t\t\tif (global_var.type == Types.BOOLEAN) {\r\n\t\t\t\t\t\tret += '<td><span class=\"span_value_variable boolean_vector_var\" data-index=\"'+k+'\">'+LocalizedStrings.getUI(`logic_value_${global_var.value[k]}`)+'</span></td>';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tret += '<td><span class=\"span_value_variable vector_var\" data-index=\"'+k+'\">'+global_var.value[k]+'</span>'+'</td>';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tret += '</tr>';\r\n\t\t\tret += '</table>';\r\n\r\n\t\t\tret += '<div class=\"buttons_manage_columns\"><i class=\"ui icon minus square outline remove_global_vector_column\"></i>'\r\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_vector_column\"></i></div>';\r\n\t\t}\r\n\r\n\t\tif (global_var.dimensions == 2) {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tfor (var l = 0; l < global_var.rows; l++) {\r\n    \t\t\t\tret += '<tr>';\r\n    \t\t\t\tfor (var k = 0; k < global_var.columns; k++) {\r\n    \t\t\t\t\tret += '<td><span class=\"span_value_variable matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+global_var.value[l][k].toFixed(1)+'</span>'+'</td>';\r\n    \t\t\t\t} \r\n    \t\t\t\tret += '</tr>';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var l = 0; l < global_var.rows; l++) {\r\n    \t\t\t\tret += '<tr>';\r\n    \t\t\t\tfor (var k = 0; k < global_var.columns; k++) {\r\n    \t\t\t\t\tif (global_var.type == Types.BOOLEAN) { \r\n    \t\t\t\t\t\tret += '<td><span class=\"span_value_variable boolean_matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+LocalizedStrings.getUI(`logic_value_${global_var.value[l][k]}`)+'</span></td>';\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tret += '<td><span class=\"span_value_variable matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+global_var.value[l][k]+'</span></td>';\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} \r\n    \t\t\t\tret += '</tr>';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (global_var.rows == 0) {\r\n\t\t\t\tret += '<tr><td></td></tr>';\r\n\t\t\t}\r\n\t\t\tret += '<tr><td colspan=\"'+global_var.columns+'\" class=\"tr_manage_lines\"><i class=\"ui icon minus square outline remove_global_matrix_line\"></i>'\r\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_matrix_line\"></i></td></tr>';\r\n\t\t\tret += '</table>';\r\n\r\n\t\t\tret += '<div class=\"buttons_manage_columns\"><i class=\"ui icon minus square outline remove_global_matrix_column\"></i>'\r\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_matrix_column\"></i></div>';\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tglobal_container.find( \".div_valor_var\" ).html('');\r\n\r\n\tret = $(ret);\r\n\r\n\tret.find('.span_value_variable').data('associatedOject', global_var);\r\n\r\n\tret.find( \".boolean_simple_type\" ).on('click', function(e){\r\n\t\talternateBooleanGlobalValue(global_var, this.parentNode);\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t});\r\n\tret.find( \".simple_var\" ).on('click', function(e){\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.ENTER_CHANGE_GLOBAL_VALUE);\r\n\t\tenableGlobalValueUpdate(global_var, this.parentNode);\r\n\t});\r\n\r\n\tret.find( \".boolean_vector_var\" ).on('click', function(e){\r\n\t\talternateBooleanGlobalVectorValue(global_var, $(this).data('index'), this.parentNode);\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t});\r\n\tret.find( \".vector_var\" ).on('click', function(e){\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.ENTER_CHANGE_GLOBAL_VALUE);\r\n\t\tenableGlobalVectorValueUpdate(global_var, $(this).data('index'), this.parentNode);\r\n\t});\r\n\tret.find( \".remove_global_vector_column\" ).on('click', function(e){\r\n\t\tremoveGlobalColumnVector(global_var);\r\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\r\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\r\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\trenderValues(global_var, global_container);\r\n\t});\r\n\tret.find( \".add_global_vector_column\" ).on('click', function(e){\r\n\t\taddGlobalColumnVector(global_var);\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\r\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\r\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(global_var, global_container);\r\n\t});\r\n\tret.find( \".remove_global_matrix_column\" ).on('click', function(e){\r\n\t\tremoveColumnGlobalMatrix(global_var);\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\r\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\r\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(global_var, global_container);\r\n\t});\r\n\tret.find( \".add_global_matrix_column\" ).on('click', function(e){\r\n\t\taddColumnGlobalMatrix(global_var);\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\r\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\r\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(global_var, global_container);\r\n\t});\r\n\tret.find( \".remove_global_matrix_line\" ).on('click', function(e){\r\n\t\tremoveLineGlobalMatrix(global_var);\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\r\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\r\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(global_var, global_container);\r\n\t});\r\n\tret.find( \".add_global_matrix_line\" ).on('click', function(e){\r\n\t\taddLineGlobalMatrix(global_var);\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_TYPE,\r\n\t\t\tglobal_var.type, global_var.dimensions, global_var.rows, global_var.columns);\r\n\t\tregisterSystemEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\tglobal_container.find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(global_var, global_container);\r\n\t});\r\n\tret.find( \".boolean_matrix_var\" ).on('click', function(e){\r\n\t\talternateBooleanGlobalMatrixValue(global_var, $(this).data('row'), $(this).data('index'), this.parentNode);\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t});\r\n\tret.find( \".matrix_var\" ).on('click', function(e){\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.ENTER_CHANGE_GLOBAL_VALUE);\r\n\t\tenableGlobalMatrixValueUpdate(global_var, $(this).data('row'), $(this).data('index'), this.parentNode);\r\n\t});\r\n\tglobal_container.find( \".div_valor_var\" ).append(ret);\r\n\r\n\r\n\tupdateColumnsAndRowsText(global_container, global_var);\r\n\r\n}\r\n\r\nfunction addHandlers (global_container) {\r\n\tvar global_var = global_container.data('associatedOject'); \r\n\t// Manage constant option:\r\n\tglobal_container.find( \".alternate_constant\" ).on('click', function(e){\r\n\t\ttoggleConstant(global_var);\r\n\r\n\t\t$( this ).removeClass( \"on off\" );\r\n\t\tif (global_var.is_constant) {\r\n\t\t\t$( this ).addClass( \"on\" );\r\n\t\t} else {\r\n\t\t\t$( this ).addClass( \"off\" );\r\n\t\t}\r\n\t});\r\n\r\n\t// Manage global name: \r\n\tglobal_container.find( \".editing_name_var\" ).on('click', function(e){\r\n\t\tregisterUserEvent(global_var.name, ActionTypes.ENTER_CHANGE_GLOBAL_NAME);\r\n\t\tenableNameUpdate(global_container);\r\n\t});\r\n\r\n\t// Menu to change type:\r\n\tglobal_container.find('.ui.dropdown.global_type').dropdown({\r\n\t    onChange: function(_, __, $selectedItem) {\r\n\t    \tif ($selectedItem.data('dimensions')) {\r\n\t    \t\tupdateType(global_var, Types[$selectedItem.data('type')], $selectedItem.data('dimensions'));\r\n\t    \t} else {\r\n\t    \t\tupdateType(global_var, Types[$selectedItem.data('type')]);\r\n\t    \t}\r\n\r\n\t    \trenderValues(global_var, global_container);\r\n\r\n\t    },\r\n\t    selectOnKeydown: false\r\n\t});\r\n\r\n\t// Remove global: \r\n\tglobal_container.find( \".remove_global\" ).on('click', function(e){\r\n\t\tremoveGlobal(global_var, global_container);\r\n\t});\r\n\r\n}\r\n\r\nfunction updateColumnsAndRowsText (global_container, global_var) {\r\n\tvar prev = global_container.find('.text').text().split('[');\r\n\tif (prev.length == 2) {\r\n\t\tvar ff = prev[0] + '[ ' + global_var.columns + ' ] ';\r\n\t\tglobal_container.find('.text').empty();\r\n\t\tglobal_container.find('.text').text(ff);\r\n\t}\r\n\tif (prev.length == 3) {\r\n\t\tvar ff = prev[0] + '[ ' + global_var.columns + ' ] [ ' + global_var.rows + ' ] ';\r\n\t\tglobal_container.find('.text').empty();\r\n\t\tglobal_container.find('.text').text(ff);\r\n\t}\r\n}\r\n\r\nexport function renderGlobal (global_var) {\r\n\r\n\tvar element = '<div class=\"ui label global_container pink\"><i class=\"ui icon ellipsis vertical inverted\"></i><div class=\"global_const\">const: ';\r\n\r\n\telement += '<i class=\"ui icon toggle '+(global_var.is_constant?\"on\":\"off\")+' alternate_constant\"></i></div>';\r\n \t\r\n \telement += '<div class=\"ui dropdown global_type\">';\r\n\r\n  \tif (global_var.dimensions == 1) {\r\n  \t\telement += '<div class=\"text\">'+ LocalizedStrings.getUI('vector')+ ': ' + LocalizedStrings.getUI(`type_${global_var.type}`);\r\n  \t\telement += ' [ <span class=\"dimensions_0\"></span> ] ';\r\n  \t\telement += '</div>';\r\n  \t} else if (global_var.dimensions == 2) {\r\n  \t\telement += '<div class=\"text\">'+ LocalizedStrings.getUI('matrix')+ ': ' + LocalizedStrings.getUI(`type_${global_var.type}`);\r\n  \t\telement += ' [ <span class=\"dimensions_0\"></span> ] [ <span class=\"dimensions_1\"></span> ] ';\r\n  \t\telement += '</div>';\r\n  \t} else {\r\n  \t\telement += '<div class=\"text\">' + LocalizedStrings.getUI(`type_${global_var.type.toLowerCase()}`) + '</div>';\r\n  \t}\r\n\telement += '<div class=\"menu\">';\r\n\r\n\tfor (var tm in Types) {\r\n  \t\tif (tm == Types.VOID.toUpperCase()) {\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n  \t\telement += '<div class=\"item ' + (global_var.type == tm.toLowerCase() && global_var.dimensions == 0 ? ' selected ' : '') + '\" data-type=\"'+tm+'\" >'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n\t}\r\n\r\n\r\n\telement += '<div class=\"item ' + (global_var.dimensions == 1 ? ' selected ' : '') + '\">'\r\n\t\t+ '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('vector')\r\n\t\t+  '<div class=\"menu\">';\r\n\r\n\tfor (var tm in Types) {\r\n  \t\tif (tm == Types.VOID.toUpperCase()) {\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n\r\n  \t\telement += '<div class=\"item ' + (global_var.type == tm.toLowerCase() &&  global_var.dimensions == 1 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"1\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n  \t}\r\n\telement += '</div></div>';\r\n\r\n\r\n\telement += '<div class=\"item ' + (global_var.dimensions == 2 ? ' selected ' : '') + '\">'\r\n\t\t+ '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('matrix')\r\n\t\t+  '<div class=\"menu\">';\r\n\r\n\tfor (var tm in Types) {\r\n  \t\tif (tm == Types.VOID.toUpperCase()) {\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n\r\n  \t\telement += '<div class=\"item ' + (global_var.type == tm.toLowerCase() &&  global_var.dimensions == 2 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('matrix')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"2\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n  \t}\r\n\telement += '</div></div>';\r\n\r\n    element += '</div></div> <div class=\"editing_name_var\"> <span class=\"span_name_variable enable_edit_name_parameter\">'+global_var.name+'</span> </div> <span class=\"character_equals\"> <&#8212; </span> ';\r\n\r\n\telement += '<div class=\"ui div_valor_var\">'+global_var.value+'</div>';    \r\n\r\n\telement += ' <i class=\"yellow inverted icon times remove_global\"></i></div>';\r\n\r\n\tvar complete_element = $(element);\r\n\r\n\tcomplete_element.data('associatedOject', global_var);\r\n\r\n\t$('.list_globals').append(complete_element);\r\n\r\n\taddHandlers(complete_element);\r\n\r\n\trenderValues(global_var, complete_element);\r\n\r\n\tif (global_var.dimensions == 1) {\r\n\t\tcomplete_element.find('.dimensions_0').text(global_var.columns);\r\n\t}\r\n\tif (global_var.dimensions == 2) {\r\n\t\tcomplete_element.find('.dimensions_0').text(global_var.columns);\r\n\t\tcomplete_element.find('.dimensions_1').text(global_var.rows);\r\n\t}\r\n\r\n\treturn complete_element;\r\n}\r\n\r\nvar opened_name_value_matrix_global_v = false;\r\nvar opened_input_value_matrix_global_v = null;\r\nfunction enableGlobalMatrixValueUpdate (global_var, row, index, parent_node) {\r\n\tif (opened_name_value_matrix_global_v) {\r\n\t\topened_input_value_matrix_global_v.focus();\r\n\t\treturn;\r\n\t}\r\n\tparent_node = $(parent_node);\r\n\topened_name_value_matrix_global_v = true;\r\n\r\n\tparent_node.find('.span_value_variable').text('');\r\n\r\n\tvar input_field;\r\n\r\n\tif (global_var.type == Types.REAL) {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ global_var.value[row][index].toFixed(1) + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t} else {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ global_var.value[row][index] + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t}\r\n\r\n\tinput_field.on('input', function() {\r\n\t    var inputWidth = input_field.textWidth()+10;\r\n\t    opened_input_value_matrix_global_v = input_field;\r\n\t    input_field.focus();\r\n\r\n\t    var tmpStr = input_field.val();\r\n\t\tinput_field.val('');\r\n\t\tinput_field.val(tmpStr);\r\n\r\n\t    input_field.css({\r\n\t        width: inputWidth\r\n\t    })\r\n\t}).trigger('input');\r\n\r\n\tinput_field.focusout(function() {\r\n\t\t/// update array:\r\n\t\tif (input_field.val().trim()) {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tglobal_var.value[row][index] = parseFloat(input_field.val().trim());\r\n\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tif (global_var.type == Types.INTEGER) {\r\n\t\t\t\t\tglobal_var.value[row][index] = parseInt(input_field.val().trim());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tglobal_var.value[row][index] = input_field.val().trim();\r\n\t\t\t\t}\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\r\n\t\t\t}\r\n\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\t} else {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (global_var.type == Types.TEXT) {\r\n\t\t\tglobal_var.value[row][index] = input_field.val();\r\n\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\r\n\t\t}\r\n\t\tinput_field.off();\r\n\t\tinput_field.remove();\r\n\r\n\t\t/// update elements:\r\n\t\topened_name_value_matrix_global_v = false;\r\n\t\topened_input_value_matrix_global_v = false;\r\n\t});\r\n\r\n\tinput_field.on('keydown', function(e) {\r\n\t\tvar code = e.keyCode || e.which;\r\n\t\tif(code == 13) {\r\n\t\t\tif (input_field.val().trim()) {\r\n\t\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\t\tglobal_var.value[row][index] = parseFloat(input_field.val().trim());\r\n\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index].toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (global_var.type == Types.INTEGER) {\r\n\t\t\t\t\t\tglobal_var.value[row][index] = parseInt(input_field.val().trim());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tglobal_var.value[row][index] = input_field.val().trim();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\r\n\t\t\t\t}\r\n\t\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\t\t} else {\r\n\t\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index].toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (global_var.type == Types.TEXT) {\r\n\t\t\t\tglobal_var.value[row][index] = input_field.val();\r\n\t\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_matrix_global_v = false;\r\n\t\t\topened_input_value_matrix_global_v = false;\r\n\t\t}\r\n\t\tif(code == 27) {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[row][index]);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_matrix_global_v = false;\r\n\t\t\topened_input_value_matrix_global_v = false;\r\n\t\t}\r\n\t});\r\n\tinput_field.select();\r\n}\r\n\r\nvar opened_name_value_global_var = false;\r\nvar opened_input_value_global_ar = null;\r\nfunction enableGlobalValueUpdate (global_var, parent_node) {\r\n\tif (opened_name_value_global_var) {\r\n\t\topened_input_value_global_ar.focus();\r\n\t\treturn;\r\n\t}\r\n\tparent_node = $(parent_node);\r\n\topened_name_value_global_var = true;\r\n\r\n\tparent_node.find('.span_value_variable').text('');\r\n\r\n\tvar input_field;\r\n\r\n\tif (global_var.type == Types.REAL) {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ global_var.value.toFixed(1) + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t} else {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ global_var.value + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t}\r\n\r\n\tinput_field.on('input', function() {\r\n\t\tvar inputWidth = input_field.textWidth()+10;\r\n\t\topened_input_value_global_ar = input_field;\r\n\t\tinput_field.focus();\r\n\r\n\t  var tmpStr = input_field.val();\r\n\t\tinput_field.val('');\r\n\t\tinput_field.val(tmpStr);\r\n\r\n\t\tinput_field.css({\r\n\t\t\t\twidth: inputWidth\r\n\t\t})\r\n\t}).trigger('input');\r\n\r\n\tinput_field.focusout(function() {\r\n\t\tlet changed = false;\r\n\t\t/// update array:\r\n\t\tif (input_field.val().trim()) {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tglobal_var.value = parseFloat(input_field.val().trim());\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value.toFixed(1));\r\n\t\t\t} else{\r\n\t\t\t\tif (global_var.type == Types.INTEGER) {\r\n\t\t\t\t\tglobal_var.value = parseInt(input_field.val().trim());\r\n\t\t\t\t} else if (global_var.type == Types.CHAR) {\r\n\t\t\t\t\tglobal_var.value = input_field.val().charAt(0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tglobal_var.value = input_field.val().trim();\r\n\t\t\t\t}\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tchanged = true;\r\n\t\t} else {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value.toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (global_var.type == Types.TEXT) {\r\n\t\t\tglobal_var.value = input_field.val();\r\n\t\t\tchanged = true;\r\n\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\r\n\t\t}\r\n\t\tif (changed) {\r\n\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\t}\r\n\t\tinput_field.off();\r\n\t\tinput_field.remove();\r\n\r\n\t\t/// update elements:\r\n\t\topened_name_value_global_var = false;\r\n\t\topened_input_value_global_ar = false;\r\n\r\n\t});\r\n\r\n\tinput_field.on('keydown', function(e) {\r\n\t\tconst code = e.keyCode || e.which;\r\n\t\tlet changed = true;\r\n\t\tif(code == 13) {\r\n\t\t\tif (input_field.val().trim()) {\r\n\t\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\t\tglobal_var.value = parseFloat(input_field.val().trim());\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value.toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (global_var.type == Types.INTEGER) {\r\n\t\t\t\t\t\tglobal_var.value = parseInt(input_field.val().trim());\r\n\t\t\t\t\t} else if (global_var.type == Types.CHAR) {\r\n\t\t\t\t\t\tglobal_var.value = input_field.val().charAt(0);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tglobal_var.value = input_field.val().trim();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\r\n\t\t\t\t}\r\n\t\t\t\tchanged = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value.toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (global_var.type == Types.TEXT) {\r\n\t\t\t\tglobal_var.value = input_field.val();\r\n\t\t\t\tchanged = true;\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\r\n\t\t\t}\r\n\t\t\tif (changed) {\r\n\t\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_global_var = false;\r\n\t\t\topened_input_value_global_ar = false;\r\n\r\n\t\t}\r\n\t\tif(code == 27) {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value.toFixed(1));\r\n\t\t\t} else{\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_global_var = false;\r\n\t\t\topened_input_value_global_ar = false;\r\n\t\t}\r\n\t});\r\n\r\n\tinput_field.select();\r\n}\r\n\r\n\r\nvar opened_name_global = false;\r\nvar opened_input_global = null;\r\nfunction enableNameUpdate (global_container) {\r\n\r\n\tvar global_var = global_container.data('associatedOject'); \r\n\r\n\tif (opened_name_global) {\r\n\t\topened_input_global.focus();\r\n\t\treturn;\r\n\t}\r\n\topened_name_global = true;\r\n\r\n\tglobal_container.find('.span_name_variable').text('');\r\n\tvar input_name = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"+global_var.name+\"' />\" );\r\n\tinput_name.insertBefore(global_container.find('.span_name_variable'));\r\n\r\n\tinput_name.on('input', function() {\r\n\t    var inputWidth = input_name.textWidth()+10;\r\n\t    opened_input_global = input_name;\r\n\t    opened_input_global.focus();\r\n\r\n\t    opened_input_global.css({\r\n\t        width: inputWidth\r\n\t    })\r\n\t}).trigger('input');\r\n\r\n\tinput_name.focusout(function() {\r\n\t\t/// update array:\r\n\t\tif (input_name.val().trim().length > 0) {\r\n\t\t\tupdateName(global_var, input_name.val().trim(), global_container);\r\n\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\r\n\t\t} else {\r\n\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\r\n\t\t}\r\n\t\tinput_name.off();\r\n\t\tinput_name.remove();\r\n\r\n\t\t/// update elements:\r\n\t\topened_name_global = false;\r\n\t\topened_input_global = false;\r\n\t});\r\n\r\n\tinput_name.on('keydown', function(e) {\r\n\t\tvar code = e.keyCode || e.which;\r\n\t\tif(code == 13) {\r\n\t\t\tif (input_name.val().trim()) {\r\n\t\t\t\tupdateName(global_var, input_name.val().trim(), global_container);\r\n\t\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\r\n\t\t\t} else {\r\n\t\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\r\n\t\t\t}\r\n\t\t\tinput_name.off();\r\n\t\t\tinput_name.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_global = false;\r\n\t\t\topened_input_global = false;\r\n\t\t}\r\n\t\tif(code == 27) {\r\n\r\n\t\t\tglobal_container.find('.span_name_variable').text(global_var.name);\r\n\t\t\tinput_name.off();\r\n\t\t\tinput_name.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_global = false;\r\n\t\t\topened_input_global = false;\r\n\t\t}\r\n\t});\r\n\r\n\tinput_name.select();\r\n\t\r\n}\r\n\r\n\r\nvar opened_name_value_vector_global_ = false;\r\nvar opened_input_value_vector_global_ = null;\r\nfunction enableGlobalVectorValueUpdate (global_var, index, parent_node) {\r\n\tif (opened_name_value_vector_global_) {\r\n\t\topened_input_value_vector_global_.focus();\r\n\t\treturn;\r\n\t}\r\n\tparent_node = $(parent_node);\r\n\topened_name_value_vector_global_ = true;\r\n\r\n\tparent_node.find('.span_value_variable').text('');\r\n\r\n\tvar input_field;\r\n\r\n\tif (global_var.type == Types.REAL) {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ global_var.value[index].toFixed(1) + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t} else {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ global_var.value[index] + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t}\r\n\r\n\tinput_field.on('input', function() {\r\n\t    var inputWidth = input_field.textWidth()+10;\r\n\t    opened_input_value_vector_global_ = input_field;\r\n\t    input_field.focus();\r\n\r\n\t    var tmpStr = input_field.val();\r\n\t\tinput_field.val('');\r\n\t\tinput_field.val(tmpStr);\r\n\r\n\t    input_field.css({\r\n\t        width: inputWidth\r\n\t    })\r\n\t}).trigger('input');\r\n\r\n\tinput_field.focusout(function() {\r\n\t\tlet changed = false;\r\n\t\t/// update array:\r\n\t\tif (input_field.val().trim()) {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tglobal_var.value[index] = parseFloat(input_field.val().trim());\r\n\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index].toFixed(1));\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (global_var.type == Types.INTEGER) {\r\n\t\t\t\t\tglobal_var.value[index] = parseInt(input_field.val().trim());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tglobal_var.value[index] = input_field.val().trim();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\r\n\r\n\t\t\t}\r\n\t\t\tchanged = true;\r\n\t\t} else {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (global_var.type == Types.TEXT) {\r\n\t\t\tglobal_var.value[index] = input_field.val();\r\n\t\t\tchanged = true;\r\n\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\r\n\t\t}\r\n\t\tif (changed) {\r\n\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\t}\r\n\t\tinput_field.off();\r\n\t\tinput_field.remove();\r\n\r\n\t\t/// update elements:\r\n\t\topened_name_value_vector_global_ = false;\r\n\t\topened_input_value_vector_global_ = false;\r\n\t});\r\n\r\n\tinput_field.on('keydown', function(e) {\r\n\t\tconst code = e.keyCode || e.which;\r\n\t\tlet changed = false;\r\n\t\tif(code == 13) {\r\n\t\t\tif (input_field.val().trim()) {\r\n\t\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\t\tglobal_var.value[index] = parseFloat(input_field.val().trim());\r\n\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index].toFixed(1));\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (global_var.type == Types.INTEGER) {\r\n\t\t\t\t\t\tglobal_var.value[index] = parseInt(input_field.val().trim());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tglobal_var.value[index] = input_field.val().trim();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tchanged = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index].toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (global_var.type == Types.TEXT) {\r\n\t\t\t\tglobal_var.value[index] = input_field.val();\r\n\t\t\t\tchanged = true;\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\r\n\t\t\t}\r\n\t\t\tif (changed) {\r\n\t\t\t\tregisterUserEvent(global_var.name, ActionTypes.CHANGE_GLOBAL_VALUE, global_var.value);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_vector_global_ = false;\r\n\t\t\topened_input_value_vector_global_ = false;\r\n\t\t}\r\n\t\tif(code == 27) {\r\n\t\t\tif (global_var.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(global_var.value[index]);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_vector_global_ = false;\r\n\t\t\topened_input_value_vector_global_ = false;\r\n\t\t}\r\n\t});\r\n\r\n\tinput_field.select();\r\n}\r\n\r\n\r\n$.fn.textWidth = function(text, font) {\r\n    \r\n    if (!$.fn.textWidth.fakeEl) $.fn.textWidth.fakeEl = $('<span>').hide().appendTo(document.body);\r\n    \r\n    $.fn.textWidth.fakeEl.text(text || this.val() || this.text() || this.attr('placeholder')).css('font', font || this.css('font'));\r\n    \r\n    return $.fn.textWidth.fakeEl.width();\r\n};","import { Types } from \"./types\";\r\nimport WatchJS from \"melanke-watchjs\";\r\nimport * as AlgorithmManagement from \"./algorithm\";\r\n\r\nexport const COMMAND_TYPES = Object.freeze({\r\n  function: \"function\",\r\n  comment: \"comment\",\r\n  reader: \"reader\",\r\n  writer: \"writer\",\r\n  attribution: \"attribution\",\r\n  iftrue: \"iftrue\",\r\n  repeatNtimes: \"repeatNtimes\",\r\n  whiletrue: \"whiletrue\",\r\n  dowhiletrue: \"dowhiletrue\",\r\n  switch: \"switch\",\r\n  switchcase: \"switchcase\",\r\n  functioncall: \"functioncall\",\r\n  break: \"break\",\r\n  return: \"return\",\r\n});\r\n\r\nexport const ARITHMETIC_TYPES = Object.freeze({\r\n  plus: \"plus\",\r\n  minus: \"minus\",\r\n  multiplication: \"multiplication\",\r\n  division: \"division\",\r\n  module: \"module\",\r\n  none: \"none\",\r\n});\r\n\r\nexport const EXPRESSION_ELEMENTS = Object.freeze({\r\n  exp_op_exp: \"exp_op_exp\",\r\n  op_exp: \"op_exp\",\r\n  par_exp_par: \"par_exp_par\",\r\n  start_point: \"start_point\",\r\n});\r\n\r\nexport const EXPRESSION_TYPES = Object.freeze({\r\n  exp_conditional: \"exp_conditional\",\r\n  exp_logic: \"exp_logic\",\r\n  exp_arithmetic: \"exp_arithmetic\",\r\n  write_sep: \"write_separator\",\r\n});\r\n\r\nexport const ARITHMETIC_COMPARISON = Object.freeze({\r\n  greater_than: \"greater_than\",\r\n  less_than: \"less_than\",\r\n  equals_to: \"equals_to\",\r\n  not_equals_to: \"not_equals_to\",\r\n  greater_than_or_equals_to: \"greater_than_or_equals_to\",\r\n  less_than_or_equals_to: \"less_than_or_equals_to\",\r\n});\r\n\r\nexport const LOGIC_COMPARISON = Object.freeze({\r\n  equals_to: \"equals_to\",\r\n  not_equals_to: \"not_equals_to\",\r\n  and: \"and\",\r\n  or: \"or\",\r\n  not: \"not\",\r\n});\r\n\r\nexport const SYSTEM_FUNCTIONS_CATEGORIES = Object.freeze({\r\n  math: \"$mathLib\",\r\n  text: \"$strLib\",\r\n  arrangement: \"$arrayLib\",\r\n  conversion: \"$langLib\",\r\n});\r\n\r\nexport class Variable {\r\n  constructor (\r\n    type,\r\n    name,\r\n    value,\r\n    dimensions = 0,\r\n    is_constant = false,\r\n    rows = 0,\r\n    columns = 0\r\n  ) {\r\n    this.type = type;\r\n    this.name = name;\r\n    this.value = value;\r\n    this.dimensions = dimensions;\r\n    this.is_constant = is_constant;\r\n    this.rows = rows;\r\n    this.columns = columns;\r\n  }\r\n}\r\n\r\nexport class Function {\r\n  constructor (\r\n    name,\r\n    return_type = Types.VOID,\r\n    return_dimensions = 0,\r\n    parameters_list = [],\r\n    is_main = false,\r\n    is_hidden = false,\r\n    variables_list = [],\r\n    function_comment = null,\r\n    commands = []\r\n  ) {\r\n    this.type = COMMAND_TYPES.function;\r\n    this.name = name;\r\n    this.return_type = return_type;\r\n    this.return_dimensions = return_dimensions;\r\n    this.parameters_list = parameters_list;\r\n    this.is_main = is_main;\r\n    this.is_hidden = is_hidden;\r\n    this.variables_list = variables_list;\r\n    this.function_comment = function_comment;\r\n    this.commands = commands;\r\n  }\r\n}\r\n\r\nexport class SystemFunction {\r\n  constructor (\r\n    identifier,\r\n    return_type,\r\n    return_dimensions,\r\n    parameters_list,\r\n    function_comment = null,\r\n    category\r\n  ) {\r\n    this.type = COMMAND_TYPES.function;\r\n    this.identifier = identifier;\r\n    this.return_type = return_type;\r\n    this.return_dimensions = return_dimensions;\r\n    this.parameters_list = parameters_list;\r\n    this.function_comment = function_comment;\r\n    this.category = category;\r\n  }\r\n}\r\n\r\nexport class Comment {\r\n  constructor (comment_text) {\r\n    this.type = COMMAND_TYPES.comment;\r\n    this.comment_text = comment_text;\r\n  }\r\n}\r\n\r\nexport class Break {\r\n  constructor () {\r\n    this.type = COMMAND_TYPES.break;\r\n  }\r\n}\r\n\r\nexport class Reader {\r\n  constructor (variable_value_menu = new VariableValueMenu()) {\r\n    this.type = COMMAND_TYPES.reader;\r\n    this.variable_value_menu = variable_value_menu;\r\n  }\r\n}\r\n\r\nexport class Writer {\r\n  constructor (content, newline = true) {\r\n    this.type = COMMAND_TYPES.writer;\r\n    this.content = content;\r\n    this.newline = newline;\r\n  }\r\n}\r\n\r\nexport class Attribution {\r\n  constructor (variable, expression = []) {\r\n    this.type = COMMAND_TYPES.attribution;\r\n    this.variable = variable;\r\n    this.expression = expression;\r\n  }\r\n}\r\n\r\nexport class ExpressionOperator {\r\n  constructor (type_op, item) {\r\n    this.type_op = type_op; // Logic, Arithmetic OR Relational\r\n    this.item = item;\r\n  }\r\n}\r\n\r\nexport class ExpressionElement {\r\n  constructor (type_exp, itens = []) {\r\n    this.type_exp = type_exp;\r\n    this.itens = itens;\r\n  }\r\n}\r\n\r\nexport class ConditionalExpression {\r\n  constructor (expression) {\r\n    this.type = EXPRESSION_TYPES.exp_conditional;\r\n    this.expression = expression;\r\n  }\r\n}\r\n\r\nexport class LogicExpression {\r\n  constructor (has_neg, first_operand, second_operand, operator) {\r\n    this.type = EXPRESSION_TYPES.exp_logic;\r\n    this.has_neg = has_neg;\r\n    this.first_operand = first_operand;\r\n    this.second_operand = second_operand;\r\n    this.operator = operator;\r\n  }\r\n}\r\n\r\nexport class ArithmeticExpression {\r\n  constructor (first_operand, second_operand, operator) {\r\n    this.type = EXPRESSION_TYPES.exp_arithmetic;\r\n    this.first_operand = first_operand;\r\n    this.second_operand = second_operand;\r\n    this.operator = operator;\r\n  }\r\n}\r\n\r\nexport class IfTrue {\r\n  constructor (expression, commands_block, commands_else) {\r\n    this.type = COMMAND_TYPES.iftrue;\r\n    this.expression = expression;\r\n    this.commands_block = commands_block;\r\n    this.commands_else = commands_else;\r\n  }\r\n}\r\n\r\nexport class RepeatNTimes {\r\n  constructor (\r\n    var_attribution,\r\n    var_incrementation,\r\n    expression1,\r\n    expression2,\r\n    expression3,\r\n    commands_block\r\n  ) {\r\n    this.type = COMMAND_TYPES.repeatNtimes;\r\n    this.var_attribution = var_attribution;\r\n    this.var_incrementation = var_incrementation;\r\n    this.expression1 = expression1;\r\n    this.expression2 = expression2;\r\n    this.expression3 = expression3;\r\n    this.commands_block = commands_block;\r\n  }\r\n}\r\n\r\nexport class WhileTrue {\r\n  constructor (expression, commands_block) {\r\n    this.type = COMMAND_TYPES.whiletrue;\r\n    this.expression = expression;\r\n    this.commands_block = commands_block;\r\n  }\r\n}\r\n\r\nexport class DoWhileTrue {\r\n  constructor (expression, commands_block) {\r\n    this.type = COMMAND_TYPES.dowhiletrue;\r\n    this.expression = expression;\r\n    this.commands_block = commands_block;\r\n  }\r\n}\r\n\r\nexport class Switch {\r\n  constructor (variable, cases = []) {\r\n    this.type = COMMAND_TYPES.switch;\r\n    this.variable = variable;\r\n    this.cases = cases;\r\n  }\r\n}\r\n\r\nexport class Return {\r\n  constructor (variable_value_menu) {\r\n    this.type = COMMAND_TYPES.return;\r\n    this.variable_value_menu = variable_value_menu;\r\n  }\r\n}\r\n\r\nexport class SwitchCase {\r\n  constructor (variable_value_menu, commands_block = []) {\r\n    this.type = COMMAND_TYPES.switchcase;\r\n    this.variable_value_menu = variable_value_menu;\r\n    this.commands_block = commands_block;\r\n  }\r\n}\r\n\r\nexport class FunctionCall {\r\n  constructor (function_called, parameters_list) {\r\n    this.type = COMMAND_TYPES.functioncall;\r\n    this.function_called = function_called;\r\n    this.parameters_list = parameters_list;\r\n  }\r\n}\r\n\r\nexport class VariableValueMenu {\r\n  constructor (\r\n    variable_and_value = 7,\r\n    content = null,\r\n    row = null,\r\n    column = null,\r\n    include_constant = true,\r\n    dimensions = 0\r\n  ) {\r\n    this.type = \"var_value\";\r\n    this.variable_and_value = variable_and_value;\r\n    this.content = content;\r\n    this.row = row;\r\n    this.column = column;\r\n    this.include_constant = include_constant;\r\n    this.dimensions = dimensions;\r\n  }\r\n}\r\n\r\nexport class FunctionCallMenu {\r\n  constructor (function_called = null, parameters_list = []) {\r\n    this.type = \"function_call\";\r\n    this.function_called = function_called;\r\n    this.parameters_list = parameters_list;\r\n  }\r\n}\r\n\r\nexport class Program {\r\n  constructor () {\r\n    this.functions = [];\r\n    this.globals = [];\r\n  }\r\n\r\n  addFunction (function_to_add) {\r\n    WatchJS.watch(\r\n      function_to_add.parameters_list,\r\n      function () {\r\n        if (window.insertContext) {\r\n          setTimeout(function () {\r\n            AlgorithmManagement.renderAlgorithm();\r\n          }, 300);\r\n          window.insertContext = false;\r\n        } else {\r\n          AlgorithmManagement.renderAlgorithm();\r\n        }\r\n      },\r\n      1\r\n    );\r\n\r\n    WatchJS.watch(\r\n      function_to_add.variables_list,\r\n      function () {\r\n        if (window.insertContext) {\r\n          setTimeout(function () {\r\n            AlgorithmManagement.renderAlgorithm();\r\n          }, 300);\r\n          window.insertContext = false;\r\n        } else {\r\n          AlgorithmManagement.renderAlgorithm();\r\n        }\r\n      },\r\n      1\r\n    );\r\n\r\n    this.functions.push(function_to_add);\r\n  }\r\n\r\n  addVariable (function_to_receive, variable) {\r\n    if (this.functions[function_to_receive].variable === null) {\r\n      this.functions[function_to_receive].variables_list = [];\r\n    }\r\n    this.functions[function_to_receive].variables_list.push(variable);\r\n  }\r\n\r\n  addGlobal (variable) {\r\n    this.globals.push(variable);\r\n  }\r\n}\r\n","import * as CodeMirror from \"codemirror\";\r\nimport \"codemirror/addon/edit/closebrackets\";\r\nimport \"codemirror/addon/edit/matchbrackets\";\r\n// import \"codemirror/addon/hint/show-hint\";\r\n// import \"codemirror/addon/hint/anyword-hint\";\r\nimport \"codemirror/addon/selection/active-line\";\r\nimport { CodeEditorMode } from \"./../util/editorMode2\"\r\nCodeEditorMode(CodeMirror);\r\n\r\nlet codeEditor = null;\r\n\r\nexport function initTextEditor (element) {\r\n  let id =  element;\r\n  if (element[0] == '#') {\r\n    id = element.substring(1);\r\n  }\r\n  codeEditor = CodeMirror.fromTextArea(document.getElementById(id), {\r\n    theme: \"ttcn\",\r\n    value: \"\",\r\n    mode: \"text/x-ivprog\",\r\n    indentUnit: 4,\r\n    lineNumbers: true,\r\n    matchBrackets: true,\r\n    autoCloseBrackets: true,\r\n    fixedGutter: true,\r\n    styleActiveLine: true,\r\n    readOnly: true\r\n  });\r\n}\r\n\r\nexport function disable (flag) {\r\n  codeEditor.setOption(\"readOnly\", flag);\r\n  updateEditor();\r\n}\r\n\r\nexport function updateEditor () {\r\n  codeEditor.refresh();\r\n}\r\n\r\nexport function setCode (code) {\r\n  codeEditor.setValue(code);\r\n}\r\n\r\nexport function getCode () {\r\n  return codeEditor.getValue();\r\n}\r\n","export const Types = Object.freeze({\r\n  INTEGER: \"integer\",\r\n  REAL: \"real\",\r\n  TEXT: \"text\",\r\n  CHAR: 'char',\r\n  BOOLEAN: \"boolean\",\r\n  VOID: \"void\"\r\n});","\r\nexport function renderErrorMessage (dom_obj_target, message_text) {\r\n\r\n\tdom_obj_target.popup({\r\n\t\thtml : '<i class=\"ui icon inverted exclamation triangle yellow\"></i>' + message_text,\r\n\t\ttransition : \"fade up\",\r\n\t\ton    : 'click',\r\n  \t\tclosable : true,\r\n  \t\tmovePopup : true,\r\n  \t\tboundary : window,\r\n  \t\tpreserve : false,\r\n  \t\ttarget : false,\r\n\t\tclassName   : {\r\n\t\t  popup       : 'ui popup invalid-identifier'\r\n\t\t},\r\n\t\tonHidden : function($module) {\r\n\t\t\tdom_obj_target.popup('destroy');\r\n\t\t}\r\n\r\n\t}).popup('toggle');\r\n\r\n}","import { Types } from './types';\r\nimport * as Models from './ivprog_elements';\r\nimport { LocalizedStrings } from './../services/localizedStringsService';\r\nimport * as Utils from './utils';\r\nimport { registerUserEvent, registerSystemEvent, ActionTypes } from \"./../services/userLog\";\r\nimport { isValidIdentifier } from \"./../util/utils\";\r\n\r\nvar counter_new_variables = 0;\r\n\r\nexport function addVariable (function_obj, function_container, is_in_click = false) {\r\n\tvar new_var = new Models.Variable(Types.INTEGER, LocalizedStrings.getUI('new_variable') + '_' + counter_new_variables, 0);\r\n\tif (function_obj.variables_list == null) {\r\n\t\tfunction_obj.variables_list = [];\r\n\t}\r\n\tfunction_obj.variables_list.push(new_var);\r\n\r\n\tcounter_new_variables ++;\r\n\r\n\tregisterUserEvent(function_obj.name, ActionTypes.INSERT_FUNCTION_VAR, new_var.name, Types.INTEGER, 0);\r\n\tvar newe = renderVariable(function_container, new_var, function_obj);\r\n\r\n\tif (is_in_click) {\r\n\t\tnewe.css('display', 'none');\r\n\t\tnewe.fadeIn();\r\n\t}\r\n}\r\n\r\nfunction updateName (variable_obj, new_name, variable_obj_dom, function_obj) {\r\n\r\n\tif (variable_obj.name == new_name) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tif (isValidIdentifier(new_name)) {\r\n\t\tif (variableNameAlreadyExists(new_name, function_obj)) {\r\n\t\t\tUtils.renderErrorMessage(variable_obj_dom.find('.editing_name_var'), LocalizedStrings.getError('inform_valid_variable_duplicated', [new_name, function_obj.name]));\r\n\t\t} else {\r\n\t\t\tregisterUserEvent(function_obj.name, ActionTypes.RENAME_FUNCTION_VAR, variable_obj.name, new_name);\r\n\t\t\tvariable_obj.name = new_name;\r\n\t\t}\r\n\t} else {\r\n\t\tUtils.renderErrorMessage(variable_obj_dom.find('.editing_name_var'), LocalizedStrings.getError('inform_valid_identifier'));\r\n\t}\r\n}\r\n\r\nfunction variableNameAlreadyExists (name_var, function_obj) {\r\n\r\n\tif (function_obj.parameters_list) {\r\n\t\tfor (var i = 0; i < function_obj.parameters_list.length; i++) {\r\n\t\t\tif (function_obj.parameters_list[i].name == name_var) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif (function_obj.variables_list) {\r\n\t\tfor (var i = 0; i < function_obj.variables_list.length; i++) {\r\n\t\t\tif (function_obj.variables_list[i].name == name_var) {\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn false;\r\n}\r\n\r\nfunction removeVariable (variable_obj, variable_container, function_name) {\r\n\tvar function_associated = variable_container.data('associatedFunction');\r\n\tregisterUserEvent(function_name, ActionTypes.REMOVE_FUNCTION_VAR, variable_obj.name);\r\n\r\n\tvar index = function_associated.variables_list.indexOf(variable_obj);\r\n\tif (index > -1) {\r\n\t  window.insertContext = true;\r\n\t  delete function_associated.variables_list[index];\r\n\t  function_associated.variables_list.splice(index, 1);\r\n\t}\r\n\tvariable_container.children().off();\r\n\tvariable_container.off();\r\n\tvariable_container.fadeOut();\r\n}\r\n\r\nfunction updateType (variable_obj, new_type, function_name, new_dimensions = 0) {\r\n\tvariable_obj.type = new_type;\t\t\r\n\tvariable_obj.dimensions = new_dimensions;\r\n\r\n\tif (new_dimensions > 0) {\r\n\t\tvariable_obj.rows = new_dimensions;\r\n\t\tvariable_obj.columns = 2;\r\n\t}\r\n\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, variable_obj.name,\r\n\t\tnew_type, new_dimensions, variable_obj.rows, variable_obj.columns);\r\n\r\n\tupdateInitialValues(variable_obj, function_name);\r\n}\r\n\r\nfunction addHandlers (variable_obj, variable_container, function_obj) {\r\n\r\n\t// Manage variable name: \r\n\tvariable_container.find( \".editing_name_var\" ).on('click', function(e){\r\n\t\tregisterUserEvent(function_obj.name, ActionTypes.ENTER_CHANGE_VAR_NAME, variable_obj.name);\r\n\t\tenableNameUpdate(variable_obj, variable_container, function_obj);\r\n\t});\r\n\r\n\t// Menu to change type:\r\n\tvariable_container.find('.ui.dropdown.variable_type').dropdown({\r\n\t    onChange: function(_, __, $selectedItem) {\r\n\t    \tif ($selectedItem.data('dimensions')) {\r\n\t    \t\tupdateType(variable_obj, Types[$selectedItem.data('type')], function_obj.name, $selectedItem.data('dimensions'));\r\n\t    \t} else {\r\n\t    \t\tupdateType(variable_obj, Types[$selectedItem.data('type')], function_obj.name);\r\n\t    \t}\r\n\r\n\t    \trenderValues(variable_obj, variable_container, function_obj.name);\r\n\t    },\r\n\t    selectOnKeydown: false\r\n\t});\r\n\r\n\t// Remove variable: \r\n\tvariable_container.find( \".remove_variable\" ).on('click', function(e){\r\n\t\tremoveVariable(variable_obj, variable_container, function_obj.name);\r\n\t});\r\n\r\n}\r\n\r\nexport function renderVariable (function_container, new_var, function_obj) {\r\n\r\n\tvar element = '<div class=\"ui label variable_container pink\"><i class=\"ui icon ellipsis vertical inverted\"></i>';\r\n\r\n\telement += '<div class=\"ui dropdown variable_type\">';\r\n\r\n  \tif (new_var.dimensions == 1) {\r\n  \t\telement += '<div class=\"text\">'+ LocalizedStrings.getUI('vector') + ': ' + LocalizedStrings.getUI(`type_${new_var.type.toLowerCase()}`);\r\n  \t\telement += ' [ ] </div>';\r\n  \t} else if (new_var.dimensions == 2) {\r\n  \t\telement += '<div class=\"text\">'+ LocalizedStrings.getUI('matrix') + ': ' + LocalizedStrings.getUI(`type_${new_var.type.toLowerCase()}`);\r\n  \t\telement += ' [ ] [ ] </div>';\r\n  \t} else {\r\n  \t\telement += '<div class=\"text\">' + LocalizedStrings.getUI(`type_${new_var.type.toLowerCase()}`) + '</div>';\r\n  \t}\r\n\telement += '<div class=\"menu\">';\r\n\r\n\tfor (var tm in Types) {\r\n  \t\tif (tm == Types.VOID.toUpperCase()) {\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n  \t\telement += '<div class=\"item ' + (new_var.type == tm.toLowerCase() &&  new_var.dimensions == 0 ? ' selected ' : '') + '\" data-type=\"'+tm+'\" >'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n\t}\r\n\r\n\r\n\telement += '<div class=\"item ' + (new_var.dimensions == 1 ? ' selected ' : '') + '\">'\r\n\t\t+ '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('vector')\r\n\t\t+  '<div class=\"menu\">';\r\n\r\n\tfor (var tm in Types) {\r\n  \t\tif (tm == Types.VOID.toUpperCase()) {\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n\r\n  \t\telement += '<div class=\"item ' + (new_var.type == tm.toLowerCase() &&  new_var.dimensions == 1 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('vector')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"1\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n  \t}\r\n\telement += '</div></div>';\r\n\r\n\r\n\telement += '<div class=\"item ' + (new_var.dimensions == 2 ? ' selected ' : '') + '\">'\r\n\t\t+ '<i class=\"dropdown icon\"></i>' + LocalizedStrings.getUI('matrix')\r\n\t\t+  '<div class=\"menu\">';\r\n\r\n\tfor (var tm in Types) {\r\n  \t\tif (tm == Types.VOID.toUpperCase()) {\r\n  \t\t\tcontinue;\r\n  \t\t}\r\n\r\n  \t\telement += '<div class=\"item ' + (new_var.type == tm.toLowerCase() &&  new_var.dimensions == 2 ? ' selected ' : '') + '\" data-text=\"'+ LocalizedStrings.getUI('matrix')+':'+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+' [ ] \" data-type=\"'+tm+'\" data-dimensions=\"2\"> '+LocalizedStrings.getUI(`type_${tm.toLowerCase()}`)+'</div>';\r\n  \t}\r\n\telement += '</div></div>';\r\n\r\n    element += '</div></div> ';\r\n\r\n    element += '<div class=\"editing_name_var\"><span class=\"span_name_variable enable_edit_name_variable\">'+new_var.name+'</span> </div>';\r\n\r\n\telement += ' <span class=\"character_equals\"> <&#8212; </span> <div class=\"ui div_valor_var\">'+new_var.value+'</div>';    \r\n\r\n\telement += ' <i class=\"yellow inverted icon times remove_variable\"></i></div>';\r\n\r\n\telement = $(element);\r\n\r\n\telement.data('associatedFunction', function_obj);\r\n\r\n\tfunction_container.find('.variables_list_div').append(element);\r\n\r\n\taddHandlers(new_var, element, function_obj);\r\n\r\n\trenderValues(new_var, element, function_obj.name);\r\n\r\n\treturn element;\r\n}\r\n\r\nfunction updateColumnsAndRowsText (variable_container, variable_var) {\r\n\tvar prev = variable_container.find('.text').text().split('[');\r\n\tif (prev.length == 2) {\r\n\t\tvar ff = prev[0] + '[ ' + variable_var.columns + ' ] ';\r\n\t\tvariable_container.find('.text').empty();\r\n\t\tvariable_container.find('.text').text(ff);\r\n\t}\r\n\tif (prev.length == 3) {\r\n\t\tvar ff = prev[0] + '[ ' + variable_var.columns + ' ] [ ' + variable_var.rows + ' ] ';\r\n\t\tvariable_container.find('.text').empty();\r\n\t\tvariable_container.find('.text').text(ff);\r\n\t}\r\n}\r\n\r\nfunction renderValues (new_var, variable_container, function_name) {\r\n\r\n\tvar ret = \"\";\r\n\tvar j = 0;\r\n\t\t\r\n\tif (new_var.dimensions == 0) {\r\n\t\tif (new_var.type == Types.REAL) {\r\n\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable simple_var\">'+new_var.value.toFixed(1)+'</span> </div> ';\r\n\t\t} else {\r\n\t\t\tif (new_var.type == Types.BOOLEAN) {\r\n\t\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable boolean_simple_type\">'+LocalizedStrings.getUI(`logic_value_${new_var.value}`)+'</span> </div> ';\r\n\t\t\t} else {\r\n\t\t\t\tret += '<div class=\"created_div_valor_var\"><span class=\"span_value_variable simple_var\">'+new_var.value+'</span> </div> ';\r\n\t\t\t}\r\n\t\t}\r\n\t} else {\r\n\t\tret += '<table class=\"tabela_var\">';\r\n\r\n\t\tif (new_var.dimensions == 1) {\r\n\t\t\tret += '<tr>';\r\n\t\t\tif (new_var.type == Types.REAL) {\r\n\t\t\t\tfor (var k = 0; k < new_var.columns; k++) {\r\n\t\t\t\t\tret += '<td><span class=\"span_value_variable vector_var\" data-index=\"'+k+'\">'+new_var.value[k].toFixed(1)+'</span></td>';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var k = 0; k < new_var.columns; k++) {\r\n\t\t\t\t\tif (new_var.type == Types.BOOLEAN) {\r\n\t\t\t\t\t\tret += '<td><span class=\"span_value_variable boolean_vector_var\" data-index=\"'+k+'\">'+LocalizedStrings.getUI(`logic_value_${new_var.value[k]}`)+'</span></td>';\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tret += '<td><span class=\"span_value_variable vector_var\" data-index=\"'+k+'\">'+new_var.value[k]+'</span>'+'</td>';\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tret += '</tr>';\r\n\t\t\tret += '</table>';\r\n\r\n\t\t\tret += '<div class=\"buttons_manage_columns\"><i class=\"ui icon minus square outline remove_global_vector_column\"></i>'\r\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_vector_column\"></i></div>';\r\n\t\t}\r\n\r\n\t\tif (new_var.dimensions == 2) {\r\n\t\t\tif (new_var.type == Types.REAL) {\r\n\t\t\t\tfor (var l = 0; l < new_var.rows; l++) {\r\n    \t\t\t\tret += '<tr>';\r\n    \t\t\t\tfor (var k = 0; k < new_var.columns; k++) {\r\n    \t\t\t\t\tret += '<td><span class=\"span_value_variable matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+new_var.value[l][k].toFixed(1)+'</span>'+'</td>';\r\n    \t\t\t\t} \r\n    \t\t\t\tret += '</tr>';\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tfor (var l = 0; l < new_var.rows; l++) {\r\n    \t\t\t\tret += '<tr>';\r\n    \t\t\t\tfor (var k = 0; k < new_var.columns; k++) {\r\n    \t\t\t\t\tif (new_var.type == Types.BOOLEAN) { \r\n    \t\t\t\t\t\tret += '<td><span class=\"span_value_variable boolean_matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+LocalizedStrings.getUI(`logic_value_${new_var.value[l][k]}`)+'</span></td>';\r\n    \t\t\t\t\t} else {\r\n    \t\t\t\t\t\tret += '<td><span class=\"span_value_variable matrix_var\" data-index=\"'+k+'\" data-row=\"'+l+'\">'+new_var.value[l][k]+'</span></td>';\r\n    \t\t\t\t\t}\r\n    \t\t\t\t} \r\n    \t\t\t\tret += '</tr>';\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (new_var.rows == 0) {\r\n\t\t\t\tret += '<tr><td></td></tr>';\r\n\t\t\t}\r\n\t\t\tret += '<tr><td colspan=\"'+new_var.columns+'\" class=\"tr_manage_lines\"><i class=\"ui icon minus square outline remove_global_matrix_line\"></i>'\r\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_matrix_line\"></i></td></tr>';\r\n\t\t\tret += '</table>';\r\n\r\n\t\t\tret += '<div class=\"buttons_manage_columns\"><i class=\"ui icon minus square outline remove_global_matrix_column\"></i>'\r\n\t\t    \t+ ' <i class=\"ui icon plus square outline add_global_matrix_column\"></i></div>';\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\t$( variable_container ).find( \".div_valor_var\" ).html('');\r\n\r\n\tret = $(ret);\r\n\r\n\t$(ret).find('.span_value_variable').\t\tdata('associatedOject', new_var);\r\n\r\n\t$( ret ).find( \".boolean_simple_type\" ).on('click', function(e){\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name, new_var.value);\r\n\t\talternateBooleanValue(new_var, this.parentNode);\r\n\t});\r\n\t$( ret ).find( \".simple_var\" ).on('click', function(e){\r\n\t\tregisterUserEvent(function_name, ActionTypes.ENTER_CHANGE_VAR_VALUE, new_var.name);\r\n\t\tenableValueUpdate(new_var, this.parentNode, function_name);\r\n\t});\r\n\r\n\t$( ret ).find( \".boolean_vector_var\" ).on('click', function(e){\r\n\t\talternateBooleanVectorValue(new_var, $(this).data('index'), this.parentNode);\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\r\n\t\t\tnew_var.value);\r\n\t});\r\n\t$( ret ).find( \".vector_var\" ).on('click', function(e){\r\n\t\tenableVectorValueUpdate(new_var, $(this).data('index'), this.parentNode, function_name);\r\n\t});\r\n\t$( ret ).find( \".remove_global_vector_column\" ).on('click', function(e){\r\n\t\tremoveColumnVector(new_var);\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\r\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\r\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\r\n\t\t\tnew_var.value);\r\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(new_var, variable_container, function_name);\r\n\t});\r\n\t$( ret ).find( \".add_global_vector_column\" ).on('click', function(e){\r\n\t\taddColumnVector(new_var);\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\r\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\r\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\r\n\t\t\tnew_var.value);\r\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(new_var, variable_container, function_name);\r\n\t});\r\n\t$( ret ).find( \".remove_global_matrix_column\" ).on('click', function(e){\r\n\t\tremoveColumnMatrix(new_var);\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\r\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\r\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\r\n\t\t\tnew_var.value);\r\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(new_var, variable_container, function_name);\r\n\t});\r\n\t$( ret ).find( \".add_global_matrix_column\" ).on('click', function(e){\r\n\t\taddColumnMatrix(new_var);\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\r\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\r\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\r\n\t\t\tnew_var.value);\r\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(new_var, variable_container, function_name);\r\n\t});\r\n\t$( ret ).find( \".remove_global_matrix_line\" ).on('click', function(e){\r\n\t\tremoveLineMatrix(new_var);\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\r\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\r\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\r\n\t\t\tnew_var.value);\r\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(new_var, variable_container, function_name);\r\n\t});\r\n\t$( ret ).find( \".add_global_matrix_line\" ).on('click', function(e){\r\n\t\taddLineMatrix(new_var);\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_TYPE, new_var.name,\r\n\t\t\tnew_var.type, new_var.dimensions, new_var.rows, new_var.columns);\r\n\t\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\r\n\t\t\tnew_var.value);\r\n\t\t$( variable_container ).find( \".div_valor_var\" ).html('');\r\n\t\trenderValues(new_var, variable_container, function_name);\r\n\t});\r\n\t$( ret ).find( \".boolean_matrix_var\" ).on('click', function(e){\r\n\t\talternateBooleanMatrixValue(new_var, $(this).data('row'), $(this).data('index'), this.parentNode);\r\n\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, new_var.name,\r\n\t\t\tnew_var.value);\r\n\t});\r\n\t$( ret ).find( \".matrix_var\" ).on('click', function(e){\r\n\t\tregisterUserEvent(function_name, ActionTypes.ENTER_CHANGE_VAR_VALUE, new_var.name);\r\n\t\tenableMatrixValueUpdate(new_var, $(this).data('row'), $(this).data('index'), this.parentNode, function_name);\r\n\t});\r\n\t$( variable_container ).find( \".div_valor_var\" ).append(ret);\r\n\r\n\tupdateColumnsAndRowsText(variable_container, new_var);\r\n\r\n}\r\n\r\nfunction alternateBooleanMatrixValue (var_obj, row, index, value_container) {\r\n\tvar_obj.value[row][index] = !var_obj.value[row][index];\r\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${var_obj.value[row][index]}`));\r\n}\r\n\r\nfunction addLineMatrix (var_obj) {\r\n\tvar_obj.rows ++;\r\n\r\n\tif (var_obj.type == Types.INTEGER) {\r\n\t\tvar n_l = [];\r\n\t\tfor (var i = 0; i < var_obj.columns; i++) {\r\n\t\t\tn_l.push(0);\r\n\t\t}\r\n\t\tvar_obj.value.push(n_l);\r\n\t}\r\n\tif (var_obj.type == Types.REAL) {\r\n\t\tvar n_l = [];\r\n\t\tfor (i = 0; i < var_obj.columns; i++) {\r\n\t\t\tn_l.push(0.0);\r\n\t\t}\r\n\t\tvar_obj.value.push(n_l);\r\n\t}\r\n\r\n\tif (var_obj.type == Types.TEXT) {\r\n\t\tvar n_l = [];\r\n\t\tfor (i = 0; i < var_obj.columns; i++) {\r\n\t\t\tn_l.push(LocalizedStrings.getUI('textvar_default_value'));\r\n\t\t}\r\n\t\tvar_obj.value.push(n_l);\r\n\t}\r\n\r\n\tif (var_obj.type == Types.BOOLEAN) {\r\n\t\tvar n_l = [];\r\n\t\tfor (i = 0; i < var_obj.columns; i++) {\r\n\t\t\tn_l.push(true);\r\n\t\t}\r\n\t\tvar_obj.value.push(n_l);\r\n\t}\r\n\r\n\tif (var_obj.type == Types.CHAR) {\r\n\t\tvar n_l = [];\r\n\t\tfor (i = 0; i < var_obj.columns; i++) {\r\n\t\t\tn_l.push(LocalizedStrings.getUI('charvar_default_value'));\r\n\t\t}\r\n\t\tvar_obj.value.push(n_l);\r\n\t}\r\n}\r\n\r\nfunction removeLineMatrix (var_obj) {\r\n\tif (var_obj.rows == 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar_obj.rows --;\r\n\tvar_obj.value.splice(var_obj.value.length - 1, 1);\r\n}\r\n\r\nfunction addColumnMatrix (var_obj) {\r\n\tvar_obj.columns ++;\r\n\r\n\tif (var_obj.type == Types.INTEGER) {\r\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\r\n\t\t\tvar_obj.value[i].push(0);\r\n\t\t}\r\n\t}\r\n\tif (var_obj.type == Types.REAL) {\r\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\r\n\t\t\tvar_obj.value[i].push(0.0);\r\n\t\t}\r\n\t}\r\n\tif (var_obj.type == Types.TEXT) {\r\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\r\n\t\t\tvar_obj.value[i].push(LocalizedStrings.getUI('textvar_default_value'));\r\n\t\t}\r\n\t}\r\n\tif (var_obj.type == Types.BOOLEAN) {\r\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\r\n\t\t\tvar_obj.value[i].push(true);\r\n\t\t}\r\n\t}\r\n\tif (var_obj.type == Types.CHAR) {\r\n\t\tfor (var i = 0; i < var_obj.rows; i++) {\r\n\t\t\tvar_obj.value[i].push(LocalizedStrings.getUI('charvar_default_value'));\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction removeColumnMatrix (var_obj) {\r\n\tif (var_obj.columns == 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar_obj.columns --;\r\n\r\n\tfor (var i = 0; i < var_obj.rows; i++) {\r\n\t\tvar_obj.value[i].splice(var_obj.value[i].length - 1, 1);\r\n\t}\r\n}\r\n\r\nfunction addColumnVector (var_obj) {\r\n\tvar_obj.columns ++;\r\n\r\n\tif (var_obj.type == Types.INTEGER) {\r\n\t\tvar_obj.value.push(0);\r\n\t}\r\n\tif (var_obj.type == Types.REAL) {\r\n\t\tvar_obj.value.push(0.0);\r\n\t}\r\n\tif (var_obj.type == Types.TEXT) {\r\n\t\tvar_obj.value.push(LocalizedStrings.getUI('textvar_default_value'));\r\n\t}\r\n\tif (var_obj.type == Types.BOOLEAN) {\r\n\t\tvar_obj.value.push(true);\r\n\t}\r\n\tif (var_obj.type == Types.CHAR) {\r\n\t\tvar_obj.value.push(LocalizedStrings.getUI('charvar_default_value'));\r\n\t}\r\n}\r\n\r\nfunction removeColumnVector (var_obj) {\r\n\tif (var_obj.columns == 0) {\r\n\t\treturn;\r\n\t}\r\n\r\n\tvar_obj.columns --;\r\n\tvar_obj.value.splice(var_obj.value.length - 1, 1);\r\n}\r\n\r\nfunction alternateBooleanValue (var_obj, value_container) {\r\n\tvar_obj.value = !var_obj.value;\r\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${var_obj.value}`));\r\n}\r\n\r\nfunction alternateBooleanVectorValue (var_obj, index, value_container) {\r\n\tvar_obj.value[index] = !var_obj.value[index];\r\n\t$(value_container).find('.span_value_variable').text(LocalizedStrings.getUI(`logic_value_${var_obj.value[index]}`));\r\n}\r\n\r\nfunction updateInitialValues (variable_obj, function_name) {\r\n\tif (variable_obj.type == Types.INTEGER) {\r\n\t\tif (variable_obj.dimensions == 0) {\r\n\t\t\tvariable_obj.value = 0;\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 1) {\r\n\t\t\tvariable_obj.value = [0, 0];\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 2) {\r\n\t\t\tvariable_obj.value = [[0, 0], [0, 0]];\r\n\t\t}\r\n\t}\r\n\r\n\tif (variable_obj.type == Types.REAL) {\r\n\t\tif (variable_obj.dimensions == 0) {\r\n\t\t\tvariable_obj.value = 0.0;\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 1) {\r\n\t\t\tvariable_obj.value = [0.0, 0.0];\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 2) {\r\n\t\t\tvariable_obj.value = [[0.0, 0.0], [0.0, 0.0]];\r\n\t\t}\r\n\t}\r\n\r\n\tif (variable_obj.type == Types.TEXT) {\r\n\t\tif (variable_obj.dimensions == 0) {\r\n\t\t\tvariable_obj.value = LocalizedStrings.getUI('textvar_default_value');\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 1) {\r\n\t\t\tvariable_obj.value = [LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')];\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 2) {\r\n\t\t\tvariable_obj.value = [[LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')], \r\n\t\t\t\t\t\t\t\t\t[LocalizedStrings.getUI('textvar_default_value'), LocalizedStrings.getUI('textvar_default_value')]];\r\n\t\t}\r\n\t}\r\n\r\n\tif (variable_obj.type == Types.BOOLEAN) {\r\n\t\tif (variable_obj.dimensions == 0) {\r\n\t\t\tvariable_obj.value = true;\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 1) {\r\n\t\t\tvariable_obj.value = [true, true];\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 2) {\r\n\t\t\tvariable_obj.value = [[true, true], [true, true]];\r\n\t\t}\r\n\t}\r\n\r\n\tif (variable_obj.type == Types.CHAR) {\r\n\t\tif (variable_obj.dimensions == 0) {\r\n\t\t\tvariable_obj.value = 'A';\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 1) {\r\n\t\t\tvariable_obj.value = ['A', 'A'];\r\n\t\t}\r\n\t\tif (variable_obj.dimensions == 2) {\r\n\t\t\tvariable_obj.value = [['A', 'A'], ['A', 'A']];\r\n\t\t}\r\n\t}\r\n\tregisterSystemEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, variable_obj.name, variable_obj.value);\r\n}\r\n\r\nvar opened_name_value_vector_global_ = false;\r\nvar opened_input_value_vector_global_ = null;\r\nfunction enableVectorValueUpdate (var_obj, index, parent_node, function_name) {\r\n\tif (opened_name_value_vector_global_) {\r\n\t\topened_input_value_vector_global_.focus();\r\n\t\treturn;\r\n\t}\r\n\tparent_node = $(parent_node);\r\n\topened_name_value_vector_global_ = true;\r\n\r\n\tparent_node.find('.span_value_variable').text('');\r\n\r\n\tvar input_field;\r\n\r\n\tif (var_obj.type == Types.REAL) {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ var_obj.value[index].toFixed(1) + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t} else {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ var_obj.value[index] + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t}\r\n\r\n\tinput_field.on('input', function() {\r\n\t    var inputWidth = input_field.textWidth()+10;\r\n\t    opened_input_value_vector_global_ = input_field;\r\n\t    input_field.focus();\r\n\r\n\t    var tmpStr = input_field.val();\r\n\t\tinput_field.val('');\r\n\t\tinput_field.val(tmpStr);\r\n\r\n\t    input_field.css({\r\n\t        width: inputWidth\r\n\t    })\r\n\t}).trigger('input');\r\n\r\n\tinput_field.focusout(function() {\r\n\t\tlet changed = false;\r\n\t\t/// update array:\r\n\t\tif (input_field.val().trim()) {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tvar_obj.value[index] = parseFloat(input_field.val().trim());\r\n\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\r\n\t\t\t} else {\r\n\r\n\t\t\t\tif (var_obj.type == Types.INTEGER) {\r\n\t\t\t\t\tvar_obj.value[index] = parseInt(input_field.val().trim());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar_obj.value[index] = input_field.val().trim();\r\n\t\t\t\t}\r\n\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\r\n\r\n\t\t\t}\r\n\t\t\tchanged = true;\r\n\t\t} else {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (var_obj.type == Types.TEXT) {\r\n\t\t\tvar_obj.value[index] = input_field.val();\r\n\t\t\tchanged = true;\r\n\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\r\n\t\t}\r\n\t\tif (changed) {\r\n\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\r\n\t\t\t\tvar_obj.value);\r\n\t\t}\r\n\t\tinput_field.off();\r\n\t\tinput_field.remove();\r\n\r\n\t\t/// update elements:\r\n\t\topened_name_value_vector_global_ = false;\r\n\t\topened_input_value_vector_global_ = false;\r\n\t});\r\n\r\n\tinput_field.on('keydown', function(e) {\r\n\t\tconst code = e.keyCode || e.which;\r\n\t\tlet changed = false;\r\n\t\tif(code == 13) {\r\n\t\t\tif (input_field.val().trim()) {\r\n\t\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\t\tvar_obj.value[index] = parseFloat(input_field.val().trim());\r\n\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\r\n\t\t\t\t} else {\r\n\r\n\t\t\t\t\tif (var_obj.type == Types.INTEGER) {\r\n\t\t\t\t\t\tvar_obj.value[index] = parseInt(input_field.val().trim());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar_obj.value[index] = input_field.val().trim();\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\r\n\r\n\t\t\t\t}\r\n\t\t\t\tchanged = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (var_obj.type == Types.TEXT) {\r\n\t\t\t\tvar_obj.value[index] = input_field.val();\r\n\t\t\t\tchanged = true;\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\r\n\t\t\t}\r\n\t\t\tif (changed) {\r\n\t\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\r\n\t\t\t\t\tvar_obj.value);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_vector_global_ = false;\r\n\t\t\topened_input_value_vector_global_ = false;\r\n\t\t}\r\n\t\tif(code == 27) {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[index]);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_vector_global_ = false;\r\n\t\t\topened_input_value_vector_global_ = false;\r\n\t\t}\r\n\t});\r\n\r\n\tinput_field.select();\r\n}\r\n\r\nvar opened_name_value_global_var = false;\r\nvar opened_input_value_global_ar = null;\r\nfunction enableValueUpdate (var_obj, parent_node, function_name) {\r\n\tif (opened_name_value_global_var) {\r\n\t\topened_input_value_global_ar.focus();\r\n\t\treturn;\r\n\t}\r\n\tparent_node = $(parent_node);\r\n\topened_name_value_global_var = true;\r\n\r\n\tvar input_field;\r\n\r\n\tparent_node.find('.span_value_variable').text('');\r\n\tif (var_obj.type == Types.REAL) {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ var_obj.value.toFixed(1) + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t} else {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ var_obj.value + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t}\r\n\r\n\tinput_field.on('input', function() {\r\n\t    var inputWidth = input_field.textWidth()+10;\r\n\t    opened_input_value_global_ar = input_field;\r\n\t    input_field.focus();\r\n\r\n\t    var tmpStr = input_field.val();\r\n\t\tinput_field.val('');\r\n\t\tinput_field.val(tmpStr);\r\n\r\n\t    input_field.css({\r\n\t        width: inputWidth\r\n\t    })\r\n\t}).trigger('input');\r\n\r\n\tinput_field.focusout(function() {\r\n\t\t/// update array:\r\n\t\tlet changed = false;\r\n\t\tif (input_field.val().trim()) {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tvar_obj.value = parseFloat(input_field.val().trim());\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\r\n\t\t\t} else{\r\n\t\t\t\tif (var_obj.type == Types.INTEGER) {\r\n\t\t\t\t\tvar_obj.value = parseInt(input_field.val().trim());\r\n\t\t\t\t} else if (var_obj.type == Types.CHAR) {\r\n\t\t\t\t\tvar_obj.value = input_field.val().charAt(0);\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar_obj.value = input_field.val().trim();\r\n\t\t\t\t}\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\r\n\t\t\t\t\r\n\t\t\t}\r\n\t\t\tchanged = true;\r\n\t\t} else {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (var_obj.type == Types.TEXT) {\r\n\t\t\tvar_obj.value = input_field.val();\r\n\t\t\tchanged = true;\r\n\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\r\n\t\t}\r\n\t\tif (changed) {\r\n\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\r\n\t\t\t\tvar_obj.value);\r\n\t\t}\r\n\t\tinput_field.off();\r\n\t\tinput_field.remove();\r\n\r\n\t\t/// update elements:\r\n\t\topened_name_value_global_var = false;\r\n\t\topened_input_value_global_ar = false;\r\n\r\n\t});\r\n\r\n\tinput_field.on('keydown', function(e) {\r\n\t\tconst code = e.keyCode || e.which;\r\n\t\tlet changed = false;\r\n\t\tif(code == 13) {\r\n\t\t\tif (input_field.val().trim()) {\r\n\t\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\t\tvar_obj.value = parseFloat(input_field.val().trim());\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\r\n\t\t\t\t} else{\r\n\t\t\t\t\tif (var_obj.type == Types.INTEGER) {\r\n\t\t\t\t\t\tvar_obj.value = parseInt(input_field.val().trim());\r\n\t\t\t\t\t} else if (var_obj.type == Types.CHAR) {\r\n\t\t\t\t\t\tvar_obj.value = input_field.val().charAt(0);\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar_obj.value = input_field.val().trim();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\r\n\t\t\t\t}\r\n\t\t\t\tchanged = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (var_obj.type == Types.TEXT) {\r\n\t\t\t\tvar_obj.value = input_field.val();\r\n\t\t\t\tchanged = true;\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\r\n\t\t\t}\r\n\t\t\tif (changed) {\r\n\t\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\r\n\t\t\t\t\tvar_obj.value);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_global_var = false;\r\n\t\t\topened_input_value_global_ar = false;\r\n\r\n\t\t}\r\n\t\tif(code == 27) {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value.toFixed(1));\r\n\t\t\t} else{\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_global_var = false;\r\n\t\t\topened_input_value_global_ar = false;\r\n\t\t}\r\n\t});\r\n\r\n\tinput_field.select();\r\n}\r\n\r\nvar opened_name_global = false;\r\nvar opened_input_global = null;\r\nfunction enableNameUpdate (variable_obj, variable_container, function_obj) {\r\n\r\n\tif (opened_name_global) {\r\n\t\topened_input_global.focus();\r\n\t\treturn;\r\n\t}\r\n\topened_name_global = true;\r\n\r\n\tvariable_container.find('.span_name_variable').text('');\r\n\r\n\tvar input_name;\r\n\r\n\tinput_name = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"+variable_obj.name+\"' />\" );\r\n\tinput_name.insertBefore(variable_container.find('.span_name_variable'));\r\n\r\n\tinput_name.on('input', function() {\r\n\t    var inputWidth = input_name.textWidth()+10;\r\n\t    opened_input_global = input_name;\r\n\t    input_name.focus();\t\t\t\t\t\r\n\r\n\t    var tmpStr = input_name.val();\r\n\t\tinput_name.val('');\r\n\t\tinput_name.val(tmpStr);\r\n\r\n\t    input_name.css({\r\n\t        width: inputWidth\r\n\t    })\r\n\t}).trigger('input');\r\n\r\n\tinput_name.focusout(function() {\r\n\t\t/// update array:\r\n\t\tif (input_name.val().trim().length > 0) {\r\n\t\t\tupdateName(variable_obj, input_name.val().trim(), variable_container, function_obj);\r\n\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\r\n\t\t} else {\r\n\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\r\n\t\t}\r\n\t\tinput_name.off();\r\n\t\tinput_name.remove();\r\n\r\n\t\t/// update elements:\r\n\t\topened_name_global = false;\r\n\t\topened_input_global = false;\r\n\t});\r\n\r\n\tinput_name.on('keydown', function(e) {\r\n\t\tvar code = e.keyCode || e.which;\r\n\t\tif(code == 13) {\r\n\t\t\tif (input_name.val().trim().length > 0) {\r\n\t\t\t\tupdateName(variable_obj, input_name.val().trim(), variable_container, function_obj);\r\n\t\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\r\n\t\t\t} else {\r\n\t\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\r\n\t\t\t}\r\n\t\t\tinput_name.off();\r\n\t\t\tinput_name.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_global = false;\r\n\t\t\topened_input_global = false;\r\n\t\t}\r\n\t\tif(code == 27) {\r\n\r\n\t\t\tvariable_container.find('.span_name_variable').text(variable_obj.name);\r\n\t\t\tinput_name.off();\r\n\t\t\tinput_name.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_global = false;\r\n\t\t\topened_input_global = false;\r\n\t\t}\r\n\t});\r\n\r\n\tinput_name.select();\r\n\t\r\n}\r\n\r\n\r\nvar opened_name_value_matrix_global_v = false;\r\nvar opened_input_value_matrix_global_v = null;\r\nfunction enableMatrixValueUpdate (var_obj, row, index, parent_node, function_name) {\r\n\tif (opened_name_value_matrix_global_v) {\r\n\t\topened_input_value_matrix_global_v.focus();\r\n\t\treturn;\r\n\t}\r\n\tparent_node = $(parent_node);\r\n\topened_name_value_matrix_global_v = true;\r\n\r\n\tparent_node.find('.span_value_variable').text('');\r\n\r\n\tvar input_field;\r\n\r\n\tif (var_obj.type == Types.REAL) {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ var_obj.value[row][index].toFixed(1) + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t} else {\r\n\t\tinput_field = $( \"<input type='text' class='width-dynamic input_name_function' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' value='\"\r\n\t\t\t+ var_obj.value[row][index] + \"' />\" );\r\n\t\tinput_field.insertBefore(parent_node.find('.span_value_variable'));\r\n\t}\r\n\r\n\tinput_field.on('input', function() {\r\n\t    var inputWidth = input_field.textWidth()+10;\r\n\t    opened_input_value_matrix_global_v = input_field;\r\n\t    input_field.focus();\r\n\r\n\t    var tmpStr = input_field.val();\r\n\t\tinput_field.val('');\r\n\t\tinput_field.val(tmpStr);\r\n\r\n\t    input_field.css({\r\n\t        width: inputWidth\r\n\t    })\r\n\t}).trigger('input');\r\n\r\n\tinput_field.focusout(function() {\r\n\t\tlet changed = false;\r\n\t\t/// update array:\r\n\t\tif (input_field.val().trim()) {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tvar_obj.value[row][index] = parseFloat(input_field.val().trim());\r\n\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\r\n\t\t\t} else {\t\t\t\t\t\r\n\t\t\t\tif (var_obj.type == Types.INTEGER) {\r\n\t\t\t\t\tvar_obj.value[row][index] = parseInt(input_field.val().trim());\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvar_obj.value[row][index] = input_field.val().trim();\r\n\t\t\t\t}\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\r\n\t\t\t}\r\n\t\t\tchanged = true;\r\n\t\t} else {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\r\n\t\t\t}\r\n\t\t}\r\n\t\tif (var_obj.type == Types.TEXT) {\r\n\t\t\tvar_obj.value[row][index] = input_field.val();\r\n\t\t\tchanged = true;\r\n\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\r\n\t\t}\r\n\t\tif (changed) {\r\n\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\r\n\t\t\t\tvar_obj.value);\r\n\t\t}\r\n\t\tinput_field.off();\r\n\t\tinput_field.remove();\r\n\r\n\t\t/// update elements:\r\n\t\topened_name_value_matrix_global_v = false;\r\n\t\topened_input_value_matrix_global_v = false;\r\n\t});\r\n\r\n\tinput_field.on('keydown', function(e) {\r\n\t\tconst code = e.keyCode || e.which;\r\n\t\tlet changed = false;\r\n\t\tif(code == 13) {\r\n\t\t\tif (input_field.val().trim()) {\r\n\t\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\t\tvar_obj.value[row][index] = parseFloat(input_field.val().trim());\r\n\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tif (var_obj.type == Types.INTEGER) {\r\n\t\t\t\t\t\tvar_obj.value[row][index] = parseInt(input_field.val().trim());\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tvar_obj.value[row][index] = input_field.val().trim();\r\n\t\t\t\t\t}\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\r\n\t\t\t\t}\r\n\t\t\t\tchanged = true;\r\n\t\t\t} else {\r\n\t\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (var_obj.type == Types.TEXT) {\r\n\t\t\t\tvar_obj.value[row][index] = input_field.val();\r\n\t\t\t\tchanged = true;\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\r\n\t\t\t}\r\n\t\t\tif (changed) {\r\n\t\t\t\tregisterUserEvent(function_name, ActionTypes.CHANGE_VAR_VALUE, var_obj.name,\r\n\t\t\t\t\tvar_obj.value);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_matrix_global_v = false;\r\n\t\t\topened_input_value_matrix_global_v = false;\r\n\t\t}\r\n\t\tif(code == 27) {\r\n\t\t\tif (var_obj.type == Types.REAL) {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index].toFixed(1));\r\n\t\t\t} else {\r\n\t\t\t\tparent_node.find('.span_value_variable').text(var_obj.value[row][index]);\r\n\t\t\t}\r\n\t\t\tinput_field.off();\r\n\t\t\tinput_field.remove();\r\n\r\n\t\t\t/// update elements:\r\n\t\t\topened_name_value_matrix_global_v = false;\r\n\t\t\topened_input_value_matrix_global_v = false;\r\n\t\t}\r\n\t});\r\n\r\n\tinput_field.select();\r\n}\r\n"],"sourceRoot":""}